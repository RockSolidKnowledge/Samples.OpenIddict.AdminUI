(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[792],{9838:(nt,fe,h)=>{"use strict";h.d(fe,{$9:()=>p,S9:()=>y,Vk:()=>e});var i=h(4438);let e=(()=>{class w{constructor(){this.Server="http://localhost:5000/"}static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275prov=i.jDH({token:w,factory:w.\u0275fac})}}return w})();class y{constructor(){this.SharedSecret="Shared Secret",this.X509CertificateThumbprint="X509 Thumbprint",this.X509CertificateName="X509 Name",this.X509CertificateBase64="X509 Certificate Base64"}}let p=(()=>{class w{static get SITE_TITLE(){return"AdminUI"}static{this.checkHealthIdentityServerDocs="documentation/Troubleshooting/Unable_to_contact_IdentityServer.html"}static{this.loginRedirectLoopDocs="documentation/Troubleshooting/Login_redirect_loop.html"}static{this.sameSiteDocs="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Set-Cookie/SameSite"}static{this.defaultEmbeddedUserName="info@rocksolidknowledge.com"}}return w})()},3730:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{ClaimTypesModule:()=>Yt});var i=h(177),e=h(1583),y=h(9417),p=h(1780),w=h(779),C=h(534),m=h(8400),d=h(7005),f=h(9838),I=h(9957),O=h(7263),P=h(6303),b=h(4438),M=h(5794),k=h(526),N=h(345),G=h(7499),R=h(5424),j=h(7883),U=h(6728),$=h(3680),ne=h(6406),se=h(8698),L=h(9550),J=h(8762),te=h(7778),E=h(2292);function re(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"div",4)(1,"div",5)(2,"input",6),b.mxI("ngModelChange",function(De){b.eBV(ut);const ye=b.XpG();return b.DH7(ye.newEnumValue,De)||(ye.newEnumValue=De),b.Njj(De)}),b.k0s(),b.j41(3,"button",7),b.bIt("click",function(){b.eBV(ut);const De=b.XpG();return b.Njj(De.onAdd())}),b.nrm(4,"span",8),b.j41(5,"span",9),b.EFF(6),b.nI1(7,"translate"),b.k0s()()()()}if(2&Xe){const ut=b.XpG();b.R7$(2),b.FS9("id",ut.id+"-newValue-input"),b.R50("ngModel",ut.newEnumValue),b.R7$(),b.FS9("id",ut.id+"-newValue-button"),b.Y8G("disabled",ut.addDisabled),b.R7$(3),b.JRh(b.bMT(7,5,"Common.Add"))}}function K(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-pill-list",10),b.bIt("onDelete",function(De){b.eBV(ut);const ye=b.XpG();return b.Njj(ye.onDelete(De))}),b.k0s()}if(2&Xe){const ut=b.XpG();b.Y8G("readonly",ut.reserved)("id",ut.id)("values",ut.value)}}function me(Xe,Zt){if(1&Xe&&(b.j41(0,"span",11),b.EFF(1),b.nI1(2,"translate"),b.nI1(3,"number"),b.k0s()),2&Xe){const ut=b.XpG();b.R7$(),b.Lme("",b.bMT(2,2,"ClaimTypes.TooManyAllowedValues")," (",b.bMT(3,4,ut.value.length),")")}}let Ne=(()=>{class Xe{constructor(){this.id=(0,O.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.newEnumValue="",this.onChange=ut=>{},this.onTouched=()=>{}}writeValue(ut){this.value=ut}registerOnChange(ut){this.onChange=ut}registerOnTouched(ut){this.onTouched=ut}setDisabledState(ut){this.disabled=ut}validate(ut){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newEnumValue)||this.value.includes(this.newEnumValue)}onAdd(){this.newEnumValue&&(this.value.push(this.newEnumValue),this.onChange(this.value),this.newEnumValue="")}onDelete(ut){this.value.splice(ut,1),this.onChange(this.value)}isNullOrEmpty(ut){return!ut||null!==ut.match(/^ *$/)}static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["app-edit-enum-claim-type"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved"},features:[b.Jv_([{provide:y.kq,useExisting:(0,b.Rfq)(()=>Xe),multi:!0},{provide:y.cz,useExisting:(0,b.Rfq)(()=>Xe),multi:!0}])],decls:4,vars:3,consts:[["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"ngModelChange","id","ngModel"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"]],template:function(_e,De){1&_e&&(b.DNE(0,re,8,7,"div",0),b.j41(1,"div",1),b.DNE(2,K,1,3,"app-pill-list",2)(3,me,4,6,"span",3),b.k0s()),2&_e&&(b.Y8G("ngIf",!De.reserved),b.R7$(2),b.Y8G("ngIf",De.value.length<=50||!De.reserved),b.R7$(),b.Y8G("ngIf",De.value.length>50&&De.reserved))},dependencies:[i.bT,y.me,y.BC,y.vS,E.L,i.QX,p.D9],encapsulation:2})}}return Xe})();var Ae=h(4692);const xe=(Xe,Zt)=>({title:Xe,link:Zt}),Qe=Xe=>[Xe];function Ee(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"select",23),b.bIt("change",function(){b.eBV(ut);const De=b.XpG(2);return b.Njj(De.onValueTypeChanged())}),b.j41(1,"option",24),b.EFF(2),b.nI1(3,"translate"),b.k0s(),b.j41(4,"option",25),b.EFF(5),b.nI1(6,"translate"),b.k0s(),b.j41(7,"option",26),b.EFF(8),b.nI1(9,"translate"),b.k0s(),b.j41(10,"option",27),b.EFF(11),b.nI1(12,"translate"),b.k0s(),b.j41(13,"option",28),b.EFF(14),b.nI1(15,"translate"),b.k0s()()}if(2&Xe){const ut=b.XpG(2);b.R7$(),b.Y8G("selected","String"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(3,9,"Common.Types.String")),b.R7$(2),b.Y8G("selected","Int"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(6,11,"Common.Types.Int")),b.R7$(2),b.Y8G("selected","DateTime"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(9,13,"Common.Types.DateTime")),b.R7$(2),b.Y8G("selected","Boolean"==ut.claimType.valueType),b.R7$(),b.JRh(b.bMT(12,15,"Common.Types.Boolean")),b.R7$(3),b.JRh(b.bMT(15,17,"Common.Types.Enum"))}}function be(Xe,Zt){if(1&Xe&&(b.nrm(0,"app-readonly",10),b.nI1(1,"readOnlyValue")),2&Xe){const ut=b.XpG(2);b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(4,Qe,b.bMT(1,2,ut.claimType.valueType)))}}function le(Xe,Zt){if(1&Xe&&(b.j41(0,"app-form-row",29),b.nrm(1,"app-edit-enum-claim-type",30),b.k0s()),2&Xe){const ut=b.XpG(2);b.Y8G("label","Claims.AllowedValues"),b.R7$(),b.Y8G("reserved",ut.claimType.reserved)("required","Enum"===ut.claimTypeForm.get("valueType").value)}}function Pe(Xe,Zt){1&Xe&&b.nrm(0,"textarea",31)}function Ie(Xe,Zt){if(1&Xe&&(b.nrm(0,"app-readonly",10),b.nI1(1,"readOnlyValue")),2&Xe){const ut=b.XpG(2);b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(4,Qe,b.bMT(1,2,ut.claimType.description)))}}function st(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",12),b.nrm(1,"input",32),b.k0s()),2&Xe&&b.Y8G("id","rule")("label","Claims.RegexRule")}function Oe(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",12),b.nrm(1,"input",33),b.k0s()),2&Xe&&b.Y8G("id","ruleValidation")("label","Claims.RuleValidationFailureDescription")}function pt(Xe,Zt){if(1&Xe&&(b.j41(0,"div",7)(1,"form",8)(2,"app-form-row",9),b.nrm(3,"app-readonly",10),b.nI1(4,"readOnlyValue"),b.k0s(),b.j41(5,"app-form-row",9),b.nrm(6,"input",11),b.k0s(),b.j41(7,"app-form-row",12)(8,"div",13),b.DNE(9,Ee,16,19,"select",14)(10,be,2,6,"app-readonly",15),b.k0s()(),b.DNE(11,le,2,3,"app-form-row",16),b.j41(12,"app-form-row",12),b.DNE(13,Pe,1,0,"textarea",17)(14,Ie,2,6,"app-readonly",15),b.k0s(),b.DNE(15,st,2,2,"app-form-row",18)(16,Oe,2,2,"app-form-row",18),b.j41(17,"app-form-row",9)(18,"app-form-toggle",19),b.nrm(19,"input",20),b.k0s()(),b.j41(20,"app-form-row",21)(21,"app-form-toggle",19),b.nrm(22,"input",22),b.k0s()()()()),2&Xe){const ut=b.XpG();b.R7$(),b.Y8G("formGroup",ut.claimTypeForm),b.R7$(),b.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),b.R7$(),b.Y8G("fieldType",ut.ReadOnlyFieldType.Single)("values",b.eq3(31,Qe,b.bMT(4,29,ut.claimType.name))),b.R7$(2),b.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),b.R7$(2),b.Y8G("id","type")("label","Common.Type"),b.R7$(2),b.Y8G("ngIf",!ut.claimType.reserved),b.R7$(),b.Y8G("ngIf",ut.claimType.reserved),b.R7$(),b.Y8G("ngIf","Enum"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","description")("label","Common.Description"),b.R7$(),b.Y8G("ngIf",!ut.claimType.reserved),b.R7$(),b.Y8G("ngIf",ut.claimType.reserved),b.R7$(),b.Y8G("ngIf","String"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("ngIf","String"===ut.claimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),b.R7$(),b.Y8G("id","required"),b.R7$(2),b.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),b.R7$(),b.Y8G("id","userEditable")}}let Ye=(()=>{class Xe{get ReadOnlyFieldType(){return P.t}constructor(ut,_e,De,ye,ft,ze,Tt,vt,Xt,Vn,ai){this.router=ut,this.translate=_e,this.toastr=De,this.fb=ye,this.claimTypeService=ft,this.titleService=ze,this.dialogService=Tt,this.localize=vt,this.errorService=Xt,this.securityService=Vn,this.cdr=ai,this.claimType=null}ngOnInit(){this.claimTypeSubscription=this.claimTypeService.getCachedClaimType().subscribe({next:ut=>{this.claimType=ut,this.titleService.setTitle(this.translate.instant("Claims.Title")+" "+this.claimType.name+` - ${f.$9.SITE_TITLE}`),this.buildForm(),this.initialData=JSON.stringify(ut)},error:ut=>{this.errorService.handleError(ut)}})}ngOnDestroy(){this.claimTypeSubscription.unsubscribe()}canDeactivate(){return!this.claimTypeForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}buildForm(){this.claimTypeForm=this.fb.group({id:[this.claimType.id],name:[this.claimType.name,y.k0.required],displayName:[this.claimType.displayName],description:[{value:this.claimType.description,disabled:this.claimType.reserved},[y.k0.maxLength(1e3)]],required:[{value:this.claimType.required,disabled:"sub"===this.claimType.name||"role"===this.claimType.name},y.k0.required],valueType:[{value:this.claimType.valueType,disabled:this.claimType.reserved},y.k0.required],rule:[{value:this.claimType.rule,disabled:this.claimType.reserved}],ruleValidationFailureDescription:[{value:this.claimType.ruleValidationFailureDescription,disabled:this.claimType.reserved}],userEditable:[this.claimType.userEditable,y.k0.required],allowedValues:[this.claimType.allowedValues||[]]})}submit(){const ut=this.claimTypeForm.getRawValue();"String"!==this.claimTypeForm.get("valueType").value&&(ut.rule=void 0,ut.ruleValidationFailureDescription=void 0),this.claimTypeService.updateClaimType(ut).subscribe({next:_e=>{this.toastr.success(this.translate.instant("Notifications.Saving Success Message"),this.translate.instant("Common.Saved")),this.initialData=JSON.stringify(ut),this.claimTypeForm.markAsPristine(),this.claimTypeForm.markAsUntouched()},error:_e=>{(this.errorService.handleError(_e)&I.I.Toast)!==I.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}delete(){this.claimTypeService.deleteClaimType(this.claimType).subscribe({next:ut=>{this.toastr.success(this.claimType.name+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Common.Removed"));const _e=this.localize.translateRoute("/claim-types");this.router.navigate([_e])},error:ut=>{(this.errorService.handleError(ut)&I.I.Toast)!==I.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}onValueTypeChanged(){const ut=this.claimTypeForm.get("allowedValues");"Enum"!==this.claimTypeForm.get("valueType").value?(ut?.disable(),this.cdr.detectChanges()):(ut?.setValue(this.claimType.allowedValues||[]),ut?.enable(),this.cdr.detectChanges())}get isIdentityServerManager(){return(0,O.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(e.Ix),b.rXU(p.c$),b.rXU(M.tw),b.rXU(y.ze),b.rXU(k.X),b.rXU(N.hE),b.rXU(G.o),b.rXU(d.QG),b.rXU(R.I),b.rXU(j.i),b.rXU(b.gRc))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["ng-component"]],decls:15,vars:22,consts:[["deleteClaimTypeModal",""],[3,"title","crumbs"],["id","editClaimType","class","tw-container tw-mx-auto",4,"ngIf"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["id","editClaimType",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","formControlName","displayName","name","displayName","id","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","class","tw-form-control","id","type",3,"change",4,"ngIf"],[3,"fieldType","values",4,"ngIf"],[3,"label",4,"ngIf"],["class","tw-form-control","formControlName","description","name","description","id","description",4,"ngIf"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String",3,"selected"],["value","Int",3,"selected"],["value","DateTime",3,"selected"],["value","Boolean",3,"selected"],["value","Enum"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"reserved","required"],["formControlName","description","name","description","id","description",1,"tw-form-control"],["type","text","formControlName","rule","name","rule","id","rule",1,"tw-form-control"],["type","text","formControlName","ruleValidationFailureDescription","name","rule","id","ruleValidation",1,"tw-form-control"]],template:function(_e,De){if(1&_e){const ye=b.RV6();b.nrm(0,"app-title-bar",1),b.nI1(1,"translate"),b.nI1(2,"localize"),b.DNE(3,pt,23,33,"div",2),b.j41(4,"app-button-bar")(5,"button",3),b.bIt("click",function(){return b.eBV(ye),b.Njj(De.submit())}),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.qex(8,4),b.j41(9,"button",5),b.bIt("click",function(){b.eBV(ye);const ze=b.sdS(13);return b.Njj(ze.show())}),b.EFF(10),b.nI1(11,"translate"),b.k0s(),b.bVm(),b.k0s(),b.j41(12,"app-delete-confirmation-modal",6,0),b.bIt("delete",function(){return b.eBV(ye),b.Njj(De.delete())}),b.k0s(),b.nrm(14,"app-can-deactivate")}2&_e&&(b.Y8G("title",De.claimType.name)("crumbs",b.eq3(20,Qe,b.l_i(17,xe,b.bMT(1,9,"Nav.ClaimTypes"),b.bMT(2,11,"/claim-types")))),b.R7$(3),b.Y8G("ngIf",De.claimType),b.R7$(2),b.Y8G("disabled",!(De.claimTypeForm.dirty&&De.claimTypeForm.valid)),b.R7$(),b.SpI(" ",b.bMT(7,13,"Common.Save")," "),b.R7$(3),b.Y8G("disabled",De.claimType.reserved||!De.isIdentityServerManager),b.R7$(),b.SpI(" ",b.bMT(11,15,"Common.Delete.Title")," "),b.R7$(2),b.Y8G("modalId","deleteClaimTypeModal")("resourceName",De.claimType.name))},dependencies:[i.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,U.E,$.z,ne.z,se.Y,L.m,J.O,te.w,Ne,p.D9,d.tl,Ae.u],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var qt=h(1413),jt=h(152),Dt=h(3294),wt=h(6354),z=h(1716),Y=h(9172),Z=h(1397),Ce=h(7156),we=h(7294),at=h(2510),Be=h(7384);class ot{}const mt=["addClaimTypeModal"],it=()=>({animated:!1,backdrop:"static"});function Kt(Xe,Zt){if(1&Xe&&(b.j41(0,"app-form-row",37),b.nrm(1,"app-edit-enum-claim-type",38),b.k0s()),2&Xe){const ut=b.XpG();b.Y8G("label","Claims.AllowedValues"),b.R7$(),b.Y8G("required","Enum"===ut.addClaimTypeForm.get("valueType").value)}}function on(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",14),b.nrm(1,"input",39),b.k0s()),2&Xe&&b.Y8G("id","rules")("label","Claims.RegexRule")}function Pt(Xe,Zt){1&Xe&&(b.j41(0,"app-form-row",14),b.nrm(1,"input",40),b.k0s()),2&Xe&&b.Y8G("id","ruleValidationFailureDescription")("label","Claims.RuleValidationFailureDescription")}let Jt=(()=>{class Xe{constructor(ut,_e,De,ye,ft,ze){this.cdr=ut,this.claimTypeService=_e,this.errorService=De,this.translate=ye,this.fb=ft,this.toastr=ze,this.onSubmitted=new b.bkB,this.descFocus=!1}keydown(ut){"Enter"===ut.key&&this.addClaimTypeForm.valid&&!this.descFocus&&this.addClaimType()}ngOnInit(){this.buildForm()}buildForm(){this.addClaimTypeForm=this.fb.group({valueType:["String",y.k0.required],name:["",y.k0.required],displayName:[""],description:["",y.k0.maxLength(1e3)],rule:[""],ruleValidationFailureDescription:[""],required:[!1,y.k0.required],userEditable:[!1,y.k0.required],allowedValues:[[]]})}addAnotherClaimType(){this.addAnother=!0,this.addClaimType()}addClaimType(){let ut=new ot;ut=this.addClaimTypeForm.value,"String"!==this.addClaimTypeForm.get("valueType").value&&(ut.rule=void 0,ut.ruleValidationFailureDescription=void 0),this.claimTypeService.addClaimType(ut).subscribe({next:_e=>{this.buildForm(),this.toastr.success(this.translate.instant("Claims.Title")+" "+ut.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Common.Added")),this.onSubmitted.emit(!0),this.addAnother||this.hide(),this.addAnother=!1},error:_e=>{(this.errorService.handleError(_e)&I.I.Toast)!==I.I.Toast&&this.toastr.error(this.translate.instant("Notifications.SomethingWrong"),this.translate.instant("Notifications.Error"))}})}hide(){this.addClaimTypeModal.hide()}show(){this.addClaimTypeModal.show()}ngOnDestroy(){this.hide()}onValueTypeChanged(){const ut=this.addClaimTypeForm.get("allowedValues");"Enum"!==this.addClaimTypeForm.get("valueType").value?(ut?.disable(),this.cdr.detectChanges()):(ut?.setValue([]),ut?.enable(),this.cdr.detectChanges())}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(b.gRc),b.rXU(k.X),b.rXU(R.I),b.rXU(p.c$),b.rXU(y.ze),b.rXU(M.tw))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["app-add-claimtype"]],viewQuery:function(_e,De){if(1&_e&&b.GBs(mt,7),2&_e){let ye;b.mGM(ye=b.lsd())&&(De.addClaimTypeModal=ye.first)}},hostBindings:function(_e,De){1&_e&&b.bIt("keydown",function(ft){return De.keydown(ft)},!1,b.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:62,vars:57,consts:[["addClaimTypeModal","bs-modal"],["bsModal","","id","addClaimTypeModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["id","name","type","text","formControlName","name","name","name",1,"tw-form-control"],["id","displayName","type","text","formControlName","displayName","name","displayName",1,"tw-form-control"],[3,"id","label"],[1,"tw-form-select"],["formControlName","valueType","id","type",1,"tw-form-control",3,"change"],["value","String"],["value","Int"],["value","DateTime"],["value","Boolean"],["value","Enum"],[3,"label",4,"ngIf"],["id","description","formControlName","description","name","description",1,"tw-form-control",3,"focus","blur"],[3,"id","label",4,"ngIf"],[3,"id"],["id","required","type","checkbox","name","required","formControlName","required","value","true",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","userEditable","type","checkbox","name","userEditable","formControlName","userEditable","value","true",1,"tw-form-switch__input"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","addButton",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["id","addAnotherButton",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[3,"label"],["id","allowedValues","formControlName","allowedValues",3,"required"],["id","rules","formControlName","rule","type","text","name","rule",1,"tw-form-control"],["id","ruleValidationFailureDescription","formControlName","ruleValidationFailureDescription","type","text","name","ruleValidationFailureDescription",1,"tw-form-control"]],template:function(_e,De){if(1&_e){const ye=b.RV6();b.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),b.EFF(6),b.nI1(7,"translate"),b.k0s(),b.j41(8,"button",6),b.bIt("click",function(){return b.eBV(ye),b.Njj(De.hide())}),b.nrm(9,"span",7),b.j41(10,"span",8),b.EFF(11),b.nI1(12,"translate"),b.k0s()()(),b.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),b.nrm(16,"input",12),b.k0s(),b.j41(17,"app-form-row",11),b.nrm(18,"input",13),b.k0s(),b.j41(19,"app-form-row",14)(20,"div",15)(21,"select",16),b.bIt("change",function(){return b.eBV(ye),b.Njj(De.onValueTypeChanged())}),b.j41(22,"option",17),b.EFF(23),b.nI1(24,"translate"),b.k0s(),b.j41(25,"option",18),b.EFF(26),b.nI1(27,"translate"),b.k0s(),b.j41(28,"option",19),b.EFF(29),b.nI1(30,"translate"),b.k0s(),b.j41(31,"option",20),b.EFF(32),b.nI1(33,"translate"),b.k0s(),b.j41(34,"option",21),b.EFF(35),b.nI1(36,"translate"),b.k0s()()()(),b.DNE(37,Kt,2,2,"app-form-row",22),b.j41(38,"app-form-row",14)(39,"textarea",23),b.bIt("focus",function(){return b.eBV(ye),b.Njj(De.descFocus=!De.descFocus)})("blur",function(){return b.eBV(ye),b.Njj(De.descFocus=!De.descFocus)}),b.k0s()(),b.DNE(40,on,2,2,"app-form-row",24)(41,Pt,2,2,"app-form-row",24),b.j41(42,"app-form-row",11)(43,"app-form-toggle",25),b.nrm(44,"input",26),b.k0s()(),b.j41(45,"app-form-row",27)(46,"app-form-toggle",25),b.nrm(47,"input",28),b.k0s()()()(),b.nrm(48,"div",29),b.j41(49,"div",30)(50,"div",31)(51,"div",32)(52,"button",33),b.bIt("click",function(){return b.eBV(ye),b.Njj(De.addClaimType())}),b.EFF(53),b.nI1(54,"translate"),b.k0s(),b.j41(55,"span",34)(56,"button",35),b.bIt("click",function(){return b.eBV(ye),b.Njj(De.addAnotherClaimType())}),b.EFF(57),b.nI1(58,"translate"),b.k0s()()(),b.j41(59,"button",36),b.bIt("click",function(){return b.eBV(ye),b.Njj(De.hide())}),b.EFF(60),b.nI1(61,"translate"),b.k0s()()()()()()}2&_e&&(b.Y8G("config",b.lJ4(56,it)),b.R7$(6),b.JRh(b.bMT(7,36,"Claims.New")),b.R7$(5),b.JRh(b.bMT(12,38,"Common.Close")),b.R7$(3),b.Y8G("formGroup",De.addClaimTypeForm),b.R7$(),b.Y8G("id","name")("label","Common.Name")("help","ClaimTypes.NameHelp"),b.R7$(2),b.Y8G("id","displayName")("label","Common.DisplayName")("help","ClaimTypes.DisplayNameHelp"),b.R7$(2),b.Y8G("id","type")("label","Common.Type"),b.R7$(4),b.JRh(b.bMT(24,40,"Common.Types.String")),b.R7$(3),b.JRh(b.bMT(27,42,"Common.Types.Int")),b.R7$(3),b.JRh(b.bMT(30,44,"Common.Types.DateTime")),b.R7$(3),b.JRh(b.bMT(33,46,"Common.Types.Boolean")),b.R7$(3),b.JRh(b.bMT(36,48,"Common.Types.Enum")),b.R7$(2),b.Y8G("ngIf","Enum"===De.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","description")("label","Common.Description"),b.R7$(2),b.Y8G("ngIf","String"===De.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("ngIf","String"===De.addClaimTypeForm.get("valueType").value),b.R7$(),b.Y8G("id","required")("label","Claims.Required")("help","Claims.FutureUsers"),b.R7$(),b.Y8G("id","required"),b.R7$(2),b.Y8G("id","userEditable")("label","Common.UserEditable")("help","Claims.UserEditable")("isLast",!0),b.R7$(),b.Y8G("id","userEditable"),b.R7$(6),b.Y8G("disabled",!De.addClaimTypeForm.valid),b.R7$(),b.JRh(b.bMT(54,50,"Common.Save")),b.R7$(3),b.Y8G("disabled",!De.addClaimTypeForm.valid),b.R7$(),b.JRh(b.bMT(58,52,"Common.SaveAndAdd")),b.R7$(3),b.JRh(b.bMT(61,54,"Common.Cancel")))},dependencies:[i.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.YS,y.j4,y.JD,w.hZ,se.Y,L.m,Ne,p.D9],encapsulation:2})}}return Xe})();const je=(Xe,Zt)=>Zt.id,ce=(Xe,Zt)=>({"fad fa-pencil":Xe,"fas fa-eye":Zt});function X(Xe,Zt){1&Xe&&(b.j41(0,"div",4)(1,"div")(2,"p",5),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.nrm(5,"p",6),b.nI1(6,"translate"),b.k0s()()),2&Xe&&(b.R7$(3),b.JRh(b.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),b.R7$(2),b.Y8G("innerHTML",b.bMT(6,4,"ClaimTypes.ReadOnlyModeWarn"),b.npT))}function oe(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-action-bar"),b.qex(1,8),b.j41(2,"button",9),b.bIt("click",function(){b.eBV(ut),b.XpG(2);const De=b.sdS(3);return b.Njj(De.show())}),b.EFF(3),b.nI1(4,"translate"),b.k0s(),b.bVm(),b.k0s()}2&Xe&&(b.R7$(3),b.SpI(" ",b.bMT(4,1,"Claims.Add")," "))}function Ve(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"app-search",7),b.nI1(1,"translate"),b.bIt("onSearch",function(De){b.eBV(ut);const ye=b.XpG();return b.Njj(ye.search(De))}),b.k0s(),b.DNE(2,oe,5,3,"app-action-bar")}if(2&Xe){const ut=b.XpG();b.Y8G("placeholder",b.bMT(1,2,"ClaimTypes.SearchPlaceholder")),b.R7$(2),b.vxM(2,!ut.isLoading&&ut.isIdentityServerManager?2:-1)}}function tt(Xe,Zt){1&Xe&&b.nrm(0,"app-simple-loader")}function gt(Xe,Zt){1&Xe&&(b.j41(0,"div",10)(1,"div"),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Claims.NoClaimsFound")))}function Bt(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function cn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function hn(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function Mn(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function kn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function Bn(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function It(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function Rn(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function Ht(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function lt(Xe,Zt){1&Xe&&b.nrm(0,"span",25)}function Ct(Xe,Zt){1&Xe&&b.nrm(0,"span",26)}function yt(Xe,Zt){1&Xe&&b.nrm(0,"span",27)}function Ot(Xe,Zt){1&Xe&&(b.j41(0,"span",33)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.Yes")))}function tn(Xe,Zt){1&Xe&&(b.j41(0,"span",38)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.No")))}function In(Xe,Zt){1&Xe&&(b.j41(0,"span",33)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.Yes")))}function Un(Xe,Zt){1&Xe&&(b.j41(0,"span",38)(1,"span",22),b.EFF(2),b.nI1(3,"translate"),b.k0s()()),2&Xe&&(b.R7$(2),b.JRh(b.bMT(3,1,"Common.No")))}function fn(Xe,Zt){1&Xe&&(b.j41(0,"span",39),b.EFF(1),b.nI1(2,"translate"),b.k0s()),2&Xe&&(b.R7$(),b.SpI(" ",b.bMT(2,1,"Common.Reserved")," "))}function hi(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"tr",23)(1,"td",28),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.j41(2,"b",29),b.EFF(3),b.k0s()(),b.j41(4,"td",30),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.j41(5,"b",29),b.EFF(6),b.k0s()(),b.j41(7,"td",30),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.j41(8,"code"),b.EFF(9),b.k0s()(),b.j41(10,"td",31),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.EFF(11),b.k0s(),b.j41(12,"td",32),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.DNE(13,Ot,4,3,"span",33)(14,tn,4,3),b.k0s(),b.j41(15,"td",32),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.DNE(16,In,4,3,"span",33)(17,Un,4,3),b.k0s(),b.j41(18,"td",34),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.DNE(19,fn,3,3,"span",35),b.k0s(),b.j41(20,"td",34),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.j41(21,"button",36),b.bIt("click",function(){const De=b.eBV(ut).$implicit,ye=b.XpG(3);return b.Njj(ye.viewOrEditClaimType(De))}),b.nrm(22,"span",37),b.j41(23,"span",22),b.EFF(24),b.nI1(25,"translate"),b.k0s()()()()}if(2&Xe){const ut=Zt.$implicit,_e=b.XpG(3);b.R7$(3),b.SpI(" ",ut.name," "),b.R7$(3),b.SpI(" ",ut.displayName," "),b.R7$(3),b.JRh(ut.valueType),b.R7$(2),b.SpI(" ",ut.description," "),b.R7$(2),b.vxM(13,ut.required?13:14),b.R7$(3),b.vxM(16,ut.userEditable?16:17),b.R7$(3),b.Y8G("ngIf",ut.reserved),b.R7$(3),b.Y8G("ngClass",b.l_i(11,ce,_e.isAllPermission&&!_e.isAllPermissionReadOnly&&_e.hasPersistance,!_e.isAllPermission||!_e.hasPersistance)),b.R7$(2),b.JRh(b.bMT(25,9,"Common.Edit"))}}function Hn(Xe,Zt){if(1&Xe){const ut=b.RV6();b.j41(0,"table",11)(1,"thead")(2,"tr")(3,"th",12),b.bIt("click",function(){b.eBV(ut);const De=b.XpG(2);return b.Njj(De.sort("name"))}),b.j41(4,"span",13),b.EFF(5),b.nI1(6,"translate"),b.k0s(),b.DNE(7,Bt,1,0,"span",14)(8,cn,1,0,"span",15)(9,hn,1,0,"span",16),b.k0s(),b.j41(10,"th",17),b.EFF(11),b.nI1(12,"translate"),b.k0s(),b.j41(13,"th",18),b.bIt("click",function(){b.eBV(ut);const De=b.XpG(2);return b.Njj(De.sort("valueType"))}),b.j41(14,"span",13),b.EFF(15),b.nI1(16,"translate"),b.k0s(),b.DNE(17,Mn,1,0,"span",14)(18,kn,1,0,"span",15)(19,Bn,1,0,"span",16),b.k0s(),b.j41(20,"th",19),b.EFF(21),b.nI1(22,"translate"),b.k0s(),b.j41(23,"th",20),b.bIt("click",function(){b.eBV(ut);const De=b.XpG(2);return b.Njj(De.sort("required"))}),b.j41(24,"span",13),b.EFF(25),b.nI1(26,"translate"),b.k0s(),b.DNE(27,It,1,0,"span",14)(28,Rn,1,0,"span",15)(29,Ht,1,0,"span",16),b.k0s(),b.j41(30,"th",20),b.bIt("click",function(){b.eBV(ut);const De=b.XpG(2);return b.Njj(De.sort("userEditable"))}),b.j41(31,"span",13),b.EFF(32),b.nI1(33,"translate"),b.k0s(),b.DNE(34,lt,1,0,"span",14)(35,Ct,1,0,"span",15)(36,yt,1,0,"span",16),b.k0s(),b.j41(37,"th",21)(38,"span",22),b.EFF(39),b.nI1(40,"translate"),b.k0s()(),b.j41(41,"th",21)(42,"span",22),b.EFF(43),b.nI1(44,"translate"),b.k0s()()()(),b.j41(45,"tbody"),b.Z7z(46,hi,26,14,"tr",23,je),b.k0s()(),b.nrm(48,"app-pager",24)}if(2&Xe){const ut=b.XpG(2);b.R7$(5),b.JRh(b.bMT(6,21,"Common.Name")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("name")),b.R7$(),b.Y8G("ngIf","name"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-name"===ut.sortCriteria),b.R7$(2),b.SpI(" ",b.bMT(12,23,"Common.DisplayName")," "),b.R7$(4),b.JRh(b.bMT(16,25,"Common.Type")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("valueType")),b.R7$(),b.Y8G("ngIf","valueType"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-valueType"===ut.sortCriteria),b.R7$(2),b.SpI(" ",b.bMT(22,27,"Common.Description")," "),b.R7$(4),b.JRh(b.bMT(26,29,"Common.Required")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("required")),b.R7$(),b.Y8G("ngIf","required"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-required"===ut.sortCriteria),b.R7$(3),b.JRh(b.bMT(33,31,"Common.UserEditable")),b.R7$(2),b.Y8G("ngIf",!ut.sortContains("userEditable")),b.R7$(),b.Y8G("ngIf","userEditable"===ut.sortCriteria),b.R7$(),b.Y8G("ngIf","-userEditable"===ut.sortCriteria),b.R7$(3),b.JRh(b.bMT(40,33,"Common.Reserved")),b.R7$(4),b.JRh(b.bMT(44,35,"Common.Actions")),b.R7$(3),b.Dyx(ut.claimTypes),b.R7$(2),b.Y8G("totalResults",null==ut.claimTypes?null:ut.claimTypes.length)}}function Mt(Xe,Zt){if(1&Xe&&b.DNE(0,gt,4,3,"div",10)(1,Hn,49,37),2&Xe){const ut=b.XpG();b.vxM(0,(null==ut.claimTypes?null:ut.claimTypes.length)<1?0:1)}}let ht=(()=>{class Xe{constructor(ut,_e,De,ye,ft,ze,Tt,vt){this.router=ut,this.claimTypeService=_e,this.errorService=De,this.translate=ye,this.titleService=ft,this.localize=ze,this.securityService=Tt,this.activatedRoute=vt,this.sortCriteria="name",this.term="",this.isLoading=!0,this.sortStream=new qt.B,this.searchStream=new qt.B}ngOnInit(){this.hasPersistance=this.activatedRoute.snapshot?.data?.hasPersistance??!0,this.titleService.setTitle(this.translate.instant("Nav.ClaimTypes")+" - "+f.$9.SITE_TITLE);const ut=this.searchStream.pipe((0,jt.B)(300),(0,Dt.F)(),(0,wt.T)(ye=>(this.term=ye,{search:ye,sort:this.sortCriteria})));this.sortStream.pipe((0,wt.T)(ye=>(this.sortCriteria=ye,{search:this.term,sort:ye}))).pipe((0,z.h)(ut),(0,Y.Z)({search:this.term,sort:this.sortCriteria}),(0,Z.Z)(ye=>this.claimTypeService.getClaimTypes(ye.search,ye.sort,!0))).subscribe(ye=>{this.claimTypes=ye,this.isLoading=!1},ye=>{this.errorService.handleError(ye),this.isLoading=!1})}search(ut){this.searchStream.next(ut)}sort(ut){this.sortCriteria=this.sortCriteria.startsWith("-")?ut:"-"+ut,this.sortStream.next(this.sortCriteria)}sortContains(ut){return!!this.sortCriteria.includes(ut)}onSubmitted(ut){ut&&this.sortStream.next(this.sortCriteria)}viewOrEditClaimType(ut){this.isAllPermission?this.editClaimType(ut):this.viewClaimType(ut)}viewClaimType(ut){const _e=this.localize.translateRoute("/claim-types/view");this.router.navigate([_e,ut.id])}editClaimType(ut){const _e=this.localize.translateRoute("/claim-types");this.router.navigate([_e,ut.id])}get isAllPermission(){return(0,O.X4)(this.securityService.userPermissions)}get isAllPermissionReadOnly(){return(0,O.lK)(this.securityService.userPermissions)}get isIdentityServerManager(){return(0,O.jk)(this.securityService.userPermissions)}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.rXU(e.Ix),b.rXU(k.X),b.rXU(R.I),b.rXU(p.c$),b.rXU(N.hE),b.rXU(d.QG),b.rXU(j.i),b.rXU(e.nX))}}static{this.\u0275cmp=b.VBU({type:Xe,selectors:[["ng-component"]],decls:9,vars:5,consts:[["addClaimTypeModal",""],[3,"title"],[3,"onSubmitted"],["id","claimTypeList",1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],[3,"onSearch","placeholder"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","claimTypesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","md:tw-w-1/3","lg:tw-w-1/4",3,"click"],[1,"tw-mr-2"],["class","fad fa-sort",4,"ngIf"],["class","fas fa-caret-down",4,"ngIf"],["class","fas fa-caret-up",4,"ngIf"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-w-1/4","lg:tw-table-cell"],[1,"tw-hidden","tw-cursor-pointer","tw-text-center","xl:tw-table-cell",3,"click"],[1,"tw-w-1"],[1,"sr-only"],[1,"group"],["hidePager","true",3,"totalResults"],[1,"fad","fa-sort"],[1,"fas","fa-caret-down"],[1,"fas","fa-caret-up"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","tw-text-center","xl:tw-table-cell",3,"click"],[1,"fas","fa-check","tw-text-green-500"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","editClaimType","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-pill"]],template:function(_e,De){if(1&_e){const ye=b.RV6();b.nrm(0,"app-title-bar",1),b.nI1(1,"translate"),b.j41(2,"app-add-claimtype",2,0),b.bIt("onSubmitted",function(ze){return b.eBV(ye),b.Njj(De.onSubmitted(ze))}),b.k0s(),b.j41(4,"div",3),b.DNE(5,X,7,6,"div",4)(6,Ve,3,4)(7,tt,1,0,"app-simple-loader")(8,Mt,2,1),b.k0s()}2&_e&&(b.Y8G("title",b.bMT(1,3,"Nav.ClaimTypes")),b.R7$(5),b.vxM(5,De.hasPersistance?6:5),b.R7$(2),b.vxM(7,De.isLoading?7:8))},dependencies:[i.YU,i.bT,$.z,Ce.B,we.n,at.S,Be.d,Jt,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Xe})();var kt=h(3178),Gt=h(4446),sn=h(8939),bn=h(2892),yn=h(8416);let Jn=(()=>{class Xe{static{this.pathToConfigParamMap={"claim-types":"claimTypePersistence"}}}return Xe})();var An=h(9196);let gn=(()=>{class Xe{constructor(ut,_e,De){this.router=ut,this.localizeRouter=_e,this.configService=De}canActivate(ut,_e){var De=ut.url.map(ft=>ft.path),ye=De[De.length-2];return this.configService.getConfig().pipe((0,wt.T)(ft=>{if(!1!==ft[Jn.pathToConfigParamMap[ye]])return!0;De.splice(De.length-1,0,"view");var ze=this.localizeRouter.translateRoute(`/${De.join("/")}`);return this.router.navigate([ze]),!1}))}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.KVO(e.Ix),b.KVO(d.QG),b.KVO(An.w))}}static{this.\u0275prov=b.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})(),di=(()=>{class Xe{constructor(ut){this.configService=ut}resolve(ut){var _e=ut.url.map(ye=>ye.path),De=_e[_e.length-1];return this.configService.getConfig().pipe((0,wt.T)(ye=>{var ft=ye[Jn.pathToConfigParamMap[De]];return!!(0,O.hX)(ft)||ft}))}static{this.\u0275fac=function(_e){return new(_e||Xe)(b.KVO(An.w))}}static{this.\u0275prov=b.jDH({token:Xe,factory:Xe.\u0275fac})}}return Xe})();const mi=[{path:"claim-types",component:ht,resolve:{hasPersistance:di},canActivate:[bn.h,Gt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.UserManagerReadOnly],kt.a[kt.a.AllReadOnly],kt.a[kt.a.All]]}},{path:"claim-types/:Id",component:Ye,resolve:{resource:sn.R},canDeactivate:[yn.M],canActivate:[bn.h,gn,Gt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.All]]}},{path:"claim-types/view/:Id",loadChildren:()=>h.e(200).then(h.bind(h,2200)).then(Xe=>Xe.ClaimTypesModule),resolve:{resource:sn.R},canActivate:[bn.h,Gt._],data:{permissions:[kt.a[kt.a.UserManager],kt.a[kt.a.UserManagerReadOnly],kt.a[kt.a.AllReadOnly],kt.a[kt.a.All]]}}];let ii=(()=>{class Xe{static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275mod=b.$C({type:Xe})}static{this.\u0275inj=b.G2t({imports:[e.iI.forChild(mi),d.XE.forChild(mi),e.iI]})}}return Xe})();var Pi=h(8455),Qn=h(367),Ti=h(5731),gi=h(4193),Hi=h(3665),$i=h(7175),Ii=h(1993),et=h(8389),At=h(3843),Ke=h(7677),zt=h(1683),ct=h(4367);let Yt=(()=>{class Xe{static{this.\u0275fac=function(_e){return new(_e||Xe)}}static{this.\u0275mod=b.$C({type:Xe})}static{this.\u0275inj=b.G2t({providers:[sn.R,di,gn],imports:[ii,i.MD,y.YN,y.X1,m.qP,C.Ss,w.Q_,e.iI,p.h,Pi.p,d.XE,Qn.m,Ti.i,gi.c,Hi.t,$i.c,Ii.E,et.w,At.G,Ke.N,zt.Y,ct.N]})}}return Xe})()},7275:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>f});var i=h(177),e=h(1780),y=h(779),p=h(4193),w=h(8251),C=h(8389),m=h(7677),d=h(4438);let f=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275mod=d.$C({type:I})}static{this.\u0275inj=d.G2t({imports:[y.Q_,e.h,i.MD,w.h,p.c,C.w,m.N]})}}return I})()},4652:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>re});var i=h(4438),e=h(4252),y=h(7921),p=h(6303),w=h(4549),C=h(1589),m=h(1780),d=h(9812),f=h(779),I=h(177),O=h(8577),P=h(7294),b=h(8698),M=h(8762);const k=["deleteCertModal"],N=[[["","addButton",""]]],G=["[addButton]"],R=K=>[K],j=()=>({animated:!1,backdrop:"static"});function U(K,me){if(1&K){const Ne=i.RV6();i.j41(0,"button",13),i.bIt("click",function(){i.eBV(Ne);const xe=i.XpG(3);return i.Njj(xe.openDeleteModal(xe.certificates[0]))}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&K){const Ne=i.XpG(3);i.Y8G("disabled",Ne.deleteCertDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,"Clients.Saml.DeleteCert")," ")}}function $(K,me){if(1&K&&(i.j41(0,"app-action-bar",10),i.qex(1,11),i.SdG(2),i.DNE(3,U,3,4,"button",12),i.bVm(),i.k0s()),2&K){const Ne=i.XpG(2);i.R7$(3),i.Y8G("ngIf",(null==Ne.certificates?null:Ne.certificates.length)>0)}}function ne(K,me){1&K&&(i.j41(0,"div",14),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Saml.CannotDeleteResponseCert")," "))}function se(K,me){1&K&&(i.j41(0,"div",15),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&K&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.NoCertificates")," "))}function L(K,me){if(1&K&&(i.qex(0),i.j41(1,"app-form-row",16),i.nrm(2,"app-readonly",17),i.k0s(),i.j41(3,"app-form-row",16),i.nrm(4,"app-readonly",17),i.k0s(),i.j41(5,"app-form-row",18),i.nrm(6,"app-readonly",17)(7,"p",19),i.k0s(),i.bVm()),2&K){const Ne=i.XpG(2);i.R7$(),i.Y8G("label","Common.Subject"),i.R7$(),i.Y8G("values",i.eq3(11,R,Ne.readOnlyCertificate.subject))("fieldType",Ne.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.Thumbprint"),i.R7$(),i.Y8G("values",i.eq3(13,R,Ne.readOnlyCertificate.thumbprint))("fieldType",Ne.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("label","Common.ExpiresOn")("isLast",!0),i.R7$(),i.Y8G("values",i.eq3(15,R,Ne.readOnlyCertificate.expiration))("fieldType",Ne.ReadOnlyFieldType.Single),i.R7$(),i.Y8G("innerHTML",Ne.displayExpiry(null==Ne.readOnlyCertificate?null:Ne.readOnlyCertificate.expiration.MainText),i.npT)}}function J(K,me){if(1&K&&(i.j41(0,"div",5),i.DNE(1,$,4,1,"app-action-bar",6)(2,ne,3,3,"div",7)(3,se,3,3,"div",8)(4,L,8,17,"ng-container",9),i.k0s()),2&K){const Ne=i.XpG();i.R7$(),i.Y8G("ngIf",!Ne.isReadOnly),i.R7$(),i.Y8G("ngIf",Ne.deleteCertDisabled&&!Ne.isReadOnly),i.R7$(),i.Y8G("ngIf",(null==Ne.certificates?null:Ne.certificates.length)<1),i.R7$(),i.Y8G("ngIf",1==(null==Ne.certificates?null:Ne.certificates.length)&&Ne.readOnlyCertificate)}}function te(K,me){if(1&K){const Ne=i.RV6();i.j41(0,"app-data-table",20),i.bIt("onDelete",function(xe){i.eBV(Ne);const Qe=i.XpG();return i.Njj(Qe.openDeleteModal(xe))}),i.nrm(1,"app-data-table-column",21)(2,"app-data-table-column",22)(3,"app-data-table-column",23),i.k0s()}if(2&K){const Ne=i.XpG();i.Y8G("isReadOnly",Ne.isReadOnly)("rows",Ne.certificates)("norowslabel","Clients.NoCertificates")("actions",Ne.dataTableActions),i.R7$(),i.Y8G("prop","subject")("title","Common.Subject")("cellClasses","tw-max-w-0 tw-truncate"),i.R7$(),i.Y8G("prop","thumbprint")("title","Common.Thumbprint")("headClasses","tw-hidden md:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell"),i.R7$(),i.Y8G("prop","expiration")("formatter",Ne.displayExpiry.bind(Ne))("title","Common.ExpiresOn")("headClasses","tw-hidden tw-w-40 xs:tw-table-cell lg:tw-w-64")("cellClasses","tw-hidden xs:tw-table-cell")}}function E(K,me){if(1&K){const Ne=i.RV6();i.j41(0,"div",24,0)(2,"div",25)(3,"div",26)(4,"div",27)(5,"h5",28),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",29),i.bIt("click",function(){i.eBV(Ne);const xe=i.XpG();return i.Njj(xe.closeDeleteModal())}),i.nrm(9,"span",30),i.j41(10,"span",31),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",32),i.nrm(14,"p",33),i.nI1(15,"translate"),i.k0s(),i.nrm(16,"div",34),i.j41(17,"div",35)(18,"div",36)(19,"div",37)(20,"button",38),i.bIt("click",function(){i.eBV(Ne);const xe=i.XpG();return i.Njj(xe.removeCert())}),i.EFF(21),i.nI1(22,"translate"),i.k0s()(),i.j41(23,"button",39),i.bIt("click",function(){i.eBV(Ne);const xe=i.XpG();return i.Njj(xe.closeDeleteModal())}),i.EFF(24),i.nI1(25,"translate"),i.k0s()()()()()()}2&K&&(i.Y8G("config",i.lJ4(16,j)),i.R7$(6),i.JRh(i.bMT(7,6,"Common.Delete.Confirm")),i.R7$(5),i.JRh(i.bMT(12,8,"Common.Close")),i.R7$(3),i.Y8G("innerHTML",i.bMT(15,10,"Common.Delete.Warning"),i.npT),i.R7$(7),i.JRh(i.bMT(22,12,"Common.Delete.Title")),i.R7$(3),i.JRh(i.bMT(25,14,"Common.Delete.No")))}let re=(()=>{class K{set isReadOnly(Ne){this._isReadOnly=Ne||!1}get isReadOnly(){return this._isReadOnly}constructor(Ne,Ae){this.translateService=Ne,this.dataTableService=Ae,this.showSingle=!1,this.delete=new i.bkB,this.prettyDateTimePipe=new C.sp}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Ne=>{this.openDeleteModal(Ne)})}ngOnChanges(){this.dataTableActions=this.isReadOnly?[]:[e.AA.Delete],this.readOnlyCertificate=this.showSingle&&this.certificates.length>0?new y.b(this.certificates[0]):null}openDeleteModal(Ne){this.certToDelete=this.showSingle?this.certificates[0]:this.certificates[Ne],this.deleteCertModal.show()}closeDeleteModal(){this.certToDelete=null,this.deleteCertModal.hide()}removeCert(){if(null==this.certToDelete)throw new Error("Delete called without target");this.delete.emit(this.certToDelete),this.deleteCertModal.hide()}displayExpiry(Ne){let Ae=w.c9.fromISO(Ne);const xe=this.daysUntilExpiry(Ae);if(this.warnOfExpiry(Ae)){let Qe='<b class="tw-text-red-500"><span class="fas fa-exclamation-triangle tw-mr-1" aria-hidden="true"></span>{0} {1} {2}</b>';return Qe=Qe.replace("{0}",this.translateService.instant("Common.ExpiresIn")),Qe=Qe.replace("{1}",xe.toString()),Qe=Qe.replace("{2}",this.translateService.instant("Common.UntilExpiry")),Qe}return this.prettyDateTimePipe.transform(Ne)}warnOfExpiry(Ne){return this.daysUntilExpiry(Ne)<=30&&this.daysUntilExpiry(Ne)>=1}daysUntilExpiry(Ne){const Ae=Ne.toMillis()-w.c9.now().toMillis();return Math.round(Ae/864e5)}get ReadOnlyFieldType(){return p.t}static{this.\u0275fac=function(Ae){return new(Ae||K)(i.rXU(m.c$),i.rXU(d.I))}}static{this.\u0275cmp=i.VBU({type:K,selectors:[["app-saml-cert-list"]],viewQuery:function(Ae,xe){if(1&Ae&&i.GBs(k,5),2&Ae){let Qe;i.mGM(Qe=i.lsd())&&(xe.deleteCertModal=Qe.first)}},inputs:{certificates:"certificates",deleteCertDisabled:"deleteCertDisabled",showSingle:"showSingle",isReadOnly:"isReadOnly"},outputs:{delete:"delete"},features:[i.OA$],ngContentSelectors:G,decls:4,vars:3,consts:[["deleteCertModal","bs-modal"],["id","CertificateList"],["class","tw-mb-4",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions","onDelete",4,"ngIf"],["bsModal","","id","deleteCertModal","class","modal","role","dialog","aria-hidden","true","tabindex","-1",3,"config",4,"ngIf"],[1,"tw-mb-4"],["id","deleteBtn",4,"ngIf"],["class","tw-alert-warning tw-mb-6","role","alert",4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[4,"ngIf"],["id","deleteBtn"],["right",""],["id","deleteCertBtn","class","tw-btn-danger","type","button",3,"disabled","click",4,"ngIf"],["id","deleteCertBtn","type","button",1,"tw-btn-danger",3,"click","disabled"],["role","alert",1,"tw-alert-warning","tw-mb-6"],["role","alert",1,"tw-alert"],[3,"label"],[3,"values","fieldType"],[3,"label","isLast"],[1,"tw-form-text",3,"innerHTML"],[3,"onDelete","isReadOnly","rows","norowslabel","actions"],[3,"prop","title","cellClasses"],[3,"prop","title","headClasses","cellClasses"],[3,"prop","formatter","title","headClasses","cellClasses"],["bsModal","","id","deleteCertModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[3,"innerHTML"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(Ae,xe){1&Ae&&(i.NAR(N),i.j41(0,"div",1),i.DNE(1,J,5,4,"div",2)(2,te,4,16,"app-data-table",3),i.k0s(),i.DNE(3,E,26,17,"div",4)),2&Ae&&(i.R7$(),i.Y8G("ngIf",xe.showSingle),i.R7$(),i.Y8G("ngIf",!xe.showSingle),i.R7$(),i.Y8G("ngIf",!xe.isReadOnly))},dependencies:[f.hZ,I.bT,e.up,O.w,P.n,b.Y,M.O,m.D9],encapsulation:2,changeDetection:0})}}return K})()},5088:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>k});var i=h(9113),e=h(1744),y=h(1594),p=h(6799),w=h(4414),C=h(4438),m=h(5826),d=h(1780),f=h(177),I=h(7384);const O=(N,G)=>({"tw-btn-link":N,"tw-btn-success":G});function P(N,G){1&N&&(C.nrm(0,"app-simple-loader",7),C.nI1(1,"translate")),2&N&&C.Y8G("text",C.bMT(1,1,"Clients.Import.Wizard.CompleteImport.ImportInProgress"))}function b(N,G){if(1&N&&(C.j41(0,"div",8)(1,"div")(2,"h2",9),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"span",10),C.EFF(6),C.k0s()()()),2&N){const R=C.XpG();C.R7$(3),C.JRh(C.bMT(4,2,"Clients.Import.Wizard.CompleteImport.ImportComplete")),C.R7$(3),C.JRh(R.getSuccessMessage())}}function M(N,G){if(1&N){const R=C.RV6();C.j41(0,"div",11)(1,"button",12),C.bIt("click",function(){C.eBV(R);const U=C.XpG();return C.Njj(U.downloadSecrets())}),C.EFF(2),C.nI1(3,"translate"),C.k0s()()}if(2&N){const R=C.XpG();C.R7$(),C.Y8G("disabled",R.disableButtons),C.R7$(),C.SpI(" ",C.bMT(3,2,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")," ")}}let k=(()=>{class N extends p.P{constructor(R,j,U){super(),this.clientImportService=R,this.importWizardService=j,this.translate=U,this.secretsDownloaded=!1,this.canDownloadSecrets=!1,this.disableButtons=!1,this.storage=sessionStorage}ngOnInit(){this.importWizardController.disableCloseButton=!0,this.disableButtons=!0,this.isLoading=!0,this.importWizardService.cache.pipe((0,y.$)()).subscribe(R=>{const j=new i.SD;j.clients=[],j.protectedResources=[],R.forEach(U=>{if(U.selected){if(U.resourceType===e.ot.Client){const $=new i.Hh;$.useExistingSecrets=U.useExistingSecrets,$.useExistingCertificates=U.useExistingCertificates,$.resourceId=U.identifier,$.secrets=U.secrets,U.certificates&&(U.certificates.EncryptionCertificate&&($.certificates.encryptionCertificate=U.certificates.EncryptionCertificate.base64Cert),U.certificates.SigningCertificates&&($.certificates.signingCertificates=U.certificates.SigningCertificates.map(ne=>ne.base64Cert))),j.clients.push($)}U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0)}U.resourceType===e.ot.ProtectedResource&&(this.buildAndAddProtectedResourceConfiguration(R,U,j.protectedResources),U.secrets&&U.secrets.length>0&&(this.canDownloadSecrets=!0))}),this.importConfiguration=j,this.completeImport()})}downloadSecrets(){this.importWizardService.downloadClientSecretsFromCache(),this.secretsDownloaded=!0}buildAndAddProtectedResourceConfiguration(R,j,U){j.dependantClients.forEach($=>{const ne=R.find(se=>se.identifier===$.identifier);if(ne&&ne.selected){const se=new i.Hh;se.useExistingSecrets=j.useExistingSecrets,se.resourceId=j.identifier,se.secrets=j.secrets,U.push(se)}})}completeImport(){const R=this.getFileInStorage();this.clientImportService.completeImport(R,this.importConfiguration).subscribe(()=>{this.isLoading=!1,this.importWizardController.disableCloseButton=!1,this.disableButtons=!1},j=>{this.importWizardService.resetImport.next("CompleteImportFailed")})}getSuccessMessage(){const R=this.importConfiguration.clients.length;let j=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccess");return 1!==R&&(j=this.translate.instant("Clients.Import.Wizard.CompleteImport.ImportSuccessMultiple"),j=j.replace("{0}",R)),j}getFileInStorage(){return this.storage.getItem("importFile")}canNext(){return!this.isLoading}goNext(){!this.canDownloadSecrets||this.secretsDownloaded?this.quit():this.importWizardController.insertAndOpenStep(w.M.importDownloadWarning)}static{this.\u0275fac=function(j){return new(j||N)(C.rXU(i.qJ),C.rXU(m.o),C.rXU(d.c$))}}static{this.\u0275cmp=C.VBU({type:N,selectors:[["app-complete-import"]],features:[C.Vt3],decls:9,vars:11,consts:[[3,"text",4,"ngIf"],[1,"modal-body"],["class","tw-alert-success",4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],["class","tw-mr-auto",4,"ngIf"],["id","nextBtn",1,"tw--mr-4",3,"click","ngClass","disabled"],[3,"text"],[1,"tw-alert-success"],[1,"tw-block","tw-font-semibold"],[1,"tw-block","tw-mt-1"],[1,"tw-mr-auto"],["id","downloadBtn",1,"tw-btn-success",3,"click","disabled"]],template:function(j,U){1&j&&(C.DNE(0,P,2,3,"app-simple-loader",0),C.j41(1,"div",1),C.DNE(2,b,7,4,"div",2),C.k0s(),C.j41(3,"div",3)(4,"div",4),C.DNE(5,M,4,4,"div",5),C.j41(6,"button",6),C.bIt("click",function(){return U.goNext()}),C.EFF(7),C.nI1(8,"translate"),C.k0s()()()),2&j&&(C.Y8G("ngIf",U.isLoading),C.R7$(2),C.Y8G("ngIf",!U.isLoading),C.R7$(3),C.Y8G("ngIf",U.canDownloadSecrets),C.R7$(),C.Y8G("ngClass",C.l_i(8,O,U.canDownloadSecrets,!U.canDownloadSecrets))("disabled",U.disableButtons),C.R7$(),C.SpI(" ",C.bMT(8,6,"Clients.Import.Wizard.CompleteImport.FinishImport")," "))},dependencies:[f.YU,f.bT,I.d,d.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return N})()},6366:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>y});var i=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},5691:(nt,fe,h)=>{"use strict";h.d(fe,{d:()=>y});var i=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.savedCache.next(this.unsavedCache.value),this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},2509:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{SettingsModule:()=>De});var i=h(177),e=h(9417),y=h(7005),p=h(779),w=h(1583),C=h(1780),m=h(4252),d=h(7185),f=h(4438),I=h(1626),O=h(9564);let P=(()=>{class ye{constructor(ze,Tt){this.http=ze,this.headersService=Tt,this.actionUrl="signingkey",this.headers=Tt.setHeaders()}getKeys(){const ze=new I.Nl;return this.http.get(this.actionUrl,{headers:this.headers,params:ze})}deleteKey(ze){return this.http.delete(`${this.actionUrl}/${ze}`,{headers:this.headers})}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(I.Qq),f.KVO(O.m))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac,providedIn:"root"})}}return ye})();var b=h(5794),M=h(4754),k=h(9812),N=h(8577),G=h(3899);let R=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn){this.keyService=ze,this.toastr=Tt,this.translate=vt,this.modalService=Xt,this.dataTableService=Vn,this.keysDataTableActions=[m.AA.Delete],this.deleteModalType=d.q.Warning,this.deleteModalId="deleteKeyModal"}ngOnDestroy(){this.dtsSubscription.unsubscribe()}ngOnInit(){this.getSerializedKeys(),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(ze=>{this.startDeleteKey(ze)})}getSerializedKeys(){this.keyService.getKeys().subscribe(ze=>{this.keys=ze})}startDeleteKey(ze){this.keyToDelete=this.keys[ze],this.modalService.showById(this.deleteModalId,null)}deleteKey(){return this.keyService.deleteKey(this.keyToDelete.id).toPromise().then(ze=>{this.toastr.success(this.translate.instant("Settings.Keys.RemovedKey"),this.translate.instant("Notifications.Success")),this.getSerializedKeys(),this.resetAndCloseDeleteModal()},ze=>{this.toastr.error("Removed Key","Failed!")})}resetAndCloseDeleteModal(){this.keyToDelete=null,this.modalService.hideById(this.deleteModalId)}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(P),f.rXU(b.tw),f.rXU(C.c$),f.rXU(M.B),f.rXU(k.I))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-list-keys"]],decls:14,vars:35,consts:[["id","keysList",1,"tw-container","tw-mx-auto"],["id","keysTable",3,"rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","date"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"app-data-table",1),f.nrm(2,"app-data-table-column",2)(3,"app-data-table-column",2)(4,"app-data-table-column",2)(5,"app-data-table-column",3)(6,"app-data-table-column",4),f.k0s()(),f.j41(7,"app-custom-modal",5),f.bIt("onCancel",function(){return vt.resetAndCloseDeleteModal()})("onDelete",function(){return vt.deleteKey()}),f.j41(8,"div",6)(9,"p",7),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"p",8),f.nI1(13,"translate"),f.k0s()()),2&Tt&&(f.R7$(),f.Y8G("rows",vt.keys)("actions",vt.keysDataTableActions)("norowslabel","Settings.Keys.NoKeys"),f.R7$(),f.Y8G("title","Common.ID")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","id"),f.R7$(),f.Y8G("title","Settings.Keys.Version")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","version"),f.R7$(),f.Y8G("title","Settings.Keys.Algorithm")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","algorithm"),f.R7$(),f.Y8G("title","Settings.Keys.Created")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","created")("date",!0),f.R7$(),f.Y8G("title","Settings.Keys.IsX509Certificate")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop","isX509Certificate")("isBoolean",!0),f.R7$(),f.Y8G("title","Settings.Keys.DeleteKey")("modalId",vt.deleteModalId)("actions",vt.keysDataTableActions)("modalType",vt.deleteModalType),f.R7$(3),f.JRh(f.bMT(11,31,"Common.Delete.AreYouSureSimple")),f.R7$(2),f.Y8G("innerHTML",f.bMT(13,33,"Common.Delete.Warning"),f.npT))},dependencies:[m.up,N.w,G.G,C.D9],encapsulation:2})}}return ye})();var j=h(1594),U=h(6354),ne=h(1258),se=h(7756),L=h(5424),J=h(3431),te=h(7499),E=h(9196),re=h(6728),K=h(6406),me=h(8698),Ne=h(9550);function Ae(ye,ft){if(1&ye&&(f.j41(0,"option",11),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.Y8G("ngValue",ze),f.R7$(),f.JRh(ze)}}let xe=(()=>{class ye{constructor(){}ngOnInit(){}toggle(){this.parentForm.controls[this.webhookName].get("enabled").value?(this.parentForm.controls[this.webhookName].get("url").disable(),this.parentForm.controls[this.webhookName].get("scopeName").disable()):(this.parentForm.controls[this.webhookName].get("url").enable(),this.parentForm.controls[this.webhookName].get("scopeName").enable())}static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-edit-webhook"]],inputs:{webhookName:"webhookName",scopeNames:"scopeNames",parentForm:"parentForm"},decls:11,vars:14,consts:[[1,"tw-ml-8","tw-mr-8",3,"formGroup"],[3,"formGroupName"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["formControlName","enabled","type","checkbox",1,"tw-form-switch__input",3,"click","id"],[3,"id","label","help"],["id","WebhookUrl","type","text","formControlName","url",1,"tw-form-control"],[3,"label","isLast"],[1,"tw-form-select"],["id","scopes","formControlName","scopeName",1,"tw-form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[3,"ngValue"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"form",1)(2,"app-form-row",2)(3,"app-form-toggle",3)(4,"input",4),f.bIt("click",function(){return vt.toggle()}),f.k0s()()(),f.j41(5,"app-form-row",5),f.nrm(6,"input",6),f.k0s(),f.j41(7,"app-form-row",7)(8,"div",8)(9,"select",9),f.DNE(10,Ae,2,2,"option",10),f.k0s()()()()()),2&Tt&&(f.Y8G("formGroup",vt.parentForm),f.R7$(),f.FS9("formGroupName",vt.webhookName),f.R7$(),f.Y8G("id","WebhookEnabled")("label","Webhooks.EnableWebhook"),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("isTraffic",!0)("isAlt",!1),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName),f.R7$(),f.Y8G("id","WebhookUrl")("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(2),f.Y8G("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(3),f.Y8G("ngForOf",vt.scopeNames))},dependencies:[i.Sq,e.qT,e.xH,e.y7,e.me,e.Zm,e.wz,e.BC,e.cb,e.cV,e.j4,e.JD,e.$R,me.Y,Ne.m],encapsulation:2})}}return ye})();var Qe=h(6303),Ee=h(7921),be=h(8762);const le=ye=>[ye];function Pe(ye,ft){if(1&ye&&(f.j41(0,"app-form-row",3),f.nrm(1,"app-readonly",2),f.k0s(),f.j41(2,"app-form-row",1),f.nrm(3,"app-readonly",2),f.k0s()),2&ye){const ze=f.XpG();f.Y8G("id","WebhookUrl"+ze.webhookName)("label","Common.URL")("help","Webhooks.EnsureHttps"),f.R7$(),f.Y8G("id","WebhookUrl"+ze.webhookName)("fieldType",ze.ReadOnlyFieldType.Single)("values",f.eq3(12,le,ze.webhookValues.url)),f.R7$(),f.Y8G("id","WebhookScope"+ze.webhookName)("label","Webhooks.ProtectingScope")("isLast",!0),f.R7$(),f.Y8G("id","WebhookScope"+ze.webhookName)("fieldType",ze.ReadOnlyFieldType.Single)("values",f.eq3(14,le,ze.webhookValues.scopeName))}}let Ie=(()=>{class ye{get ReadOnlyFieldType(){return Qe.t}constructor(){}ngOnChanges(){this.webhookValues=new Ee.b(this.webhook)}static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-readonly-webhook"]],inputs:{webhookName:"webhookName",webhook:"webhook"},features:[f.OA$],decls:4,vars:9,consts:[[1,"tw-ml-8","tw-mr-8"],[3,"id","label","isLast"],[3,"id","fieldType","values"],[3,"id","label","help"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0)(1,"app-form-row",1),f.nrm(2,"app-readonly",2),f.k0s(),f.DNE(3,Pe,4,16),f.k0s()),2&Tt&&(f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("label","Webhooks.EnableWebhook")("isLast",!vt.webhook.enabled),f.R7$(),f.Y8G("id","WebhookEnabled"+vt.webhookName)("fieldType",vt.ReadOnlyFieldType.Single)("values",f.eq3(7,le,vt.webhookValues.enabled)),f.R7$(),f.vxM(3,vt.webhook.enabled?3:-1))},dependencies:[me.Y,be.O],encapsulation:2})}}return ye})();const st=["save"];function Oe(ye,ft){if(1&ye&&(f.j41(0,"div",0)(1,"h2",5),f.EFF(2),f.nI1(3,"translate"),f.k0s(),f.nrm(4,"app-readonly-webhook",6),f.j41(5,"h2",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.nrm(8,"app-readonly-webhook",6),f.j41(9,"h2",5),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.nrm(12,"app-readonly-webhook",6),f.j41(13,"h2",5),f.EFF(14),f.nI1(15,"translate"),f.k0s(),f.nrm(16,"app-readonly-webhook",6),f.k0s()),2&ye){const ze=f.XpG(2);f.R7$(2),f.JRh(f.bMT(3,12,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.MFAReset)("webhook",ze.webhooksForm.get(ze.webhookNames.MFAReset).value),f.R7$(2),f.JRh(f.bMT(7,14,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.PasswordReset)("webhook",ze.webhooksForm.get(ze.webhookNames.PasswordReset).value),f.R7$(2),f.JRh(f.bMT(11,16,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.UserRegistration)("webhook",ze.webhooksForm.get(ze.webhookNames.UserRegistration).value),f.R7$(2),f.JRh(f.bMT(15,18,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.ServerSideSessionDelete)("webhook",ze.webhooksForm.get(ze.webhookNames.ServerSideSessionDelete).value)}}function pt(ye,ft){if(1&ye&&(f.j41(0,"div",1)(1,"div")(2,"p",2),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",3),f.nI1(6,"translate"),f.k0s()(),f.DNE(7,Oe,17,20,"div",4)),2&ye){const ze=f.XpG();f.R7$(3),f.JRh(f.bMT(4,3,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,5,"Settings.Webhooks.ReadOnlyModeWarn"),f.npT),f.R7$(2),f.Y8G("ngIf",ze.webhookConfiguration)}}function Ye(ye,ft){if(1&ye&&(f.j41(0,"div",0)(1,"form",11)(2,"h2",5),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"app-edit-webhook",12),f.j41(6,"h2",5),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.nrm(9,"app-edit-webhook",12),f.j41(10,"h2",5),f.EFF(11),f.nI1(12,"translate"),f.k0s(),f.nrm(13,"app-edit-webhook",12),f.j41(14,"h2",5),f.EFF(15),f.nI1(16,"translate"),f.k0s(),f.nrm(17,"app-edit-webhook",12),f.k0s()()),2&ye){const ze=f.XpG(2);f.R7$(),f.Y8G("formGroup",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(4,17,"Webhooks.MultiFactorHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.MFAReset)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(8,19,"Webhooks.PasswordResetHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.PasswordReset)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(12,21,"Webhooks.UserRegistrationHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.UserRegistration)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm),f.R7$(2),f.JRh(f.bMT(16,23,"Webhooks.ServerSideSessionDeleteHeading")),f.R7$(2),f.Y8G("webhookName",ze.webhookNames.ServerSideSessionDelete)("scopeNames",ze.scopeNames)("parentForm",ze.webhooksForm)}}function qt(ye,ft){if(1&ye){const ze=f.RV6();f.DNE(0,Ye,18,25,"div",4),f.j41(1,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.cancelWebhookUpdate())})("onSave",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.acceptClientCreation())}),f.j41(2,"h2",8),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"p",9),f.EFF(6),f.nI1(7,"translate"),f.k0s()(),f.j41(8,"app-custom-modal",7),f.bIt("onCancel",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.cancelWebhookUpdate())})("onSave",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.acceptClientCreation())}),f.j41(9,"h2",8),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"p",9),f.EFF(13),f.nI1(14,"translate"),f.k0s()(),f.j41(15,"app-button-bar")(16,"button",10),f.bIt("click",function(){f.eBV(ze);const vt=f.XpG();return f.Njj(vt.processWebhookConfigurationUpdate())}),f.EFF(17),f.nI1(18,"translate"),f.k0s()()}if(2&ye){const ze=f.XpG();f.Y8G("ngIf",ze.webhookConfiguration),f.R7$(),f.Y8G("saveText","Common.Continue")("actions",ze.confirmationModalActions)("title","Webhooks.ClientCreationWarningTitle")("modalId",ze.clientCreationConfirmationModalId),f.R7$(2),f.JRh(f.bMT(4,15,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(7,17,"Webhooks.ClientCreationWarningDescription")," "),f.R7$(2),f.Y8G("saveText","Common.Continue")("actions",ze.confirmationModalActions)("title","Webhooks.ClientDeletionWarningTitle")("modalId",ze.clientDeletionConfirmationModalId),f.R7$(2),f.JRh(f.bMT(11,19,"Common.Warning")),f.R7$(3),f.SpI(" ",f.bMT(14,21,"Webhooks.ClientDeletionWarningDescription")," "),f.R7$(3),f.Y8G("disabled",ze.saveLock),f.R7$(),f.SpI(" ",f.bMT(18,23,"Common.Save")," ")}}let jt=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn,ai,yi,ri,Ui){this.activatedRoute=ze,this.errorService=Tt,this.fb=vt,this.webhookService=Xt,this.translate=Vn,this.toastr=ai,this.modalService=yi,this.dialogService=ri,this.uiConfig=Ui,this.webhookNames=se.EK,this.saveLock=!1,this.clientCreationConfirmationModalId="clientCreationConfirmationModalId",this.clientDeletionConfirmationModalId="clientDeletionConfirmationModalId",this.confirmationModalActions=[ne.N.Save],this.isReadOnly=!1}ngOnInit(){this.uiConfig.getConfig().pipe((0,j.$)()).subscribe({next:ze=>{this.isReadOnly=!ze.webhookPersistence}}),this.activatedRoute.data.pipe(function $(...ye){const ft=ye.length;if(0===ft)throw new Error("list of properties cannot be empty.");return(0,U.T)(ze=>{let Tt=ze;for(let vt=0;vt<ft;vt++){const Xt=Tt?.[ye[vt]];if(!(typeof Xt<"u"))return;Tt=Xt}return Tt})}("webhookResolverObject")).subscribe(ze=>{this.webhookConfiguration=ze.webhookConfiguration,this.webhooksEnabled=this.checkWebhooksEnabled(),this.scopeNames=ze.scopeNames,this.webhooksForm=this.fb.group({[se.EK.MFAReset]:this.createFormGroup(this.webhookConfiguration.webhooks.MfaReset),[se.EK.PasswordReset]:this.createFormGroup(this.webhookConfiguration.webhooks.PasswordReset),[se.EK.UserRegistration]:this.createFormGroup(this.webhookConfiguration.webhooks.UserRegistration),[se.EK.ServerSideSessionDelete]:this.createFormGroup(this.webhookConfiguration.webhooks.ServerSideSessionDelete)}),this.saveLock=!0,this.webhooksForm.valueChanges.subscribe(Tt=>{this.saveLock=!(this.webhooksForm.controls[se.EK.MFAReset].valid&&this.webhooksForm.controls[se.EK.PasswordReset].valid&&this.webhooksForm.controls[se.EK.UserRegistration].valid&&this.webhooksForm.controls[se.EK.ServerSideSessionDelete].valid)})},ze=>{this.errorService.handleError(ze)})}createFormGroup(ze){return this.fb.group({url:[{value:ze.url,disabled:!ze.enabled},e.k0.required],scopeName:[{value:ze.scopeName,disabled:!ze.enabled}],enabled:[ze.enabled]})}processWebhookConfigurationUpdate(){const ze=this.getWebhookFormValues();return!this.webhooksEnabled&&this.checkAnyWebhooksEnabled(ze)?this.modalService.showById(this.clientCreationConfirmationModalId,this.saveButtonRef):this.webhooksEnabled&&this.checkAllWebhooksDisabled(ze)?this.modalService.showById(this.clientDeletionConfirmationModalId,this.saveButtonRef):void this.saveWebhookConfiguration()}saveWebhookConfiguration(){const ze=this.getWebhookFormValues();this.webhookService.saveWebhookConfiguration(ze).subscribe(()=>{this.toastr.success(this.translate.instant("Webhooks.WebhookConfigurationUpdated"),this.translate.instant("Notifications.Success")),this.webhookService.getWebhooks().subscribe(Tt=>{this.webhookConfiguration=Tt,this.webhooksEnabled=this.checkWebhooksEnabled()},Tt=>{this.errorService.handleError(Tt)}),this.webhooksForm.markAsPristine()},Tt=>{this.errorService.handleError(Tt)})}cancelWebhookUpdate(){this.modalService.hideById(this.clientCreationConfirmationModalId)}acceptClientCreation(){this.saveWebhookConfiguration()}getWebhookFormValues(){const ze=this.webhooksForm.getRawValue();return new se.m8(ze.MfaReset,ze.PasswordReset,ze.UserRegistration,ze.ServerSideSessionDelete)}checkWebhooksEnabled(){return this.webhookConfiguration.webhooks.PasswordReset.enabled||this.webhookConfiguration.webhooks.UserRegistration.enabled||this.webhookConfiguration.webhooks.MfaReset.enabled||this.webhookConfiguration.webhooks.ServerSideSessionDelete.enabled}checkAnyWebhooksEnabled(ze){return ze.webhooks.PasswordReset.enabled||ze.webhooks.UserRegistration.enabled||ze.webhooks.MfaReset.enabled||ze.webhooks.ServerSideSessionDelete.enabled}checkAllWebhooksDisabled(ze){return!(ze.webhooks.PasswordReset.enabled||ze.webhooks.UserRegistration.enabled||ze.webhooks.MfaReset.enabled||ze.webhooks.ServerSideSessionDelete.enabled)}canDeactivate(){return!this.webhooksForm.dirty||(this.dialogService.confirm(),this.dialogService.eventStream)}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(w.nX),f.rXU(L.I),f.rXU(e.ze),f.rXU(J.x),f.rXU(C.c$),f.rXU(b.tw),f.rXU(M.B),f.rXU(te.o),f.rXU(E.w))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-manage-webhooks"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(st,5),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.saveButtonRef=Xt.first)}},decls:4,vars:1,consts:[[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","tw-container tw-mx-auto",4,"ngIf"],[1,"tw-mb-6","tw-mt-8","tw-font-semibold","tw-text-lg"],[3,"webhookName","webhook"],[3,"onCancel","onSave","saveText","actions","title","modalId"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-warning","tw-mb-4","tw-mt-4"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"formGroup"],[3,"webhookName","scopeNames","parentForm"]],template:function(Tt,vt){1&Tt&&(f.j41(0,"div",0),f.DNE(1,pt,8,7)(2,qt,19,25),f.k0s(),f.nrm(3,"app-can-deactivate")),2&Tt&&(f.R7$(),f.vxM(1,vt.isReadOnly?1:2))},dependencies:[i.bT,e.qT,e.cb,e.j4,re.E,K.z,G.G,xe,Ie,C.D9],encapsulation:2})}}return ye})();class Dt{}var wt=h(4549);let z=(()=>{class ye{constructor(ze,Tt){this.http=ze,this.headersService=Tt,this.actionUrl="policy",this.headers=Tt.setHeaders()}getAccessPolicy(){return this.http.get(this.actionUrl,{headers:this.headers})}updateAccessPolicy(ze){return this.http.put(this.actionUrl,ze,{headers:this.headers})}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(I.Qq),f.KVO(O.m))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();var Y=h(6801),Z=h(7156),Ce=h(7384),we=h(7294),at=h(7778);class Be{constructor(ft,ze,Tt){this.isDateTime=!1,this.type=ft,this.value=ze,this.permission=Tt}}var ot=h(7811),Ft=h(6536);const mt=["addPolicyModal"],it=()=>({animated:!1,backdrop:"static"});function Kt(ye,ft){if(1&ye&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.R7$(),f.SpI(" ",null==ze?null:ze.name," ")}}function on(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function Pt(ye,ft){if(1&ye&&(f.j41(0,"option"),f.EFF(1),f.k0s()),2&ye){const ze=ft.$implicit;f.R7$(),f.SpI(" ",null==ze?null:ze.name," ")}}function Jt(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.DNE(2,Pt,2,1,"option",13),f.k0s()()}if(2&ye){const ze=f.XpG();f.R7$(),f.R50("ngModel",ze.value),f.R7$(),f.Y8G("ngForOf",ze.avaliableRoles)}}function je(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",31),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function ce(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"input",33),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s()}if(2&ye){const ze=f.XpG();f.R50("ngModel",ze.value)}}function X(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",11)(1,"select",32),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG();return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.j41(2,"option",34),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.j41(5,"option",35),f.EFF(6),f.nI1(7,"translate"),f.k0s()()()}if(2&ye){const ze=f.XpG();f.R7$(),f.R50("ngModel",ze.value),f.R7$(2),f.JRh(f.bMT(4,3,"Common.True")),f.R7$(3),f.JRh(f.bMT(7,5,"Common.False"))}}function oe(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"div",36)(1,"app-enum-claim-type-input",37),f.bIt("valueChanged",function(vt){f.eBV(ze);const Xt=f.XpG();return f.Njj(Xt.value=vt)}),f.k0s()()}if(2&ye){const ze=f.XpG();f.Y8G("id","value-for-"+ze.selectedClaimType.id),f.R7$(),f.Y8G("id","claimsFormInput")("typeId",ze.selectedClaimType.id)("hostingModal","addPolicyModal")("value",ze.value)}}function Ve(ye,ft){if(1&ye){const ze=f.RV6();f.qex(0),f.j41(1,"app-date-time",40),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG(2);return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s(),f.bVm()}if(2&ye){const ze=f.XpG(2);f.R7$(),f.R50("ngModel",ze.value)}}function tt(ye,ft){if(1&ye){const ze=f.RV6();f.qex(0),f.j41(1,"app-date-time",41),f.mxI("ngModelChange",function(vt){f.eBV(ze);const Xt=f.XpG(2);return f.DH7(Xt.value,vt)||(Xt.value=vt),f.Njj(vt)}),f.k0s(),f.bVm()}if(2&ye){const ze=f.XpG(2);f.R7$(),f.R50("ngModel",ze.value),f.Y8G("displayType","date")}}function gt(ye,ft){if(1&ye&&(f.j41(0,"div",38),f.DNE(1,Ve,2,1,"ng-container",39)(2,tt,2,2,"ng-container",39),f.k0s()),2&ye){const ze=f.XpG();f.R7$(),f.Y8G("ngIf","birthdate"!=ze.claimType),f.R7$(),f.Y8G("ngIf","birthdate"==ze.claimType)}}function Bt(ye,ft){if(1&ye&&(f.j41(0,"option",42),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ye){const ze=ft.$implicit;f.FS9("value",ze),f.R7$(),f.SpI(" ",f.bMT(2,2,"Permission."+ze)," ")}}let cn=(()=>{class ye{constructor(ze){this.toastr=ze,this.added=new f.bkB,this.addAnother=!1}keydown(ze){"Enter"===ze.key&&this.isValid()&&this.addPolicy()}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(ze=>ze.name===this.claimType)}isValid(){return null!=this.claimType&&null!=this.value&&null!=this.permission}addAnotherPolicy(){this.addAnother=!0,this.addPolicy()}addPolicy(){const ze=new Be(this.claimType,this.value,this.permission);this.added.next(ze),this.addAnother?(this.reset(),this.addAnother=!1):this.hide()}reset(){this.selectedClaimType=void 0,this.claimType=void 0,this.value=void 0,this.permission=void 0}hide(){this.addPolicyModal.hide()}show(){this.reset(),this.addPolicyModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(b.tw))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-add-accesspolicy"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(mt,7),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.addPolicyModal=Xt.first)}},hostBindings:function(Tt,vt){1&Tt&&f.bIt("keydown",function(Vn){return vt.keydown(Vn)},!1,f.EBC)},inputs:{avaliableClaimTypes:"avaliableClaimTypes",avaliableRoles:"avaliableRoles",avaliablePermissions:"avaliablePermissions",accessPolicy:"accessPolicy"},outputs:{added:"added"},decls:46,vars:38,consts:[["addPolicyModal","bs-modal"],["bsModal","","id","addPolicyModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"id","label"],[1,"tw-form-select"],["id","addClaimType","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"id","label","help"],["id","formClaimValue","class","tw-form-control","type","text","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["id","formClaimValue","class","tw-form-control","type","number","required","",3,"ngModel","ngModelChange",4,"ngIf"],["class","",3,"id",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],[3,"id","label","isLast"],["id","addClaimPermission","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addPolicySubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addPolicyReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","formClaimValue","type","text","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["id","formClaimValue","type","number","required","",1,"tw-form-control",3,"ngModelChange","ngModel"],["value","true"],["value","false"],[1,"",3,"id"],[3,"valueChanged","id","typeId","hostingModal","value"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel"],["id","formClaimValue","required","true",3,"ngModelChange","ngModel","displayType"],[3,"value"]],template:function(Tt,vt){if(1&Tt){const Xt=f.RV6();f.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),f.EFF(6),f.nI1(7,"translate"),f.k0s(),f.j41(8,"button",6),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.hide())}),f.nrm(9,"span",7),f.j41(10,"span",8),f.EFF(11),f.nI1(12,"translate"),f.k0s()()(),f.j41(13,"div",9)(14,"app-form-row",10)(15,"div",11)(16,"select",12),f.mxI("ngModelChange",function(ai){return f.eBV(Xt),f.DH7(vt.claimType,ai)||(vt.claimType=ai),f.Njj(ai)}),f.bIt("ngModelChange",function(){return f.eBV(Xt),f.Njj(vt.getClaimType())}),f.nrm(17,"option"),f.DNE(18,Kt,2,1,"option",13),f.k0s()()(),f.j41(19,"app-form-row",14),f.DNE(20,on,1,1,"input",15)(21,Jt,3,2,"div",16)(22,je,1,1,"input",15)(23,ce,1,1,"input",17)(24,X,8,7,"div",16)(25,oe,2,5,"div",18)(26,gt,3,2,"div",19),f.k0s(),f.j41(27,"app-form-row",20)(28,"div",11)(29,"select",21),f.mxI("ngModelChange",function(ai){return f.eBV(Xt),f.DH7(vt.permission,ai)||(vt.permission=ai),f.Njj(ai)}),f.nrm(30,"option"),f.DNE(31,Bt,3,4,"option",22),f.k0s()()()(),f.nrm(32,"div",23),f.j41(33,"div",24)(34,"div",25)(35,"div",26)(36,"button",27),f.bIt("click",function(){return f.eBV(Xt),vt.addPolicy(),f.Njj(vt.hide())}),f.EFF(37),f.nI1(38,"translate"),f.k0s(),f.j41(39,"span",28)(40,"button",29),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.addAnotherPolicy())}),f.EFF(41),f.nI1(42,"translate"),f.k0s()()(),f.j41(43,"button",30),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.hide())}),f.EFF(44),f.nI1(45,"translate"),f.k0s()()()()()()}2&Tt&&(f.Y8G("config",f.lJ4(37,it)),f.R7$(6),f.JRh(f.bMT(7,27,"Settings.AccessPolicy.NewPolicy")),f.R7$(5),f.JRh(f.bMT(12,29,"Common.Close")),f.R7$(3),f.Y8G("id","addClaimType")("label","Settings.AccessPolicy.ClaimType"),f.R7$(2),f.R50("ngModel",vt.claimType),f.R7$(2),f.Y8G("ngForOf",vt.avaliableClaimTypes),f.R7$(),f.Y8G("id","formClaimValue")("label","Settings.AccessPolicy.ClaimValue")("help","DateTime"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)?"Common.Dates.UTCWarning":""),f.R7$(),f.Y8G("ngIf",null==vt.claimType||""==vt.claimType),f.R7$(),f.Y8G("ngIf","role"==vt.claimType),f.R7$(),f.Y8G("ngIf","String"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Int"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Boolean"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("ngIf","Enum"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)),f.R7$(),f.Y8G("ngIf","DateTime"==(null==vt.selectedClaimType?null:vt.selectedClaimType.valueType)&&"role"!=vt.claimType),f.R7$(),f.Y8G("id","addClaimPermission")("label","Settings.AccessPolicy.Permission")("isLast",!0),f.R7$(2),f.R50("ngModel",vt.permission),f.R7$(2),f.Y8G("ngForOf",vt.avaliablePermissions),f.R7$(5),f.Y8G("disabled",!vt.isValid()),f.R7$(),f.JRh(f.bMT(38,31,"Common.Add")),f.R7$(3),f.Y8G("disabled",!vt.isValid()),f.R7$(),f.JRh(f.bMT(42,33,"Common.AddAndAdd")),f.R7$(3),f.JRh(f.bMT(45,35,"Common.Cancel")))},dependencies:[i.Sq,i.bT,e.xH,e.y7,e.me,e.Q0,e.wz,e.BC,e.YS,e.vS,p.hZ,me.Y,ot.j,Ft.Z,C.D9],encapsulation:2})}}return ye})();var hn=h(1589);const Mn=["deleteAccessPolicyModal"],kn=(ye,ft)=>ft.type+ft.value+ft.permission,Bn=ye=>({"inactive disabled":ye});function It(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"app-action-bar"),f.qex(1,10),f.j41(2,"button",11),f.bIt("click",function(){f.eBV(ze),f.XpG();const vt=f.sdS(1);return f.Njj(vt.show())}),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.bVm(),f.k0s()}2&ye&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Settings.AccessPolicy.Add")," "))}function Rn(ye,ft){1&ye&&(f.j41(0,"div",5)(1,"div")(2,"p",12),f.EFF(3),f.nI1(4,"translate"),f.k0s(),f.nrm(5,"p",13),f.nI1(6,"translate"),f.k0s()()),2&ye&&(f.R7$(3),f.JRh(f.bMT(4,2,"Common.ReadOnlyModeWarningTitle")),f.R7$(2),f.Y8G("innerHTML",f.bMT(6,4,"Settings.AccessPolicy.ReadOnlyModeWarn"),f.npT))}function Ht(ye,ft){1&ye&&f.nrm(0,"app-simple-loader")}function lt(ye,ft){1&ye&&(f.j41(0,"th",18)(1,"span",19),f.EFF(2),f.nI1(3,"translate"),f.k0s()()),2&ye&&(f.R7$(2),f.JRh(f.bMT(3,1,"Common.Actions")))}function Ct(ye,ft){if(1&ye&&(f.j41(0,"td",25),f.EFF(1),f.k0s()),2&ye){const ze=f.XpG().$implicit;f.R7$(),f.SpI(" ",ze.value," ")}}function yt(ye,ft){if(1&ye&&(f.j41(0,"td",25),f.EFF(1),f.nI1(2,"standardDate"),f.k0s()),2&ye){const ze=f.XpG().$implicit;f.R7$(),f.SpI(" ",f.bMT(2,1,ze.value)," ")}}function Ot(ye,ft){1&ye&&(f.j41(0,"span",24),f.EFF(1),f.nI1(2,"translate"),f.k0s()),2&ye&&(f.R7$(),f.SpI(" ",f.bMT(2,1,"Common.Reserved")," "))}function tn(ye,ft){if(1&ye){const ze=f.RV6();f.j41(0,"button",27),f.bIt("click",function(){f.eBV(ze);const vt=f.XpG(2).$implicit,Xt=f.XpG(3);return f.Njj(Xt.openDeletePolicyConfirmation(vt.type,vt.value,vt.permission))}),f.nrm(1,"span",28),f.j41(2,"span",19),f.EFF(3),f.nI1(4,"translate"),f.k0s()()}2&ye&&(f.R7$(3),f.SpI(" ",f.bMT(4,1,"Common.Remove.Title")," "))}function In(ye,ft){if(1&ye&&(f.j41(0,"td"),f.DNE(1,tn,5,3,"button",26),f.k0s()),2&ye){const ze=f.XpG().$implicit,Tt=f.XpG(3);f.R7$(),f.vxM(1,Tt.isAdminUiAdmin(ze)?-1:1)}}function Un(ye,ft){if(1&ye&&(f.j41(0,"tr",20)(1,"td",21)(2,"b"),f.EFF(3),f.k0s()(),f.DNE(4,Ct,2,1,"td",22)(5,yt,3,3,"ng-template",null,2,f.C5r),f.j41(7,"td",23),f.EFF(8),f.nI1(9,"translate"),f.k0s(),f.j41(10,"td"),f.DNE(11,Ot,3,3,"span",24),f.k0s(),f.DNE(12,In,2,1,"td"),f.k0s()),2&ye){const ze=ft.$implicit,Tt=f.sdS(6),vt=f.XpG(3);f.Y8G("ngClass",f.eq3(9,Bn,!vt.persistenceSetup||vt.isAdminUiAdmin(ze))),f.R7$(3),f.JRh(ze.type),f.R7$(),f.Y8G("ngIf",!ze.isDateTime)("ngIfElse",Tt),f.R7$(4),f.SpI(" ",f.bMT(9,7,"Permission."+ze.permission)," "),f.R7$(3),f.vxM(11,vt.isAdminUiAdmin(ze)?11:-1),f.R7$(),f.vxM(12,vt.persistenceSetup?12:-1)}}function fn(ye,ft){if(1&ye&&(f.j41(0,"table",6)(1,"thead")(2,"tr")(3,"th",15),f.EFF(4),f.nI1(5,"translate"),f.k0s(),f.j41(6,"th",16),f.EFF(7),f.nI1(8,"translate"),f.k0s(),f.j41(9,"th",17),f.EFF(10),f.nI1(11,"translate"),f.k0s(),f.j41(12,"th",18)(13,"span",19),f.EFF(14),f.nI1(15,"translate"),f.k0s()(),f.DNE(16,lt,4,3,"th",18),f.k0s()(),f.j41(17,"tbody"),f.Z7z(18,Un,13,11,"tr",20,kn),f.k0s(),f.nrm(20,"tbody"),f.k0s()),2&ye){const ze=f.XpG(2);f.R7$(4),f.JRh(f.bMT(5,5,"Settings.AccessPolicy.ClaimType")),f.R7$(3),f.JRh(f.bMT(8,7,"Settings.AccessPolicy.ClaimValue")),f.R7$(3),f.JRh(f.bMT(11,9,"Settings.AccessPolicy.Permission")),f.R7$(4),f.JRh(f.bMT(15,11,"Common.Reserved")),f.R7$(2),f.vxM(16,ze.persistenceSetup?16:-1),f.R7$(2),f.Dyx(null==ze.accessPolicy?null:ze.accessPolicy.policyClaims)}}function hi(ye,ft){if(1&ye&&f.DNE(0,fn,21,13,"table",14),2&ye){const ze=f.XpG();f.Y8G("ngIf",(null==ze.accessPolicy||null==ze.accessPolicy.policyClaims?null:ze.accessPolicy.policyClaims.length)>0&&!ze.isLoading)}}function Hn(ye,ft){if(1&ye&&f.nrm(0,"app-pager",7),2&ye){const ze=f.XpG();f.Y8G("totalResults",null==ze.accessPolicy||null==ze.accessPolicy.policyClaims?null:ze.accessPolicy.policyClaims.length)}}let Mt=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn,ai,yi,ri){this.accessPolicyService=ze,this.translate=Tt,this.toastr=vt,this.errorService=Xt,this.healthCheckService=Vn,this.dialogService=ai,this.activatedRoute=yi,this.configService=ri,this.isLoading=!0,this.hasChanged=!1,this.saveDisabled=!1}ngOnInit(){this.activatedRoute.data.subscribe(ze=>{this.accessPolicyResolverData=ze.accessPolicyObject,this.avaliablePermissions=this.accessPolicyResolverData.permissions;const Tt=this.accessPolicyResolverData.accessPolicy.policyClaims.find(vt=>"role"===vt.type&&"AdminUI Administrator"===vt.value&&"All"===vt.permission);this.accessPolicy=new Dt,this.accessPolicy.version=this.accessPolicyResolverData.accessPolicy.version,this.accessPolicy.policyClaims=this.accessPolicyResolverData.accessPolicy.policyClaims.sort((vt,Xt)=>vt===Tt?-1:Xt===Tt?1:0),this.accessPolicy.policyClaims.forEach(vt=>{wt.c9.fromISO(vt.value).isValid&&(vt.isDateTime=!0)}),this.avaliableClaimTypes=this.accessPolicyResolverData.claimTypes.sort((vt,Xt)=>vt.name.toUpperCase()<Xt.name.toUpperCase()?-1:vt.name.toUpperCase()>Xt.name.toUpperCase()?1:0),this.avaliableRoles=this.accessPolicyResolverData.roles,this.isLoading=!1}),this.configService.getConfig().subscribe({next:ze=>{this.persistenceSetup=ze.policyPersistence}})}isAdminUiAdmin(ze){return"role"===ze.type&&"AdminUI Administrator"===ze.value&&"All"===ze.permission}canDeactivate(){return!this.hasChanged||(this.dialogService.confirm(),this.dialogService.eventStream)}getClaimType(){this.selectedClaimType=this.avaliableClaimTypes.find(ze=>ze.name===this.claimType)}warnToSave(){this.toastr.info(this.translate.instant("Notifications.DontForgetToSave"),this.translate.instant("Notifications.Notice"))}addPolicy(ze){this.hasChanged=!0,this.accessPolicy.policyClaims.push(ze),this.warnToSave()}openDeletePolicyConfirmation(ze,Tt,vt){this.indexToDelete=this.accessPolicy.policyClaims.findIndex(Xt=>Xt.type===ze&&Xt.value===Tt&&Xt.permission===vt),this.deleteAccessPolicyModal.show()}closeDeleteModal(){this.indexToDelete=null,this.deleteAccessPolicyModal.hide()}removePolicy(ze){this.accessPolicy.policyClaims.splice(ze,1),this.hasChanged=!0,this.warnToSave()}updatePolicy(){this.saveDisabled=!0,this.accessPolicyService.updateAccessPolicy(this.accessPolicy).subscribe(ze=>{this.accessPolicy=ze;const Tt=this.accessPolicy.policyClaims.find(vt=>"role"===vt.type&&"AdminUI Administrator"===vt.value&&"All"===vt.permission);this.accessPolicy.policyClaims.sort((vt,Xt)=>vt===Tt?-1:Xt===Tt?1:0),this.toastr.success(this.translate.instant("Settings.AccessPolicy.AccessPolicyUpdated"),this.translate.instant("Notifications.Success"))},ze=>{"409"===ze.code?this.toastr.error(this.translate.instant("Settings.AccessPolicy.AccessPolicyConflict"),this.translate.instant("Notifications.Error")):this.errorService.handleError(ze)},()=>{this.saveDisabled=!1}),this.hasChanged=!1}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.rXU(z),f.rXU(C.c$),f.rXU(b.tw),f.rXU(L.I),f.rXU(Y.M),f.rXU(te.o),f.rXU(w.nX),f.rXU(E.w))}}static{this.\u0275cmp=f.VBU({type:ye,selectors:[["app-update-accesspolicy"]],viewQuery:function(Tt,vt){if(1&Tt&&f.GBs(Mn,7),2&Tt){let Xt;f.mGM(Xt=f.lsd())&&(vt.deleteAccessPolicyModal=Xt.first)}},inputs:{claimType:"claimType",permission:"permission",value:"value"},decls:15,vars:15,consts:[["addPolicyModal",""],["deleteAccessPolicyModal",""],["dateTimePolicy",""],[3,"added","avaliableClaimTypes","avaliableRoles","avaliablePermissions","accessPolicy"],[1,"tw-container","tw-mx-auto"],["id","readOnlyModeWarn",1,"tw-alert","tw-mb-4"],[1,"datatable","hover"],["hidePager","true",3,"totalResults"],["id","save",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","destructive"],["right",""],["id","addPolicyBtn",1,"tw-btn-success",3,"click"],[1,"tw-font-bold"],[1,"tw-text-sm",3,"innerHTML"],["class","datatable hover",4,"ngIf"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass"],[1,"tw-w-0","tw-truncate"],["class","tw-hidden tw-max-w-0 tw-truncate md:tw-table-cell",4,"ngIf","ngIfElse"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-pill"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500"],[1,"removePolicyBtn","tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(Tt,vt){if(1&Tt){const Xt=f.RV6();f.j41(0,"app-add-accesspolicy",3,0),f.bIt("added",function(ai){return f.eBV(Xt),f.Njj(vt.addPolicy(ai))}),f.k0s(),f.j41(2,"div",4),f.DNE(3,It,5,3,"app-action-bar")(4,Rn,7,6,"div",5)(5,Ht,1,0,"app-simple-loader")(6,hi,1,1,"table",6)(7,Hn,1,1,"app-pager",7),f.k0s(),f.j41(8,"app-button-bar")(9,"button",8),f.bIt("click",function(){return f.eBV(Xt),f.Njj(vt.updatePolicy())}),f.EFF(10),f.nI1(11,"translate"),f.k0s()(),f.j41(12,"app-delete-confirmation-modal",9,1),f.bIt("delete",function(){return f.eBV(Xt),f.Njj(vt.removePolicy(vt.indexToDelete))}),f.k0s(),f.nrm(14,"app-can-deactivate")}if(2&Tt){const Xt=f.sdS(13);f.Y8G("avaliableClaimTypes",vt.avaliableClaimTypes)("avaliableRoles",vt.avaliableRoles)("avaliablePermissions",vt.avaliablePermissions)("accessPolicy",vt.accessPolicy),f.R7$(3),f.vxM(3,vt.persistenceSetup&&!vt.isLoading?3:-1),f.R7$(),f.vxM(4,vt.persistenceSetup?-1:4),f.R7$(),f.vxM(5,vt.isLoading?5:-1),f.R7$(),f.vxM(6,(null==vt.accessPolicy||null==vt.accessPolicy.policyClaims?null:vt.accessPolicy.policyClaims.length)>0&&!vt.isLoading?6:-1),f.R7$(),f.vxM(7,(null==vt.accessPolicy||null==vt.accessPolicy.policyClaims?null:vt.accessPolicy.policyClaims.length)>0&&!vt.isLoading?7:-1),f.R7$(2),f.Y8G("disabled",vt.saveDisabled),f.R7$(),f.SpI(" ",f.bMT(11,13,"Common.Save")," "),f.R7$(2),f.Y8G("modalId",Xt)("destructive",!1)}},dependencies:[i.YU,i.bT,re.E,Z.B,Ce.d,we.n,K.z,at.w,cn,C.D9,hn.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return ye})();var ht=h(7468);class kt{}var Gt=h(526),sn=h(7773),bn=h(3519);let yn=(()=>{class ye{constructor(ze,Tt,vt,Xt,Vn){this.claimTypeService=ze,this.permissionService=Tt,this.accessPolicyService=vt,this.rolesService=Xt,this.errorService=Vn}resolve(){const ze=this.permissionService.getAvaliablePermissions(),Tt=this.accessPolicyService.getAccessPolicy(),vt=this.claimTypeService.getClaimTypes(),Xt=this.rolesService.getRoles();return(0,ht.p)([ze,Tt,vt,Xt]).pipe((0,U.T)(([ai,yi,ri,Ui])=>{const hr=new kt;return hr.permissions=ai,hr.claimTypes=ri,hr.accessPolicy=yi,hr.roles=Ui,hr},ai=>{this.errorService.handleError(ai)}))}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(Gt.X),f.KVO(sn.n),f.KVO(z),f.KVO(bn.P),f.KVO(L.I))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();var Jn=h(9437),An=h(5893);let gn=(()=>{class ye{constructor(ze,Tt,vt){this.webhookService=ze,this.protectedResourceService=Tt,this.errorService=vt}resolve(){return(0,ht.p)({webhooks:this.webhookService.getWebhooks(),protectedResources:this.protectedResourceService.getProtectedResources()}).pipe((0,U.T)(ze=>{const Tt=new di;Tt.webhookConfiguration=ze.webhooks;const vt=[];return ze.protectedResources.forEach(Xt=>{vt.push(...Xt.scopes)}),Tt.scopeNames=vt.map(Xt=>Xt.name).sort(),Tt}),(0,Jn.W)(ze=>(this.errorService.handleError(ze),ze)))}static{this.\u0275fac=function(Tt){return new(Tt||ye)(f.KVO(J.x),f.KVO(An.x),f.KVO(L.I))}}static{this.\u0275prov=f.jDH({token:ye,factory:ye.\u0275fac})}}return ye})();class di{}var mi=h(8416);const ii=[{path:"",redirectTo:"accesspolicy",pathMatch:"full"},{path:"accesspolicy",component:Mt,canDeactivate:[mi.M],resolve:{accessPolicyObject:yn}},{path:"webhooks",component:jt,canDeactivate:[mi.M],resolve:{webhookResolverObject:gn}},{path:"keys",component:R,canDeactivate:[mi.M]}];let Pi=(()=>{class ye{static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275mod=f.$C({type:ye})}static{this.\u0275inj=f.G2t({imports:[C.h.forChild({extend:!0}),w.iI.forChild(ii),C.h,w.iI]})}}return ye})();var Qn=h(3730),Ti=h(1683),gi=h(2571),Hi=h(8455),$i=h(7883),Ii=h(367),et=h(5731),At=h(7175),Ke=h(4193),zt=h(1993),ct=h(8389),Yt=h(6599),Xe=h(8251),Zt=h(4367),ut=h(275),_e=h(7677);let De=(()=>{class ye{static{this.\u0275fac=function(Tt){return new(Tt||ye)}}static{this.\u0275mod=f.$C({type:ye})}static{this.\u0275inj=f.G2t({providers:[yn,z,$i.i,Gt.X,bn.P,P,gn,k.I],imports:[Pi,i.MD,e.YN,e.X1,p.Q_,C.h,Ti.Y,w.iI,gi.A,Hi.p,y.XE,Ii.m,Xe.h,et.i,At.c,Ke.c,zt.E,ct.w,Zt.N,Yt.Y,ut.W,Qn.ClaimTypesModule,_e.N]})}}return ye})()},7101:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{UsersModule:()=>At});var i=h(177),e=h(9417),y=h(1583),p=h(7005),w=h(779),C=h(534),m=h(1594),d=h(4438),f=h(5424),I=h(9196),O=h(3853),P=h(3680),b=h(1780);const M=(Ke,zt)=>({title:Ke,link:zt}),k=Ke=>[Ke],N=()=>["active"];function G(Ke,zt){1&Ke&&(d.j41(0,"span",25)(1,"span",26),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",27),d.k0s()),2&Ke&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function R(Ke,zt){1&Ke&&(d.j41(0,"li",14)(1,"button",28),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&Ke&&(d.R7$(),d.Y8G("routerLinkActive",d.lJ4(4,N)),d.R7$(),d.JRh(d.bMT(3,2,"Nav.SessionManagement")))}function j(Ke,zt){1&Ke&&(d.j41(0,"div",29)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&Ke&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let U=(()=>{class Ke{constructor(ct,Yt,Xe,Zt,ut){this.r=ct,this.route=Yt,this.errorService=Xe,this.configService=Zt,this.licenseService=ut}ngOnInit(){this.userDataSubscription=this.route.data.subscribe({next:ct=>{this.user=ct.user},error:ct=>{this.errorService.handleError(ct)}}),this.configSubscription=this.configService.getConfig().subscribe({next:ct=>{this.showSessionManagement=ct.featureFlagOptions.sessionManagementEnabled},error:ct=>{this.errorService.handleError(ct)}}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:ct=>{this.licenseInfo=ct}})}mobRoute(ct){this.r.navigate([ct],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Yt){return new(Yt||Ke)(d.rXU(y.Ix),d.rXU(y.nX),d.rXU(f.I),d.rXU(I.w),d.rXU(O.X))}}static{this.\u0275cmp=d.VBU({type:Ke,selectors:[["ng-component"]],decls:65,vars:76,consts:[[3,"title","totpEnabled","crumbs","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["value","sessions"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["class","tabs__item",4,"ngIf"],["id","editUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Yt,Xe){1&Yt&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.j41(4,"div",2)(5,"label",3),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"div",4)(9,"select",5),d.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),d.j41(10,"option",6),d.EFF(11),d.nI1(12,"translate"),d.k0s(),d.j41(13,"option",6),d.EFF(14),d.nI1(15,"translate"),d.k0s(),d.j41(16,"option",7),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.j41(19,"option",8),d.EFF(20),d.nI1(21,"translate"),d.k0s(),d.j41(22,"option",9),d.EFF(23),d.nI1(24,"translate"),d.k0s(),d.j41(25,"option",10),d.EFF(26),d.nI1(27,"translate"),d.k0s(),d.j41(28,"option",11),d.EFF(29),d.nI1(30,"translate"),d.k0s(),d.j41(31,"option",12),d.EFF(32),d.nI1(33,"translate"),d.k0s()()()(),d.j41(34,"ul",13),d.nI1(35,"translate"),d.j41(36,"li",14)(37,"button",15),d.EFF(38),d.nI1(39,"translate"),d.k0s()(),d.j41(40,"li",14)(41,"button",16),d.EFF(42),d.nI1(43,"translate"),d.k0s()(),d.j41(44,"li",14)(45,"button",17),d.EFF(46),d.nI1(47,"translate"),d.k0s()(),d.j41(48,"li",14)(49,"button",18),d.EFF(50),d.nI1(51,"translate"),d.k0s()(),d.j41(52,"li",14)(53,"button",19),d.EFF(54),d.nI1(55,"translate"),d.k0s()(),d.j41(56,"li",14)(57,"button",20),d.EFF(58),d.nI1(59,"translate"),d.DNE(60,G,5,3,"span",21),d.k0s()(),d.DNE(61,R,4,5,"li",22),d.k0s(),d.bVm(),d.k0s(),d.j41(62,"div",23),d.DNE(63,j,5,6,"div",24),d.nrm(64,"router-outlet"),d.k0s()),2&Yt&&(d.Y8G("title",Xe.user.firstName+" "+Xe.user.lastName)("totpEnabled",Xe.user.totpEnabled)("crumbs",d.eq3(68,k,d.l_i(65,M,d.bMT(1,29,"Nav.Users"),d.bMT(2,31,"/users"))))("hasTabs",!0),d.R7$(6),d.JRh(d.bMT(7,33,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(12,35,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(15,37,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(18,39,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(21,41,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(24,43,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(27,45,"Nav.External Logins")),d.R7$(3),d.JRh(d.bMT(30,47,"Nav.Audits")),d.R7$(3),d.JRh(d.bMT(33,49,"Nav.SessionManagement")),d.R7$(2),d.BMQ("aria-label",d.bMT(35,51,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(70,N)),d.R7$(),d.JRh(d.bMT(39,53,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(71,N)),d.R7$(),d.JRh(d.bMT(43,55,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(72,N)),d.R7$(),d.JRh(d.bMT(47,57,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(73,N)),d.R7$(),d.JRh(d.bMT(51,59,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(74,N)),d.R7$(),d.JRh(d.bMT(55,61,"Nav.External Logins")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(75,N)),d.R7$(),d.SpI(" ",d.bMT(59,63,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",null==Xe.licenseInfo?null:Xe.licenseInfo.isStarterLicense()),d.R7$(),d.Y8G("ngIf",Xe.showSessionManagement),d.R7$(2),d.Y8G("ngIf",Xe.user.isDeleted))},dependencies:[y.n3,y.Wk,y.wQ,i.bT,e.xH,e.y7,P.z,b.D9,p.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ke})();var $=h(1413),ne=h(6354),se=h(8412),L=h(9172),J=h(1397),te=h(1986),E=h(9838),re=h(4313),K=h(7263),me=h(5602),Ne=h(345),Ae=h(5794),xe=h(7883),Qe=h(7156),Ee=h(7294),be=h(7384),le=h(8698),Pe=h(9550),Ie=h(316),st=h(6697),Oe=function(Ke){return Ke[Ke.None=0]="None",Ke[Ke.Add=1]="Add",Ke[Ke.AddAnother=2]="AddAnother",Ke[Ke.AddAndConfigure=3]="AddAndConfigure",Ke}(Oe||{}),pt=h(4589),Ye=h(526),qt=h(6801),jt=h(4701);const Dt=["claimsComponent"],wt=["addUserModal"],z=()=>({animated:!1,backdrop:"static"});function Y(Ke,zt){1&Ke&&(d.j41(0,"h2",37),d.nrm(1,"span",38),d.j41(2,"span",24),d.EFF(3),d.nI1(4,"translate"),d.k0s(),d.j41(5,"span")(6,"a",39),d.EFF(7),d.nI1(8,"translate"),d.k0s()()()),2&Ke&&(d.R7$(3),d.JRh(d.bMT(4,2,"Users.Password.DemoTitle")),d.R7$(4),d.SpI(" ",d.bMT(8,4,"Users.Password.DemoLink")," "))}function Z(Ke,zt){if(1&Ke&&(d.j41(0,"div")(1,"div",33),d.DNE(2,Y,9,6,"h2",34),d.j41(3,"app-form-row",16),d.nrm(4,"input",35),d.j41(5,"ul",36)(6,"li"),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"li"),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"li"),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"li"),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"li"),d.EFF(19),d.nI1(20,"translate"),d.k0s()()()()()),2&Ke){const ct=d.XpG();d.R7$(2),d.Y8G("ngIf",ct.isDemo),d.R7$(),d.Y8G("id","Password")("label","Users.Password.Title")("isLast",!0),d.R7$(4),d.JRh(d.bMT(8,9,"Users.Password.Requirements.1")),d.R7$(3),d.JRh(d.bMT(11,11,"Users.Password.Requirements.2")),d.R7$(3),d.JRh(d.bMT(14,13,"Users.Password.Requirements.3")),d.R7$(3),d.JRh(d.bMT(17,15,"Users.Password.Requirements.4")),d.R7$(3),d.JRh(d.bMT(20,17,"Users.Password.Requirements.5"))}}function Ce(Ke,zt){1&Ke&&d.nrm(0,"span",40)}function we(Ke,zt){1&Ke&&d.nrm(0,"span",40)}function at(Ke,zt){1&Ke&&d.nrm(0,"span",40)}let Be=(()=>{class Ke{constructor(ct,Yt,Xe,Zt,ut,_e,De,ye,ft,ze,Tt){this.userService=ct,this.claimTypesService=Yt,this.errorService=Xe,this.translate=Zt,this.router=ut,this.fb=_e,this.toastr=De,this.localize=ye,this.securityService=ft,this.healthCheckService=ze,this.configService=Tt,this.addAnother=!1,this.canCreatePassword=!1,this.isDemo=!1,this.onSubmitted=new d.bkB,this.inFlight=!1,this.addButtonClick=Oe,this.addClicked=Oe.None}keydown(ct){"Enter"===ct.key&&"addUserSubmit"!==ct.srcElement.id&&this.claimsComponent.isFormValid()&&this.addUserForm.valid&&this.addUser()}ngOnInit(){this.createForms(),this.configService.getConfig().pipe((0,st.s)(1)).subscribe(ct=>{null!=ct.featureFlagOptions.addUserPassword&&(this.canCreatePassword=!0===ct.featureFlagOptions.addUserPassword),this.isDemo=this.securityService.licenseType===pt.G.Demo||this.securityService.licenseType===pt.G.Starter,this.isDemo&&(this.canCreatePassword=!0)}),this.claimTypesService.getClaimTypes(null,null,!0).subscribe(ct=>{this.claimTypes=ct},ct=>{this.errorService.handleError(ct)})}addAnotherUser(){this.addAnother=!0,this.addClicked=Oe.AddAnother,this.addUser()}addUser(ct){let Yt;this.addClicked===Oe.None&&(this.addClicked=ct?Oe.AddAndConfigure:Oe.Add),Yt=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(Yt,{claims:[]});for(const Xe of this.claimsComponent.requiredClaims){if(null===Xe.value)continue;let Zt=Xe.value;"DateTime"===Xe.format&&(Zt=Xe.value),"Int"===Xe.format&&(Zt=Zt.toString()),Yt.claims.push({claimTypeId:Xe.typeId,value:Zt,type:Xe.type})}!1===this.canCreatePassword&&(Yt.password=null),this.inFlight=!0,this.userService.addUser(Yt).subscribe(Xe=>{this.inFlight=!1,this.addClicked=Oe.None,this.claimsComponent.resetForm(),this.addUserForm.reset();const Zt=this.translate.instant("Notifications.AccountCreated"),ut=this.translate.instant("Users.Singular")+" "+Yt.username+" "+this.translate.instant("Common.Created").toLowerCase();this.toastr.success(Zt,ut),ct&&Xe.headers.get("location")?this.addUserAndConfigure(Xe.headers.get("location")):(this.addAnother||this.hide(),this.addAnother=!1,this.onSubmitted.emit(!0))},Xe=>{this.inFlight=!1,this.addClicked=Oe.None,this.addAnother=!1,this.errorService.handleError(Xe)})}addUserAndConfigure(ct){const Yt=ct.lastIndexOf("/"),Xe=ct.substring(Yt+1),Zt=[this.localize.translateRoute("/users"),Xe];this.router.navigate(Zt)}createForms(){this.addUserForm=this.fb.group({username:["",[e.k0.required,(0,K.Zt)()]],email:["",Ie.D],firstName:["",e.k0.required],lastName:["",e.k0.required],password:["",e.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")]})}hide(){this.addUserModal.hide(),this.addUserForm.reset()}show(){this.addUserModal.show()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(Yt){return new(Yt||Ke)(d.rXU(me.D),d.rXU(Ye.X),d.rXU(f.I),d.rXU(b.c$),d.rXU(y.Ix),d.rXU(e.ze),d.rXU(Ae.tw),d.rXU(p.QG),d.rXU(xe.i),d.rXU(qt.M),d.rXU(I.w))}}static{this.\u0275cmp=d.VBU({type:Ke,selectors:[["app-add-user"]],viewQuery:function(Yt,Xe){if(1&Yt&&(d.GBs(Dt,7),d.GBs(wt,7)),2&Yt){let Zt;d.mGM(Zt=d.lsd())&&(Xe.claimsComponent=Zt.first),d.mGM(Zt=d.lsd())&&(Xe.addUserModal=Zt.first)}},hostBindings:function(Yt,Xe){1&Yt&&d.bIt("keydown",function(ut){return Xe.keydown(ut)},!1,d.EBC)},outputs:{onSubmitted:"onSubmitted"},decls:49,vars:39,consts:[["addUserModal","bs-modal"],["claimsComponent",""],["bsModal","","id","addUserModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],["autocomplete","off",1,"form",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],[3,"id","label","isLast"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","requiredClaimsComponent",3,"claimTypes"],[3,"formGroup"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items"],[1,"tw-mr-auto"],[1,"xs:tw-mr-3"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-hidden","xs:tw-inline","md:tw-mr-3"],["id","submitAndConfigure",1,"tw-btn-success",3,"click","disabled"],[1,"tw-hidden","md:tw-inline"],["type","submit","id","addUserReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-bg-red-100","tw-border","tw-border-red-500","tw-text-red-500","tw-mb-4","tw-p-4","tw-overflow-hidden","tw-rounded"],["class","tw-flex items-center tw-bg-red-500 tw-text-white tw-text-sm tw--mx-4 tw--mt-4 tw-mb-3 tw-py-3 tw-px-4",4,"ngIf"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control","tw-border-red-300"],["id","PasswordHelp",1,"tw-form-text-danger"],[1,"tw-flex","items-center","tw-bg-red-500","tw-text-white","tw-text-sm","tw--mx-4","tw--mt-4","tw-mb-3","tw-py-3","tw-px-4"],["aria-hidden","true",1,"fas","fa-exclamation-triangle","tw-mr-2"],["href","documentation/Users/Set_User_Password.html","target","_blank",1,"tw-text-white","tw-underline","hover:tw-no-underline"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(Yt,Xe){if(1&Yt){const Zt=d.RV6();d.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"button",7),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.hide())}),d.nrm(9,"span",8),d.j41(10,"span",9),d.EFF(11),d.nI1(12,"translate"),d.k0s()()(),d.j41(13,"div",10)(14,"form",11)(15,"app-form-row",12),d.nrm(16,"input",13),d.k0s(),d.j41(17,"app-form-row",12),d.nrm(18,"input",14),d.k0s(),d.j41(19,"app-form-row",12),d.nrm(20,"input",15),d.k0s(),d.j41(21,"app-form-row",16),d.nrm(22,"input",17),d.k0s()(),d.nrm(23,"app-required-claims-form",18,1),d.j41(25,"form",19),d.DNE(26,Z,21,19,"div",20),d.k0s()(),d.nrm(27,"div",21),d.j41(28,"div",22)(29,"div",23)(30,"div",24)(31,"span",25)(32,"button",26),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.addUser())}),d.EFF(33),d.nI1(34,"translate"),d.DNE(35,Ce,1,0,"span",27),d.k0s()(),d.j41(36,"span",28)(37,"button",29),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.addUser(!0))}),d.EFF(38),d.nI1(39,"translate"),d.DNE(40,we,1,0,"span",27),d.k0s()(),d.j41(41,"span",30)(42,"button",31),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.addAnotherUser())}),d.EFF(43),d.nI1(44,"translate"),d.DNE(45,at,1,0,"span",27),d.k0s()()(),d.j41(46,"button",32),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.hide())}),d.EFF(47),d.nI1(48,"translate"),d.k0s()()()()()()}if(2&Yt){const Zt=d.sdS(24);d.Y8G("config",d.lJ4(38,z)),d.R7$(6),d.JRh(d.bMT(7,26,"Users.NewUser")),d.R7$(5),d.JRh(d.bMT(12,28,"Common.Close")),d.R7$(3),d.Y8G("formGroup",Xe.addUserForm),d.R7$(),d.Y8G("id","FirstName")("label","Users.FirstName"),d.R7$(2),d.Y8G("id","LastName")("label","Users.LastName"),d.R7$(2),d.Y8G("id","Username")("label","Users.Username"),d.R7$(2),d.Y8G("id","Email")("label","Users.Email")("isLast",!Xe.canCreatePassword),d.R7$(2),d.Y8G("claimTypes",Xe.claimTypes),d.R7$(2),d.Y8G("formGroup",Xe.addUserForm),d.R7$(),d.Y8G("ngIf",Xe.canCreatePassword),d.R7$(6),d.Y8G("disabled",!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),d.R7$(),d.SpI(" ",d.bMT(34,30,"Common.Save")," "),d.R7$(2),d.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.Add),d.R7$(2),d.Y8G("disabled",Xe.addAnother||!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),d.R7$(),d.SpI(" ",d.bMT(39,32,"Common.SaveAndConfigure")," "),d.R7$(2),d.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.AddAndConfigure),d.R7$(2),d.Y8G("disabled",!Xe.addUserForm.valid||!Zt.isFormValid()||Xe.inFlight),d.R7$(),d.SpI(" ",d.bMT(44,34,"Common.SaveAndAdd")," "),d.R7$(2),d.Y8G("ngIf",Xe.inFlight&&Xe.addClicked===Xe.addButtonClick.AddAnother),d.R7$(2),d.JRh(d.bMT(48,36,"Common.Cancel"))}},dependencies:[i.bT,e.qT,e.me,e.BC,e.cb,e.YS,e.j4,e.JD,w.hZ,le.Y,jt.u,b.D9],encapsulation:2})}}return Ke})();const ot=["addUserModal"],Ft=(Ke,zt)=>({"tw-alert":Ke,"tw-alert-warning":zt}),mt=Ke=>({limit:Ke,type:"users",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),it=(Ke,zt)=>({"fad fa-pencil":Ke,"fas fa-eye":zt});function Kt(Ke,zt){if(1&Ke){const ct=d.RV6();d.j41(0,"app-add-user",30,1),d.bIt("onSubmitted",function(Xe){d.eBV(ct);const Zt=d.XpG();return d.Njj(Zt.onSubmitted(Xe))}),d.k0s()}}function on(Ke,zt){if(1&Ke&&(d.j41(0,"div",31),d.nrm(1,"span",32),d.nI1(2,"translate"),d.k0s()),2&Ke){const ct=d.XpG();d.Y8G("ngClass",d.l_i(5,Ft,ct.limitReached,ct.overLimit)),d.R7$(),d.Y8G("innerHTML",d.i5U(2,2,"Common.QuotaLimit",d.eq3(8,mt,ct.licenseInfo.maxUsers)),d.npT)}}function Pt(Ke,zt){1&Ke&&(d.j41(0,"span"),d.nrm(1,"span",33),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&Ke&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.ShowFilters")," "))}function Jt(Ke,zt){1&Ke&&(d.j41(0,"span"),d.nrm(1,"span",34),d.EFF(2),d.nI1(3,"translate"),d.k0s()),2&Ke&&(d.R7$(2),d.SpI(" ",d.bMT(3,1,"Auditing.HideFilters")," "))}function je(Ke,zt){if(1&Ke){const ct=d.RV6();d.j41(0,"div",38)(1,"label",39),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"select",40),d.mxI("ngModelChange",function(Xe){d.eBV(ct);const Zt=d.XpG(2);return d.DH7(Zt.pageSize,Xe)||(Zt.pageSize=Xe),d.Njj(Xe)}),d.bIt("change",function(){d.eBV(ct);const Xe=d.XpG(2);return d.Njj(Xe.setPageLength(+Xe.pageSize))}),d.j41(5,"option",41),d.EFF(6),d.nI1(7,"translate"),d.k0s(),d.j41(8,"option",42),d.EFF(9),d.nI1(10,"translate"),d.k0s(),d.j41(11,"option",43),d.EFF(12),d.nI1(13,"translate"),d.k0s()()()}if(2&Ke){const ct=d.XpG(2);d.R7$(2),d.Lme("",ct.pageSize," ",d.bMT(3,6,"Nav.PerPage"),""),d.R7$(2),d.R50("ngModel",ct.pageSize),d.R7$(2),d.SpI("25 ",d.bMT(7,8,"Nav.PerPage"),""),d.R7$(3),d.SpI("50 ",d.bMT(10,10,"Nav.PerPage"),""),d.R7$(3),d.SpI("100 ",d.bMT(13,12,"Nav.PerPage"),"")}}function ce(Ke,zt){if(1&Ke){const ct=d.RV6();d.qex(0,44),d.j41(1,"button",45),d.bIt("click",function(){d.eBV(ct);const Xe=d.XpG(2);return d.Njj(Xe.addModal.show())}),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.bVm()}if(2&Ke){const ct=d.XpG(2);d.R7$(),d.Y8G("disabled",ct.limitReached),d.R7$(),d.SpI(" ",d.bMT(3,2,"Users.AddUser")," ")}}function X(Ke,zt){if(1&Ke&&(d.j41(0,"app-action-bar"),d.qex(1,35),d.DNE(2,je,14,14,"div",36),d.bVm(),d.DNE(3,ce,4,4,"ng-container",37),d.k0s()),2&Ke){const ct=d.XpG();d.R7$(2),d.Y8G("ngIf",(null==ct.pagedResult?null:ct.pagedResult.results.length)>0),d.R7$(),d.Y8G("ngIf",!ct.isUserManagerReadOnly)}}function oe(Ke,zt){1&Ke&&d.nrm(0,"app-simple-loader")}function Ve(Ke,zt){1&Ke&&(d.j41(0,"div",46)(1,"div"),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&Ke&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.NoUsersFound")))}function tt(Ke,zt){1&Ke&&(d.j41(0,"span",67)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&Ke&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Deleted")))}function gt(Ke,zt){1&Ke&&(d.j41(0,"span",68)(1,"span",9),d.EFF(2),d.nI1(3,"translate"),d.k0s()()),2&Ke&&(d.R7$(2),d.JRh(d.bMT(3,1,"Users.Filter.Blocked")))}function Bt(Ke,zt){1&Ke&&(d.j41(0,"span",69),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&Ke&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Deleted")," "))}function cn(Ke,zt){1&Ke&&(d.j41(0,"span",70),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&Ke&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function hn(Ke,zt){1&Ke&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&Ke&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.Edit")))}function Mn(Ke,zt){1&Ke&&(d.j41(0,"span",9),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&Ke&&(d.R7$(),d.JRh(d.bMT(2,1,"Common.View")))}function kn(Ke,zt){if(1&Ke){const ct=d.RV6();d.j41(0,"tr",54)(1,"td",55),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.DNE(2,tt,4,3,"span",56)(3,gt,4,3,"span",57),d.j41(4,"b",58),d.EFF(5),d.k0s()(),d.j41(6,"td",59),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.EFF(7),d.k0s(),d.j41(8,"td",60),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.EFF(9),d.k0s(),d.j41(10,"td",61),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.DNE(11,Bt,3,3,"span",62)(12,cn,3,3,"span",63),d.k0s(),d.j41(13,"td",61),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.j41(14,"button",64),d.bIt("click",function(){const Xe=d.eBV(ct).$implicit,Zt=d.XpG(2);return d.Njj(Zt.viewOrEditUser(Xe))}),d.nrm(15,"span",65),d.j41(16,"span",9),d.EFF(17),d.nI1(18,"translate"),d.k0s(),d.DNE(19,hn,3,3,"span",66)(20,Mn,3,3,"span",66),d.k0s()()()}if(2&Ke){const ct=zt.$implicit,Yt=d.XpG(2);d.AVh("inactive",ct.isBlocked||ct.isDeleted||Yt.overLimit),d.R7$(2),d.Y8G("ngIf",ct.isDeleted),d.R7$(),d.Y8G("ngIf",ct.isBlocked&&!ct.isDeleted),d.R7$(2),d.SpI(" ",ct.username," "),d.R7$(2),d.Lme(" ",ct.firstName," ",ct.lastName," "),d.R7$(2),d.SpI(" ",ct.email," "),d.R7$(2),d.Y8G("ngIf",ct.isDeleted),d.R7$(),d.Y8G("ngIf",ct.isBlocked&&!ct.isDeleted),d.R7$(3),d.Y8G("ngClass",d.l_i(16,it,!Yt.isUserManagerReadOnly&&!Yt.overLimit,Yt.isUserManagerReadOnly||Yt.overLimit)),d.R7$(2),d.JRh(d.bMT(18,14,"Common.Edit")),d.R7$(2),d.Y8G("ngIf",!Yt.isUserManagerReadOnly&&!Yt.overLimit),d.R7$(),d.Y8G("ngIf",Yt.isUserManagerReadOnly||Yt.overLimit)}}function Bn(Ke,zt){if(1&Ke&&(d.j41(0,"table",47)(1,"thead")(2,"tr")(3,"th",48),d.EFF(4),d.nI1(5,"translate"),d.k0s(),d.j41(6,"th",49),d.EFF(7),d.nI1(8,"translate"),d.k0s(),d.j41(9,"th",50),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"th",51)(13,"span",9),d.EFF(14),d.nI1(15,"translate"),d.k0s()(),d.j41(16,"th",51)(17,"span",9),d.EFF(18),d.nI1(19,"translate"),d.k0s()()()(),d.j41(20,"tbody",52),d.DNE(21,kn,21,19,"tr",53),d.k0s()()),2&Ke){const ct=d.XpG();d.R7$(4),d.SpI(" ",d.bMT(5,6,"Users.Username")," "),d.R7$(3),d.SpI(" ",d.bMT(8,8,"Users.FullName")," "),d.R7$(3),d.SpI(" ",d.bMT(11,10,"Users.Email")," "),d.R7$(4),d.JRh(d.bMT(15,12,"Common.Status")),d.R7$(4),d.JRh(d.bMT(19,14,"Common.Actions")),d.R7$(3),d.Y8G("ngForOf",ct.pagedResult.results)}}function It(Ke,zt){if(1&Ke){const ct=d.RV6();d.j41(0,"app-pager",71),d.bIt("onGoToPage",function(Xe){d.eBV(ct);const Zt=d.XpG();return d.Njj(Zt.goToPage(Xe))}),d.k0s()}if(2&Ke){const ct=d.XpG();d.Y8G("totalResults",null==ct.pagedResult?null:ct.pagedResult.totalCount)("currentPage",ct.page)("lastPage",null==ct.pagedResult?null:ct.pagedResult.pageCount)}}let Rn=(()=>{class Ke extends re.if{get limitReached(){return this.licenseInfo?.userLimitReached??!1}get overLimit(){return this.licenseInfo?.overUserLimit??!1}constructor(ct,Yt,Xe,Zt,ut,_e,De,ye,ft){super(De,ut,!0),this.router=ct,this.userService=Yt,this.errorService=Xe,this.titleService=Zt,this.localize=_e,this.securityService=ye,this.licenseService=ft,this.activeFilters=["active"],this.activeAdvancedFilters=[],this.pageSize=25,this.page=1,this.term="",this.showAdvancedFilters=!1,this.showingActive=!0,this.showingBlocked=!1,this.showingDeleted=!1,this.filterStream=new $.B,this.advancedFilterStream=new $.B,this.pageStream=new $.B,this.pageSizeStream=new $.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Users")+` - ${E.$9.SITE_TITLE}`),this.isLoading=!0;const ct=this.pageStream.pipe((0,ne.T)(_e=>(this.page=_e,{searchTerm:this.term,page:_e,pageSize:this.pageSize,filters:this.activeFilters}))),Yt=this.pageSizeStream.pipe((0,ne.T)(_e=>(this.pageSize=_e,{searchTerm:this.term,page:this.page,pageSize:_e,filters:this.activeFilters}))),Xe=this.filterStream.pipe((0,ne.T)(_e=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:_e}))),Zt=this.advancedFilterStream.pipe((0,ne.T)(_e=>({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:_e})));ct.pipe((0,se.X)(Yt),(0,se.X)(this.searchSource),(0,se.X)(Xe),(0,se.X)(Zt),(0,se.X)(this.enterKeySource),(0,L.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}),(0,J.Z)(_e=>(this.isLoading=!0,this.userService.getUsersLightweight(_e.searchTerm,_e.page,_e.pageSize,_e.filters,_e.advancedFilters).pipe((0,te.c)(200))))).subscribe({next:_e=>{this.pagedResult=_e,this.isLoading=!1},error:_e=>{500===_e.status?this.handleInternalServerError():this.errorService.handleError(_e),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:_e=>{this.licenseInfo=_e}})}mapSearchTerm(ct){return this.term=ct,{searchTerm:ct,page:1,pageSize:this.pageSize,filters:this.activeFilters,advancedFilters:this.activeAdvancedFilters}}editUser(ct){const Yt=this.localize.translateRoute("/users");this.router.navigate([Yt,ct.subject])}viewUser(ct){const Yt=this.localize.translateRoute("/users/view");this.router.navigate([Yt,ct.subject])}viewOrEditUser(ct){this.isUserManagerReadOnly||this.overLimit?this.viewUser(ct):this.editUser(ct)}goToPage(ct){this.pageStream.next(ct)}setPageLength(ct){this.page=1,this.pageSizeStream.next(ct)}filter(ct){if(this.activeFilters.includes(ct)){const Yt=this.activeFilters.indexOf(ct);this.activeFilters.splice(Yt,1)}else this.activeFilters.push(ct);this.page=1,this.filterStream.next(this.activeFilters)}advancedFilter(ct){if(this.activeAdvancedFilters.includes(ct)){const Yt=this.activeAdvancedFilters.indexOf(ct);this.activeAdvancedFilters.splice(Yt,1)}else this.activeAdvancedFilters.push(ct);this.page=1,this.advancedFilterStream.next(this.activeAdvancedFilters)}isShowing(ct){return this.activeFilters.includes(ct)}onSubmitted(ct){ct&&(this.filterStream.next(this.activeFilters),this.advancedFilterStream.next(this.activeAdvancedFilters))}get isUserManagerReadOnly(){return(0,K.zG)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Users.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}static{this.\u0275fac=function(Yt){return new(Yt||Ke)(d.rXU(y.Ix),d.rXU(me.D),d.rXU(f.I),d.rXU(Ne.hE),d.rXU(b.c$),d.rXU(p.QG),d.rXU(Ae.tw),d.rXU(xe.i),d.rXU(O.X))}}static{this.\u0275cmp=d.VBU({type:Ke,selectors:[["ng-component"]],viewQuery:function(Yt,Xe){if(1&Yt&&d.GBs(ot,5),2&Yt){let Zt;d.mGM(Zt=d.lsd())&&(Xe.addModal=Zt.first)}},features:[d.Vt3],decls:46,vars:37,consts:[["searchUserName",""],["addUserModal",""],["id","addUserComponent",3,"onSubmitted",4,"ngIf"],["id","userList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchUserName","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-w-2/3","lg:tw-w-3/5","mt-2","ml-2"],[1,"tw-form-group","tw-mb-0"],[3,"id","label","help","isLast"],[3,"id"],["id","includeClaims","name","includeClaims","type","checkbox",1,"tw-form-switch__input",3,"click"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","activeFilter",3,"click","ngClass"],["id","blockedFilter",3,"click","ngClass"],["id","deletedFilter",3,"click","ngClass"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","addUserComponent",3,"onSubmitted"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right","",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["right",""],["id","addUserBtn",1,"tw-btn-success",3,"click","disabled"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["id","usersTable"],["class","group userRow",3,"inactive",4,"ngFor","ngForOf"],[1,"group","userRow"],[1,"tw-truncate","tw-max-w-0",3,"click"],["class","fas fa-trash tw-text-red-500 tw-mr-1",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1",4,"ngIf"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-truncate","tw-max-w-0","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-truncate","tw-max-w-0","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-danger",4,"ngIf"],["class","tw-pill-warning",4,"ngIf"],["id","userTableButton","type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"fas","fa-trash","tw-text-red-500","tw-mr-1"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-danger"],[1,"tw-pill-warning"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(Yt,Xe){if(1&Yt){const Zt=d.RV6();d.DNE(0,Kt,2,0,"app-add-user",2),d.j41(1,"div",3),d.DNE(2,on,3,10,"div",4),d.j41(3,"div",5)(4,"div",6)(5,"label",7),d.nrm(6,"span",8),d.j41(7,"span",9),d.EFF(8),d.nI1(9,"translate"),d.k0s()(),d.j41(10,"input",10,0),d.nI1(12,"translate"),d.mxI("ngModelChange",function(_e){return d.eBV(Zt),d.DH7(Xe.searchTerm,_e)||(Xe.searchTerm=_e),d.Njj(_e)}),d.bIt("keyup",function(_e){return d.eBV(Zt),d.Njj(Xe.search(_e))}),d.k0s()(),d.j41(13,"button",11),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.showAdvancedFilters=!Xe.showAdvancedFilters)}),d.DNE(14,Pt,4,3,"span",12)(15,Jt,4,3,"span",12),d.k0s(),d.j41(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"app-form-row",17)(21,"app-form-toggle",18)(22,"input",19),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.advancedFilter("claims"))}),d.k0s()()()()(),d.j41(23,"div",20)(24,"p",21),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"ul",22)(28,"li",23)(29,"button",24),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.filter("active"))}),d.EFF(30),d.nI1(31,"translate"),d.k0s()(),d.j41(32,"li",23)(33,"button",25),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.filter("blocked"))}),d.EFF(34),d.nI1(35,"translate"),d.k0s()(),d.j41(36,"li")(37,"button",26),d.bIt("click",function(){return d.eBV(Zt),d.Njj(Xe.filter("deleted"))}),d.EFF(38),d.nI1(39,"translate"),d.k0s()()()()(),d.nrm(40,"hr"),d.k0s()(),d.DNE(41,X,4,2,"app-action-bar",12)(42,oe,1,0,"app-simple-loader",12)(43,Ve,4,3,"div",27)(44,Bn,22,16,"table",28)(45,It,1,3,"app-pager",29),d.k0s()}2&Yt&&(d.Y8G("ngIf",!Xe.isUserManagerReadOnly),d.R7$(2),d.Y8G("ngIf",Xe.limitReached),d.R7$(6),d.JRh(d.bMT(9,25,"Common.Search")),d.R7$(2),d.FS9("placeholder",d.bMT(12,27,"Users.SearchPlaceholder")),d.R50("ngModel",Xe.searchTerm),d.R7$(4),d.Y8G("ngIf",!Xe.showAdvancedFilters),d.R7$(),d.Y8G("ngIf",Xe.showAdvancedFilters),d.R7$(),d.Y8G("hidden",!Xe.showAdvancedFilters),d.R7$(4),d.Y8G("id","includeClaims")("label","Users.Filter.IncludeClaims")("help","Users.Filter.IncludeClaimsHelp")("isLast",!0),d.R7$(),d.Y8G("id","includeClaims"),d.R7$(4),d.JRh(d.bMT(26,29,"Auditing.Showing")),d.R7$(4),d.Y8G("ngClass",Xe.isShowing("active")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(31,31,"Users.Filter.Active")," "),d.R7$(3),d.Y8G("ngClass",Xe.isShowing("blocked")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(35,33,"Users.Filter.Blocked")," "),d.R7$(3),d.Y8G("ngClass",Xe.isShowing("deleted")?"tw-btn":"tw-btn-link"),d.R7$(),d.SpI(" ",d.bMT(39,35,"Users.Filter.Deleted")," "),d.R7$(3),d.Y8G("ngIf",!Xe.isLoading),d.R7$(),d.Y8G("ngIf",Xe.isLoading),d.R7$(),d.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)<1&&!Xe.isLoading),d.R7$(),d.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)>0&&!Xe.isLoading),d.R7$(),d.Y8G("ngIf",(null==Xe.pagedResult?null:Xe.pagedResult.results.length)>0&&!Xe.isLoading))},dependencies:[i.YU,i.Sq,i.bT,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,Qe.B,Ee.n,be.d,le.Y,Pe.m,Be,b.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return Ke})();const Ht=()=>["active"];function lt(Ke,zt){1&Ke&&(d.j41(0,"ul",10),d.nI1(1,"translate"),d.j41(2,"li",11)(3,"button",12),d.EFF(4),d.nI1(5,"translate"),d.k0s()(),d.j41(6,"li",11)(7,"button",13),d.EFF(8),d.nI1(9,"translate"),d.k0s()()()),2&Ke&&(d.BMQ("aria-label",d.bMT(1,5,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(11,Ht)),d.R7$(),d.JRh(d.bMT(5,7,"Nav.Users")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(12,Ht)),d.R7$(),d.JRh(d.bMT(9,9,"Nav.SessionManagement")))}let Ct=(()=>{class Ke{constructor(ct,Yt,Xe){this.r=ct,this.route=Yt,this.configService=Xe}ngOnInit(){this.configService.getConfig().subscribe(ct=>{this.showSessionManagement=ct.featureFlagOptions.sessionManagementEnabled})}mobRoute(ct){this.r.navigate([ct],{relativeTo:this.route})}static{this.\u0275fac=function(Yt){return new(Yt||Ke)(d.rXU(y.Ix),d.rXU(y.nX),d.rXU(I.w))}}static{this.\u0275cmp=d.VBU({type:Ke,selectors:[["app-users-nav"]],decls:21,vars:17,consts:[[3,"hasTabs","title"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","list"],["value","sessions"],["class","tabs tw-hidden md:tw-flex","role","tablist",4,"ngIf"],["id","userRoutes"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","list","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sessions","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(Yt,Xe){1&Yt&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.qex(2,1),d.j41(3,"div",2)(4,"label",3),d.EFF(5),d.nI1(6,"translate"),d.k0s(),d.j41(7,"div",4)(8,"select",5),d.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),d.j41(9,"option",6),d.EFF(10),d.nI1(11,"translate"),d.k0s(),d.j41(12,"option",6),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",7),d.EFF(16),d.nI1(17,"translate"),d.k0s()()()(),d.DNE(18,lt,10,13,"ul",8),d.bVm(),d.k0s(),d.j41(19,"div",9),d.nrm(20,"router-outlet"),d.k0s()),2&Yt&&(d.Y8G("hasTabs",!0)("title",d.bMT(1,7,"Nav.Users")),d.R7$(5),d.JRh(d.bMT(6,9,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(11,11,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(14,13,"Nav.Users")),d.R7$(3),d.JRh(d.bMT(17,15,"Nav.SessionManagement")),d.R7$(2),d.Y8G("ngIf",Xe.showSessionManagement))},dependencies:[y.n3,y.Wk,y.wQ,i.bT,e.xH,e.y7,P.z,b.D9],encapsulation:2})}}return Ke})();const yt=(Ke,zt)=>({title:Ke,link:zt}),Ot=Ke=>[Ke],tn=()=>["active"];function In(Ke,zt){1&Ke&&(d.j41(0,"span",25),d.EFF(1),d.nI1(2,"translate"),d.k0s()),2&Ke&&(d.R7$(),d.SpI(" ",d.bMT(2,1,"Users.Filter.Blocked")," "))}function Un(Ke,zt){1&Ke&&(d.j41(0,"span",26)(1,"span",27),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.nrm(4,"span",28),d.k0s()),2&Ke&&(d.R7$(2),d.JRh(d.bMT(3,1,"StarterMode.RequiresUpgrade")))}function fn(Ke,zt){1&Ke&&(d.j41(0,"div",29)(1,"p"),d.EFF(2),d.nI1(3,"translate"),d.nI1(4,"translate"),d.k0s()()),2&Ke&&(d.R7$(2),d.Lme("",d.bMT(3,2,"Users.Delete.DeletedUser")," ",d.bMT(4,4,"Users.Delete.AuditingPurposes"),""))}let hi=(()=>{class Ke{constructor(ct,Yt,Xe,Zt){this.route=ct,this.router=Yt,this.errorService=Xe,this.licenseService=Zt}ngOnInit(){this.userDataSubscription=this.route.data.subscribe(ct=>{this.user=ct.user},ct=>{this.errorService.handleError(ct)}),this.licenseService.getLicenseInfo().pipe((0,m.$)()).subscribe({next:ct=>{this.licenseInfo=ct}})}mobRoute(ct){this.router.navigate([ct],{relativeTo:this.route})}ngOnDestroy(){this.userDataSubscription.unsubscribe()}static{this.\u0275fac=function(Yt){return new(Yt||Ke)(d.rXU(y.nX),d.rXU(y.Ix),d.rXU(f.I),d.rXU(O.X))}}static{this.\u0275cmp=d.VBU({type:Ke,selectors:[["ng-component"]],decls:63,vars:73,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","roles"],["value","additionaldetails"],["value","applications"],["value","userlogins"],["value","useraudits"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","roles","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","additionaldetails","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","applications","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","userlogins","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","tabAudit","type","button","routerLink","useraudits","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["id","upgradeSymbol",4,"ngIf"],["id","viewUser"],["id","userDeleted","class","tw-alert-danger tw-container tw-mx-auto tw-mb-6",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"],["id","userDeleted",1,"tw-alert-danger","tw-container","tw-mx-auto","tw-mb-6"]],template:function(Yt,Xe){1&Yt&&(d.j41(0,"app-title-bar",0),d.nI1(1,"translate"),d.nI1(2,"localize"),d.qex(3,1),d.DNE(4,In,3,3,"span",2),d.bVm(),d.qex(5,3),d.j41(6,"div",4)(7,"label",5),d.EFF(8),d.nI1(9,"translate"),d.k0s(),d.j41(10,"div",6)(11,"select",7),d.bIt("change",function(ut){return Xe.mobRoute(ut.target.value)}),d.j41(12,"option",8),d.EFF(13),d.nI1(14,"translate"),d.k0s(),d.j41(15,"option",8),d.EFF(16),d.nI1(17,"translate"),d.k0s(),d.j41(18,"option",9),d.EFF(19),d.nI1(20,"translate"),d.k0s(),d.j41(21,"option",10),d.EFF(22),d.nI1(23,"translate"),d.k0s(),d.j41(24,"option",11),d.EFF(25),d.nI1(26,"translate"),d.k0s(),d.j41(27,"option",12),d.EFF(28),d.nI1(29,"translate"),d.k0s(),d.j41(30,"option",13),d.EFF(31),d.nI1(32,"translate"),d.k0s()()()(),d.j41(33,"ul",14),d.nI1(34,"translate"),d.j41(35,"li",15)(36,"button",16),d.EFF(37),d.nI1(38,"translate"),d.k0s()(),d.j41(39,"li",15)(40,"button",17),d.EFF(41),d.nI1(42,"translate"),d.k0s()(),d.j41(43,"li",15)(44,"button",18),d.EFF(45),d.nI1(46,"translate"),d.k0s()(),d.j41(47,"li",15)(48,"button",19),d.EFF(49),d.nI1(50,"translate"),d.k0s()(),d.j41(51,"li",15)(52,"button",20),d.EFF(53),d.nI1(54,"translate"),d.k0s()(),d.j41(55,"li",15)(56,"button",21),d.EFF(57),d.nI1(58,"translate"),d.DNE(59,Un,5,3,"span",22),d.k0s()()(),d.bVm(),d.k0s(),d.j41(60,"div",23),d.DNE(61,fn,5,6,"div",24),d.nrm(62,"router-outlet"),d.k0s()),2&Yt&&(d.Y8G("title",Xe.user.firstName+" "+Xe.user.lastName)("crumbs",d.eq3(65,Ot,d.l_i(62,yt,d.bMT(1,28,"Nav.Users"),d.bMT(2,30,"/users"))))("hasTabs",!0)("isReadOnly",!0),d.R7$(4),d.Y8G("ngIf",Xe.user.isBlocked),d.R7$(4),d.JRh(d.bMT(9,32,"Nav.SubMenu")),d.R7$(5),d.SpI("",d.bMT(14,34,"Nav.SubMenu"),"..."),d.R7$(3),d.JRh(d.bMT(17,36,"Nav.Details")),d.R7$(3),d.JRh(d.bMT(20,38,"Nav.Roles")),d.R7$(3),d.JRh(d.bMT(23,40,"Nav.Additional Details")),d.R7$(3),d.JRh(d.bMT(26,42,"Nav.Applications")),d.R7$(3),d.JRh(d.bMT(29,44,"Nav.External Logins")),d.R7$(3),d.JRh(d.bMT(32,46,"Nav.Audits")),d.R7$(2),d.BMQ("aria-label",d.bMT(34,48,"Nav.SubMenu")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(67,tn)),d.R7$(),d.JRh(d.bMT(38,50,"Nav.Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(68,tn)),d.R7$(),d.JRh(d.bMT(42,52,"Nav.Roles")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(69,tn)),d.R7$(),d.JRh(d.bMT(46,54,"Nav.Additional Details")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(70,tn)),d.R7$(),d.JRh(d.bMT(50,56,"Nav.Applications")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(71,tn)),d.R7$(),d.JRh(d.bMT(54,58,"Nav.External Logins")),d.R7$(3),d.Y8G("routerLinkActive",d.lJ4(72,tn)),d.R7$(),d.SpI(" ",d.bMT(58,60,"Nav.Audits")," "),d.R7$(2),d.Y8G("ngIf",Xe.licenseInfo.isStarterLicense()),d.R7$(2),d.Y8G("ngIf",Xe.user.isDeleted))},dependencies:[y.n3,y.Wk,y.wQ,i.bT,P.z,b.D9,p.tl],encapsulation:2})}}return Ke})();var Hn=h(3178),Mt=h(5358),ht=h(3218),kt=h(2892),Gt=h(4811),sn=h(4446),bn=h(2633);const yn=[{path:"users",component:Ct,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:Rn},{path:"sessions",component:Mt.Z,canActivate:[ht.O]}],canActivate:[kt.h,sn._],data:{permissions:[Hn.a[Hn.a.UserManager],Hn.a[Hn.a.UserManagerReadOnly],Hn.a[Hn.a.AllReadOnly],Hn.a[Hn.a.All]]}},{path:"users/:Id",component:U,loadChildren:()=>Promise.all([h.e(861),h.e(76),h.e(866)]).then(h.bind(h,866)).then(Ke=>Ke.EditUsersModule),resolve:{user:Gt.M},canActivate:[kt.h,sn._,bn.g],data:{permissions:[Hn.a[Hn.a.UserManager],Hn.a[Hn.a.All]]}},{path:"users/view/:Id",loadChildren:()=>Promise.all([h.e(861),h.e(76),h.e(855)]).then(h.bind(h,4855)).then(Ke=>Ke.ViewUserModule),component:hi,canActivate:[kt.h,sn._],resolve:{user:Gt.M},data:{permissions:[Hn.a[Hn.a.UserManager],Hn.a[Hn.a.UserManagerReadOnly],Hn.a[Hn.a.AllReadOnly],Hn.a[Hn.a.All]]}}];let Jn=(()=>{class Ke{static{this.\u0275fac=function(Yt){return new(Yt||Ke)}}static{this.\u0275mod=d.$C({type:Ke})}static{this.\u0275inj=d.G2t({imports:[y.iI.forChild(yn),p.XE.forChild(yn),y.iI]})}}return Ke})();var An=h(1683),gn=h(2571),di=h(5663),mi=h(9475),ii=h(367),Pi=h(5731),Qn=h(4193),Ti=h(3665),gi=h(7175),Hi=h(8389),$i=h(6599),Ii=h(3730),et=h(7677);let At=(()=>{class Ke{static{this.\u0275fac=function(Yt){return new(Yt||Ke)}}static{this.\u0275mod=d.$C({type:Ke})}static{this.\u0275inj=d.G2t({providers:[Gt.M,di.Q],imports:[Jn,i.MD,e.YN,e.X1,w.Q_,An.Y,b.h,gn.A,C.Ss,p.XE,mi.F,ii.m,Pi.i,Qn.c,Ti.t,gi.c,Hi.w,$i.Y,y.iI,Mt.Z,Ii.ClaimTypesModule,et.N]})}}return Ke})()},3497:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>i});let i=(()=>{class e{static{this.Default="clientId"}static{this.Saml="entityId"}static{this.WsFed="realm"}}return e})()},4595:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>e});var i=h(6701);class e{static{this.RestrictedClientTypes=[i.s.ServerSide,i.s.ServerSidePKCE,i.s.Native,i.s.NativePKCE,i.s.Device,i.s.Saml,i.s.WsFed,i.s.LegacyClientSide]}}},4861:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>i});let i=(()=>{class e{static{this.DefaultAdministratorUsername="info@rocksolidknowledge.com"}}return e})()},6026:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>i});let i=(()=>{class e{static{this.Id="wizard-modal"}static{this.TileId="wizard-title"}static{this.DescriptionId="wizard-description"}}return e})()},5358:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>Ce});var i=h(9417),e=h(1583),y=h(4549),p=h(1626),w=h(7263),C=h(4438),m=h(9564);let d=(()=>{class we{constructor(Be,ot){this.http=Be,this.headersService=ot,this.actionUrl="ServerSideSession",this.headers=this.headersService.setHeaders()}buildParams(Be,ot,Ft,mt,it,Kt,on){let Pt=new p.Nl;return null!=Be&&(Pt=Pt.append("query",Be)),(0,w.gP)(mt)||(Pt=Pt.append("sort",mt)),ot&&(Pt=Pt.append("created",ot)),Ft&&(Pt=Pt.append("expires",Ft)),it&&(Pt=Pt.append("page",String(it))),Kt&&(Pt=Pt.append("pageSize",String(Kt))),on&&(Pt=Pt.append("filterExpired",String(on))),Pt}getSessions(Be,ot,Ft,mt,it,Kt,on){const Pt=this.buildParams(Be,ot,Ft,mt,it,Kt,on);return this.http.get(this.actionUrl,{headers:this.headers,params:Pt})}deleteSession(Be){return this.http.delete(`${this.actionUrl}/${Be}`,{headers:this.headers})}static{this.\u0275fac=function(ot){return new(ot||we)(C.KVO(p.Qq),C.KVO(m.m))}}static{this.\u0275prov=C.jDH({token:we,factory:we.\u0275fac})}}return we})();var f=h(177),I=h(1780),O=h(5731),P=h(1683),b=h(1413),M=h(8359),k=h(7175),N=h(1594),G=h(9172),R=h(1397),j=h(6599),U=h(8251),$=h(8577),ne=h(4252),se=h(4367),L=h(1258),J=h(7185),te=h(2390);class E{constructor(at,Be,ot,Ft,mt,it){this.query=at,this.page=Be,this.pageSize=ot,this.sortCriteria=Ft,this.fromDate=mt,this.toDate=it}}class re{constructor(at){this.query=at.query,this.page=at.page,this.pageSize=at.pageSize,this.sortCriteria=at.sortCriteria,this.fromDate=at.fromDate?.toString(),this.toDate=at.toDate?.toString()}}var K=function(we){return we.ByUser="user",we.ByUserDescending="-user",we.ByScheme="scheme",we.BySchemeDescending="-scheme",we.ByCreated="created",we.ByCreatedDescending="-created",we.ByExpires="expires",we.ByExpiresDescending="-expires",we.ByRenewed="renewed",we.ByRenewedDescending="-renewed",we}(K||{}),me=h(923),Ne=h(7005),Ae=h(9812),xe=h(4754),Qe=h(7883),Ee=h(5424),be=h(3488),le=h(7156),Pe=h(7384),Ie=h(6536),st=h(3899);const Oe=we=>[we];function pt(we,at){1&we&&(C.j41(0,"span",34),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&we&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Auditing.FromDateWarning")," "))}function Ye(we,at){1&we&&(C.j41(0,"span",35),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&we&&(C.R7$(),C.SpI(" ",C.bMT(2,1,"Auditing.ToDateBehindWarning")," "))}function qt(we,at){1&we&&(C.j41(0,"div",32)(1,"div",36)(2,"div",37)(3,"div",38),C.nrm(4,"input",39,2),C.nI1(6,"translate"),C.nI1(7,"translate"),C.k0s()()()()),2&we&&(C.R7$(4),C.BMQ("placeholder",C.bMT(6,2,"Auditing.FilterTermPlaceholder"))("aria-label",C.bMT(7,4,"Auditing.AddFilterTerm")))}function jt(we,at){1&we&&(C.j41(0,"p",40),C.nrm(1,"span",41),C.EFF(2),C.nI1(3,"translate"),C.k0s()),2&we&&(C.R7$(2),C.SpI(" ",C.bMT(3,1,"Auditing.UpdateWarning")," "))}function Dt(we,at){1&we&&C.nrm(0,"app-simple-loader")}function wt(we,at){1&we&&(C.j41(0,"div",42)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&we&&(C.R7$(2),C.JRh(C.bMT(3,1,"SessionManagement.NoSessionsFound")))}function z(we,at){if(1&we&&C.nrm(0,"app-data-table-column",48),2&we){const Be=C.XpG(2);C.Y8G("prop","user")("title","Auditing.Subject")("link","resourceLink")("headClasses","tw-hidden xs:tw-table-cell lg:tw-w-1/4")("sort",Be.sortingEnum.None)}}function Y(we,at){if(1&we&&(C.j41(0,"app-data-table",43),C.DNE(1,z,1,5,"app-data-table-column",44),C.nrm(2,"app-data-table-column",45)(3,"app-data-table-column",46)(4,"app-data-table-column",47)(5,"app-data-table-column",46),C.k0s()),2&we){const Be=C.XpG();C.Y8G("rows",Be.pagedResult.results)("actions",Be.dataTableActions),C.R7$(),C.Y8G("ngIf",!Be.resourceOnly()),C.R7$(),C.Y8G("prop","scheme")("title","SessionManagement.Scheme")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40"),C.R7$(),C.Y8G("prop","created")("title","SessionManagement.Created")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime)),C.R7$(),C.Y8G("prop","expires")("title","SessionManagement.Expires")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime,"SessionManagement.NoExpiration"))("sort",Be.sortingEnum.Descending),C.R7$(),C.Y8G("prop","renewed")("title","SessionManagement.Renewed")("headClasses","tw-hidden tw-w-32 md:tw-table-cell xl:tw-w-40")("date",Be.dateColumn(Be.DatePipeNames.prettyDateTime,"SessionManagement.NotRenewed"))}}function Z(we,at){if(1&we){const Be=C.RV6();C.j41(0,"app-pager",49),C.bIt("onGoToPage",function(Ft){C.eBV(Be);const mt=C.XpG();return C.Njj(mt.goToPage(Ft))}),C.k0s()}if(2&we){const Be=C.XpG();C.Y8G("totalResults",null==Be.pagedResult?null:Be.pagedResult.totalCount)("currentPage",Be.filterForm.get("page").value)("lastPage",null==Be.pagedResult?null:Be.pagedResult.pageCount)}}let Ce=(()=>{class we{resourceOnly(){return!(0,w.gP)(this.resourceName)}constructor(Be,ot,Ft,mt,it,Kt,on,Pt,Jt,je){this.sessionManagementService=Be,this.localizeRouter=ot,this.router=Ft,this.fb=mt,this.activatedRoute=it,this.dataTableService=Kt,this.modalService=on,this.securityService=Pt,this.errorService=Jt,this.systemClock=je,this.isLoading=!1,this.sortingEnum=te.uy,this.filterHasChanged=!1,this.sessionStream=new b.B,this.dateColumn=(ce,X)=>new $.$(ce,X),this.DatePipeNames=me.N,this.dataTableActions=[ne.AA.Delete],this.deleteModalId="SessionManagement",this.modelActions=L.N,this.deleteModalType=J.q.Warning,this.resourceName="",this.dataTableServiceSubscriptions=new M.yU}ngOnDestroy(){this.dataTableServiceSubscriptions.unsubscribe()}userManagerReadOnly(){return(0,w.zG)(this.securityService.userPermissions)}ngOnInit(){this.translatedRoute=this.buildTranslatedRoute(),this.dataTableActions=this.userManagerReadOnly()?[]:[ne.AA.Delete],this.activatedRoute.parent.url.pipe((0,N.$)()).subscribe({next:Be=>{this.resourceName=Be[1]?.path??"",this.initDataSource()},error:Be=>this.errorService.handleError(Be)}),this.dataTableServiceSubscriptions.add(this.dataTableService.sortColumnEvent.subscribe(Be=>{this.sortResults(Be)})),this.dataTableServiceSubscriptions.add(this.dataTableService.deleteRowEvent.subscribe(Be=>{this.openDeleteModal(this.pagedResult.results[Be])}))}initDataSource(){this.setupFilterForm(this.activatedRoute.snapshot.queryParams),this.sessionStream.pipe((0,G.Z)({query:this.filterForm.value.query,fromDate:this.filterForm.value.fromDate??this.systemClock.now().minus({month:1}).toString(),toDate:this.filterForm.value.toDate??this.systemClock.now().plus({month:1}).toString(),sortCriteria:this.filterForm.value.sortCriteria,page:this.filterForm.value.page,pageSize:this.filterForm.value.pageSize}),(0,R.Z)(ot=>(this.isLoading=!0,this.sessionManagementService.getSessions(ot.query||"",ot.fromDate?.toString(),ot.toDate?.toString(),ot.sortCriteria||"-when",ot.page,ot.pageSize,this.resourceOnly())))).subscribe(ot=>{this.isLoading=!1,this.pagedResult={totalCount:ot.totalCount,pageSize:ot.pageSize,currentPage:ot.currentPage,pageCount:ot.pageCount,results:ot.results.map(Ft=>new te.j2(Ft,this.translatedRoute))}})}applyForm(Be){Be&&this.filterForm.patchValue({page:1}),this.resourceOnly()&&this.filterForm.patchValue({query:this.resourceName});const ot=this.filterForm.value;this.filterForm.patchValue({fromDate:ot.fromDate,toDate:ot.toDate}),this.sessionStream.next(ot),this.router.navigate([this.router.url.split("?")[0]],{queryParams:new re(this.filterForm.value)}),this.filterHasChanged=!1}goToPage(Be){this.filterForm.patchValue({page:Be}),this.applyForm(!1)}buildTranslatedRoute(){return this.userManagerReadOnly()?`${this.localizeRouter.translateRoute("/users/view")}`:`${this.localizeRouter.translateRoute("/users")}`}resetForm(){this.filterForm.setValue({fromDate:this.systemClock.now().minus({month:1}).toString(),toDate:this.systemClock.now().plus({month:1}).toString(),query:this.resourceName??"",page:1,pageSize:25,sortCriteria:K.ByExpiresDescending}),this.filterHasChanged=!1,this.applyForm(!0)}openDeleteModal(Be){this.sessionToDelete=Be,this.modalService.showById(this.deleteModalId,null)}closeDeleteModal(){this.sessionToDelete=null,this.modalService.hideById(this.deleteModalId)}removeSession(){if(null==this.sessionToDelete)throw new Error("Delete called without target");this.delete()}delete(){this.sessionManagementService.deleteSession(this.sessionToDelete.sessionId).subscribe({next:()=>{this.sessionToDelete=null,this.applyForm(!1),this.closeDeleteModal()},error:Be=>{this.errorService.handleError(Be)}})}sortResults(Be){const ot=this.activatedRoute.snapshot.queryParams,Ft=(0,w.gP)(ot?.fromDate)?this.systemClock.now().minus({month:1}):y.c9.fromISO(ot.fromDate),mt=(0,w.gP)(ot?.toDate)?this.systemClock.now().plus({month:1}):y.c9.fromISO(ot.toDate),it=new E(ot.query,ot.page,ot.pageSize,this.getSortFromColumnName(Be.prop,ot.sortCriteria),Ft,mt),Kt=this.filterHasChanged;this.filterForm.patchValue({sortCriteria:it.sortCriteria}),this.sessionStream.next(it),this.filterHasChanged=Kt,this.router.navigate([this.router.url.split("?")[0]],{queryParams:new re(it)}),this.dataTableService.sortCompletedEvent.next(Be.prop)}getSortFromColumnName(Be,ot){switch(Be){case"user":return ot===K.ByUserDescending?K.ByUser:K.ByUserDescending;case"expires":return ot===K.ByExpiresDescending?K.ByExpires:K.ByExpiresDescending;default:return K.ByExpiresDescending}}setupFilterForm(Be){const ot=(0,w.gP)(Be?.fromDate)?this.systemClock.now().minus({month:1}):y.c9.fromISO(Be.fromDate),Ft=(0,w.gP)(Be?.toDate)?this.systemClock.now().plus({month:1}):y.c9.fromISO(Be.toDate);this.filterForm=this.fb.nonNullable.group({fromDate:[ot,[w.TO]],toDate:[Ft],query:[this.resourceName||""],page:[Be?.page||1],pageSize:[Be?.pageSize>1e3?1e3:Be?.pageSize||25],sortCriteria:[Be?.sortCriteria||K.ByExpiresDescending]},{validators:w.$N}),this.filterForm.valueChanges.subscribe(()=>{this.filterHasChanged=!0})}static{this.\u0275fac=function(ot){return new(ot||we)(C.rXU(d),C.rXU(Ne.QG),C.rXU(e.Ix),C.rXU(i.ok),C.rXU(e.nX),C.rXU(Ae.I),C.rXU(xe.B),C.rXU(Qe.i),C.rXU(Ee.I),C.rXU(be.F))}}static{this.\u0275cmp=C.VBU({type:we,selectors:[["app-sessionmanagement"]],standalone:!0,features:[C.Jv_([d]),C.aNF],decls:56,vars:42,consts:[["pageLength",""],["sortCriteria",""],["filterValue",""],["id","sessionList",1,"tw-container","tw-mx-auto"],[1,"",3,"formGroup"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-5"],[1,"tw-flex-grid","tw-mb-3","lg:tw-flex-nowrap"],[1,"tw-flex-grid-col","xs:tw-w-1/2","lg:tw-w-1/3"],[1,"tw-form-group","tw-mb-0"],["for","fromDate",1,"tw-form-label"],["id","fromDate","name","fromDate","formControlName","fromDate","aria-describedby","toErrorLabel",3,"displayType"],["id","fromErrorLabel","class","tw-form-text-danger",4,"ngIf"],["for","toDate",1,"tw-form-label"],["id","toDate","name","toDate","formControlName","toDate","aria-describedby","toErrorLabel",3,"displayType"],["id","toErrorLabel","class","tw-form-text-danger",4,"ngIf"],[1,"tw-flex-grid-col","tw-w-40","tw-ml-auto"],["for","pageSize",1,"tw-form-label"],[1,"tw-form-select"],["id","pageSize","formControlName","pageSize",1,"tw-form-control"],[3,"value"],["class","tw-mb-4",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center"],["type","hidden"],["id","applyBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-btn-link","tw-mr-3",3,"click"],["class","tw-pill-warning tw-my-2",4,"ngIf"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],[3,"rows","actions",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],["id","fromErrorLabel",1,"tw-form-text-danger"],["id","toErrorLabel",1,"tw-form-text-danger"],["aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6"],[1,"tw-flex-grid","md:tw-flex-nowrap"],[1,"tw-flex-grid-col","tw-flex","xs:tw-w-3/5","sm:tw-w-1/2"],["formControlName","query","id","filterTerm","type","text","autocomplete","off",1,"tw-form-control","tw-border-r-1"],[1,"tw-pill-warning","tw-my-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-mr-1"],["role","alert",1,"tw-alert"],[3,"rows","actions"],[3,"prop","title","link","headClasses","sort",4,"ngIf"],[3,"prop","title","headClasses"],[3,"prop","title","headClasses","date"],[3,"prop","title","headClasses","date","sort"],[3,"prop","title","link","headClasses","sort"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(ot,Ft){if(1&ot){const mt=C.RV6();C.j41(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8)(6,"label",9),C.EFF(7),C.nI1(8,"translate"),C.k0s(),C.j41(9,"div"),C.nrm(10,"app-date-time",10),C.DNE(11,pt,3,3,"span",11),C.k0s()()(),C.j41(12,"div",7)(13,"div",8)(14,"label",12),C.EFF(15),C.nI1(16,"translate"),C.k0s(),C.j41(17,"div"),C.nrm(18,"app-date-time",13),C.DNE(19,Ye,3,3,"span",14),C.k0s()()(),C.j41(20,"div",15)(21,"div",8)(22,"label",16),C.EFF(23),C.nI1(24,"translate"),C.k0s(),C.j41(25,"div",17)(26,"select",18,0)(28,"option",19),C.EFF(29,"25 "),C.k0s(),C.j41(30,"option",19),C.EFF(31,"50"),C.k0s(),C.j41(32,"option",19),C.EFF(33,"100"),C.k0s()()()()()(),C.DNE(34,qt,8,6,"div",20),C.j41(35,"div",21),C.nrm(36,"input",22,1),C.j41(38,"button",23),C.bIt("click",function(){return C.eBV(mt),C.Njj(Ft.applyForm(!0))}),C.EFF(39),C.nI1(40,"translate"),C.k0s(),C.j41(41,"button",24),C.bIt("click",function(){return C.eBV(mt),C.Njj(Ft.resetForm())}),C.EFF(42),C.nI1(43,"translate"),C.k0s(),C.DNE(44,jt,4,3,"p",25),C.k0s()()(),C.DNE(45,Dt,1,0,"app-simple-loader",26)(46,wt,4,3,"div",27)(47,Y,6,19,"app-data-table",28)(48,Z,1,3,"app-pager",29),C.k0s(),C.j41(49,"app-custom-modal",30),C.bIt("onCancel",function(){return C.eBV(mt),C.Njj(Ft.closeDeleteModal())})("onDelete",function(){return C.eBV(mt),C.Njj(Ft.removeSession())}),C.j41(50,"div",31)(51,"p",32),C.EFF(52),C.nI1(53,"translate"),C.k0s(),C.nrm(54,"p",33),C.nI1(55,"translate"),C.k0s()()}if(2&ot){let mt;C.R7$(),C.Y8G("formGroup",Ft.filterForm),C.R7$(6),C.JRh(C.bMT(8,26,"SessionManagement.Created")),C.R7$(3),C.Y8G("displayType","datetime"),C.R7$(),C.Y8G("ngIf",Ft.filterForm.get("fromDate").hasError("dateInFuture")),C.R7$(4),C.JRh(C.bMT(16,28,"SessionManagement.Expires")),C.R7$(3),C.Y8G("displayType","datetime"),C.R7$(),C.Y8G("ngIf",Ft.filterForm.hasError("fromDateIsAfterToDate")),C.R7$(4),C.JRh(C.bMT(24,30,"Auditing.ResultsPerPage")),C.R7$(5),C.Y8G("value",25),C.R7$(2),C.Y8G("value",50),C.R7$(2),C.Y8G("value",100),C.R7$(2),C.Y8G("ngIf",!Ft.resourceOnly()),C.R7$(4),C.Y8G("disabled",(null==Ft.filterForm?null:Ft.filterForm.errors)||(null==(mt=Ft.filterForm.get("fromDate"))?null:mt.hasError("dateInFuture"))),C.R7$(),C.SpI(" ",C.bMT(40,32,"Auditing.ExecuteAndDisplay")," "),C.R7$(3),C.SpI(" ",C.bMT(43,34,"Auditing.Reset")," "),C.R7$(2),C.Y8G("ngIf",Ft.filterHasChanged),C.R7$(),C.Y8G("ngIf",Ft.isLoading),C.R7$(),C.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)<1&&!Ft.isLoading),C.R7$(),C.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0),C.R7$(),C.Y8G("ngIf",(null==Ft.pagedResult?null:Ft.pagedResult.results.length)>0&&!Ft.isLoading),C.R7$(),C.Y8G("title","Settings.Keys.DeleteKey")("modalId",Ft.deleteModalId)("actions",C.eq3(40,Oe,Ft.modelActions.Delete))("modalType",Ft.deleteModalType),C.R7$(3),C.JRh(C.bMT(53,36,"Common.Delete.AreYouSureSimple")),C.R7$(2),C.Y8G("innerHTML",C.bMT(55,38,"Common.Delete.Warning"),C.npT)}},dependencies:[f.MD,f.bT,I.h,I.D9,e.iI,O.i,le.B,P.Y,k.c,Pe.d,i.X1,i.qT,i.xH,i.y7,i.me,i.wz,i.BC,i.cb,i.j4,i.JD,j.Y,Ie.Z,U.h,ne.up,$.w,se.N,st.G],encapsulation:2})}}return we})()},2390:(nt,fe,h)=>{"use strict";h.d(fe,{j2:()=>e,uy:()=>i});var i=function(p){return p[p.None=0]="None",p[p.Ascending=1]="Ascending",p[p.Descending=2]="Descending",p}(i||{});class e{get routeLink(){return`${this.link.routeForLink}/${this.link.identifier}`}constructor(w,C){this.sort=i.None,this.sessionId=w.sessionId,this.scheme=w.scheme,this.created=w.created,this.expires=w.expires,this.renewed=w.renewed,this.user=w.user.name??w.user.identifier,this.link={identifier:w.user.identifier,routeForLink:C}}}},5517:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>m});var i=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class d{constructor(I,O,P){this.licenseService=I,this.router=O,this.localizeRouter=P}canActivate(I,O){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(P=>{if(P.isStarterLicense())return!0;{const b=this.localizeRouter.translateRoute("/home");this.router.navigate([b])}}))}static{this.\u0275fac=function(O){return new(O||d)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:d,factory:d.\u0275fac})}}return d})()},4446:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>m});var i=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class d{constructor(I,O,P){this.licenseService=I,this.router=O,this.localizeRouter=P}canActivate(I,O){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(P=>{if(!P.isExpectingStarterConsent())return!0;{const b=this.localizeRouter.translateRoute("/starter-mode/consent");this.router.navigate([b])}}))}static{this.\u0275fac=function(O){return new(O||d)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:d,factory:d.\u0275fac})}}return d})()},6923:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>d});var i=h(1594),e=h(6354),y=h(6976),p=h(4438),w=h(3853),C=h(1583),m=h(7005);let d=(()=>{class f{constructor(O,P,b){this.licenseService=O,this.router=P,this.localizeRouter=b,this.featureMap=new Map([["dynamic-auth",y.p.DynamicAuthentication],["auditing",y.p.Auditing],["clientaudits",y.p.Auditing],["useraudits",y.p.Auditing]])}canActivate(O,P){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(b=>{if(!b.isStarterLicense())return!0;{const M=this.localizeRouter.translateRoute("/starter-mode/teaser");let k=y.p.None,N=P.url;for(let G of this.featureMap.entries())if(N.includes(G[0])){k=G[1];break}this.router.navigate([M],{queryParams:{feature:k}})}}))}static{this.\u0275fac=function(P){return new(P||f)(p.KVO(w.X),p.KVO(C.Ix),p.KVO(m.QG))}}static{this.\u0275prov=p.jDH({token:f,factory:f.\u0275fac})}}return f})()},8853:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>m});var i=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class d{constructor(I,O,P){this.licenseService=I,this.router=O,this.localizeRouter=P}canActivate(I,O){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(P=>{if(!P.overClientLimit)return!0;{let M=O.url.split("/clients/")[1];const k=[this.localizeRouter.translateRoute("/clients/view/"+M)];this.router.navigate(k)}}))}static{this.\u0275fac=function(O){return new(O||d)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:d,factory:d.\u0275fac})}}return d})()},2633:(nt,fe,h)=>{"use strict";h.d(fe,{g:()=>m});var i=h(1594),e=h(6354),y=h(4438),p=h(3853),w=h(1583),C=h(7005);let m=(()=>{class d{constructor(I,O,P){this.licenseService=I,this.router=O,this.localizeRouter=P}canActivate(I,O){return this.licenseService.getLicenseInfo().pipe((0,i.$)(),(0,e.T)(P=>{if(!P.overUserLimit)return!0;{let M=O.url.split("/users/")[1];const k=[this.localizeRouter.translateRoute("/users/view/"+M)];this.router.navigate(k)}}))}static{this.\u0275fac=function(O){return new(O||d)(y.KVO(p.X),y.KVO(w.Ix),y.KVO(C.QG))}}static{this.\u0275prov=y.jDH({token:d,factory:d.\u0275fac})}}return d})()},9624:(nt,fe,h)=>{"use strict";h.r(fe),h.d(fe,{StarterModeModule:()=>be});var i=h(1583),e=h(7005),y=h(6976),p=h(4438),w=h(1780),C=h(3680),m=h(6406);let d=(()=>{class le{constructor(Ie,st,Oe){this.route=Ie,this.translate=st,this.router=Oe,this.featureMap=new Map([[y.p.DynamicAuthentication,this.translate.instant("DynamicAuth.Title.Generic")],[y.p.Auditing,this.translate.instant("Auditing.Title")],[y.p.ImportExportClients,this.translate.instant("Clients.Import.ImportExportClients")],[y.p.ExtraClientFlows,this.translate.instant("StarterMode.Clients.ExtraClientFlows")]])}ngOnInit(){this.generateDescription(),this.router.events.subscribe(Ie=>{this.generateDescription()})}generateDescription(){const Ie=+this.route.snapshot.queryParamMap.get("feature");if(Ie in y.p&&Ie!=y.p.None){const Oe=this.translate.instant("StarterMode.Teaser.RedirectedDescription").split("{0}");this.featureDescription=this.featureMap.get(Ie),this.preFeatureDescription=Oe[0],this.postFeatureDescription=Oe[1]}else this.preFeatureDescription=this.translate.instant("StarterMode.Teaser.Description")}static{this.\u0275fac=function(st){return new(st||le)(p.rXU(i.nX),p.rXU(w.c$),p.rXU(i.Ix))}}static{this.\u0275cmp=p.VBU({type:le,selectors:[["ng-component"]],decls:40,vars:33,consts:[[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],[1,"cms"],["id","description"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn","tw-mr-3","tw-mb-3"]],template:function(st,Oe){1&st&&(p.nrm(0,"app-title-bar",0),p.nI1(1,"translate"),p.j41(2,"div",1)(3,"div",2)(4,"p",3),p.EFF(5),p.j41(6,"strong"),p.EFF(7),p.k0s(),p.EFF(8),p.k0s(),p.j41(9,"ul",4)(10,"li"),p.EFF(11),p.nI1(12,"translate"),p.k0s(),p.j41(13,"li"),p.EFF(14),p.nI1(15,"translate"),p.k0s(),p.j41(16,"li"),p.EFF(17),p.nI1(18,"translate"),p.k0s(),p.j41(19,"li"),p.EFF(20),p.nI1(21,"translate"),p.k0s(),p.j41(22,"li"),p.EFF(23),p.nI1(24,"translate"),p.k0s(),p.j41(25,"li"),p.EFF(26),p.nI1(27,"translate"),p.k0s(),p.j41(28,"li"),p.EFF(29),p.nI1(30,"translate"),p.k0s()()()(),p.j41(31,"app-button-bar")(32,"a",5)(33,"span"),p.EFF(34),p.nI1(35,"translate"),p.k0s()(),p.j41(36,"a",6)(37,"span"),p.EFF(38),p.nI1(39,"translate"),p.k0s()()()),2&st&&(p.Y8G("title",p.bMT(1,13,"StarterMode.Teaser.Title")),p.R7$(5),p.SpI("",Oe.preFeatureDescription," "),p.R7$(2),p.JRh(Oe.featureDescription),p.R7$(),p.SpI(" ",Oe.postFeatureDescription,""),p.R7$(3),p.JRh(p.bMT(12,15,"StarterMode.Teaser.Features.Authentication")),p.R7$(3),p.JRh(p.bMT(15,17,"StarterMode.Teaser.Features.UsersAndClients")),p.R7$(3),p.JRh(p.bMT(18,19,"StarterMode.Teaser.Features.ExtraClientFlows")),p.R7$(3),p.JRh(p.bMT(21,21,"StarterMode.Teaser.Features.Audits")),p.R7$(3),p.JRh(p.bMT(24,23,"StarterMode.Teaser.Features.Access")),p.R7$(3),p.JRh(p.bMT(27,25,"StarterMode.Teaser.Features.Import")),p.R7$(3),p.JRh(p.bMT(30,27,"StarterMode.Teaser.Features.DynamicAuth")),p.R7$(5),p.JRh(p.bMT(35,29,"StarterMode.UpgradeAdminUI")),p.R7$(4),p.JRh(p.bMT(39,31,"StarterMode.ExtendDemo")))},dependencies:[C.z,m.z,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return le})();var f=h(1594),I=h(3178),O=h(7773),P=h(1626),b=h(9564);let M=(()=>{class le{constructor(Ie,st){this.http=Ie,this.headersService=st,this.headers=new P.Lr,this.actionUrl="StarterMode",this.headers=st.setHeaders()}storeConsent(){return this.http.put(this.actionUrl,null,{headers:this.headers}).pipe()}static{this.\u0275fac=function(st){return new(st||le)(p.KVO(P.Qq),p.KVO(b.m))}}static{this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac})}}return le})();var k=h(5794),N=h(1339),G=h(9196),R=h(177),j=h(8114);function U(le,Pe){1&le&&(p.j41(0,"div",15)(1,"p",16)(2,"span"),p.EFF(3),p.nI1(4,"translate"),p.k0s()()()),2&le&&(p.R7$(3),p.JRh(p.bMT(4,1,"StarterMode.Consent.NonAdminUser")))}let $=(()=>{class le{constructor(Ie,st,Oe,pt,Ye,qt){this.translate=Ie,this.permissionService=st,this.starterModeConsentService=Oe,this.toastr=pt,this.authService=Ye,this.configService=qt}ngOnInit(){this.permissionService.getUserPermissions().pipe((0,f.$)()).subscribe({next:Ie=>this.isAdmin=Ie.permissions.includes(I.a.All)}),this.configService.getConfig().pipe((0,f.$)()).subscribe({next:Ie=>this.starterModePersistance=Ie.starterModePersistence})}giveConsentToStarterMode(){this.isAdmin&&this.starterModeConsentService.storeConsent().pipe((0,f.$)()).subscribe({next:()=>{this.authService.logoff()},error:Ie=>{this.toastr.error(this.translate.instant("Notifications.StarterModeFailed"),this.translate.instant("Notifications.SomethingWrong"))}})}openStartModeNoPersistranceDocs(){window.open("https://docs.openiddictcomponents.com/adminui/Configuration_and_Integration/Miogrationless_Config#StarterMode","_blank")}static{this.\u0275fac=function(st){return new(st||le)(p.rXU(w.c$),p.rXU(O.n),p.rXU(M),p.rXU(k.tw),p.rXU(N.u),p.rXU(G.w))}}static{this.\u0275cmp=p.VBU({type:le,selectors:[["ng-component"]],decls:57,vars:56,consts:[["confirmStarterModeModal",""],["confirmStarterModeDocsModal",""],[3,"title"],["id","StarterModeAgreement",1,"tw-container","mx-auto"],["id","nonAdminUserWarning",4,"ngIf"],[1,"cms"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["id","UpgradeAdminUI","href","https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise","target","_blank",1,"tw-btn-success","tw-mr-3","tw-mb-3"],["id","confirmStarterModeBtn","data-toggle","modal",1,"tw-btn","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","ExtendDemo","href","mailto:support@identityserver.com?subject=Extend my AdminUI demo license",1,"tw-btn-link","tw-mr-3","tw-mb-3"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[3,"confirm","modalId","buttonType","title","okText"],["id","nonAdminUserWarning"],["role","alert",1,"tw-alert-warning","tw-mb-4"]],template:function(st,Oe){if(1&st){const pt=p.RV6();p.nrm(0,"app-title-bar",2),p.nI1(1,"translate"),p.j41(2,"div",3),p.DNE(3,U,5,3,"div",4),p.j41(4,"div",5)(5,"p"),p.EFF(6),p.nI1(7,"translate"),p.k0s(),p.j41(8,"ul",6)(9,"li"),p.EFF(10),p.nI1(11,"translate"),p.k0s(),p.j41(12,"li"),p.EFF(13),p.nI1(14,"translate"),p.k0s(),p.j41(15,"li"),p.EFF(16),p.nI1(17,"translate"),p.k0s(),p.j41(18,"li"),p.EFF(19),p.nI1(20,"translate"),p.k0s(),p.j41(21,"li"),p.EFF(22),p.nI1(23,"translate"),p.k0s(),p.j41(24,"li"),p.EFF(25),p.nI1(26,"translate"),p.k0s(),p.j41(27,"li"),p.EFF(28),p.nI1(29,"translate"),p.k0s()()()(),p.j41(30,"app-button-bar")(31,"a",7)(32,"span"),p.EFF(33),p.nI1(34,"translate"),p.k0s()(),p.j41(35,"button",8),p.bIt("click",function(){p.eBV(pt);const qt=p.sdS(44),jt=p.sdS(52);return p.Njj(Oe.starterModePersistance?qt.show():jt.show())}),p.j41(36,"span"),p.EFF(37),p.nI1(38,"translate"),p.k0s()(),p.j41(39,"a",9)(40,"span"),p.EFF(41),p.nI1(42,"translate"),p.k0s()()(),p.j41(43,"app-confirmation-modal",10,0),p.bIt("confirm",function(){return p.eBV(pt),p.Njj(Oe.giveConsentToStarterMode())}),p.qex(45,11),p.j41(46,"p",12),p.EFF(47),p.nI1(48,"translate"),p.k0s(),p.nrm(49,"p",13),p.nI1(50,"translate"),p.bVm(),p.k0s(),p.j41(51,"app-confirmation-modal",14,1),p.bIt("confirm",function(){return p.eBV(pt),p.Njj(Oe.openStartModeNoPersistranceDocs())}),p.qex(53,11),p.j41(54,"p",12),p.EFF(55),p.nI1(56,"translate"),p.k0s(),p.bVm(),p.k0s()}2&st&&(p.Y8G("title",p.bMT(1,26,"StarterMode.Consent.Title")),p.R7$(3),p.Y8G("ngIf",!Oe.isAdmin),p.R7$(3),p.JRh(p.bMT(7,28,"StarterMode.Consent.Description")),p.R7$(4),p.JRh(p.bMT(11,30,"StarterMode.Consent.Features.Authentication")),p.R7$(3),p.JRh(p.bMT(14,32,"StarterMode.Consent.Features.Users")),p.R7$(3),p.JRh(p.bMT(17,34,"StarterMode.Consent.Features.Clients")),p.R7$(3),p.JRh(p.bMT(20,36,"StarterMode.Consent.Features.ClientFlows")),p.R7$(3),p.JRh(p.bMT(23,38,"StarterMode.Consent.Features.Import")),p.R7$(3),p.JRh(p.bMT(26,40,"StarterMode.Consent.Features.Audits")),p.R7$(3),p.JRh(p.bMT(29,42,"StarterMode.Consent.Features.DynamicAuth")),p.R7$(5),p.JRh(p.bMT(34,44,"StarterMode.UpgradeAdminUI")),p.R7$(2),p.Y8G("disabled",!Oe.isAdmin),p.R7$(2),p.JRh(p.bMT(38,46,"StarterMode.ConfirmStarterMode")),p.R7$(4),p.JRh(p.bMT(42,48,"StarterMode.ExtendDemo")),p.R7$(2),p.Y8G("modalId","confirmStarterModeModal")("type","danger")("buttonType","danger")("title","StarterMode.ConfirmationModal.Title")("okText","Common.Confirm"),p.R7$(4),p.JRh(p.bMT(48,50,"StarterMode.ConfirmationModal.Description")),p.R7$(2),p.Y8G("innerHTML",p.bMT(50,52,"StarterMode.ConfirmationModal.Warning"),p.npT),p.R7$(2),p.Y8G("modalId","confirmStarterModeDocsModal")("buttonType",null)("title","StarterMode.ConfirmationModal.Title")("okText","Common.Documentation"),p.R7$(4),p.JRh(p.bMT(56,54,"StarterMode.ConfirmationModal.DescriptionDocs")))},dependencies:[R.bT,C.z,m.z,j.B,w.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return le})();var ne=h(5517),se=h(2892),L=h(6354),J=h(3853);let te=(()=>{class le{constructor(Ie,st,Oe){this.licenseService=Ie,this.router=st,this.localizeRouter=Oe}canActivate(Ie,st){return this.licenseService.getLicenseInfo().pipe((0,f.$)(),(0,L.T)(Oe=>{if(Oe.isExpectingStarterConsent())return!0;{const pt=this.localizeRouter.translateRoute("/home");this.router.navigate([pt])}}))}static{this.\u0275fac=function(st){return new(st||le)(p.KVO(J.X),p.KVO(i.Ix),p.KVO(e.QG))}}static{this.\u0275prov=p.jDH({token:le,factory:le.\u0275fac})}}return le})();var E=h(4446);const re=[{path:"starter-mode/teaser",component:d,canActivate:[se.h,E._,ne.H]},{path:"starter-mode/consent",component:$,canActivate:[se.h,te]}];let K=(()=>{class le{static{this.\u0275fac=function(st){return new(st||le)}}static{this.\u0275mod=p.$C({type:le})}static{this.\u0275inj=p.G2t({providers:[ne.H],imports:[i.iI.forChild(re),e.XE.forChild(re),i.iI]})}}return le})();var me=h(367),Ne=h(779),Ae=h(1993),xe=h(8853),Qe=h(2633),Ee=h(4367);let be=(()=>{class le{static{this.\u0275fac=function(st){return new(st||le)}}static{this.\u0275mod=p.$C({type:le})}static{this.\u0275inj=p.G2t({providers:[M,te,ne.H,xe.a,Qe.g],imports:[i.iI,K,w.h,me.m,Ne.Q_,Ae.E,Ee.N]})}}return le})()},7921:(nt,fe,h)=>{"use strict";h.d(fe,{b:()=>e});var i=h(1746);class e{constructor(p){Object.keys(p).forEach(C=>{this[C]=e.toReadOnlyValue(p[C])})}}(e||(e={})).toReadOnlyValue=function p(w){let C=w;return"boolean"==typeof w&&(C=C?"Yes":"No"),w instanceof Date&&(C=C?"Yes":"No"),w instanceof Array&&(C=w.join(", ").trimEnd()),new i.w(C)}},4866:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>e});var e,i=h(3806);!function(y){const p=new Map([[i.u.Minute,60],[i.u.Minutes,60],[i.u.Hour,3600],[i.u.Hours,3600],[i.u.Day,86400],[i.u.Days,86400],[i.u.Week,604800],[i.u.Weeks,604800],[i.u.Month,2629743],[i.u.Months,2629743],[i.u.Year,31556926],[i.u.Years,31556926],[i.u.Unlimited,null]]);y.getUnitMap=function w(){return p}}(e||(e={}))},6303:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>i});var i=function(e){return e[e.Single=0]="Single",e[e.Multi=1]="Multi",e[e.CommaSeparated=2]="CommaSeparated",e[e.LifetimePicker=3]="LifetimePicker",e}(i||{})},1746:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>i});class i{constructor(y,p){this.MainText=y,this.HelpText=p??null}}},1927:(nt,fe,h)=>{"use strict";h.d(fe,{K:()=>i});var i=function(e){return e.Jwt="Jwt",e.Reference="Reference",e}(i||{})},6701:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>i});var i=function(e){return e.Unknown="Unknown",e.ServerSide="ServerSide",e.Machine="Machine",e.CIBAMachine="CIBAMachine",e.Native="Native",e.Device="Device",e.Saml="Saml",e.WsFed="WsFed",e.BrowserBased="BrowserBased",e.LegacyClientSide="LegacyClientSide",e.ServerSidePKCE="ServerSidePKCE",e.NativePKCE="NativePKCE",e}(i||{})},3806:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>i});var i=function(e){return e.Minute="Minute",e.Minutes="Minutes",e.Hour="Hour",e.Hours="Hours",e.Day="Day",e.Days="Days",e.Week="Week",e.Weeks="Weeks",e.Month="Month",e.Months="Months",e.Year="Year",e.Years="Years",e.Unlimited="Unlimited",e.Global="Global",e}(i||{})},6976:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>i});var i=function(e){return e[e.None=0]="None",e[e.DynamicAuthentication=1]="DynamicAuthentication",e[e.Auditing=2]="Auditing",e[e.ImportExportClients=3]="ImportExportClients",e[e.ExtraClientFlows=4]="ExtraClientFlows",e}(i||{})},6772:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>i});var i=function(e){return e.Sliding="Sliding",e.Absolute="Absolute",e}(i||{})},78:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>i});var i=function(e){return e.ReUse="ReUse",e.OneTimeOnly="OneTimeOnly",e}(i||{})},9988:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>i});var i=function(e){return e.Home="Home",e.SinglePageApplication="SinglePageApplication",e.WebApplication="WebApplication",e.NativeApplication="NativeApplication",e.RobotApplication="RobotApplication",e.CIBARobotApplication="CIBARobotApplication",e.DeviceApplication="DeviceApplication",e.SamlApplication="SamlApplication",e.WsFedApplication="WsFedApplication",e.LegacySinglePageApplication="LegacySinglePageApplication",e.PKCEWebApplication="PKCEWebApplication",e.PKCENativeApplication="PKCENativeApplication",e.ImportWizard="ImportWizard",e.AddDynamicAuth="AddDynamicAuth",e.AddOidcDynamicAuth="AddOidcDynamicAuth",e.AddSamlDynamicAuth="AddSamlDynamicAuth",e.AddOpenIddictScope="AddOpenIddictScope",e.ScopeResources="ScopeResources",e}(i||{})},9957:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>i});var i=function(e){return e[e.NotHandled=0]="NotHandled",e[e.Toast=1]="Toast",e[e.Navigate=2]="Navigate",e}(i||{})},1410:(nt,fe,h)=>{"use strict";h.d(fe,{y:()=>i});var i=function(e){return e.Duende="Duende",e.OpenIddict="OpenIddict",e}(i||{})},4589:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>i});var i=function(e){return e[e.None=0]="None",e.Production="Production",e.NonProduction="Non-Production",e.Demo="Demo",e.Starter="Starter",e}(i||{})},8284:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>i});var i=function(e){return e[e.user=0]="user",e[e.role=1]="role",e[e.claimType=2]="claimType",e[e.client=3]="client",e[e.identityResource=4]="identityResource",e[e.protectedResource=5]="protectedResource",e[e.serviceProvider=6]="serviceProvider",e[e.relyingParty=7]="relyingParty",e[e.dynamicAuth=8]="dynamicAuth",e[e.scope=9]="scope",e}(i||{})},4491:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>i});let i=(()=>{class e{static{this.Implicit="implicit"}static{this.Hybrid="hybrid"}static{this.AuthorizationCode="authorization_code"}static{this.ClientCredentials="client_credentials"}static{this.ResourceOwnerPassword="password"}static{this.Device="urn:ietf:params:oauth:grant-type:device_code"}static{this.CIBA="urn:openid:params:grant-type:ciba"}}return e})()},1258:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>i});var i=function(e){return e.Save="Save",e.SaveAndReAdd="SaveAndReAdd",e.Delete="Delete",e}(i||{})},7185:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>i});var i=function(e){return e.Default="Default",e.Warning="Warning",e}(i||{})},3178:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>i});var i=function(e){return e.None="None",e.UserManager="UserManager",e.UserManagerReadOnly="UserManagerReadOnly",e.IdentityServerManager="IdentityServerManager",e.IdentityServerManagerReadOnly="IdentityServerManagerReadOnly",e.Auditer="Auditer",e.AllReadOnly="AllReadOnly",e.All="All",e}(i||{})},785:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>e});var i=h(9838);class e{constructor(){this.description="",this.value="",this.expiration=null,this.created=null,this.type=(new i.S9).SharedSecret}}},1088:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>y});var i=h(3806),e=h(4866);class y{constructor(w){this.unitMap=e.A.getUnitMap(),this.formatSeconds(w)}formatSeconds(w){return this.years=Math.floor(w/this.unitMap.get(i.u.Years)),w-=this.years*this.unitMap.get(i.u.Years),this.months=Math.floor(w/this.unitMap.get(i.u.Month)),w-=this.months*this.unitMap.get(i.u.Month),this.weeks=Math.floor(w/this.unitMap.get(i.u.Weeks)),w-=this.weeks*this.unitMap.get(i.u.Weeks),this.days=Math.floor(w/this.unitMap.get(i.u.Days)),w-=this.days*this.unitMap.get(i.u.Days),this.hours=Math.floor(w/this.unitMap.get(i.u.Hours)),w-=this.hours*this.unitMap.get(i.u.Hours),this.minutes=Math.floor(w/this.unitMap.get(i.u.Minute)),w-=this.minutes*this.unitMap.get(i.u.Minute),this.seconds=w,this}}},978:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>e,U:()=>i});var i=function(y){return y[y.Disabled=0]="Disabled",y[y.Duende=1]="Duende",y[y.Rsk=2]="Rsk",y}(i||{});class e{constructor(){this.defaultUserValidation=!0,this.addUserPassword=!1,this.enforcerAuthorizationEnabled=!1,this.enableSharedScopes=!1,this.sessionManagementEnabled=!1,this.dynamicAuthenticationFlag=void 0}}},7756:(nt,fe,h)=>{"use strict";h.d(fe,{EK:()=>y,m8:()=>e});class e{constructor(w,C,m,d){this.webhooks={MfaReset:w,PasswordReset:C,UserRegistration:m,ServerSideSessionDelete:d}}}var y=function(p){return p.MFAReset="MfaReset",p.PasswordReset="PasswordReset",p.UserRegistration="UserRegistration",p.ServerSideSessionDelete="ServerSideSessionDelete",p}(y||{})},7212:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>i});class i{constructor(){this.SigningCertificates=[]}}},1744:(nt,fe,h)=>{"use strict";h.d(fe,{$R:()=>i,XF:()=>C,jD:()=>y,ot:()=>e});class i{}var e=function(m){return m.Client="Client",m.ClaimType="ClaimType",m.IdentityResource="IdentityResource",m.ProtectedResource="ProtectedResource",m}(e||{}),y=function(m){return m.New="New",m.Duplicate="Duplicate",m.Conflicted="Conflicted",m}(y||{}),C=function(m){return m.Importing="Importing",m.Existing="Existing",m}(C||{})},590:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>e});var i=h(1744);let e=(()=>{class y{static{this.client="Client"}static{this.resource="Resource"}static{this.protectedResource="ProtectedResource"}static{this.claimType="ClaimType"}static getSummaryDisplayType(w){switch(w){case i.ot.Client:return this.client;case i.ot.IdentityResource:case i.ot.ProtectedResource:return this.resource;case i.ot.ClaimType:return this.claimType}}}return y})()},7957:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>i});class i{constructor(){this.nameComponentMap=new Map,this.nameTitleMap=new Map}getWizard(y){return this.nameComponentMap.get(y)}getWizardTitle(y){return this.nameTitleMap.get(y)}}},8575:(nt,fe,h)=>{"use strict";h.d(fe,{J:()=>i});class i{constructor(y,p){this.setupTitle=y,this.summaryTitle=p}}},7329:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>i});class i{constructor(y,p){this.component=y,this.data=p,p||(p={})}}},923:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>i});var i=function(e){return e.standardDate="standardDate",e.standardDateTime="standardDateTime",e.prettyDateTime="prettyDateTime",e}(i||{})},1589:(nt,fe,h)=>{"use strict";h.d(fe,{El:()=>w,r7:()=>p,sp:()=>y});var i=h(7263),e=h(4438);let y=(()=>{class C{transform(d){return(0,i.KU)(d,"ccc LLL dd yyyy, T")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"prettyDateTime",type:C,pure:!0})}}return C})(),p=(()=>{class C{transform(d){return(0,i.KU)(d,"LLL dd yyyy T")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"standardDateTime",type:C,pure:!0})}}return C})(),w=(()=>{class C{transform(d){return(0,i.KU)(d,"LLL dd yyyy")}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275pipe=e.EJ8({name:"standardDate",type:C,pure:!0})}}return C})()},1683:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>p});var i=h(177),e=h(1780),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[i.MD,e.h]})}}return w})()},4692:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>y});var i=h(1746),e=h(4438);let y=(()=>{class p{transform(C,m){return new i.w(C)}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275pipe=e.EJ8({name:"readOnlyValue",type:p,pure:!0})}}return p})()},2467:(nt,fe,h)=>{"use strict";h.d(fe,{C:()=>e});var i=h(4438);let e=(()=>{class y{constructor(){this.map=new Map,this.map.set("name","Common.Name"),this.map.set("clientId","Clients.ID"),this.map.set("entityId","Clients.EntityId"),this.map.set("realm","Clients.Realm"),this.map.set("clientName","Common.DisplayName"),this.map.set("description","Common.Description"),this.map.set("clientUri","Common.DisplayURL"),this.map.set("logoUri","Common.LogoURL"),this.map.set("requireConsent","Clients.RequireConsent.Summary"),this.map.set("callbackUrl","Common.CallbackURL"),this.map.set("logoutUrl","Common.LogoutURL"),this.map.set("corsurl","Common.CORSUrl"),this.map.set("redirectUris","Common.RedirectUris"),this.map.set("secrets","Common.Secrets"),this.map.set("identityResources","Nav.IdentityResources"),this.map.set("protectedResources","Nav.ProtectedResources"),this.map.set("ACSEndpoint","Clients.AcsEndpoints"),this.map.set("SLOEndpoint","Clients.SloEndpoints"),this.map.set("ARSEndpoint","Clients.ArsEndpoints"),this.map.set("cibaLifetime","Common.CIBALifetime"),this.map.set("pollingInterval","Common.PollingInterval"),this.map.set("resources","Scopes.Resources.Label"),this.map.set("scheme","DynamicAuth.Scheme.Label"),this.map.set("displayName","DynamicAuth.DisplayName.Label"),this.map.set("authority","DynamicAuth.Authority.Label"),this.map.set("idpClientId","DynamicAuth.ClientId.Label"),this.map.set("callbackPath","DynamicAuth.CallbackPath.Label"),this.map.set("flow","DynamicAuth.Flow.Label"),this.map.set("scopes","DynamicAuth.Scopes.Label"),this.map.set("clientSecret","DynamicAuth.ClientSecret.Label"),this.map.set("signInScheme","DynamicAuth.SignInScheme.Label"),this.map.set("signOutScheme","DynamicAuth.SignOutScheme.Label"),this.map.set("callbackPathAcs","DynamicAuth.CallbackPathAcsEndpoint.Label"),this.map.set("certFile","DynamicAuth.CertFile.Label"),this.map.set("certPassword","DynamicAuth.CertPassword.Label"),this.map.set("metadataAddress","DynamicAuth.SAML.IdpMetadataAddress.Label")}transform(w,C){return this.map.get(w)??w}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275pipe=i.EJ8({name:"keyToString",type:y,pure:!0})}}return y})()},6807:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>y});var i=h(4438),e=h(7883);let y=(()=>{class p{constructor(C){this.securityService=C}notAllowedToEditClaim(C){return!this.securityService.allView&&this.isPolicyClaim(C)}isPolicyClaim(C){if(void 0!==C){const m=this.securityService.policyClaims;for(let d=0;d<m.length;d++)if(m[d].type===C.type&&m[d].value===C.value)return!0;return!1}}static{this.\u0275fac=function(m){return new(m||p)(i.KVO(e.i))}}static{this.\u0275prov=i.jDH({token:p,factory:p.\u0275fac})}}return p})()},2972:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>p});var i=h(4412);class e{constructor(){this.showNav=!1,this.showBanner=!1,this.showFooter=!1}}var y=h(4438);let p=(()=>{class w{constructor(){this.viewConfig=new e,this.viewConfig$=new i.t(this.viewConfig)}startInitialAdminCreation(){this.viewConfig.showNav=!1,this.viewConfig.showFooter=!1,this.viewConfig.showBanner=!1,this.viewConfig$.next(this.viewConfig)}finishInitialAdminCreation(){this.showAll()}failAuth(){this.showAll()}successAuth(){this.showAll()}failedEnforcerCompilation(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!1,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}showAll(){this.viewConfig.showFooter=!0,this.viewConfig.showNav=!0,this.viewConfig.showBanner=!0,this.viewConfig$.next(this.viewConfig)}static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275prov=y.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})()},1339:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>w});var i=h(7263),e=h(4438),y=h(1626),p=h(2972);let w=(()=>{class C{constructor(d,f){this.http=d,this.appComponentViewService=f,this.isAuthenticated=!1,this.isCreatingInitialAdministrator=!1;const I=(0,i.$_)();this.actionUrl="auth",this.authUrl=`${I}auth`}login(){window.location.href=`${this.authUrl}/conditionallogin`}logoff(){this.isAuthenticated=!1,this.appComponentViewService.failAuth(),window.location.href=`${this.authUrl}/logout`}isAuthenticatedCheck(){return this.http.get(`${this.actionUrl}/isauthenticated`)}static{this.\u0275fac=function(f){return new(f||C)(e.KVO(y.Qq),e.KVO(p.X))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},6888:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>e});var i=h(4438);let e=(()=>{class y{constructor(){this.storage=sessionStorage,this.countKey="retryCount",this.maxRetryAttempts=1}startLogin(){this.retryCount=0}endLogin(){this.storage.removeItem(this.countKey)}get canRetryLogin(){return this.retryCount+1<=this.maxRetryAttempts}retryLogin(){this.canRetryLogin&&(this.retryCount+=1)}get retryCount(){const w=this.storage.getItem(this.countKey);let C=w?Number(w):0;return C=isNaN(C)?0:C,C}set retryCount(w){(w=isNaN(w)?0:w)<=this.maxRetryAttempts&&this.storage.setItem(this.countKey,w.toString())}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},2261:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>pl});var i=h(467);class e{}var y=h(5955);function w(Le,u,_){var A;return Le instanceof Object&&null!==(A=Le[u])&&void 0!==A?A:_}function C(Le,u=0,_=Le.byteLength-u,A=!1){let W="";for(const ae of new Uint8Array(Le,u,_)){const ve=ae.toString(16).toUpperCase();1===ve.length&&(W+="0"),W+=ve,A&&(W+=" ")}return W.trim()}function m(Le,u,_,A){return u instanceof ArrayBuffer?u.byteLength?_<0?(Le.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Le.error="Wrong parameter: inputLength less than zero",!1):!(u.byteLength-_-A<0&&(Le.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Le.error="Wrong parameter: inputBuffer has zero length",!1):(Le.error='Wrong parameter: inputBuffer must be "ArrayBuffer"',!1)}function d(Le,u){let _=0;if(1===Le.length)return Le[0];for(let A=Le.length-1;A>=0;A--)_+=Le[Le.length-1-A]*Math.pow(2,u*A);return _}function f(Le,u,_=-1){const A=_;let W=Le,ae=0,ve=Math.pow(2,u);for(let Ge=1;Ge<8;Ge++){if(Le<ve){let D;if(A<0)D=new ArrayBuffer(Ge),ae=Ge;else{if(A<Ge)return new ArrayBuffer(0);D=new ArrayBuffer(A),ae=A}const V=new Uint8Array(D);for(let B=Ge-1;B>=0;B--){const Q=Math.pow(2,B*u);V[ae-B-1]=Math.floor(W/Q),W-=V[ae-B-1]*Q}return D}ve*=Math.pow(2,u)}return new ArrayBuffer(0)}function I(...Le){let u=0,_=0;for(const ae of Le)u+=ae.byteLength;const A=new ArrayBuffer(u),W=new Uint8Array(A);for(const ae of Le)W.set(new Uint8Array(ae),_),_+=ae.byteLength;return A}function O(...Le){let u=0,_=0;for(const ae of Le)u+=ae.length;const A=new ArrayBuffer(u),W=new Uint8Array(A);for(const ae of Le)W.set(ae,_),_+=ae.length;return W}function P(){const Le=new Uint8Array(this.valueHex);this.valueHex.byteLength>=2&&(255===Le[0]&&128&Le[1]||0===Le[0]&&!(128&Le[1]))&&this.warnings.push("Needlessly long format");const u=new ArrayBuffer(this.valueHex.byteLength),_=new Uint8Array(u);for(let Ge=0;Ge<this.valueHex.byteLength;Ge++)_[Ge]=0;_[0]=128&Le[0];const A=d(_,8),W=new ArrayBuffer(this.valueHex.byteLength),ae=new Uint8Array(W);for(let Ge=0;Ge<this.valueHex.byteLength;Ge++)ae[Ge]=Le[Ge];return ae[0]&=127,d(ae,8)-A}function b(Le){const u=Le<0?-1*Le:Le;let _=128;for(let A=1;A<8;A++){if(u<=_){if(Le<0){const Ge=f(_-u,8,A);return new Uint8Array(Ge)[0]|=128,Ge}let W=f(u,8,A),ae=new Uint8Array(W);if(128&ae[0]){const ve=W.slice(0),Ge=new Uint8Array(ve);W=new ArrayBuffer(W.byteLength+1),ae=new Uint8Array(W);for(let D=0;D<ve.byteLength;D++)ae[D+1]=Ge[D];ae[0]=0}return W}_*=Math.pow(2,8)}return new ArrayBuffer(0)}function M(Le,u){if(Le.byteLength!==u.byteLength)return!1;const _=new Uint8Array(Le),A=new Uint8Array(u);for(let W=0;W<_.length;W++)if(_[W]!==A[W])return!1;return!0}function k(Le,u){const _=Le.toString(10);if(u<_.length)return"";const A=u-_.length,W=new Array(A);for(let ve=0;ve<A;ve++)W[ve]="0";return W.join("").concat(_)}const N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";function R(Le,u=!1,_=!1,A=!1){let W=0,ae=0,ve=0,Ge="";const D=u?G:N;if(A){let V=0;for(let B=0;B<Le.length;B++)if(0!==Le.charCodeAt(B)){V=B;break}Le=Le.slice(V)}for(;W<Le.length;){const V=Le.charCodeAt(W++);W>=Le.length&&(ae=1);const B=Le.charCodeAt(W++);W>=Le.length&&(ve=1);const Q=Le.charCodeAt(W++),ge=V>>2,$e=(3&V)<<4|B>>4;let bt=(15&B)<<2|Q>>6,ln=63&Q;1===ae?bt=ln=64:1===ve&&(ln=64),Ge+=_?64===bt?`${D.charAt(ge)}${D.charAt($e)}`:64===ln?`${D.charAt(ge)}${D.charAt($e)}${D.charAt(bt)}`:`${D.charAt(ge)}${D.charAt($e)}${D.charAt(bt)}${D.charAt(ln)}`:`${D.charAt(ge)}${D.charAt($e)}${D.charAt(bt)}${D.charAt(ln)}`}return Ge}function j(Le,u=!1,_=!1){const A=u?G:N;function W(D){for(let V=0;V<64;V++)if(A.charAt(V)===D)return V;return 64}function ae(D){return 64===D?0:D}let ve=0,Ge="";for(;ve<Le.length;){const D=W(Le.charAt(ve++)),V=ve>=Le.length?0:W(Le.charAt(ve++)),B=ve>=Le.length?0:W(Le.charAt(ve++)),Q=ve>=Le.length?0:W(Le.charAt(ve++)),ge=ae(D)<<2|ae(V)>>4,$e=(15&ae(V))<<4|ae(B)>>2,bt=(3&ae(B))<<6|ae(Q);Ge+=String.fromCharCode(ge),64!==B&&(Ge+=String.fromCharCode($e)),64!==Q&&(Ge+=String.fromCharCode(bt))}if(_){let V=-1;for(let B=Ge.length-1;B>=0;B--)if(0!==Ge.charCodeAt(B)){V=B;break}Ge=-1!==V?Ge.slice(0,V+1):""}return Ge}function U(Le){let u="";const _=new Uint8Array(Le);for(const A of _)u+=String.fromCharCode(A);return u}function $(Le){const u=Le.length,_=new ArrayBuffer(u),A=new Uint8Array(_);for(let W=0;W<u;W++)A[W]=Le.charCodeAt(W);return _}const ne=Math.log(2);function se(Le){const u=Math.log(Le)/ne,_=Math.floor(u),A=Math.round(u);return _===A?_:A}function L(Le,u){for(const _ of u)delete Le[_]}function J(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function te(Le){let u=0,_=0;for(let W=0;W<Le.length;W++)u+=Le[W].byteLength;const A=new Uint8Array(u);for(let W=0;W<Le.length;W++){const ae=Le[W];A.set(new Uint8Array(ae),_),_+=ae.byteLength}return A.buffer}function E(Le,u,_,A){return u instanceof Uint8Array?u.byteLength?_<0?(Le.error="Wrong parameter: inputOffset less than zero",!1):A<0?(Le.error="Wrong parameter: inputLength less than zero",!1):!(u.byteLength-_-A<0&&(Le.error="End of input reached before message was fully decoded (inconsistent offset and length values)",1)):(Le.error="Wrong parameter: inputBuffer has zero length",!1):(Le.error="Wrong parameter: inputBuffer must be 'Uint8Array'",!1)}class re{constructor(){this.items=[]}write(u){this.items.push(u)}final(){return te(this.items)}}const K=[new Uint8Array([1])],me="0123456789",Ne="name",Ae="valueHexView",pt=new ArrayBuffer(0),Ye=new Uint8Array(0),qt="EndOfContent",jt="OCTET STRING",Dt="BIT STRING";function wt(Le){var u;return(u=class extends Le{constructor(...A){var W;super(...A);const ae=A[0]||{};this.isHexOnly=null!==(W=ae.isHexOnly)&&void 0!==W&&W,this.valueHexView=ae.valueHex?y._H.toUint8Array(ae.valueHex):Ye}get valueHex(){return this.valueHexView.slice().buffer}set valueHex(A){this.valueHexView=new Uint8Array(A)}fromBER(A,W,ae){const ve=A instanceof ArrayBuffer?new Uint8Array(A):A;if(!E(this,ve,W,ae))return-1;const Ge=W+ae;return this.valueHexView=ve.subarray(W,Ge),this.valueHexView.length?(this.blockLength=ae,Ge):(this.warnings.push("Zero buffer length"),W)}toBER(A=!1){return this.isHexOnly?A?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.byteLength===this.valueHexView.buffer.byteLength?this.valueHexView.buffer:this.valueHexView.slice().buffer:(this.error="Flag 'isHexOnly' is not set, abort",pt)}toJSON(){return{...super.toJSON(),isHexOnly:this.isHexOnly,valueHex:y.U$.ToHex(this.valueHexView)}}}).NAME="hexBlock",u}let z=(()=>{class Le{constructor({blockLength:_=0,error:A="",warnings:W=[],valueBeforeDecode:ae=Ye}={}){this.blockLength=_,this.error=A,this.warnings=W,this.valueBeforeDecodeView=y._H.toUint8Array(ae)}static blockName(){return this.NAME}get valueBeforeDecode(){return this.valueBeforeDecodeView.slice().buffer}set valueBeforeDecode(_){this.valueBeforeDecodeView=new Uint8Array(_)}toJSON(){return{blockName:this.constructor.NAME,blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:y.U$.ToHex(this.valueBeforeDecodeView)}}}return Le.NAME="baseBlock",Le})(),Y=(()=>{class Le extends z{fromBER(_,A,W){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}toBER(_,A){throw TypeError("User need to make a specific function in a class which extends 'ValueBlock'")}}return Le.NAME="valueBlock",Le})(),Z=(()=>{class Le extends(wt(z)){constructor({idBlock:_={}}={}){var A,W,ae,ve;super(),_?(this.isHexOnly=null!==(A=_.isHexOnly)&&void 0!==A&&A,this.valueHexView=_.valueHex?y._H.toUint8Array(_.valueHex):Ye,this.tagClass=null!==(W=_.tagClass)&&void 0!==W?W:-1,this.tagNumber=null!==(ae=_.tagNumber)&&void 0!==ae?ae:-1,this.isConstructed=null!==(ve=_.isConstructed)&&void 0!==ve&&ve):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}toBER(_=!1){let A=0;switch(this.tagClass){case 1:A|=0;break;case 2:A|=64;break;case 3:A|=128;break;case 4:A|=192;break;default:return this.error="Unknown tag class",pt}if(this.isConstructed&&(A|=32),this.tagNumber<31&&!this.isHexOnly){const ae=new Uint8Array(1);if(!_){let ve=this.tagNumber;ve&=31,A|=ve,ae[0]=A}return ae.buffer}if(!this.isHexOnly){const ae=f(this.tagNumber,7),ve=new Uint8Array(ae),Ge=ae.byteLength,D=new Uint8Array(Ge+1);if(D[0]=31|A,!_){for(let V=0;V<Ge-1;V++)D[V+1]=128|ve[V];D[Ge]=ve[Ge-1]}return D.buffer}const W=new Uint8Array(this.valueHexView.byteLength+1);if(W[0]=31|A,!_){const ae=this.valueHexView;for(let ve=0;ve<ae.length-1;ve++)W[ve+1]=128|ae[ve];W[this.valueHexView.byteLength]=ae[ae.length-1]}return W.buffer}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!E(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);if(0===ve.length)return this.error="Zero buffer length",-1;switch(192&ve[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~ve[0]),this.isHexOnly=!1;const D=31&ve[0];if(31!==D)this.tagNumber=D,this.blockLength=1;else{let V=1,B=this.valueHexView=new Uint8Array(255),Q=255;for(;128&ve[V];){if(B[V-1]=127&ve[V],V++,V>=ve.length)return this.error="End of input reached before message was fully decoded",-1;if(V===Q){Q+=255;const $e=new Uint8Array(Q);for(let bt=0;bt<B.length;bt++)$e[bt]=B[bt];B=this.valueHexView=new Uint8Array(Q)}}this.blockLength=V+1,B[V-1]=127&ve[V];const ge=new Uint8Array(V);for(let $e=0;$e<V;$e++)ge[$e]=B[$e];B=this.valueHexView=new Uint8Array(V),B.set(ge),this.blockLength<=9?this.tagNumber=d(B,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return A+this.blockLength}toJSON(){return{...super.toJSON(),tagClass:this.tagClass,tagNumber:this.tagNumber,isConstructed:this.isConstructed}}}return Le.NAME="identificationBlock",Le})(),Ce=(()=>{class Le extends z{constructor({lenBlock:_={}}={}){var A,W,ae;super(),this.isIndefiniteForm=null!==(A=_.isIndefiniteForm)&&void 0!==A&&A,this.longFormUsed=null!==(W=_.longFormUsed)&&void 0!==W&&W,this.length=null!==(ae=_.length)&&void 0!==ae?ae:0}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!E(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);if(0===ve.length)return this.error="Zero buffer length",-1;if(255===ve[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===ve[0],this.isIndefiniteForm)return this.blockLength=1,A+this.blockLength;if(this.longFormUsed=!!(128&ve[0]),!1===this.longFormUsed)return this.length=ve[0],this.blockLength=1,A+this.blockLength;const Ge=127&ve[0];if(Ge>8)return this.error="Too big integer",-1;if(Ge+1>ve.length)return this.error="End of input reached before message was fully decoded",-1;const D=A+1,V=ae.subarray(D,D+Ge);return 0===V[Ge-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(V,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=Ge+1,A+this.blockLength}toBER(_=!1){let A,W;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return A=new ArrayBuffer(1),!1===_&&(W=new Uint8Array(A),W[0]=128),A;if(this.longFormUsed){const ae=f(this.length,8);if(ae.byteLength>127)return this.error="Too big length",pt;if(A=new ArrayBuffer(ae.byteLength+1),_)return A;const ve=new Uint8Array(ae);W=new Uint8Array(A),W[0]=128|ae.byteLength;for(let Ge=0;Ge<ae.byteLength;Ge++)W[Ge+1]=ve[Ge];return A}return A=new ArrayBuffer(1),!1===_&&(W=new Uint8Array(A),W[0]=this.length),A}toJSON(){return{...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,longFormUsed:this.longFormUsed,length:this.length}}}return Le.NAME="lengthBlock",Le})();const we={};let at=(()=>{class Le extends z{constructor({name:_="",optional:A=!1,primitiveSchema:W,...ae}={},ve){super(ae),this.name=_,this.optional=A,W&&(this.primitiveSchema=W),this.idBlock=new Z(ae),this.lenBlock=new Ce(ae),this.valueBlock=ve?new ve(ae):new Y(ae)}fromBER(_,A,W){const ae=this.valueBlock.fromBER(_,A,this.lenBlock.isIndefiniteForm?W:this.lenBlock.length);return-1===ae?(this.error=this.valueBlock.error,ae):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ae)}toBER(_,A){const W=A||new re;A||Be(this);const ae=this.idBlock.toBER(_);if(W.write(ae),this.lenBlock.isIndefiniteForm)W.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(_,W),W.write(new ArrayBuffer(2));else{const ve=this.valueBlock.toBER(_);this.lenBlock.length=ve.byteLength;const Ge=this.lenBlock.toBER(_);W.write(Ge),W.write(ve)}return A?pt:W.final()}toJSON(){const _={...super.toJSON(),idBlock:this.idBlock.toJSON(),lenBlock:this.lenBlock.toJSON(),valueBlock:this.valueBlock.toJSON(),name:this.name,optional:this.optional};return this.primitiveSchema&&(_.primitiveSchema=this.primitiveSchema.toJSON()),_}toString(_="ascii"){return"ascii"===_?this.onAsciiEncoding():y.U$.ToHex(this.toBER())}onAsciiEncoding(){return`${this.constructor.NAME} : ${y.U$.ToHex(this.valueBlock.valueBeforeDecodeView)}`}isEqual(_){return this===_||_ instanceof this.constructor&&M(this.toBER(),_.toBER())}}return Le.NAME="BaseBlock",Le})();function Be(Le){if(Le instanceof we.Constructed)for(const u of Le.valueBlock.value)Be(u)&&(Le.lenBlock.isIndefiniteForm=!0);return!!Le.lenBlock.isIndefiniteForm}let ot=(()=>{class Le extends at{constructor({value:_="",...A}={},W){super(A,W),_&&this.fromString(_)}getValue(){return this.valueBlock.value}setValue(_){this.valueBlock.value=_}fromBER(_,A,W){const ae=this.valueBlock.fromBER(_,A,this.lenBlock.isIndefiniteForm?W:this.lenBlock.length);return-1===ae?(this.error=this.valueBlock.error,ae):(this.fromBuffer(this.valueBlock.valueHexView),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),ae)}onAsciiEncoding(){return`${this.constructor.NAME} : '${this.valueBlock.value}'`}}return Le.NAME="BaseStringBlock",Le})(),Ft=(()=>{class Le extends(wt(Y)){constructor({isHexOnly:_=!0,...A}={}){super(A),this.isHexOnly=_}}return Le.NAME="PrimitiveValueBlock",Le})();class it extends at{constructor(u={}){super(u,Ft),this.idBlock.isConstructed=!1}}function on(Le,u=0,_=Le.length){const A=u;let W=new at({},Y);const ae=new z;if(!E(ae,Le,u,_))return W.error=ae.error,{offset:-1,result:W};if(!Le.subarray(u,u+_).length)return W.error="Zero buffer length",{offset:-1,result:W};let Ge=W.idBlock.fromBER(Le,u,_);if(W.idBlock.warnings.length&&W.warnings.concat(W.idBlock.warnings),-1===Ge)return W.error=W.idBlock.error,{offset:-1,result:W};if(Ge=W.lenBlock.fromBER(Le,u=Ge,_-=W.idBlock.blockLength),W.lenBlock.warnings.length&&W.warnings.concat(W.lenBlock.warnings),-1===Ge)return W.error=W.lenBlock.error,{offset:-1,result:W};if(u=Ge,_-=W.lenBlock.blockLength,!W.idBlock.isConstructed&&W.lenBlock.isIndefiniteForm)return W.error="Indefinite length form used for primitive encoding form",{offset:-1,result:W};let D=at;if(1===W.idBlock.tagClass){if(W.idBlock.tagNumber>=37&&!1===W.idBlock.isHexOnly)return W.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:W};switch(W.idBlock.tagNumber){case 0:if(W.idBlock.isConstructed&&W.lenBlock.length>0)return W.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:W};D=we.EndOfContent;break;case 1:D=we.Boolean;break;case 2:D=we.Integer;break;case 3:D=we.BitString;break;case 4:D=we.OctetString;break;case 5:D=we.Null;break;case 6:D=we.ObjectIdentifier;break;case 10:D=we.Enumerated;break;case 12:D=we.Utf8String;break;case 13:D=we.RelativeObjectIdentifier;break;case 14:D=we.TIME;break;case 15:return W.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:W};case 16:D=we.Sequence;break;case 17:D=we.Set;break;case 18:D=we.NumericString;break;case 19:D=we.PrintableString;break;case 20:D=we.TeletexString;break;case 21:D=we.VideotexString;break;case 22:D=we.IA5String;break;case 23:D=we.UTCTime;break;case 24:D=we.GeneralizedTime;break;case 25:D=we.GraphicString;break;case 26:D=we.VisibleString;break;case 27:D=we.GeneralString;break;case 28:D=we.UniversalString;break;case 29:D=we.CharacterString;break;case 30:D=we.BmpString;break;case 31:D=we.DATE;break;case 32:D=we.TimeOfDay;break;case 33:D=we.DateTime;break;case 34:D=we.Duration;break;default:{const V=W.idBlock.isConstructed?new we.Constructed:new we.Primitive;V.idBlock=W.idBlock,V.lenBlock=W.lenBlock,V.warnings=W.warnings,W=V}}}else D=W.idBlock.isConstructed?we.Constructed:we.Primitive;return W=function Kt(Le,u){if(Le instanceof u)return Le;const _=new u;return _.idBlock=Le.idBlock,_.lenBlock=Le.lenBlock,_.warnings=Le.warnings,_.valueBeforeDecodeView=Le.valueBeforeDecodeView,_}(W,D),Ge=W.fromBER(Le,u,W.lenBlock.isIndefiniteForm?_:W.lenBlock.length),W.valueBeforeDecodeView=Le.subarray(A,A+W.blockLength),{offset:Ge,result:W}}function Pt(Le){if(!Le.byteLength){const u=new at({},Y);return u.error="Input buffer has zero length",{offset:-1,result:u}}return on(y._H.toUint8Array(Le).slice(),0,Le.byteLength)}function Jt(Le,u){return Le?1:u}we.Primitive=it,it.NAME="PRIMITIVE";let je=(()=>{class Le extends Y{constructor({value:_=[],isIndefiniteForm:A=!1,...W}={}){super(W),this.value=_,this.isIndefiniteForm=A}fromBER(_,A,W){const ae=y._H.toUint8Array(_);if(!E(this,ae,A,W))return-1;if(this.valueBeforeDecodeView=ae.subarray(A,A+W),0===this.valueBeforeDecodeView.length)return this.warnings.push("Zero buffer length"),A;let ve=A;for(;Jt(this.isIndefiniteForm,W)>0;){const Ge=on(ae,ve,W);if(-1===Ge.offset)return this.error=Ge.result.error,this.warnings.concat(Ge.result.warnings),-1;if(ve=Ge.offset,this.blockLength+=Ge.result.blockLength,W-=Ge.result.blockLength,this.value.push(Ge.result),this.isIndefiniteForm&&Ge.result.constructor.NAME===qt)break}return this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.NAME===qt?this.value.pop():this.warnings.push("No EndOfContent block encoded")),ve}toBER(_,A){const W=A||new re;for(let ae=0;ae<this.value.length;ae++)this.value[ae].toBER(_,W);return A?pt:W.final()}toJSON(){const _={...super.toJSON(),isIndefiniteForm:this.isIndefiniteForm,value:[]};for(const A of this.value)_.value.push(A.toJSON());return _}}return Le.NAME="ConstructedValueBlock",Le})();class X extends at{constructor(u={}){super(u,je),this.idBlock.isConstructed=!0}fromBER(u,_,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const W=this.valueBlock.fromBER(u,_,this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.valueBlock.error.length||(this.blockLength+=this.valueBlock.blockLength),W)}onAsciiEncoding(){const u=[];for(const A of this.valueBlock.value)u.push(A.toString("ascii").split("\n").map(W=>`  ${W}`).join("\n"));const _=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.NAME;return u.length?`${_} :\n${u.join("\n")}`:`${_} :`}}we.Constructed=X,X.NAME="CONSTRUCTED";let oe=(()=>{class Le extends Y{fromBER(_,A,W){return A}toBER(_){return pt}}return Le.override="EndOfContentValueBlock",Le})();class tt extends at{constructor(u={}){super(u,oe),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}}we.EndOfContent=tt,tt.NAME=qt;class Bt extends at{constructor(u={}){super(u,Y),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}fromBER(u,_,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),this.idBlock.error.length||(this.blockLength+=this.idBlock.blockLength),this.lenBlock.error.length||(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,_+A>u.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):_+A}toBER(u,_){const A=new ArrayBuffer(2);if(!u){const W=new Uint8Array(A);W[0]=5,W[1]=0}return _&&_.write(A),A}onAsciiEncoding(){return`${this.constructor.NAME}`}}we.Null=Bt,Bt.NAME="NULL";let cn=(()=>{class Le extends(wt(Y)){constructor({value:_,...A}={}){super(A),this.valueHexView=A.valueHex?y._H.toUint8Array(A.valueHex):new Uint8Array(1),_&&(this.value=_)}get value(){for(const _ of this.valueHexView)if(_>0)return!0;return!1}set value(_){this.valueHexView[0]=_?255:0}fromBER(_,A,W){const ae=y._H.toUint8Array(_);return E(this,ae,A,W)?(this.valueHexView=ae.subarray(A,A+W),W>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,P.call(this),this.blockLength=W,A+W):-1}toBER(){return this.valueHexView.slice()}toJSON(){return{...super.toJSON(),value:this.value}}}return Le.NAME="BooleanValueBlock",Le})();class Mn extends at{constructor(u={}){super(u,cn),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}getValue(){return this.valueBlock.value}setValue(u){this.valueBlock.value=u}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.getValue}`}}we.Boolean=Mn,Mn.NAME="BOOLEAN";let kn=(()=>{class Le extends(wt(je)){constructor({isConstructed:_=!1,...A}={}){super(A),this.isConstructed=_}fromBER(_,A,W){let ae=0;if(this.isConstructed){if(this.isHexOnly=!1,ae=je.prototype.fromBER.call(this,_,A,W),-1===ae)return ae;for(let ve=0;ve<this.value.length;ve++){const Ge=this.value[ve].constructor.NAME;if(Ge===qt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(Ge!==jt)return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,ae=super.fromBER(_,A,W),this.blockLength=W;return ae}toBER(_,A){return this.isConstructed?je.prototype.toBER.call(this,_,A):_?new ArrayBuffer(this.valueHexView.byteLength):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),isConstructed:this.isConstructed}}}return Le.NAME="OctetStringValueBlock",Le})();class It extends at{constructor({idBlock:u={},lenBlock:_={},...A}={}){var W,ae;null!==(W=A.isConstructed)&&void 0!==W||(A.isConstructed=!(null===(ae=A.value)||void 0===ae||!ae.length)),super({idBlock:{isConstructed:A.isConstructed,...u},lenBlock:{..._,isIndefiniteForm:!!A.isIndefiniteForm},...A},kn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(u,_,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),_;if(!this.valueBlock.isConstructed){const ae=(u instanceof ArrayBuffer?new Uint8Array(u):u).subarray(_,_+A);try{if(ae.byteLength){const ve=on(ae,0,ae.byteLength);-1!==ve.offset&&ve.offset===A&&(this.valueBlock.value=[ve.result])}}catch{}}return super.fromBER(u,_,A)}onAsciiEncoding(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?X.prototype.onAsciiEncoding.call(this):`${this.constructor.NAME} : ${y.U$.ToHex(this.valueBlock.valueHexView)}`}getValue(){if(!this.idBlock.isConstructed)return this.valueBlock.valueHexView.slice().buffer;const u=[];for(const _ of this.valueBlock.value)_ instanceof It&&u.push(_.valueBlock.valueHexView);return y._H.concat(u)}}we.OctetString=It,It.NAME=jt;let Rn=(()=>{class Le extends(wt(je)){constructor({unusedBits:_=0,isConstructed:A=!1,...W}={}){super(W),this.unusedBits=_,this.isConstructed=A,this.blockLength=this.valueHexView.byteLength}fromBER(_,A,W){if(!W)return A;let ae=-1;if(this.isConstructed){if(ae=je.prototype.fromBER.call(this,_,A,W),-1===ae)return ae;for(const D of this.value){const V=D.constructor.NAME;if(V===qt){if(this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(V!==Dt)return this.error="BIT STRING may consists of BIT STRINGs only",-1;const B=D.valueBlock;if(this.unusedBits>0&&B.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;this.unusedBits=B.unusedBits}return ae}const ve=y._H.toUint8Array(_);if(!E(this,ve,A,W))return-1;const Ge=ve.subarray(A,A+W);if(this.unusedBits=Ge[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const D=Ge.subarray(1);try{if(D.byteLength){const V=on(D,0,D.byteLength);-1!==V.offset&&V.offset===W-1&&(this.value=[V.result])}}catch{}}return this.valueHexView=Ge.subarray(1),this.blockLength=Ge.length,A+W}toBER(_,A){if(this.isConstructed)return je.prototype.toBER.call(this,_,A);if(_)return new ArrayBuffer(this.valueHexView.byteLength+1);if(!this.valueHexView.byteLength)return pt;const W=new Uint8Array(this.valueHexView.length+1);return W[0]=this.unusedBits,W.set(this.valueHexView,1),W.buffer}toJSON(){return{...super.toJSON(),unusedBits:this.unusedBits,isConstructed:this.isConstructed}}}return Le.NAME="BitStringValueBlock",Le})();var Ct;class lt extends at{constructor({idBlock:u={},lenBlock:_={},...A}={}){var W,ae;null!==(W=A.isConstructed)&&void 0!==W||(A.isConstructed=!(null===(ae=A.value)||void 0===ae||!ae.length)),super({idBlock:{isConstructed:A.isConstructed,...u},lenBlock:{..._,isIndefiniteForm:!!A.isIndefiniteForm},...A},Rn),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}fromBER(u,_,A){return this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(u,_,A)}onAsciiEncoding(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return X.prototype.onAsciiEncoding.call(this);{const u=[],_=this.valueBlock.valueHexView;for(const W of _)u.push(W.toString(2).padStart(8,"0"));const A=u.join("");return`${this.constructor.NAME} : ${A.substring(0,A.length-this.valueBlock.unusedBits)}`}}}function yt(Le,u){const _=new Uint8Array([0]),A=new Uint8Array(Le),W=new Uint8Array(u);let ae=A.slice(0);const ve=ae.length-1,Ge=W.slice(0),D=Ge.length-1;let V=0,Q=0;for(let ge=D<ve?ve:D;ge>=0;ge--,Q++)V=1==Q<Ge.length?ae[ve-Q]+Ge[D-Q]+_[0]:ae[ve-Q]+_[0],_[0]=V/10,1==Q>=ae.length?ae=O(new Uint8Array([V%10]),ae):ae[ve-Q]=V%10;return _[0]>0&&(ae=O(_,ae)),ae}function Ot(Le){if(Le>=K.length)for(let u=K.length;u<=Le;u++){const _=new Uint8Array([0]);let A=K[u-1].slice(0);for(let W=A.length-1;W>=0;W--){const ae=new Uint8Array([(A[W]<<1)+_[0]]);_[0]=ae[0]/10,A[W]=ae[0]%10}_[0]>0&&(A=O(_,A)),K.push(A)}return K[Le]}function tn(Le,u){let _=0;const A=new Uint8Array(Le),W=new Uint8Array(u),ae=A.slice(0),ve=ae.length-1,Ge=W.slice(0),D=Ge.length-1;let V,B=0;for(let Q=D;Q>=0;Q--,B++)V=ae[ve-B]-Ge[D-B]-_,1==V<0?(_=1,ae[ve-B]=V+10):(_=0,ae[ve-B]=V);if(_>0)for(let Q=ve-D+1;Q>=0;Q--,B++){if(V=ae[ve-B]-_,!(V<0)){_=0,ae[ve-B]=V;break}_=1,ae[ve-B]=V+10}return ae.slice()}we.BitString=lt,lt.NAME=Dt;class In extends(wt(Y)){constructor({value:u,..._}={}){super(_),this._valueDec=0,_.valueHex&&this.setValueHex(),void 0!==u&&(this.valueDec=u)}setValueHex(){this.valueHexView.length>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,this.valueHexView.length>0&&(this._valueDec=P.call(this)))}set valueDec(u){this._valueDec=u,this.isHexOnly=!1,this.valueHexView=new Uint8Array(b(u))}get valueDec(){return this._valueDec}fromDER(u,_,A,W=0){const ae=this.fromBER(u,_,A);if(-1===ae)return ae;const ve=this.valueHexView;return 0===ve[0]&&128&ve[1]?this.valueHexView=ve.subarray(1):0!==W&&ve.length<W&&(W-ve.length>1&&(W=ve.length+1),this.valueHexView=ve.subarray(W-ve.length)),ae}toDER(u=!1){const _=this.valueHexView;switch(!0){case!!(128&_[0]):{const A=new Uint8Array(this.valueHexView.length+1);A[0]=0,A.set(_,1),this.valueHexView=A}break;case 0===_[0]&&!(128&_[1]):this.valueHexView=this.valueHexView.subarray(1)}return this.toBER(u)}fromBER(u,_,A){const W=super.fromBER(u,_,A);return-1===W||this.setValueHex(),W}toBER(u){return u?new ArrayBuffer(this.valueHexView.length):this.valueHexView.slice().buffer}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}toString(){const u=8*this.valueHexView.length-1;let W,_=new Uint8Array(8*this.valueHexView.length/3),A=0;const ae=this.valueHexView;let ve="",Ge=!1;for(let D=ae.byteLength-1;D>=0;D--){W=ae[D];for(let V=0;V<8;V++)1&~W||(A===u?(_=tn(Ot(A),_),ve="-"):_=yt(_,Ot(A))),A++,W>>=1}for(let D=0;D<_.length;D++)_[D]&&(Ge=!0),Ge&&(ve+=me.charAt(_[D]));return!1===Ge&&(ve+=me.charAt(0)),ve}}Ct=In,In.NAME="IntegerValueBlock",Object.defineProperty(Ct.prototype,"valueHex",{set:function(Le){this.valueHexView=new Uint8Array(Le),this.setValueHex()},get:function(){return this.valueHexView.slice().buffer}});class fn extends at{constructor(u={}){super(u,In),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}toBigInt(){return J(),BigInt(this.valueBlock.toString())}static fromBigInt(u){J();const _=BigInt(u),A=new re,W=_.toString(16).replace(/^-/,""),ae=new Uint8Array(y.U$.FromHex(W));if(_<0){const Ge=new Uint8Array(ae.length+(128&ae[0]?1:0));Ge[0]|=128;const V=BigInt(`0x${y.U$.ToHex(Ge)}`)+_,B=y._H.toUint8Array(y.U$.FromHex(V.toString(16)));B[0]|=128,A.write(B)}else 128&ae[0]&&A.write(new Uint8Array([0])),A.write(ae);return new fn({valueHex:A.final()})}convertToDER(){const u=new fn({valueHex:this.valueBlock.valueHexView});return u.valueBlock.toDER(),u}convertFromDER(){return new fn({valueHex:0===this.valueBlock.valueHexView[0]?this.valueBlock.valueHexView.subarray(1):this.valueBlock.valueHexView})}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()}`}}we.Integer=fn,fn.NAME="INTEGER";class Hn extends fn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}}we.Enumerated=Hn,Hn.NAME="ENUMERATED";let Mt=(()=>{class Le extends(wt(Y)){constructor({valueDec:_=-1,isFirstSid:A=!1,...W}={}){super(W),this.valueDec=_,this.isFirstSid=A}fromBER(_,A,W){if(!W)return A;const ae=y._H.toUint8Array(_);if(!E(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);this.valueHexView=new Uint8Array(W);for(let D=0;D<W&&(this.valueHexView[D]=127&ve[D],this.blockLength++,128&ve[D]);D++);const Ge=new Uint8Array(this.blockLength);for(let D=0;D<this.blockLength;D++)Ge[D]=this.valueHexView[D];return this.valueHexView=Ge,128&ve[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}set valueBigInt(_){J();let A=BigInt(_).toString(2);for(;A.length%7;)A="0"+A;const W=new Uint8Array(A.length/7);for(let ae=0;ae<W.length;ae++)W[ae]=parseInt(A.slice(7*ae,7*ae+7),2)+(ae+1<W.length?128:0);this.fromBER(W.buffer,0,W.length)}toBER(_){if(this.isHexOnly){if(_)return new ArrayBuffer(this.valueHexView.byteLength);const ae=this.valueHexView,ve=new Uint8Array(this.blockLength);for(let Ge=0;Ge<this.blockLength-1;Ge++)ve[Ge]=128|ae[Ge];return ve[this.blockLength-1]=ae[this.blockLength-1],ve.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const W=new Uint8Array(A.byteLength);if(!_){const ae=new Uint8Array(A),ve=A.byteLength-1;for(let Ge=0;Ge<ve;Ge++)W[Ge]=128|ae[Ge];W[ve]=ae[ve]}return W}toString(){let _="";if(this.isHexOnly)_=y.U$.ToHex(this.valueHexView);else if(this.isFirstSid){let A=this.valueDec;this.valueDec<=39?_="0.":this.valueDec<=79?(_="1.",A-=40):(_="2.",A-=80),_+=A.toString()}else _=this.valueDec.toString();return _}toJSON(){return{...super.toJSON(),valueDec:this.valueDec,isFirstSid:this.isFirstSid}}}return Le.NAME="sidBlock",Le})(),ht=(()=>{class Le extends Y{constructor({value:_="",...A}={}){super(A),this.value=[],_&&this.fromString(_)}fromBER(_,A,W){let ae=A;for(;W>0;){const ve=new Mt;if(ae=ve.fromBER(_,ae,W),-1===ae)return this.blockLength=0,this.error=ve.error,ae;0===this.value.length&&(ve.isFirstSid=!0),this.blockLength+=ve.blockLength,W-=ve.blockLength,this.value.push(ve)}return ae}toBER(_){const A=[];for(let W=0;W<this.value.length;W++){const ae=this.value[W].toBER(_);if(0===ae.byteLength)return this.error=this.value[W].error,pt;A.push(ae)}return te(A)}fromString(_){this.value=[];let A=0,W=0,ae="",ve=!1;do{if(W=_.indexOf(".",A),ae=-1===W?_.substring(A):_.substring(A,W),A=W+1,ve){const Ge=this.value[0];let D=0;switch(Ge.valueDec){case 0:break;case 1:D=40;break;case 2:D=80;break;default:return void(this.value=[])}const V=parseInt(ae,10);if(isNaN(V))return;Ge.valueDec=V+D,ve=!1}else{const Ge=new Mt;if(ae>Number.MAX_SAFE_INTEGER){J();const D=BigInt(ae);Ge.valueBigInt=D}else if(Ge.valueDec=parseInt(ae,10),isNaN(Ge.valueDec))return;this.value.length||(Ge.isFirstSid=!0,ve=!0),this.value.push(Ge)}}while(-1!==W)}toString(){let _="",A=!1;for(let W=0;W<this.value.length;W++){A=this.value[W].isHexOnly;let ae=this.value[W].toString();0!==W&&(_=`${_}.`),A?(ae=`{${ae}}`,this.value[W].isFirstSid?_=`2.{${ae} - 80}`:_+=ae):_+=ae}return _}toJSON(){const _={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)_.sidArray.push(this.value[A].toJSON());return _}}return Le.NAME="ObjectIdentifierValueBlock",Le})();class Gt extends at{constructor(u={}){super(u,ht),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}getValue(){return this.valueBlock.toString()}setValue(u){this.valueBlock.fromString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}we.ObjectIdentifier=Gt,Gt.NAME="OBJECT IDENTIFIER";let sn=(()=>{class Le extends(wt(z)){constructor({valueDec:_=0,...A}={}){super(A),this.valueDec=_}fromBER(_,A,W){if(0===W)return A;const ae=y._H.toUint8Array(_);if(!E(this,ae,A,W))return-1;const ve=ae.subarray(A,A+W);this.valueHexView=new Uint8Array(W);for(let D=0;D<W&&(this.valueHexView[D]=127&ve[D],this.blockLength++,128&ve[D]);D++);const Ge=new Uint8Array(this.blockLength);for(let D=0;D<this.blockLength;D++)Ge[D]=this.valueHexView[D];return this.valueHexView=Ge,128&ve[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===this.valueHexView[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(this.valueHexView,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),A+this.blockLength)}toBER(_){if(this.isHexOnly){if(_)return new ArrayBuffer(this.valueHexView.byteLength);const ae=this.valueHexView,ve=new Uint8Array(this.blockLength);for(let Ge=0;Ge<this.blockLength-1;Ge++)ve[Ge]=128|ae[Ge];return ve[this.blockLength-1]=ae[this.blockLength-1],ve.buffer}const A=f(this.valueDec,7);if(0===A.byteLength)return this.error="Error during encoding SID value",pt;const W=new Uint8Array(A.byteLength);if(!_){const ae=new Uint8Array(A),ve=A.byteLength-1;for(let Ge=0;Ge<ve;Ge++)W[Ge]=128|ae[Ge];W[ve]=ae[ve]}return W.buffer}toString(){let _="";return _=this.isHexOnly?y.U$.ToHex(this.valueHexView):this.valueDec.toString(),_}toJSON(){return{...super.toJSON(),valueDec:this.valueDec}}}return Le.NAME="relativeSidBlock",Le})(),bn=(()=>{class Le extends Y{constructor({value:_="",...A}={}){super(A),this.value=[],_&&this.fromString(_)}fromBER(_,A,W){let ae=A;for(;W>0;){const ve=new sn;if(ae=ve.fromBER(_,ae,W),-1===ae)return this.blockLength=0,this.error=ve.error,ae;this.blockLength+=ve.blockLength,W-=ve.blockLength,this.value.push(ve)}return ae}toBER(_,A){const W=[];for(let ae=0;ae<this.value.length;ae++){const ve=this.value[ae].toBER(_);if(0===ve.byteLength)return this.error=this.value[ae].error,pt;W.push(ve)}return te(W)}fromString(_){this.value=[];let A=0,W=0,ae="";do{W=_.indexOf(".",A),ae=-1===W?_.substring(A):_.substring(A,W),A=W+1;const ve=new sn;if(ve.valueDec=parseInt(ae,10),isNaN(ve.valueDec))return!0;this.value.push(ve)}while(-1!==W);return!0}toString(){let _="",A=!1;for(let W=0;W<this.value.length;W++){A=this.value[W].isHexOnly;let ae=this.value[W].toString();0!==W&&(_=`${_}.`),A&&(ae=`{${ae}}`),_+=ae}return _}toJSON(){const _={...super.toJSON(),value:this.toString(),sidArray:[]};for(let A=0;A<this.value.length;A++)_.sidArray.push(this.value[A].toJSON());return _}}return Le.NAME="RelativeObjectIdentifierValueBlock",Le})();class Jn extends at{constructor(u={}){super(u,bn),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}getValue(){return this.valueBlock.toString()}setValue(u){this.valueBlock.fromString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.valueBlock.toString()||"empty"}`}toJSON(){return{...super.toJSON(),value:this.getValue()}}}we.RelativeObjectIdentifier=Jn,Jn.NAME="RelativeObjectIdentifier";class gn extends X{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}}we.Sequence=gn,gn.NAME="SEQUENCE";class mi extends X{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}}we.Set=mi,mi.NAME="SET";let ii=(()=>{class Le extends(wt(Y)){constructor({..._}={}){super(_),this.isHexOnly=!0,this.value=""}toJSON(){return{...super.toJSON(),value:this.value}}}return Le.NAME="StringValueBlock",Le})(),Pi=(()=>{class Le extends ii{}return Le.NAME="SimpleStringValueBlock",Le})(),Qn=(()=>{class Le extends ot{constructor({..._}={}){super(_,Pi)}fromBuffer(_){this.valueBlock.value=String.fromCharCode.apply(null,y._H.toUint8Array(_))}fromString(_){const A=_.length,W=this.valueBlock.valueHexView=new Uint8Array(A);for(let ae=0;ae<A;ae++)W[ae]=_.charCodeAt(ae);this.valueBlock.value=_}}return Le.NAME="SIMPLE STRING",Le})(),Ti=(()=>{class Le extends Qn{fromBuffer(_){this.valueBlock.valueHexView=y._H.toUint8Array(_);try{this.valueBlock.value=y.U$.ToUtf8String(_)}catch(A){this.warnings.push(`Error during "decodeURIComponent": ${A}, using raw string`),this.valueBlock.value=y.U$.ToBinary(_)}}fromString(_){this.valueBlock.valueHexView=new Uint8Array(y.U$.FromUtf8String(_)),this.valueBlock.value=_}}return Le.NAME="Utf8StringValueBlock",Le})();class Hi extends Ti{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}}we.Utf8String=Hi,Hi.NAME="UTF8String";let $i=(()=>{class Le extends Qn{fromBuffer(_){this.valueBlock.value=y.U$.ToUtf16String(_),this.valueBlock.valueHexView=y._H.toUint8Array(_)}fromString(_){this.valueBlock.value=_,this.valueBlock.valueHexView=new Uint8Array(y.U$.FromUtf16String(_))}}return Le.NAME="BmpStringValueBlock",Le})();class et extends $i{constructor({...u}={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}}we.BmpString=et,et.NAME="BMPString";let At=(()=>{class Le extends Qn{fromBuffer(_){const A=ArrayBuffer.isView(_)?_.slice().buffer:_.slice(0),W=new Uint8Array(A);for(let ae=0;ae<W.length;ae+=4)W[ae]=W[ae+3],W[ae+1]=W[ae+2],W[ae+2]=0,W[ae+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(A))}fromString(_){const A=_.length,W=this.valueBlock.valueHexView=new Uint8Array(4*A);for(let ae=0;ae<A;ae++){const ve=f(_.charCodeAt(ae),8),Ge=new Uint8Array(ve);if(Ge.length>4)continue;const D=4-Ge.length;for(let V=Ge.length-1;V>=0;V--)W[4*ae+V+D]=Ge[V]}this.valueBlock.value=_}}return Le.NAME="UniversalStringValueBlock",Le})();class zt extends At{constructor({...u}={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}}we.UniversalString=zt,zt.NAME="UniversalString";class Yt extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}}we.NumericString=Yt,Yt.NAME="NumericString";class Zt extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}}we.PrintableString=Zt,Zt.NAME="PrintableString";class _e extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}}we.TeletexString=_e,_e.NAME="TeletexString";class ye extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}}we.VideotexString=ye,ye.NAME="VideotexString";class ze extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}}we.IA5String=ze,ze.NAME="IA5String";class vt extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}}we.GraphicString=vt,vt.NAME="GraphicString";class Vn extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}}we.VisibleString=Vn,Vn.NAME="VisibleString";class yi extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}}we.GeneralString=yi,yi.NAME="GeneralString";class Ui extends Qn{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}}we.CharacterString=Ui,Ui.NAME="CharacterString";class Wn extends Vn{constructor({value:u,valueDate:_,...A}={}){if(super(A),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,u){this.fromString(u),this.valueBlock.valueHexView=new Uint8Array(u.length);for(let W=0;W<u.length;W++)this.valueBlock.valueHexView[W]=u.charCodeAt(W)}_&&(this.fromDate(_),this.valueBlock.valueHexView=new Uint8Array(this.toBuffer())),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,y._H.toUint8Array(u)))}toBuffer(){const u=this.toString(),_=new ArrayBuffer(u.length),A=new Uint8Array(_);for(let W=0;W<u.length;W++)A[W]=u.charCodeAt(W);return _}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(u){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(u);if(null===A)return void(this.error="Wrong input string for conversion");const W=parseInt(A[1],10);this.year=W>=50?1900+W:2e3+W,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(u="iso"){if("iso"===u){const _=new Array(7);return _[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),_[1]=k(this.month,2),_[2]=k(this.day,2),_[3]=k(this.hour,2),_[4]=k(this.minute,2),_[5]=k(this.second,2),_[6]="Z",_.join("")}return super.toString(u)}onAsciiEncoding(){return`${this.constructor.NAME} : ${this.toDate().toISOString()}`}toJSON(){return{...super.toJSON(),year:this.year,month:this.month,day:this.day,hour:this.hour,minute:this.minute,second:this.second}}}we.UTCTime=Wn,Wn.NAME="UTCTime";class lr extends Wn{constructor(u={}){var _;super(u),null!==(_=this.millisecond)&&void 0!==_||(this.millisecond=0),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromDate(u){super.fromDate(u),this.millisecond=u.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(u){let ve,_=!1,A="",W="",ae=0,Ge=0,D=0;if("Z"===u[u.length-1])A=u.substring(0,u.length-1),_=!0;else{const Q=new Number(u[u.length-1]);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");A=u}if(_){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Q=1,ge=A.indexOf("+"),$e="";if(-1===ge&&(ge=A.indexOf("-"),Q=-1),-1!==ge){if($e=A.substring(ge+1),A=A.substring(0,ge),2!==$e.length&&4!==$e.length)throw new Error("Wrong input string for conversion");let bt=parseInt($e.substring(0,2),10);if(isNaN(bt.valueOf()))throw new Error("Wrong input string for conversion");if(Ge=Q*bt,4===$e.length){if(bt=parseInt($e.substring(2,4),10),isNaN(bt.valueOf()))throw new Error("Wrong input string for conversion");D=Q*bt}}}let V=A.indexOf(".");if(-1===V&&(V=A.indexOf(",")),-1!==V){const Q=new Number(`0${A.substring(V)}`);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");ae=Q.valueOf(),W=A.substring(0,V)}else W=A;switch(!0){case 8===W.length:if(ve=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.minute=Math.floor(Q),Q=60*(Q-this.minute),this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 12===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 14===W.length:ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ae));break;default:throw new Error("Wrong input string for conversion")}const B=ve.exec(W);if(null===B)throw new Error("Wrong input string for conversion");for(let Q=1;Q<B.length;Q++)switch(Q){case 1:this.year=parseInt(B[Q],10);break;case 2:this.month=parseInt(B[Q],10);break;case 3:this.day=parseInt(B[Q],10);break;case 4:this.hour=parseInt(B[Q],10)+Ge;break;case 5:this.minute=parseInt(B[Q],10)+D;break;case 6:this.second=parseInt(B[Q],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===_){const Q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Q.getUTCFullYear(),this.month=Q.getUTCMonth(),this.day=Q.getUTCDay(),this.hour=Q.getUTCHours(),this.minute=Q.getUTCMinutes(),this.second=Q.getUTCSeconds(),this.millisecond=Q.getUTCMilliseconds()}}toString(u="iso"){if("iso"===u){const _=[];return _.push(k(this.year,4)),_.push(k(this.month,2)),_.push(k(this.day,2)),_.push(k(this.hour,2)),_.push(k(this.minute,2)),_.push(k(this.second,2)),0!==this.millisecond&&(_.push("."),_.push(k(this.millisecond,3))),_.push("Z"),_.join("")}return super.toString(u)}toJSON(){return{...super.toJSON(),millisecond:this.millisecond}}}we.GeneralizedTime=lr,lr.NAME="GeneralizedTime";class Mr extends Hi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}}we.DATE=Mr,Mr.NAME="DATE";class gs extends Hi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}}we.TimeOfDay=gs,gs.NAME="TimeOfDay";class _i extends Hi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}}we.DateTime=_i,_i.NAME="DateTime";class vs extends Hi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}}we.Duration=vs,vs.NAME="Duration";class Ls extends Hi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}}we.TIME=Ls,Ls.NAME="TIME";class vr{constructor({name:u="",optional:_=!1}={}){this.name=u,this.optional=_}}class yr extends vr{constructor({value:u=[],..._}={}){super(_),this.value=u}}class Ni extends vr{constructor({value:u=new vr,local:_=!1,...A}={}){super(A),this.value=u,this.local=_}}class Xs{constructor({data:u=Ye}={}){this.dataView=y._H.toUint8Array(u)}get data(){return this.dataView.slice().buffer}set data(u){this.dataView=y._H.toUint8Array(u)}fromBER(u,_,A){const W=_+A;return this.dataView=y._H.toUint8Array(u).subarray(_,W),W}toBER(u){return this.dataView.slice().buffer}}function ui(Le,u,_){if(_ instanceof yr){for(let ae=0;ae<_.value.length;ae++)if(ui(Le,u,_.value[ae]).verified)return{verified:!0,result:Le};{const ae={verified:!1,result:{error:"Wrong values for Choice type"}};return _.hasOwnProperty(Ne)&&(ae.name=_.name),ae}}if(_ instanceof vr)return _.hasOwnProperty(Ne)&&(Le[_.name]=u),{verified:!0,result:Le};if(!(Le instanceof Object))return{verified:!1,result:{error:"Wrong root object"}};if(!(u instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 data"}};if(!(_ instanceof Object))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("idBlock"in _))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("fromBER"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(!("toBER"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const A=_.idBlock.toBER(!1);if(0===A.byteLength)return{verified:!1,result:{error:"Error encoding idBlock for ASN.1 schema"}};if(-1===_.idBlock.fromBER(A,0,A.byteLength))return{verified:!1,result:{error:"Error decoding idBlock for ASN.1 schema"}};if(!1===_.idBlock.hasOwnProperty("tagClass"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.tagClass!==u.idBlock.tagClass)return{verified:!1,result:Le};if(!1===_.idBlock.hasOwnProperty("tagNumber"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.tagNumber!==u.idBlock.tagNumber)return{verified:!1,result:Le};if(!1===_.idBlock.hasOwnProperty("isConstructed"))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.isConstructed!==u.idBlock.isConstructed)return{verified:!1,result:Le};if(!("isHexOnly"in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};if(_.idBlock.isHexOnly!==u.idBlock.isHexOnly)return{verified:!1,result:Le};if(_.idBlock.isHexOnly){if(!(Ae in _.idBlock))return{verified:!1,result:{error:"Wrong ASN.1 schema"}};const ae=_.idBlock.valueHexView,ve=u.idBlock.valueHexView;if(ae.length!==ve.length)return{verified:!1,result:Le};for(let Ge=0;Ge<ae.length;Ge++)if(ae[Ge]!==ve[1])return{verified:!1,result:Le}}if(_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(Le[_.name]=u)),_ instanceof we.Constructed){let ae=0,ve={verified:!1,result:{error:"Unknown error"}},Ge=_.valueBlock.value.length;if(Ge>0&&_.valueBlock.value[0]instanceof Ni&&(Ge=u.valueBlock.value.length),0===Ge)return{verified:!0,result:Le};if(0===u.valueBlock.value.length&&0!==_.valueBlock.value.length){let D=!0;for(let V=0;V<_.valueBlock.value.length;V++)D=D&&(_.valueBlock.value[V].optional||!1);return D?{verified:!0,result:Le}:(_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),Le.error="Inconsistent object length",{verified:!1,result:Le})}for(let D=0;D<Ge;D++)if(D-ae>=u.valueBlock.value.length){if(!1===_.valueBlock.value[D].optional){const V={verified:!1,result:Le};return Le.error="Inconsistent length between ASN.1 data and schema",_.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],V.name=_.name)),V}}else if(_.valueBlock.value[0]instanceof Ni){if(ve=ui(Le,u.valueBlock.value[D],_.valueBlock.value[0].value),!1===ve.verified){if(!_.valueBlock.value[0].optional)return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),ve;ae++}if(Ne in _.valueBlock.value[0]&&_.valueBlock.value[0].name.length>0){let V={};V="local"in _.valueBlock.value[0]&&_.valueBlock.value[0].local?u:Le,typeof V[_.valueBlock.value[0].name]>"u"&&(V[_.valueBlock.value[0].name]=[]),V[_.valueBlock.value[0].name].push(u.valueBlock.value[D])}}else if(ve=ui(Le,u.valueBlock.value[D-ae],_.valueBlock.value[D]),!1===ve.verified){if(!_.valueBlock.value[D].optional)return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&delete Le[_.name]),ve;ae++}if(!1===ve.verified){const D={verified:!1,result:Le};return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],D.name=_.name)),D}return{verified:!0,result:Le}}if(_.primitiveSchema&&Ae in u.valueBlock){const ae=on(u.valueBlock.valueHexView);if(-1===ae.offset){const ve={verified:!1,result:ae.result};return _.name&&(_.name=_.name.replace(/^\s+|\s+$/g,""),_.name&&(delete Le[_.name],ve.name=_.name)),ve}return ui(Le,ae.result,_.primitiveSchema)}return{verified:!0,result:Le}}class $n{constructor(u={}){this.algorithmId=w(u,"algorithmId",$n.defaultValues("algorithmId")),"algorithmParams"in u&&(this.algorithmParams=w(u,"algorithmParams",$n.defaultValues("algorithmParams"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"algorithmId":return"";case"algorithmParams":return new vr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"algorithmId":return""===_;case"algorithmParams":return _ instanceof vr;default:throw new Error(`Invalid member name for AlgorithmIdentifier class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",optional:_.optional||!1,value:[new Gt({name:_.algorithmIdentifier||""}),new vr({name:_.algorithmParams||"",optional:!0})]})}fromSchema(u){L(u,["algorithm","params"]);const _=ui(u,u,$n.schema({names:{algorithmIdentifier:"algorithm",algorithmParams:"params"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AlgorithmIdentifier");this.algorithmId=_.result.algorithm.valueBlock.toString(),"params"in _.result&&(this.algorithmParams=_.result.params)}toSchema(){const u=[];return u.push(new Gt({value:this.algorithmId})),"algorithmParams"in this&&!(this.algorithmParams instanceof vr)&&u.push(this.algorithmParams),new gn({value:u})}toJSON(){const u={algorithmId:this.algorithmId};return"algorithmParams"in this&&!(this.algorithmParams instanceof vr)&&(u.algorithmParams=this.algorithmParams.toJSON()),u}isEqual(u){return u instanceof $n&&this.algorithmId===u.algorithmId&&("algorithmParams"in this?"algorithmParams"in u&&JSON.stringify(this.algorithmParams)===JSON.stringify(u.algorithmParams):!("algorithmParams"in u))}}let Qr=(()=>{class Le{static register(_,A,W){this.namedCurves[_.toLowerCase()]=this.namedCurves[A]={name:_,id:A,size:W}}static find(_){return this.namedCurves[_.toLowerCase()]||null}}return Le.namedCurves={},Le})();Qr.register("P-256","1.2.840.10045.3.1.7",32),Qr.register("P-384","1.3.132.0.34",48),Qr.register("P-521","1.3.132.0.35",66),Qr.register("brainpoolP256r1","1.3.36.3.3.2.8.1.1.7",32),Qr.register("brainpoolP384r1","1.3.36.3.3.2.8.1.1.11",48),Qr.register("brainpoolP512r1","1.3.36.3.3.2.8.1.1.13",64);class mr{constructor(u={}){this.x=w(u,"x",mr.defaultValues("x")),this.y=w(u,"y",mr.defaultValues("y")),this.namedCurve=w(u,"namedCurve",mr.defaultValues("namedCurve")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"x":case"y":return new ArrayBuffer(0);case"namedCurve":return"";default:throw new Error(`Invalid member name for ECCPublicKey class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"x":case"y":return M(_,mr.defaultValues(u));case"namedCurve":return""===_;default:throw new Error(`Invalid member name for ECCPublicKey class: ${u}`)}}static schema(u={}){return new Xs}fromSchema(u){if(!(u instanceof ArrayBuffer))throw new Error("Object's schema was not verified against input data for ECPublicKey");if(4!==new Uint8Array(u)[0])throw new Error("Object's schema was not verified against input data for ECPublicKey");const A=Qr.find(this.namedCurve);if(!A)throw new Error(`Incorrect curve OID: ${this.namedCurve}`);const W=A.size;if(u.byteLength!==2*W+1)throw new Error("Object's schema was not verified against input data for ECPublicKey");this.x=u.slice(1,W+1),this.y=u.slice(1+W,2*W+1)}toSchema(){return new Xs({data:I(new Uint8Array([4]).buffer,this.x,this.y)})}toJSON(){const u=Qr.find(this.namedCurve);return{crv:u?u.name:this.namedCurve,x:R(U(this.x),!0,!0,!1),y:R(U(this.y),!0,!0,!1)}}fromJSON(u){let _=0;if(!("crv"in u))throw new Error('Absent mandatory parameter "crv"');{const A=Qr.find(u.crv);A&&(this.namedCurve=A.id,_=A.size)}if(!("x"in u))throw new Error('Absent mandatory parameter "x"');{const A=$(j(u.x,!0));if(A.byteLength<_){this.x=new ArrayBuffer(_);const W=new Uint8Array(this.x),ae=new Uint8Array(A);W.set(ae,1)}else this.x=A.slice(0,_)}if(!("y"in u))throw new Error('Absent mandatory parameter "y"');{const A=$(j(u.y,!0));if(A.byteLength<_){this.y=new ArrayBuffer(_);const W=new Uint8Array(this.y),ae=new Uint8Array(A);W.set(ae,1)}else this.y=A.slice(0,_)}}}class Sr{constructor(u={}){this.modulus=w(u,"modulus",Sr.defaultValues("modulus")),this.publicExponent=w(u,"publicExponent",Sr.defaultValues("publicExponent")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"modulus":case"publicExponent":return new fn;default:throw new Error(`Invalid member name for RSAPublicKey class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new fn({name:_.modulus||""}),new fn({name:_.publicExponent||""})]})}fromSchema(u){L(u,["modulus","publicExponent"]);const _=ui(u,u,Sr.schema({names:{modulus:"modulus",publicExponent:"publicExponent"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSAPublicKey");this.modulus=_.result.modulus.convertFromDER(256),this.publicExponent=_.result.publicExponent}toSchema(){return new gn({value:[this.modulus.convertToDER(),this.publicExponent]})}toJSON(){return{n:R(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:R(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0)}}fromJSON(u){if(!("n"in u))throw new Error('Absent mandatory parameter "n"');{const _=$(j(u.n,!0));this.modulus=new fn({valueHex:_.slice(0,Math.pow(2,se(_.byteLength)))})}if(!("e"in u))throw new Error('Absent mandatory parameter "e"');this.publicExponent=new fn({valueHex:$(j(u.e,!0)).slice(0,3)})}}class Er{constructor(u={}){this.algorithm=w(u,"algorithm",Er.defaultValues("algorithm")),this.subjectPublicKey=w(u,"subjectPublicKey",Er.defaultValues("subjectPublicKey")),"parsedKey"in u&&(this.parsedKey=w(u,"parsedKey",Er.defaultValues("parsedKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"algorithm":return new $n;case"subjectPublicKey":return new lt;default:throw new Error(`Invalid member name for PublicKeyInfo class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[$n.schema(_.algorithm||{}),new lt({name:_.subjectPublicKey||""})]})}fromSchema(u){L(u,["algorithm","subjectPublicKey"]);const _=ui(u,u,Er.schema({names:{algorithm:{names:{blockName:"algorithm"}},subjectPublicKey:"subjectPublicKey"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PublicKeyInfo");switch(this.algorithm=new $n({schema:_.result.algorithm}),this.subjectPublicKey=_.result.subjectPublicKey,this.algorithm.algorithmId){case"1.2.840.10045.2.1":if("algorithmParams"in this.algorithm&&this.algorithm.algorithmParams.constructor.blockName()===Gt.blockName())try{this.parsedKey=new mr({namedCurve:this.algorithm.algorithmParams.valueBlock.toString(),schema:this.subjectPublicKey.valueBlock.valueHex})}catch{}break;case"1.2.840.113549.1.1.1":{const A=Pt(this.subjectPublicKey.valueBlock.valueHex);if(-1!==A.offset)try{this.parsedKey=new Sr({schema:A.result})}catch{}}}}toSchema(){return new gn({value:[this.algorithm.toSchema(),this.subjectPublicKey]})}toJSON(){if(!("parsedKey"in this))return{algorithm:this.algorithm.toJSON(),subjectPublicKey:this.subjectPublicKey.toJSON()};const u={};switch(this.algorithm.algorithmId){case"1.2.840.10045.2.1":u.kty="EC";break;case"1.2.840.113549.1.1.1":u.kty="RSA"}const _=this.parsedKey.toJSON();for(const A of Object.keys(_))u[A]=_[A];return u}fromJSON(u){if("kty"in u){switch(u.kty.toUpperCase()){case"EC":this.parsedKey=new mr({json:u}),this.algorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Gt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new Sr({json:u}),this.algorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${u.kty}`)}this.subjectPublicKey=new lt({valueHex:this.parsedKey.toSchema().toBER(!1)})}}importKey(u){let _=Promise.resolve();const A=this;if(typeof u>"u")return Promise.reject("Need to provide publicKey input parameter");const W=ss();return typeof W>"u"?Promise.reject("Unable to create WebCrypto object"):(_=_.then(()=>W.exportKey("spki",u)),_=_.then(ae=>{const ve=Pt(ae);try{A.fromSchema(ve.result)}catch{return Promise.reject("Error during initializing object from schema")}},ae=>Promise.reject(`Error during exporting public key: ${ae}`)),_)}}class xr{constructor(u={}){this.type=w(u,"type",xr.defaultValues("type")),this.values=w(u,"values",xr.defaultValues("values")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return"";case"values":return[];default:throw new Error(`Invalid member name for Attribute class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"type":return""===_;case"values":return 0===_.length;default:throw new Error(`Invalid member name for Attribute class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.type||""}),new mi({name:_.setName||"",value:[new Ni({name:_.values||"",value:new vr})]})]})}fromSchema(u){L(u,["type","values"]);const _=ui(u,u,xr.schema({names:{type:"type",values:"values"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Attribute");this.type=_.result.type.valueBlock.toString(),this.values=_.result.values}toSchema(){return new gn({value:[new Gt({value:this.type}),new mi({value:this.values})]})}toJSON(){return{type:this.type,values:Array.from(this.values,u=>u.toJSON())}}}class Vr{constructor(u={}){this.version=w(u,"version",Vr.defaultValues("version")),this.privateKey=w(u,"privateKey",Vr.defaultValues("privateKey")),"namedCurve"in u&&(this.namedCurve=w(u,"namedCurve",Vr.defaultValues("namedCurve"))),"publicKey"in u&&(this.publicKey=w(u,"publicKey",Vr.defaultValues("publicKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 1;case"privateKey":return new It;case"namedCurve":return"";case"publicKey":return new mr;default:throw new Error(`Invalid member name for ECCPrivateKey class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"version":return _===Vr.defaultValues(u);case"privateKey":return _.isEqual(Vr.defaultValues(u));case"namedCurve":return""===_;case"publicKey":return mr.compareWithDefault("namedCurve",_.namedCurve)&&mr.compareWithDefault("x",_.x)&&mr.compareWithDefault("y",_.y);default:throw new Error(`Invalid member name for ECCPrivateKey class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new fn({name:_.version||""}),new It({name:_.privateKey||""}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Gt({name:_.namedCurve||""})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new lt({name:_.publicKey||""})]})]})}fromSchema(u){L(u,["version","privateKey","namedCurve","publicKey"]);const _=ui(u,u,Vr.schema({names:{version:"version",privateKey:"privateKey",namedCurve:"namedCurve",publicKey:"publicKey"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for ECPrivateKey");if(this.version=_.result.version.valueBlock.valueDec,this.privateKey=_.result.privateKey,"namedCurve"in _.result&&(this.namedCurve=_.result.namedCurve.valueBlock.toString()),"publicKey"in _.result){const A={schema:_.result.publicKey.valueBlock.valueHex};"namedCurve"in this&&(A.namedCurve=this.namedCurve),this.publicKey=new mr(A)}}toSchema(){const u=[new fn({value:this.version}),this.privateKey];return"namedCurve"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[new Gt({value:this.namedCurve})]})),"publicKey"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:1},value:[new lt({valueHex:this.publicKey.toSchema().toBER(!1)})]})),new gn({value:u})}toJSON(){if(!("namedCurve"in this)||Vr.compareWithDefault("namedCurve",this.namedCurve))throw new Error('Not enough information for making JSON: absent "namedCurve" value');let u="";switch(this.namedCurve){case"1.2.840.10045.3.1.7":u="P-256";break;case"1.3.132.0.34":u="P-384";break;case"1.3.132.0.35":u="P-521"}const _={crv:u,d:R(U(this.privateKey.valueBlock.valueHex),!0,!0,!1)};if("publicKey"in this){const A=this.publicKey.toJSON();_.x=A.x,_.y=A.y}return _}fromJSON(u){let _=0;if(!("crv"in u))throw new Error('Absent mandatory parameter "crv"');switch(u.crv.toUpperCase()){case"P-256":this.namedCurve="1.2.840.10045.3.1.7",_=32;break;case"P-384":this.namedCurve="1.3.132.0.34",_=48;break;case"P-521":this.namedCurve="1.3.132.0.35",_=66}if(!("d"in u))throw new Error('Absent mandatory parameter "d"');{const A=$(j(u.d,!0));if(A.byteLength<_){const W=new ArrayBuffer(_),ae=new Uint8Array(W),ve=new Uint8Array(A);ae.set(ve,1),this.privateKey=new It({valueHex:W})}else this.privateKey=new It({valueHex:A.slice(0,_)})}"x"in u&&"y"in u&&(this.publicKey=new mr({json:u}))}}class er{constructor(u={}){this.prime=w(u,"prime",er.defaultValues("prime")),this.exponent=w(u,"exponent",er.defaultValues("exponent")),this.coefficient=w(u,"coefficient",er.defaultValues("coefficient")),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"prime":case"exponent":case"coefficient":return new fn;default:throw new Error(`Invalid member name for OtherPrimeInfo class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new fn({name:_.prime||""}),new fn({name:_.exponent||""}),new fn({name:_.coefficient||""})]})}fromSchema(u){L(u,["prime","exponent","coefficient"]);const _=ui(u,u,er.schema({names:{prime:"prime",exponent:"exponent",coefficient:"coefficient"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for OtherPrimeInfo");this.prime=_.result.prime.convertFromDER(),this.exponent=_.result.exponent.convertFromDER(),this.coefficient=_.result.coefficient.convertFromDER()}toSchema(){return new gn({value:[this.prime.convertToDER(),this.exponent.convertToDER(),this.coefficient.convertToDER()]})}toJSON(){return{r:R(U(this.prime.valueBlock.valueHex),!0,!0),d:R(U(this.exponent.valueBlock.valueHex),!0,!0),t:R(U(this.coefficient.valueBlock.valueHex),!0,!0)}}fromJSON(u){if(!("r"in u))throw new Error('Absent mandatory parameter "r"');if(this.prime=new fn({valueHex:$(j(u.r,!0))}),!("d"in u))throw new Error('Absent mandatory parameter "d"');if(this.exponent=new fn({valueHex:$(j(u.d,!0))}),!("t"in u))throw new Error('Absent mandatory parameter "t"');this.coefficient=new fn({valueHex:$(j(u.t,!0))})}}class tr{constructor(u={}){this.version=w(u,"version",tr.defaultValues("version")),this.modulus=w(u,"modulus",tr.defaultValues("modulus")),this.publicExponent=w(u,"publicExponent",tr.defaultValues("publicExponent")),this.privateExponent=w(u,"privateExponent",tr.defaultValues("privateExponent")),this.prime1=w(u,"prime1",tr.defaultValues("prime1")),this.prime2=w(u,"prime2",tr.defaultValues("prime2")),this.exponent1=w(u,"exponent1",tr.defaultValues("exponent1")),this.exponent2=w(u,"exponent2",tr.defaultValues("exponent2")),this.coefficient=w(u,"coefficient",tr.defaultValues("coefficient")),"otherPrimeInfos"in u&&(this.otherPrimeInfos=w(u,"otherPrimeInfos",tr.defaultValues("otherPrimeInfos"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 0;case"modulus":case"publicExponent":case"privateExponent":case"prime1":case"prime2":case"exponent1":case"exponent2":case"coefficient":return new fn;case"otherPrimeInfos":return[];default:throw new Error(`Invalid member name for RSAPrivateKey class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new fn({name:_.version||""}),new fn({name:_.modulus||""}),new fn({name:_.publicExponent||""}),new fn({name:_.privateExponent||""}),new fn({name:_.prime1||""}),new fn({name:_.prime2||""}),new fn({name:_.exponent1||""}),new fn({name:_.exponent2||""}),new fn({name:_.coefficient||""}),new gn({optional:!0,value:[new Ni({name:_.otherPrimeInfosName||"",value:er.schema(_.otherPrimeInfo||{})})]})]})}fromSchema(u){L(u,["version","modulus","publicExponent","privateExponent","prime1","prime2","exponent1","exponent2","coefficient","otherPrimeInfos"]);const _=ui(u,u,tr.schema({names:{version:"version",modulus:"modulus",publicExponent:"publicExponent",privateExponent:"privateExponent",prime1:"prime1",prime2:"prime2",exponent1:"exponent1",exponent2:"exponent2",coefficient:"coefficient",otherPrimeInfo:{names:{blockName:"otherPrimeInfos"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSAPrivateKey");this.version=_.result.version.valueBlock.valueDec,this.modulus=_.result.modulus.convertFromDER(256),this.publicExponent=_.result.publicExponent,this.privateExponent=_.result.privateExponent.convertFromDER(256),this.prime1=_.result.prime1.convertFromDER(128),this.prime2=_.result.prime2.convertFromDER(128),this.exponent1=_.result.exponent1.convertFromDER(128),this.exponent2=_.result.exponent2.convertFromDER(128),this.coefficient=_.result.coefficient.convertFromDER(128),"otherPrimeInfos"in _.result&&(this.otherPrimeInfos=Array.from(_.result.otherPrimeInfos,A=>new er({schema:A})))}toSchema(){const u=[];return u.push(new fn({value:this.version})),u.push(this.modulus.convertToDER()),u.push(this.publicExponent),u.push(this.privateExponent.convertToDER()),u.push(this.prime1.convertToDER()),u.push(this.prime2.convertToDER()),u.push(this.exponent1.convertToDER()),u.push(this.exponent2.convertToDER()),u.push(this.coefficient.convertToDER()),"otherPrimeInfos"in this&&u.push(new gn({value:Array.from(this.otherPrimeInfos,_=>_.toSchema())})),new gn({value:u})}toJSON(){const u={n:R(U(this.modulus.valueBlock.valueHex),!0,!0,!0),e:R(U(this.publicExponent.valueBlock.valueHex),!0,!0,!0),d:R(U(this.privateExponent.valueBlock.valueHex),!0,!0,!0),p:R(U(this.prime1.valueBlock.valueHex),!0,!0,!0),q:R(U(this.prime2.valueBlock.valueHex),!0,!0,!0),dp:R(U(this.exponent1.valueBlock.valueHex),!0,!0,!0),dq:R(U(this.exponent2.valueBlock.valueHex),!0,!0,!0),qi:R(U(this.coefficient.valueBlock.valueHex),!0,!0,!0)};return"otherPrimeInfos"in this&&(u.oth=Array.from(this.otherPrimeInfos,_=>_.toJSON())),u}fromJSON(u){if(!("n"in u))throw new Error('Absent mandatory parameter "n"');if(this.modulus=new fn({valueHex:$(j(u.n,!0,!0))}),!("e"in u))throw new Error('Absent mandatory parameter "e"');if(this.publicExponent=new fn({valueHex:$(j(u.e,!0,!0))}),!("d"in u))throw new Error('Absent mandatory parameter "d"');if(this.privateExponent=new fn({valueHex:$(j(u.d,!0,!0))}),!("p"in u))throw new Error('Absent mandatory parameter "p"');if(this.prime1=new fn({valueHex:$(j(u.p,!0,!0))}),!("q"in u))throw new Error('Absent mandatory parameter "q"');if(this.prime2=new fn({valueHex:$(j(u.q,!0,!0))}),!("dp"in u))throw new Error('Absent mandatory parameter "dp"');if(this.exponent1=new fn({valueHex:$(j(u.dp,!0,!0))}),!("dq"in u))throw new Error('Absent mandatory parameter "dq"');if(this.exponent2=new fn({valueHex:$(j(u.dq,!0,!0))}),!("qi"in u))throw new Error('Absent mandatory parameter "qi"');this.coefficient=new fn({valueHex:$(j(u.qi,!0,!0))}),"oth"in u&&(this.otherPrimeInfos=Array.from(u.oth,_=>new er({json:_})))}}class Kn{constructor(u={}){this.version=w(u,"version",Kn.defaultValues("version")),this.privateKeyAlgorithm=w(u,"privateKeyAlgorithm",Kn.defaultValues("privateKeyAlgorithm")),this.privateKey=w(u,"privateKey",Kn.defaultValues("privateKey")),"attributes"in u&&(this.attributes=w(u,"attributes",Kn.defaultValues("attributes"))),"parsedKey"in u&&(this.parsedKey=w(u,"parsedKey",Kn.defaultValues("parsedKey"))),"schema"in u&&this.fromSchema(u.schema),"json"in u&&this.fromJSON(u.json)}static defaultValues(u){switch(u){case"version":return 0;case"privateKeyAlgorithm":return new $n;case"privateKey":return new It;case"attributes":return[];case"parsedKey":return{};default:throw new Error(`Invalid member name for PrivateKeyInfo class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new fn({name:_.version||""}),$n.schema(_.privateKeyAlgorithm||{}),new It({name:_.privateKey||""}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:_.attributes||"",value:xr.schema()})]})]})}fromSchema(u){L(u,["version","privateKeyAlgorithm","privateKey","attributes"]);const _=ui(u,u,Kn.schema({names:{version:"version",privateKeyAlgorithm:{names:{blockName:"privateKeyAlgorithm"}},privateKey:"privateKey",attributes:"attributes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyInfo");switch(this.version=_.result.version.valueBlock.valueDec,this.privateKeyAlgorithm=new $n({schema:_.result.privateKeyAlgorithm}),this.privateKey=_.result.privateKey,"attributes"in _.result&&(this.attributes=Array.from(_.result.attributes,A=>new xr({schema:A}))),this.privateKeyAlgorithm.algorithmId){case"1.2.840.113549.1.1.1":{const A=Pt(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new tr({schema:A.result}))}break;case"1.2.840.10045.2.1":if("algorithmParams"in this.privateKeyAlgorithm&&this.privateKeyAlgorithm.algorithmParams instanceof Gt){const A=Pt(this.privateKey.valueBlock.valueHex);-1!==A.offset&&(this.parsedKey=new Vr({namedCurve:this.privateKeyAlgorithm.algorithmParams.valueBlock.toString(),schema:A.result}))}}}toSchema(){const u=[new fn({value:this.version}),this.privateKeyAlgorithm.toSchema(),this.privateKey];return"attributes"in this&&u.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.attributes,_=>_.toSchema())})),new gn({value:u})}toJSON(){if(!("parsedKey"in this)){const A={version:this.version,privateKeyAlgorithm:this.privateKeyAlgorithm.toJSON(),privateKey:this.privateKey.toJSON()};return"attributes"in this&&(A.attributes=Array.from(this.attributes,W=>W.toJSON())),A}const u={};switch(this.privateKeyAlgorithm.algorithmId){case"1.2.840.10045.2.1":u.kty="EC";break;case"1.2.840.113549.1.1.1":u.kty="RSA"}const _=this.parsedKey.toJSON();for(const A of Object.keys(_))u[A]=_[A];return u}fromJSON(u){if("kty"in u){switch(u.kty.toUpperCase()){case"EC":this.parsedKey=new Vr({json:u}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.10045.2.1",algorithmParams:new Gt({value:this.parsedKey.namedCurve})});break;case"RSA":this.parsedKey=new tr({json:u}),this.privateKeyAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.1",algorithmParams:new Bt});break;default:throw new Error(`Invalid value for "kty" parameter: ${u.kty}`)}this.privateKey=new It({valueHex:this.parsedKey.toSchema().toBER(!1)})}}}class Wr{constructor(u={}){if(this.contentType=w(u,"contentType",Wr.defaultValues("contentType")),this.contentEncryptionAlgorithm=w(u,"contentEncryptionAlgorithm",Wr.defaultValues("contentEncryptionAlgorithm")),"encryptedContent"in u&&(this.encryptedContent=u.encryptedContent,1===this.encryptedContent.idBlock.tagClass&&4===this.encryptedContent.idBlock.tagNumber&&!1===this.encryptedContent.idBlock.isConstructed)){const _=new It({idBlock:{isConstructed:!0},isConstructed:!0});let A=0,W=this.encryptedContent.valueBlock.valueHex.byteLength;for(;W>0;){const ae=new Uint8Array(this.encryptedContent.valueBlock.valueHex,A,A+1024>this.encryptedContent.valueBlock.valueHex.byteLength?this.encryptedContent.valueBlock.valueHex.byteLength-A:1024),ve=new ArrayBuffer(ae.length),Ge=new Uint8Array(ve);for(let D=0;D<Ge.length;D++)Ge[D]=ae[D];_.valueBlock.value.push(new It({valueHex:ve})),W-=ae.length,A+=ae.length}this.encryptedContent=_}"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"contentType":return"";case"contentEncryptionAlgorithm":return new $n;case"encryptedContent":return new It;default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"contentType":return""===_;case"contentEncryptionAlgorithm":return""===_.algorithmId&&!("algorithmParams"in _);case"encryptedContent":return _.isEqual(Wr.defaultValues(u));default:throw new Error(`Invalid member name for EncryptedContentInfo class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.contentType||""}),$n.schema(_.contentEncryptionAlgorithm||{}),new yr({value:[new X({name:_.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({value:new It})]}),new it({name:_.encryptedContent||"",idBlock:{tagClass:3,tagNumber:0}})]})]})}fromSchema(u){L(u,["contentType","contentEncryptionAlgorithm","encryptedContent"]);const _=ui(u,u,Wr.schema({names:{contentType:"contentType",contentEncryptionAlgorithm:{names:{blockName:"contentEncryptionAlgorithm"}},encryptedContent:"encryptedContent"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for EncryptedContentInfo");this.contentType=_.result.contentType.valueBlock.toString(),this.contentEncryptionAlgorithm=new $n({schema:_.result.contentEncryptionAlgorithm}),"encryptedContent"in _.result&&(this.encryptedContent=_.result.encryptedContent,this.encryptedContent.idBlock.tagClass=1,this.encryptedContent.idBlock.tagNumber=4)}toSchema(){const u={isIndefiniteForm:!1},_=[];if(_.push(new Gt({value:this.contentType})),_.push(this.contentEncryptionAlgorithm.toSchema()),"encryptedContent"in this){u.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed;const A=this.encryptedContent;A.idBlock.tagClass=3,A.idBlock.tagNumber=0,A.lenBlock.isIndefiniteForm=this.encryptedContent.idBlock.isConstructed,_.push(A)}return new gn({lenBlock:u,value:_})}toJSON(){const u={contentType:this.contentType,contentEncryptionAlgorithm:this.contentEncryptionAlgorithm.toJSON()};return"encryptedContent"in this&&(u.encryptedContent=this.encryptedContent.toJSON()),u}}class cr{constructor(u={}){this.hashAlgorithm=w(u,"hashAlgorithm",cr.defaultValues("hashAlgorithm")),this.maskGenAlgorithm=w(u,"maskGenAlgorithm",cr.defaultValues("maskGenAlgorithm")),this.saltLength=w(u,"saltLength",cr.defaultValues("saltLength")),this.trailerField=w(u,"trailerField",cr.defaultValues("trailerField")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"hashAlgorithm":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});case"maskGenAlgorithm":return new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt}).toSchema()});case"saltLength":return 20;case"trailerField":return 1;default:throw new Error(`Invalid member name for RSASSAPSSParams class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new X({idBlock:{tagClass:3,tagNumber:0},optional:!0,value:[$n.schema(_.hashAlgorithm||{})]}),new X({idBlock:{tagClass:3,tagNumber:1},optional:!0,value:[$n.schema(_.maskGenAlgorithm||{})]}),new X({idBlock:{tagClass:3,tagNumber:2},optional:!0,value:[new fn({name:_.saltLength||""})]}),new X({idBlock:{tagClass:3,tagNumber:3},optional:!0,value:[new fn({name:_.trailerField||""})]})]})}fromSchema(u){L(u,["hashAlgorithm","maskGenAlgorithm","saltLength","trailerField"]);const _=ui(u,u,cr.schema({names:{hashAlgorithm:{names:{blockName:"hashAlgorithm"}},maskGenAlgorithm:{names:{blockName:"maskGenAlgorithm"}},saltLength:"saltLength",trailerField:"trailerField"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RSASSAPSSParams");"hashAlgorithm"in _.result&&(this.hashAlgorithm=new $n({schema:_.result.hashAlgorithm})),"maskGenAlgorithm"in _.result&&(this.maskGenAlgorithm=new $n({schema:_.result.maskGenAlgorithm})),"saltLength"in _.result&&(this.saltLength=_.result.saltLength.valueBlock.valueDec),"trailerField"in _.result&&(this.trailerField=_.result.trailerField.valueBlock.valueDec)}toSchema(){const u=[];return this.hashAlgorithm.isEqual(cr.defaultValues("hashAlgorithm"))||u.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[this.hashAlgorithm.toSchema()]})),this.maskGenAlgorithm.isEqual(cr.defaultValues("maskGenAlgorithm"))||u.push(new X({idBlock:{tagClass:3,tagNumber:1},value:[this.maskGenAlgorithm.toSchema()]})),this.saltLength!==cr.defaultValues("saltLength")&&u.push(new X({idBlock:{tagClass:3,tagNumber:2},value:[new fn({value:this.saltLength})]})),this.trailerField!==cr.defaultValues("trailerField")&&u.push(new X({idBlock:{tagClass:3,tagNumber:3},value:[new fn({value:this.trailerField})]})),new gn({value:u})}toJSON(){const u={};return this.hashAlgorithm.isEqual(cr.defaultValues("hashAlgorithm"))||(u.hashAlgorithm=this.hashAlgorithm.toJSON()),this.maskGenAlgorithm.isEqual(cr.defaultValues("maskGenAlgorithm"))||(u.maskGenAlgorithm=this.maskGenAlgorithm.toJSON()),this.saltLength!==cr.defaultValues("saltLength")&&(u.saltLength=this.saltLength),this.trailerField!==cr.defaultValues("trailerField")&&(u.trailerField=this.trailerField),u}}class kr{constructor(u={}){this.salt=w(u,"salt",kr.defaultValues("salt")),this.iterationCount=w(u,"iterationCount",kr.defaultValues("iterationCount")),"keyLength"in u&&(this.keyLength=w(u,"keyLength",kr.defaultValues("keyLength"))),"prf"in u&&(this.prf=w(u,"prf",kr.defaultValues("prf"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"salt":return{};case"iterationCount":return-1;case"keyLength":return 0;case"prf":return new $n({algorithmId:"1.3.14.3.2.26",algorithmParams:new Bt});default:throw new Error(`Invalid member name for PBKDF2Params class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new yr({value:[new It({name:_.saltPrimitive||""}),$n.schema(_.saltConstructed||{})]}),new fn({name:_.iterationCount||""}),new fn({name:_.keyLength||"",optional:!0}),$n.schema(_.prf||{names:{optional:!0}})]})}fromSchema(u){L(u,["salt","iterationCount","keyLength","prf"]);const _=ui(u,u,kr.schema({names:{saltPrimitive:"salt",saltConstructed:{names:{blockName:"salt"}},iterationCount:"iterationCount",keyLength:"keyLength",prf:{names:{blockName:"prf",optional:!0}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PBKDF2Params");this.salt=_.result.salt,this.iterationCount=_.result.iterationCount.valueBlock.valueDec,"keyLength"in _.result&&(this.keyLength=_.result.keyLength.valueBlock.valueDec),"prf"in _.result&&(this.prf=new $n({schema:_.result.prf}))}toSchema(){const u=[];return u.push(this.salt),u.push(new fn({value:this.iterationCount})),"keyLength"in this&&kr.defaultValues("keyLength")!==this.keyLength&&u.push(new fn({value:this.keyLength})),"prf"in this&&!1===kr.defaultValues("prf").isEqual(this.prf)&&u.push(this.prf.toSchema()),new gn({value:u})}toJSON(){const u={salt:this.salt.toJSON(),iterationCount:this.iterationCount};return"keyLength"in this&&kr.defaultValues("keyLength")!==this.keyLength&&(u.keyLength=this.keyLength),"prf"in this&&!1===kr.defaultValues("prf").isEqual(this.prf)&&(u.prf=this.prf.toJSON()),u}}class is{constructor(u={}){this.keyDerivationFunc=w(u,"keyDerivationFunc",is.defaultValues("keyDerivationFunc")),this.encryptionScheme=w(u,"encryptionScheme",is.defaultValues("encryptionScheme")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"keyDerivationFunc":case"encryptionScheme":return new $n;default:throw new Error(`Invalid member name for PBES2Params class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[$n.schema(_.keyDerivationFunc||{}),$n.schema(_.encryptionScheme||{})]})}fromSchema(u){L(u,["keyDerivationFunc","encryptionScheme"]);const _=ui(u,u,is.schema({names:{keyDerivationFunc:{names:{blockName:"keyDerivationFunc"}},encryptionScheme:{names:{blockName:"encryptionScheme"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PBES2Params");this.keyDerivationFunc=new $n({schema:_.result.keyDerivationFunc}),this.encryptionScheme=new $n({schema:_.result.encryptionScheme})}toSchema(){return new gn({value:[this.keyDerivationFunc.toSchema(),this.encryptionScheme.toSchema()]})}toJSON(){return{keyDerivationFunc:this.keyDerivationFunc.toJSON(),encryptionScheme:this.encryptionScheme.toJSON()}}}function so(Le,u,_,A,W,ae){let ve,Ge;const D=[];switch(u.toUpperCase()){case"SHA-1":ve=20,Ge=64;break;case"SHA-256":ve=32,Ge=64;break;case"SHA-384":ve=48,Ge=128;break;case"SHA-512":ve=64,Ge=128;break;default:throw new Error("Unsupported hashing algorithm")}const V=new Uint8Array(A),B=new ArrayBuffer(2*A.byteLength+2),Q=new Uint8Array(B);for(let Xr=0;Xr<V.length;Xr++)Q[2*Xr]=0,Q[2*Xr+1]=V[Xr];Q[Q.length-2]=0,Q[Q.length-1]=0,A=B.slice(0);const ge=new ArrayBuffer(Ge),$e=new Uint8Array(ge);for(let Xr=0;Xr<ge.byteLength;Xr++)$e[Xr]=3;const bt=W.byteLength,ln=Ge*Math.ceil(bt/Ge),rn=new ArrayBuffer(ln),Ln=new Uint8Array(rn),Oi=new Uint8Array(W);for(let Xr=0;Xr<ln;Xr++)Ln[Xr]=Oi[Xr%bt];const Fi=A.byteLength,dr=Ge*Math.ceil(Fi/Ge),Hs=new ArrayBuffer(dr),Ns=new Uint8Array(Hs),Oa=new Uint8Array(A);for(let Xr=0;Xr<dr;Xr++)Ns[Xr]=Oa[Xr%Fi];let Qs=new ArrayBuffer(rn.byteLength+Hs.byteLength),Hl=new Uint8Array(Qs);Hl.set(Ln),Hl.set(Ns,Ln.length);const Xf=Math.ceil((_>>3)/ve);let Qa=Promise.resolve(Qs);for(let Xr=0;Xr<=Xf;Xr++){Qa=Qa.then(Fa=>{const ml=new ArrayBuffer(ge.byteLength+Fa.byteLength),gl=new Uint8Array(ml);return gl.set($e),gl.set(Hl,$e.length),ml});for(let Fa=0;Fa<ae;Fa++)Qa=Qa.then(ml=>Le.digest({name:u},new Uint8Array(ml)));Qa=Qa.then(Fa=>{const ml=new ArrayBuffer(Ge),gl=new Uint8Array(ml);for(let vl=0;vl<ml.byteLength;vl++)gl[vl]=Fa[vl%Fa.length];const pa=Math.ceil(bt/Ge)+Math.ceil(Fi/Ge),$o=[];let Wl=0,Xu=Ge;for(let vl=0;vl<pa;vl++){const Ju=Array.from(new Uint8Array(Qs.slice(Wl,Wl+Xu)));Wl+=Ge,Wl+Ge>Qs.byteLength&&(Xu=Qs.byteLength-Wl);let ph=511;for(let Cr=ml.byteLength-1;Cr>=0;Cr--)ph>>=8,ph+=gl[Cr]+Ju[Cr],Ju[Cr]=255&ph;$o.push(...Ju)}return Qs=new ArrayBuffer($o.length),Hl=new Uint8Array(Qs),Hl.set($o),D.push(...new Uint8Array(Fa)),Qs})}return Qa=Qa.then(()=>{const Xr=new ArrayBuffer(_>>3);return new Uint8Array(Xr).set(new Uint8Array(D).slice(0,_>>3)),Xr}),Qa}class wo{constructor(u={}){this.crypto=w(u,"crypto",{}),this.subtle=w(u,"subtle",{}),this.name=w(u,"name","")}importKey(u,_,A,W,ae){let ve={};switch(_ instanceof Uint8Array&&(_=_.buffer),u.toLowerCase()){case"raw":return this.subtle.importKey("raw",_,A,W,ae);case"spki":{const Ge=Pt(_);if(-1===Ge.offset)return Promise.reject("Incorrect keyData");const D=new Er;try{D.fromSchema(Ge.result)}catch{return Promise.reject("Incorrect keyData")}switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="PS1";break;case"SHA-256":ve.alg="PS256";break;case"SHA-384":ve.alg="PS384";break;case"SHA-512":ve.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ae=["verify"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"1.2.840.113549.1.1.1"!==D.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${D.algorithm.algorithmId}`);if(!("alg"in ve))switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RS1";break;case"SHA-256":ve.alg="RS256";break;case"SHA-384":ve.alg="RS384";break;case"SHA-512":ve.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=D.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"ECDSA":ae=["verify"];case"ECDH":{if(ve={kty:"EC",ext:W,key_ops:ae},"1.2.840.10045.2.1"!==D.algorithm.algorithmId)return Promise.reject(`Incorrect public key algorithm: ${D.algorithm.algorithmId}`);const V=D.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSA-OAEP":{if(ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"safari"===this.name.toLowerCase())ve.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RSA-OAEP";break;case"SHA-256":ve.alg="RSA-OAEP-256";break;case"SHA-384":ve.alg="RSA-OAEP-384";break;case"SHA-512":ve.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=D.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{ve.kty="RSA",ve.ext=W,ve.key_ops=ae,ve.alg="PS1";const V=D.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"pkcs8":{const Ge=new Kn,D=Pt(_);if(-1===D.offset)return Promise.reject("Incorrect keyData");try{Ge.fromSchema(D.result)}catch{return Promise.reject("Incorrect keyData")}if(!("parsedKey"in Ge))return Promise.reject("Incorrect keyData");switch(A.name.toUpperCase()){case"RSA-PSS":switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="PS1";break;case"SHA-256":ve.alg="PS256";break;case"SHA-384":ve.alg="PS384";break;case"SHA-512":ve.alg="PS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}case"RSASSA-PKCS1-V1_5":{if(ae=["sign"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"1.2.840.113549.1.1.1"!==Ge.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect private key algorithm: ${Ge.privateKeyAlgorithm.algorithmId}`);if(!("alg"in ve))switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RS1";break;case"SHA-256":ve.alg="RS256";break;case"SHA-384":ve.alg="RS384";break;case"SHA-512":ve.alg="RS512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"ECDSA":ae=["sign"];case"ECDH":{if(ve={kty:"EC",ext:W,key_ops:ae},"1.2.840.10045.2.1"!==Ge.privateKeyAlgorithm.algorithmId)return Promise.reject(`Incorrect algorithm: ${Ge.privateKeyAlgorithm.algorithmId}`);const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSA-OAEP":{if(ve.kty="RSA",ve.ext=W,ve.key_ops=ae,"safari"===this.name.toLowerCase())ve.alg="RSA-OAEP";else switch(A.hash.name.toUpperCase()){case"SHA-1":ve.alg="RSA-OAEP";break;case"SHA-256":ve.alg="RSA-OAEP-256";break;case"SHA-384":ve.alg="RSA-OAEP-384";break;case"SHA-512":ve.alg="RSA-OAEP-512";break;default:return Promise.reject(`Incorrect hash algorithm: ${A.hash.name.toUpperCase()}`)}const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;case"RSAES-PKCS1-V1_5":{ae=["decrypt"],ve.kty="RSA",ve.ext=W,ve.key_ops=ae,ve.alg="PS1";const V=Ge.toJSON();for(const B of Object.keys(V))ve[B]=V[B]}break;default:return Promise.reject(`Incorrect algorithm name: ${A.name.toUpperCase()}`)}}break;case"jwk":ve=_;break;default:return Promise.reject(`Incorrect format: ${u}`)}return"safari"===this.name.toLowerCase()?Promise.resolve().then(()=>this.subtle.importKey("jwk",$(JSON.stringify(ve)),A,W,ae)).then(Ge=>Ge,()=>this.subtle.importKey("jwk",ve,A,W,ae)):this.subtle.importKey("jwk",ve,A,W,ae)}exportKey(u,_){let A=this.subtle.exportKey("jwk",_);switch("safari"===this.name.toLowerCase()&&(A=A.then(W=>W instanceof ArrayBuffer?JSON.parse(U(W)):W)),u.toLowerCase()){case"raw":return this.subtle.exportKey("raw",_);case"spki":A=A.then(W=>{const ae=new Er;try{ae.fromJSON(W)}catch{return Promise.reject("Incorrect key data")}return ae.toSchema().toBER(!1)});break;case"pkcs8":A=A.then(W=>{const ae=new Kn;try{ae.fromJSON(W)}catch{return Promise.reject("Incorrect key data")}return ae.toSchema().toBER(!1)});break;case"jwk":break;default:return Promise.reject(`Incorrect format: ${u}`)}return A}convert(u,_,A,W,ae,ve){switch(u.toLowerCase()){case"raw":switch(_.toLowerCase()){case"raw":return Promise.resolve(A);case"spki":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("spki",Ge));case"pkcs8":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("pkcs8",Ge));case"jwk":return Promise.resolve().then(()=>this.importKey("raw",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"spki":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("spki",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.resolve(A);case"pkcs8":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"jwk":return Promise.resolve().then(()=>this.importKey("spki",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"pkcs8":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("pkcs8",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.reject("Impossible to convert between SPKI/PKCS8");case"pkcs8":return Promise.resolve(A);case"jwk":return Promise.resolve().then(()=>this.importKey("pkcs8",A,W,ae,ve)).then(Ge=>this.exportKey("jwk",Ge));default:return Promise.reject(`Incorrect outputFormat: ${_}`)}case"jwk":switch(_.toLowerCase()){case"raw":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("raw",Ge));case"spki":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("spki",Ge));case"pkcs8":return Promise.resolve().then(()=>this.importKey("jwk",A,W,ae,ve)).then(Ge=>this.exportKey("pkcs8",Ge));case"jwk":return Promise.resolve(A);default:return Promise.reject(`Incorrect outputFormat: ${_}`)}default:return Promise.reject(`Incorrect inputFormat: ${u}`)}}encrypt(...u){return this.subtle.encrypt(...u)}decrypt(...u){return this.subtle.decrypt(...u)}sign(...u){return this.subtle.sign(...u)}verify(...u){return this.subtle.verify(...u)}digest(...u){return this.subtle.digest(...u)}generateKey(...u){return this.subtle.generateKey(...u)}deriveKey(...u){return this.subtle.deriveKey(...u)}deriveBits(...u){return this.subtle.deriveBits(...u)}wrapKey(...u){return this.subtle.wrapKey(...u)}unwrapKey(...u){return this.subtle.unwrapKey(...u)}getRandomValues(u){if(!("getRandomValues"in this.crypto))throw new Error("No support for getRandomValues");return this.crypto.getRandomValues(u)}getAlgorithmByOID(u){switch(u){case"1.2.840.113549.1.1.1":return{name:"RSAES-PKCS1-v1_5"};case"1.2.840.113549.1.1.5":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-1"}};case"1.2.840.113549.1.1.11":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"1.2.840.113549.1.1.12":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-384"}};case"1.2.840.113549.1.1.13":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-512"}};case"1.2.840.113549.1.1.10":return{name:"RSA-PSS"};case"1.2.840.113549.1.1.7":return{name:"RSA-OAEP"};case"1.2.840.10045.2.1":case"1.2.840.10045.4.1":return{name:"ECDSA",hash:{name:"SHA-1"}};case"1.2.840.10045.4.3.2":return{name:"ECDSA",hash:{name:"SHA-256"}};case"1.2.840.10045.4.3.3":return{name:"ECDSA",hash:{name:"SHA-384"}};case"1.2.840.10045.4.3.4":return{name:"ECDSA",hash:{name:"SHA-512"}};case"1.3.133.16.840.63.0.2":return{name:"ECDH",kdf:"SHA-1"};case"1.3.132.1.11.1":return{name:"ECDH",kdf:"SHA-256"};case"1.3.132.1.11.2":return{name:"ECDH",kdf:"SHA-384"};case"1.3.132.1.11.3":return{name:"ECDH",kdf:"SHA-512"};case"2.16.840.1.101.3.4.1.2":return{name:"AES-CBC",length:128};case"2.16.840.1.101.3.4.1.22":return{name:"AES-CBC",length:192};case"2.16.840.1.101.3.4.1.42":return{name:"AES-CBC",length:256};case"2.16.840.1.101.3.4.1.6":return{name:"AES-GCM",length:128};case"2.16.840.1.101.3.4.1.26":return{name:"AES-GCM",length:192};case"2.16.840.1.101.3.4.1.46":return{name:"AES-GCM",length:256};case"2.16.840.1.101.3.4.1.4":return{name:"AES-CFB",length:128};case"2.16.840.1.101.3.4.1.24":return{name:"AES-CFB",length:192};case"2.16.840.1.101.3.4.1.44":return{name:"AES-CFB",length:256};case"2.16.840.1.101.3.4.1.5":return{name:"AES-KW",length:128};case"2.16.840.1.101.3.4.1.25":return{name:"AES-KW",length:192};case"2.16.840.1.101.3.4.1.45":return{name:"AES-KW",length:256};case"1.2.840.113549.2.7":return{name:"HMAC",hash:{name:"SHA-1"}};case"1.2.840.113549.2.9":return{name:"HMAC",hash:{name:"SHA-256"}};case"1.2.840.113549.2.10":return{name:"HMAC",hash:{name:"SHA-384"}};case"1.2.840.113549.2.11":return{name:"HMAC",hash:{name:"SHA-512"}};case"1.2.840.113549.1.9.16.3.5":return{name:"DH"};case"1.3.14.3.2.26":return{name:"SHA-1"};case"2.16.840.1.101.3.4.2.1":return{name:"SHA-256"};case"2.16.840.1.101.3.4.2.2":return{name:"SHA-384"};case"2.16.840.1.101.3.4.2.3":return{name:"SHA-512"};case"1.2.840.113549.1.5.12":return{name:"PBKDF2"};case"1.2.840.10045.3.1.7":return{name:"P-256"};case"1.3.132.0.34":return{name:"P-384"};case"1.3.132.0.35":return{name:"P-521"}}return{}}getOIDByAlgorithm(u){let _="";switch(u.name.toUpperCase()){case"RSAES-PKCS1-V1_5":_="1.2.840.113549.1.1.1";break;case"RSASSA-PKCS1-V1_5":switch(u.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.113549.1.1.5";break;case"SHA-256":_="1.2.840.113549.1.1.11";break;case"SHA-384":_="1.2.840.113549.1.1.12";break;case"SHA-512":_="1.2.840.113549.1.1.13"}break;case"RSA-PSS":_="1.2.840.113549.1.1.10";break;case"RSA-OAEP":_="1.2.840.113549.1.1.7";break;case"ECDSA":switch(u.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.10045.4.1";break;case"SHA-256":_="1.2.840.10045.4.3.2";break;case"SHA-384":_="1.2.840.10045.4.3.3";break;case"SHA-512":_="1.2.840.10045.4.3.4"}break;case"ECDH":switch(u.kdf.toUpperCase()){case"SHA-1":_="1.3.133.16.840.63.0.2";break;case"SHA-256":_="1.3.132.1.11.1";break;case"SHA-384":_="1.3.132.1.11.2";break;case"SHA-512":_="1.3.132.1.11.3"}break;case"AES-CTR":case"AES-CMAC":case"CONCAT":case"HKDF":break;case"AES-CBC":switch(u.length){case 128:_="2.16.840.1.101.3.4.1.2";break;case 192:_="2.16.840.1.101.3.4.1.22";break;case 256:_="2.16.840.1.101.3.4.1.42"}break;case"AES-GCM":switch(u.length){case 128:_="2.16.840.1.101.3.4.1.6";break;case 192:_="2.16.840.1.101.3.4.1.26";break;case 256:_="2.16.840.1.101.3.4.1.46"}break;case"AES-CFB":switch(u.length){case 128:_="2.16.840.1.101.3.4.1.4";break;case 192:_="2.16.840.1.101.3.4.1.24";break;case 256:_="2.16.840.1.101.3.4.1.44"}break;case"AES-KW":switch(u.length){case 128:_="2.16.840.1.101.3.4.1.5";break;case 192:_="2.16.840.1.101.3.4.1.25";break;case 256:_="2.16.840.1.101.3.4.1.45"}break;case"HMAC":switch(u.hash.name.toUpperCase()){case"SHA-1":_="1.2.840.113549.2.7";break;case"SHA-256":_="1.2.840.113549.2.9";break;case"SHA-384":_="1.2.840.113549.2.10";break;case"SHA-512":_="1.2.840.113549.2.11"}break;case"DH":_="1.2.840.113549.1.9.16.3.5";break;case"SHA-1":_="1.3.14.3.2.26";break;case"SHA-256":_="2.16.840.1.101.3.4.2.1";break;case"SHA-384":_="2.16.840.1.101.3.4.2.2";break;case"SHA-512":_="2.16.840.1.101.3.4.2.3";break;case"PBKDF2":_="1.2.840.113549.1.5.12";break;case"P-256":_="1.2.840.10045.3.1.7";break;case"P-384":_="1.3.132.0.34";break;case"P-521":_="1.3.132.0.35"}return _}getAlgorithmParameters(u,_){let A={algorithm:{},usages:[]};switch(u.toUpperCase()){case"RSAES-PKCS1-V1_5":case"RSASSA-PKCS1-V1_5":switch(_.toLowerCase()){case"generatekey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["sign","verify"]};break;case"verify":case"sign":case"importkey":A={algorithm:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}},usages:["verify"]};break;default:return{algorithm:{name:"RSASSA-PKCS1-v1_5"},usages:[]}}break;case"RSA-PSS":switch(_.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"},saltLength:20},usages:["sign","verify"]};break;case"generatekey":A={algorithm:{name:"RSA-PSS",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-1"}},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"RSA-PSS",hash:{name:"SHA-1"}},usages:["verify"]};break;default:return{algorithm:{name:"RSA-PSS"},usages:[]}}break;case"RSA-OAEP":switch(_.toLowerCase()){case"encrypt":case"decrypt":A={algorithm:{name:"RSA-OAEP"},usages:["encrypt","decrypt"]};break;case"generatekey":A={algorithm:{name:"RSA-OAEP",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"importkey":A={algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]};break;default:return{algorithm:{name:"RSA-OAEP"},usages:[]}}break;case"ECDSA":switch(_.toLowerCase()){case"generatekey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["sign","verify"]};break;case"importkey":A={algorithm:{name:"ECDSA",namedCurve:"P-256"},usages:["verify"]};break;case"verify":case"sign":A={algorithm:{name:"ECDSA",hash:{name:"SHA-256"}},usages:["sign"]};break;default:return{algorithm:{name:"ECDSA"},usages:[]}}break;case"ECDH":switch(_.toLowerCase()){case"exportkey":case"importkey":case"generatekey":A={algorithm:{name:"ECDH",namedCurve:"P-256"},usages:["deriveKey","deriveBits"]};break;case"derivekey":case"derivebits":A={algorithm:{name:"ECDH",namedCurve:"P-256",public:[]},usages:["encrypt","decrypt"]};break;default:return{algorithm:{name:"ECDH"},usages:[]}}break;case"AES-CTR":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CTR",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CTR",counter:new Uint8Array(16),length:10},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CTR"},usages:[]}}break;case"AES-CBC":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-CBC",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-CBC",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-CBC"},usages:[]}}break;case"AES-GCM":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"AES-GCM",length:256},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;case"decrypt":case"encrypt":A={algorithm:{name:"AES-GCM",iv:this.getRandomValues(new Uint8Array(16))},usages:["encrypt","decrypt","wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-GCM"},usages:[]}}break;case"AES-KW":switch(_.toLowerCase()){case"importkey":case"exportkey":case"generatekey":case"wrapkey":case"unwrapkey":A={algorithm:{name:"AES-KW",length:256},usages:["wrapKey","unwrapKey"]};break;default:return{algorithm:{name:"AES-KW"},usages:[]}}break;case"HMAC":switch(_.toLowerCase()){case"sign":case"verify":A={algorithm:{name:"HMAC"},usages:["sign","verify"]};break;case"importkey":case"exportkey":case"generatekey":A={algorithm:{name:"HMAC",length:32,hash:{name:"SHA-256"}},usages:["sign","verify"]};break;default:return{algorithm:{name:"HMAC"},usages:[]}}break;case"HKDF":if("derivekey"!==_.toLowerCase())return{algorithm:{name:"HKDF"},usages:[]};A={algorithm:{name:"HKDF",hash:"SHA-256",salt:new Uint8Array([]),info:new Uint8Array([])},usages:["encrypt","decrypt"]};break;case"PBKDF2":if("derivekey"!==_.toLowerCase())return{algorithm:{name:"PBKDF2"},usages:[]};A={algorithm:{name:"PBKDF2",hash:{name:"SHA-256"},salt:new Uint8Array([]),iterations:1e4},usages:["encrypt","decrypt"]}}return A}getHashAlgorithm(u){let _="";switch(u.algorithmId){case"1.2.840.10045.4.1":case"1.2.840.113549.1.1.5":_="SHA-1";break;case"1.2.840.10045.4.3.2":case"1.2.840.113549.1.1.11":_="SHA-256";break;case"1.2.840.10045.4.3.3":case"1.2.840.113549.1.1.12":_="SHA-384";break;case"1.2.840.10045.4.3.4":case"1.2.840.113549.1.1.13":_="SHA-512";break;case"1.2.840.113549.1.1.10":try{const A=new cr({schema:u.algorithmParams});if("hashAlgorithm"in A){const W=this.getAlgorithmByOID(A.hashAlgorithm.algorithmId);if(!("name"in W))return"";_=W.name}else _="SHA-1"}catch{}}return _}encryptEncryptedContentInfo(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("contentEncryptionAlgorithm"in u))return Promise.reject('Absent mandatory parameter "contentEncryptionAlgorithm"');if(!("hmacHashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hmacHashAlgorithm"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("contentToEncrypt"in u))return Promise.reject('Absent mandatory parameter "contentToEncrypt"');if(!("contentType"in u))return Promise.reject('Absent mandatory parameter "contentType"');const _=this.getOIDByAlgorithm(u.contentEncryptionAlgorithm);if(""===_)return Promise.reject('Wrong "contentEncryptionAlgorithm" value');const A=this.getOIDByAlgorithm({name:"PBKDF2"});if(""===A)return Promise.reject("Can not find OID for PBKDF2");const W=this.getOIDByAlgorithm({name:"HMAC",hash:{name:u.hmacHashAlgorithm}});if(""===W)return Promise.reject(`Incorrect value for "hmacHashAlgorithm": ${u.hmacHashAlgorithm}`);let ae=Promise.resolve();const ve=new ArrayBuffer(16),Ge=new Uint8Array(ve);this.getRandomValues(Ge);const D=new ArrayBuffer(64),V=new Uint8Array(D);this.getRandomValues(V);const B=new Uint8Array(u.contentToEncrypt),Q=new kr({salt:new It({valueHex:D}),iterationCount:u.iterationCount,prf:new $n({algorithmId:W,algorithmParams:new Bt})});return ae=ae.then(()=>{const ge=new Uint8Array(u.password);return this.importKey("raw",ge,"PBKDF2",!1,["deriveKey"])},ge=>Promise.reject(ge)),ae=ae.then(ge=>this.deriveKey({name:"PBKDF2",hash:{name:u.hmacHashAlgorithm},salt:V,iterations:u.iterationCount},ge,u.contentEncryptionAlgorithm,!1,["encrypt"]),ge=>Promise.reject(ge)),ae=ae.then(ge=>this.encrypt({name:u.contentEncryptionAlgorithm.name,iv:Ge},ge,B),ge=>Promise.reject(ge)),ae=ae.then(ge=>{const $e=new is({keyDerivationFunc:new $n({algorithmId:A,algorithmParams:Q.toSchema()}),encryptionScheme:new $n({algorithmId:_,algorithmParams:new It({valueHex:ve})})});return new Wr({contentType:u.contentType,contentEncryptionAlgorithm:new $n({algorithmId:"1.2.840.113549.1.5.13",algorithmParams:$e.toSchema()}),encryptedContent:new It({valueHex:ge})})},ge=>Promise.reject(ge)),ae}decryptEncryptedContentInfo(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("encryptedContentInfo"in u))return Promise.reject('Absent mandatory parameter "encryptedContentInfo"');if("1.2.840.113549.1.5.13"!==u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId)return Promise.reject(`Unknown "contentEncryptionAlgorithm": ${u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmId}`);let A,W,_=Promise.resolve();try{A=new is({schema:u.encryptedContentInfo.contentEncryptionAlgorithm.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbes2Parameters"')}try{W=new kr({schema:A.keyDerivationFunc.algorithmParams})}catch{return Promise.reject('Incorrectly encoded "pbkdf2Params"')}const ae=this.getAlgorithmByOID(A.encryptionScheme.algorithmId);if(!("name"in ae))return Promise.reject(`Incorrect OID for "contentEncryptionAlgorithm": ${A.encryptionScheme.algorithmId}`);const Ge=new Uint8Array(A.encryptionScheme.algorithmParams.valueBlock.valueHex),V=new Uint8Array(W.salt.valueBlock.valueHex),B=W.iterationCount;let Q="SHA-1";if("prf"in W){const ge=this.getAlgorithmByOID(W.prf.algorithmId);if(!("name"in ge))return Promise.reject("Incorrect OID for HMAC hash algorithm");Q=ge.hash.name}return _=_.then(()=>this.importKey("raw",u.password,"PBKDF2",!1,["deriveKey"]),ge=>Promise.reject(ge)),_=_.then(ge=>this.deriveKey({name:"PBKDF2",hash:{name:Q},salt:V,iterations:B},ge,ae,!1,["decrypt"]),ge=>Promise.reject(ge)),_=_.then(ge=>{let $e=new ArrayBuffer(0);if(!1===u.encryptedContentInfo.encryptedContent.idBlock.isConstructed)$e=u.encryptedContentInfo.encryptedContent.valueBlock.valueHex;else for(const bt of u.encryptedContentInfo.encryptedContent.valueBlock.value)$e=I($e,bt.valueBlock.valueHex);return this.decrypt({name:ae.name,iv:Ge},ge,$e)},ge=>Promise.reject(ge)),_}stampDataWithPassword(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToStamp"in u))return Promise.reject('Absent mandatory parameter "contentToStamp"');let _;switch(u.hashAlgorithm.toLowerCase()){case"sha-1":_=160;break;case"sha-256":_=256;break;case"sha-384":_=384;break;case"sha-512":_=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${u.hashAlgorithm}`)}let A=Promise.resolve();const W={name:"HMAC",length:_,hash:{name:u.hashAlgorithm}};return A=A.then(()=>so(this,u.hashAlgorithm,_,u.password,u.salt,u.iterationCount)),A=A.then(ae=>this.importKey("raw",new Uint8Array(ae),W,!1,["sign"])),A=A.then(ae=>this.sign(W,ae,new Uint8Array(u.contentToStamp)),ae=>Promise.reject(ae)),A}verifyDataStampedWithPassword(u){if(!(u instanceof Object))return Promise.reject('Parameters must have type "Object"');if(!("password"in u))return Promise.reject('Absent mandatory parameter "password"');if(!("hashAlgorithm"in u))return Promise.reject('Absent mandatory parameter "hashAlgorithm"');if(!("salt"in u))return Promise.reject('Absent mandatory parameter "iterationCount"');if(!("iterationCount"in u))return Promise.reject('Absent mandatory parameter "salt"');if(!("contentToVerify"in u))return Promise.reject('Absent mandatory parameter "contentToVerify"');if(!("signatureToVerify"in u))return Promise.reject('Absent mandatory parameter "signatureToVerify"');let _;switch(u.hashAlgorithm.toLowerCase()){case"sha-1":_=160;break;case"sha-256":_=256;break;case"sha-384":_=384;break;case"sha-512":_=512;break;default:return Promise.reject(`Incorrect "parameters.hashAlgorithm" parameter: ${u.hashAlgorithm}`)}let A=Promise.resolve();const W={name:"HMAC",length:_,hash:{name:u.hashAlgorithm}};return A=A.then(()=>so(this,u.hashAlgorithm,_,u.password,u.salt,u.iterationCount)),A=A.then(ae=>this.importKey("raw",new Uint8Array(ae),W,!1,["verify"])),A=A.then(ae=>this.verify(W,ae,new Uint8Array(u.signatureToVerify),new Uint8Array(u.contentToVerify)),ae=>Promise.reject(ae)),A}getSignatureParameters(u,_="SHA-1"){if(""===this.getOIDByAlgorithm({name:_}))return Promise.reject(`Unsupported hash algorithm: ${_}`);const W=new $n,ae=this.getAlgorithmParameters(u.algorithm.name,"sign");switch(ae.algorithm.hash.name=_,u.algorithm.name.toUpperCase()){case"RSASSA-PKCS1-V1_5":case"ECDSA":W.algorithmId=this.getOIDByAlgorithm(ae.algorithm);break;case"RSA-PSS":{switch(_.toUpperCase()){case"SHA-256":ae.algorithm.saltLength=32;break;case"SHA-384":ae.algorithm.saltLength=48;break;case"SHA-512":ae.algorithm.saltLength=64}const ve={};if("SHA-1"!==_.toUpperCase()){const D=this.getOIDByAlgorithm({name:_});if(""===D)return Promise.reject(`Unsupported hash algorithm: ${_}`);ve.hashAlgorithm=new $n({algorithmId:D,algorithmParams:new Bt}),ve.maskGenAlgorithm=new $n({algorithmId:"1.2.840.113549.1.1.8",algorithmParams:ve.hashAlgorithm.toSchema()})}20!==ae.algorithm.saltLength&&(ve.saltLength=ae.algorithm.saltLength);const Ge=new cr(ve);W.algorithmId="1.2.840.113549.1.1.10",W.algorithmParams=Ge.toSchema()}break;default:return Promise.reject(`Unsupported signature algorithm: ${u.algorithm.name}`)}return Promise.resolve().then(()=>({signatureAlgorithm:W,parameters:ae}))}signWithPrivateKey(u,_,A){return this.sign(A.algorithm,_,new Uint8Array(u)).then(W=>("ECDSA"===A.algorithm.name&&(W=function nr(Le){if(Le.byteLength%2!=0)return new ArrayBuffer(0);const u=Le.byteLength/2,_=new ArrayBuffer(u);new Uint8Array(_).set(new Uint8Array(Le,0,u));const W=new fn({valueHex:_}),ae=new ArrayBuffer(u);new Uint8Array(ae).set(new Uint8Array(Le,u,u));const Ge=new fn({valueHex:ae});return new gn({value:[W.convertToDER(),Ge.convertToDER()]}).toBER(!1)}(W)),W),W=>Promise.reject(`Signing error: ${W}`))}fillPublicKeyParameters(u,_){const A={},W=this.getHashAlgorithm(_);if(""===W)return Promise.reject(`Unsupported signature algorithm: ${_.algorithmId}`);let ae;ae="1.2.840.113549.1.1.10"===_.algorithmId?_.algorithmId:u.algorithm.algorithmId;const ve=this.getAlgorithmByOID(ae);if("name"in ve==="")return Promise.reject(`Unsupported public key algorithm: ${_.algorithmId}`);if(A.algorithm=this.getAlgorithmParameters(ve.name,"importkey"),"hash"in A.algorithm.algorithm&&(A.algorithm.algorithm.hash.name=W),"ECDSA"===ve.name){let Ge=!1;if("algorithmParams"in u.algorithm&&"idBlock"in u.algorithm.algorithmParams&&1===u.algorithm.algorithmParams.idBlock.tagClass&&6===u.algorithm.algorithmParams.idBlock.tagNumber&&(Ge=!0),!1===Ge)return Promise.reject("Incorrect type for ECDSA public key parameters");const D=this.getAlgorithmByOID(u.algorithm.algorithmParams.valueBlock.toString());if(!("name"in D))return Promise.reject(`Unsupported named curve algorithm: ${u.algorithm.algorithmParams.valueBlock.toString()}`);A.algorithm.algorithm.namedCurve=D.name}return A}getPublicKey(u,_,A=null){null===A&&(A=this.fillPublicKeyParameters(u,_));const ae=u.toSchema().toBER(!1),ve=new Uint8Array(ae);return this.importKey("spki",ve,A.algorithm.algorithm,!0,A.algorithm.usages)}verifyWithPublicKey(u,_,A,W,ae=null){let ve=Promise.resolve();if(null===ae){if(""===(ae=this.getHashAlgorithm(W)))return Promise.reject(`Unsupported signature algorithm: ${W.algorithmId}`);ve=ve.then(()=>this.getPublicKey(A,W))}else{const Ge={};let D;D="1.2.840.113549.1.1.10"===W.algorithmId?W.algorithmId:A.algorithm.algorithmId;const V=this.getAlgorithmByOID(D);if("name"in V==="")return Promise.reject(`Unsupported public key algorithm: ${W.algorithmId}`);if(Ge.algorithm=this.getAlgorithmParameters(V.name,"importkey"),"hash"in Ge.algorithm.algorithm&&(Ge.algorithm.algorithm.hash.name=ae),"ECDSA"===V.name){let B=!1;if("algorithmParams"in A.algorithm&&"idBlock"in A.algorithm.algorithmParams&&1===A.algorithm.algorithmParams.idBlock.tagClass&&6===A.algorithm.algorithmParams.idBlock.tagNumber&&(B=!0),!1===B)return Promise.reject("Incorrect type for ECDSA public key parameters");const Q=this.getAlgorithmByOID(A.algorithm.algorithmParams.valueBlock.toString());if(!("name"in Q))return Promise.reject(`Unsupported named curve algorithm: ${A.algorithm.algorithmParams.valueBlock.toString()}`);Ge.algorithm.algorithm.namedCurve=Q.name}ve=ve.then(()=>this.getPublicKey(A,null,Ge))}return ve=ve.then(Ge=>{const D=this.getAlgorithmParameters(Ge.algorithm.name,"verify");"hash"in D.algorithm&&(D.algorithm.hash.name=ae);let V=_.valueBlock.valueHex;if("ECDSA"===Ge.algorithm.name&&(V=function Bo(Le){if(!(Le instanceof gn))return new ArrayBuffer(0);if(2!==Le.valueBlock.value.length)return new ArrayBuffer(0);if(!(Le.valueBlock.value[0]instanceof fn))return new ArrayBuffer(0);if(!(Le.valueBlock.value[1]instanceof fn))return new ArrayBuffer(0);const u=Le.valueBlock.value[0].convertFromDER(),_=Le.valueBlock.value[1].convertFromDER();switch(!0){case u.valueBlock.valueHex.byteLength<_.valueBlock.valueHex.byteLength:{if(_.valueBlock.valueHex.byteLength-u.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=_.valueBlock.valueHex.byteLength,W=new Uint8Array(u.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);return ve.set(W,1),ve[0]=0,I(ae,_.valueBlock.valueHex)}case u.valueBlock.valueHex.byteLength>_.valueBlock.valueHex.byteLength:{if(u.valueBlock.valueHex.byteLength-_.valueBlock.valueHex.byteLength!=1)throw new Error("Incorrect DER integer decoding");const A=u.valueBlock.valueHex.byteLength,W=new Uint8Array(_.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);return ve.set(W,1),ve[0]=0,I(u.valueBlock.valueHex,ae)}default:if(u.valueBlock.valueHex.byteLength%2){const A=u.valueBlock.valueHex.byteLength+1,W=new Uint8Array(u.valueBlock.valueHex),ae=new ArrayBuffer(A),ve=new Uint8Array(ae);ve.set(W,1),ve[0]=0;const Ge=new Uint8Array(_.valueBlock.valueHex),D=new ArrayBuffer(A),V=new Uint8Array(D);return V.set(Ge,1),V[0]=0,I(ae,D)}}return I(u.valueBlock.valueHex,_.valueBlock.valueHex)}(Pt(V).result)),"RSA-PSS"===Ge.algorithm.name){let B;try{B=new cr({schema:W.algorithmParams})}catch(ge){return Promise.reject(ge)}D.algorithm.saltLength="saltLength"in B?B.saltLength:20;let Q="SHA-1";if("hashAlgorithm"in B){const ge=this.getAlgorithmByOID(B.hashAlgorithm.algorithmId);if(!("name"in ge))return Promise.reject(`Unrecognized hash algorithm: ${B.hashAlgorithm.algorithmId}`);Q=ge.name}D.algorithm.hash.name=Q}return this.verify(D.algorithm,Ge,new Uint8Array(V),new Uint8Array(u))}),ve}}let Ts={name:"none",crypto:null,subtle:null};function rs(){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){let Le;try{Le=global[process.pid].pkijs.engine}catch{throw new Error('Please call "setEngine" before call to "getEngine"')}return Le}return Ts}function ss(){const Le=rs();if(null!==Le.subtle)return Le.subtle}function qr(Le){let u=!1,_="";const A=Le.trim();for(let W=0;W<A.length;W++)32===A.charCodeAt(W)?!1===u&&(u=!0):(u&&(_+=" ",u=!1),_+=A[W]);return _.toLowerCase()}!function(){if(typeof self<"u"&&"crypto"in self){let u="webcrypto";const _=self.crypto;let A;if("webkitSubtle"in self.crypto){try{A=self.crypto.webkitSubtle}catch{A=self.crypto.subtle}u="safari"}"subtle"in self.crypto&&(A=self.crypto.subtle),Ts=typeof A>"u"?{name:u,crypto:_,subtle:null}:{name:u,crypto:_,subtle:new wo({name:u,crypto:self.crypto,subtle:A})}}!function _r(Le,u,_){if(typeof process<"u"&&"pid"in process&&typeof global<"u"&&typeof window>"u"){if(typeof global[process.pid]>"u")global[process.pid]={};else if("object"!=typeof global[process.pid])throw new Error(`Name global.${process.pid} already exists and it is not an object`);if(typeof global[process.pid].pkijs>"u")global[process.pid].pkijs={};else if("object"!=typeof global[process.pid].pkijs)throw new Error(`Name global.${process.pid}.pkijs already exists and it is not an object`);global[process.pid].pkijs.engine={name:Le,crypto:u,subtle:_}}else Ts.name!==Le&&(Ts={name:Le,crypto:u,subtle:_})}(Ts.name,Ts.crypto,Ts.subtle)}();class Is{constructor(u={}){this.type=w(u,"type",Is.defaultValues("type")),this.value=w(u,"value",Is.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return"";case"value":return{};default:throw new Error(`Invalid member name for AttributeTypeAndValue class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.type||""}),new vr({name:_.value||""})]})}static blockName(){return"AttributeTypeAndValue"}fromSchema(u){L(u,["type","typeValue"]);const _=ui(u,u,Is.schema({names:{type:"type",value:"typeValue"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AttributeTypeAndValue");this.type=_.result.type.valueBlock.toString(),this.value=_.result.typeValue}toSchema(){return new gn({value:[new Gt({value:this.type}),this.value]})}toJSON(){const u={type:this.type};return u.value=0!==Object.keys(this.value).length?this.value.toJSON():this.value,u}isEqual(u){const _=[Hi.blockName(),et.blockName(),zt.blockName(),Yt.blockName(),Zt.blockName(),_e.blockName(),ye.blockName(),ze.blockName(),vt.blockName(),Vn.blockName(),yi.blockName(),Ui.blockName()];if(u.constructor.blockName()===Is.blockName()){if(this.type!==u.type)return!1;let A=[!1,!1];const W=this.value.constructor.blockName();for(const ae of _)W===ae&&(A[0]=!0),u.value.constructor.blockName()===ae&&(A[1]=!0);if(A[0]^A[1])return!1;if(A=A[0]&&A[1],A){const ae=qr(this.value.valueBlock.value),ve=qr(u.value.valueBlock.value);if(0!==ae.localeCompare(ve))return!1}else if(!1===M(this.value.valueBeforeDecode,u.value.valueBeforeDecode))return!1;return!0}return u instanceof ArrayBuffer&&M(this.value.valueBeforeDecode,u)}}class Nr{constructor(u={}){this.typesAndValues=w(u,"typesAndValues",Nr.defaultValues("typesAndValues")),this.valueBeforeDecode=w(u,"valueBeforeDecode",Nr.defaultValues("valueBeforeDecode")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"typesAndValues":return[];case"valueBeforeDecode":return new ArrayBuffer(0);default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"typesAndValues":return 0===_.length;case"valueBeforeDecode":return 0===_.byteLength;default:throw new Error(`Invalid member name for RelativeDistinguishedNames class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.repeatedSequence||"",value:new mi({value:[new Ni({name:_.repeatedSet||"",value:Is.schema(_.typeAndValue||{})})]})})]})}fromSchema(u){L(u,["RDN","typesAndValues"]);const _=ui(u,u,Nr.schema({names:{blockName:"RDN",repeatedSet:"typesAndValues"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for RelativeDistinguishedNames");"typesAndValues"in _.result&&(this.typesAndValues=Array.from(_.result.typesAndValues,A=>new Is({schema:A}))),this.valueBeforeDecode=_.result.RDN.valueBeforeDecode}toSchema(){return 0===this.valueBeforeDecode.byteLength?new gn({value:[new mi({value:Array.from(this.typesAndValues,_=>_.toSchema())})]}):Pt(this.valueBeforeDecode).result}toJSON(){return{typesAndValues:Array.from(this.typesAndValues,u=>u.toJSON())}}isEqual(u){if(u instanceof Nr){if(this.typesAndValues.length!==u.typesAndValues.length)return!1;for(const[_,A]of this.typesAndValues.entries())if(!1===A.isEqual(u.typesAndValues[_]))return!1;return!0}return u instanceof ArrayBuffer&&M(this.valueBeforeDecode,u)}}class sr{constructor(u={}){this.type=w(u,"type",sr.defaultValues("type")),this.value=w(u,"value",sr.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return 0;case"value":return new Date(0,0,0);default:throw new Error(`Invalid member name for Time class: ${u}`)}}static schema(u={},_=!1){const A=w(u,"names",{});return new yr({optional:_,value:[new Wn({name:A.utcTimeName||""}),new lr({name:A.generalTimeName||""})]})}fromSchema(u){L(u,["utcTimeName","generalTimeName"]);const _=ui(u,u,sr.schema({names:{utcTimeName:"utcTimeName",generalTimeName:"generalTimeName"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Time");"utcTimeName"in _.result&&(this.type=0,this.value=_.result.utcTimeName.toDate()),"generalTimeName"in _.result&&(this.type=1,this.value=_.result.generalTimeName.toDate())}toSchema(){let u={};return 0===this.type&&(u=new Wn({valueDate:this.value})),1===this.type&&(u=new lr({valueDate:this.value})),u}toJSON(){return{type:this.type,value:this.value}}}class Or{constructor(u={}){this.attributes=w(u,"attributes",Or.defaultValues("attributes")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("attributes"===u)return[];throw new Error(`Invalid member name for SubjectDirectoryAttributes class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.attributes||"",value:xr.schema()})]})}fromSchema(u){L(u,["attributes"]);const _=ui(u,u,Or.schema({names:{attributes:"attributes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for SubjectDirectoryAttributes");this.attributes=Array.from(_.result.attributes,A=>new xr({schema:A}))}toSchema(){return new gn({value:Array.from(this.attributes,u=>u.toSchema())})}toJSON(){return{attributes:Array.from(this.attributes,u=>u.toJSON())}}}class os{constructor(u={}){"notBefore"in u&&(this.notBefore=w(u,"notBefore",os.defaultValues("notBefore"))),"notAfter"in u&&(this.notAfter=w(u,"notAfter",os.defaultValues("notAfter"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"notBefore":case"notAfter":return new Date;default:throw new Error(`Invalid member name for PrivateKeyUsagePeriod class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new it({name:_.notBefore||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:_.notAfter||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(u){L(u,["notBefore","notAfter"]);const _=ui(u,u,os.schema({names:{notBefore:"notBefore",notAfter:"notAfter"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PrivateKeyUsagePeriod");if("notBefore"in _.result){const A=new lr;A.fromBuffer(_.result.notBefore.valueBlock.valueHex),this.notBefore=A.toDate()}if("notAfter"in _.result){const A=new lr({valueHex:_.result.notAfter.valueBlock.valueHex});A.fromBuffer(_.result.notAfter.valueBlock.valueHex),this.notAfter=A.toDate()}}toSchema(){const u=[];return"notBefore"in this&&u.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:new lr({valueDate:this.notBefore}).valueBlock.valueHex})),"notAfter"in this&&u.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new lr({valueDate:this.notAfter}).valueBlock.valueHex})),new gn({value:u})}toJSON(){const u={};return"notBefore"in this&&(u.notBefore=this.notBefore),"notAfter"in this&&(u.notAfter=this.notAfter),u}}function lo(Le={},u=!1){const _=w(Le,"names",{});return new gn({optional:u,value:[new X({optional:!0,idBlock:{tagClass:2,tagNumber:1},name:_.country_name||"",value:[new yr({value:[new Yt,new Zt]})]}),new X({optional:!0,idBlock:{tagClass:2,tagNumber:2},name:_.administration_domain_name||"",value:[new yr({value:[new Yt,new Zt]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},name:_.network_address||"",isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},name:_.terminal_identifier||"",isHexOnly:!0}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:2},name:_.private_domain_name||"",value:[new yr({value:[new Yt,new Zt]})]}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},name:_.organization_name||"",isHexOnly:!0}),new it({optional:!0,name:_.numeric_user_identifier||"",idBlock:{tagClass:3,tagNumber:4},isHexOnly:!0}),new X({optional:!0,name:_.personal_name||"",idBlock:{tagClass:3,tagNumber:5},value:[new it({idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},isHexOnly:!0}),new it({optional:!0,idBlock:{tagClass:3,tagNumber:3},isHexOnly:!0})]}),new X({optional:!0,name:_.organizational_unit_names||"",idBlock:{tagClass:3,tagNumber:6},value:[new Ni({value:new Zt})]})]})}function Ra(Le=!1){return new gn({optional:Le,value:[new Zt,new Zt]})}function Ds(Le=!1){return new mi({optional:Le,value:[new it({optional:!0,idBlock:{tagClass:3,tagNumber:0},isHexOnly:!0}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new vr]})]})}class ci{constructor(u={}){this.type=w(u,"type",ci.defaultValues("type")),this.value=w(u,"value",ci.defaultValues("value")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"type":return 9;case"value":return{};default:throw new Error(`Invalid member name for GeneralName class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"type":return _===ci.defaultValues(u);case"value":return 0===Object.keys(_).length;default:throw new Error(`Invalid member name for GeneralName class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new yr({value:[new X({idBlock:{tagClass:3,tagNumber:0},name:_.blockName||"",value:[new Gt,new X({idBlock:{tagClass:3,tagNumber:0},value:[new vr]})]}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:1}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:2}}),new X({idBlock:{tagClass:3,tagNumber:3},name:_.blockName||"",value:[lo(_.builtInStandardAttributes||{},!1),Ra(!0),Ds(!0)]}),new X({idBlock:{tagClass:3,tagNumber:4},name:_.blockName||"",value:[Nr.schema(_.directoryName||{})]}),new X({idBlock:{tagClass:3,tagNumber:5},name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yr({value:[new _e,new Zt,new zt,new Hi,new et]})]}),new X({idBlock:{tagClass:3,tagNumber:1},value:[new yr({value:[new _e,new Zt,new zt,new Hi,new et]})]})]}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:6}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:7}}),new it({name:_.blockName||"",idBlock:{tagClass:3,tagNumber:8}})]})}fromSchema(u){L(u,["blockName","otherName","rfc822Name","dNSName","x400Address","directoryName","ediPartyName","uniformResourceIdentifier","iPAddress","registeredID"]);const _=ui(u,u,ci.schema({names:{blockName:"blockName",otherName:"otherName",rfc822Name:"rfc822Name",dNSName:"dNSName",x400Address:"x400Address",directoryName:{names:{blockName:"directoryName"}},ediPartyName:"ediPartyName",uniformResourceIdentifier:"uniformResourceIdentifier",iPAddress:"iPAddress",registeredID:"registeredID"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralName");switch(this.type=_.result.blockName.idBlock.tagNumber,this.type){case 0:case 3:this.value=_.result.blockName;break;case 1:case 2:case 6:{const A=_.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=22;const W=A.toBER(!1);this.value=Pt(W).result.valueBlock.value}break;case 4:this.value=new Nr({schema:_.result.directoryName});break;case 5:this.value=_.result.ediPartyName;break;case 7:this.value=new It({valueHex:_.result.blockName.valueBlock.valueHex});break;case 8:{const A=_.result.blockName;A.idBlock.tagClass=1,A.idBlock.tagNumber=6;const W=A.toBER(!1);this.value=Pt(W).result.valueBlock.toString()}}}toSchema(){switch(this.type){case 0:case 3:case 5:return new X({idBlock:{tagClass:3,tagNumber:this.type},value:[this.value]});case 1:case 2:case 6:{const u=new ze({value:this.value});return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}case 4:return new X({idBlock:{tagClass:3,tagNumber:4},value:[this.value.toSchema()]});case 7:{const u=this.value;return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}case 8:{const u=new Gt({value:this.value});return u.idBlock.tagClass=3,u.idBlock.tagNumber=this.type,u}default:return ci.schema()}}toJSON(){const u={type:this.type,value:""};if("string"==typeof this.value)u.value=this.value;else try{u.value=this.value.toJSON()}catch{}return u}}class Kr{constructor(u={}){this.altNames=w(u,"altNames",Kr.defaultValues("altNames")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("altNames"===u)return[];throw new Error(`Invalid member name for AltName class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.altNames||"",value:ci.schema()})]})}fromSchema(u){L(u,["altNames"]);const _=ui(u,u,Kr.schema({names:{altNames:"altNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AltName");"altNames"in _.result&&(this.altNames=Array.from(_.result.altNames,A=>new ci({schema:A})))}toSchema(){return new gn({value:Array.from(this.altNames,u=>u.toSchema())})}toJSON(){return{altNames:Array.from(this.altNames,u=>u.toJSON())}}}class $s{constructor(u={}){this.cA=w(u,"cA",!1),"pathLenConstraint"in u&&(this.pathLenConstraint=w(u,"pathLenConstraint",0)),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("cA"===u)return!1;throw new Error(`Invalid member name for BasicConstraints class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Mn({optional:!0,name:_.cA||""}),new fn({optional:!0,name:_.pathLenConstraint||""})]})}fromSchema(u){L(u,["cA","pathLenConstraint"]);const _=ui(u,u,$s.schema({names:{cA:"cA",pathLenConstraint:"pathLenConstraint"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for BasicConstraints");"cA"in _.result&&(this.cA=_.result.cA.valueBlock.value),"pathLenConstraint"in _.result&&(this.pathLenConstraint=_.result.pathLenConstraint.valueBlock.isHexOnly?_.result.pathLenConstraint:_.result.pathLenConstraint.valueBlock.valueDec)}toSchema(){const u=[];return this.cA!==$s.defaultValues("cA")&&u.push(new Mn({value:this.cA})),"pathLenConstraint"in this&&u.push(this.pathLenConstraint instanceof fn?this.pathLenConstraint:new fn({value:this.pathLenConstraint})),new gn({value:u})}toJSON(){const u={};return this.cA!==$s.defaultValues("cA")&&(u.cA=this.cA),"pathLenConstraint"in this&&(u.pathLenConstraint=this.pathLenConstraint instanceof fn?this.pathLenConstraint.toJSON():this.pathLenConstraint),u}}class gr{constructor(u={}){"distributionPoint"in u&&(this.distributionPoint=w(u,"distributionPoint",gr.defaultValues("distributionPoint"))),this.onlyContainsUserCerts=w(u,"onlyContainsUserCerts",gr.defaultValues("onlyContainsUserCerts")),this.onlyContainsCACerts=w(u,"onlyContainsCACerts",gr.defaultValues("onlyContainsCACerts")),"onlySomeReasons"in u&&(this.onlySomeReasons=w(u,"onlySomeReasons",gr.defaultValues("onlySomeReasons"))),this.indirectCRL=w(u,"indirectCRL",gr.defaultValues("indirectCRL")),this.onlyContainsAttributeCerts=w(u,"onlyContainsAttributeCerts",gr.defaultValues("onlyContainsAttributeCerts")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"distributionPoint":return[];case"onlyContainsUserCerts":case"onlyContainsCACerts":case"indirectCRL":case"onlyContainsAttributeCerts":return!1;case"onlySomeReasons":return 0;default:throw new Error(`Invalid member name for IssuingDistributionPoint class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yr({value:[new X({name:_.distributionPoint||"",idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:_.distributionPointNames||"",value:ci.schema()})]}),new X({name:_.distributionPoint||"",idBlock:{tagClass:3,tagNumber:1},value:Nr.schema().valueBlock.value})]})]}),new it({name:_.onlyContainsUserCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:_.onlyContainsCACerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new it({name:_.onlySomeReasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:3}}),new it({name:_.indirectCRL||"",optional:!0,idBlock:{tagClass:3,tagNumber:4}}),new it({name:_.onlyContainsAttributeCerts||"",optional:!0,idBlock:{tagClass:3,tagNumber:5}})]})}fromSchema(u){L(u,["distributionPoint","distributionPointNames","onlyContainsUserCerts","onlyContainsCACerts","onlySomeReasons","indirectCRL","onlyContainsAttributeCerts"]);const _=ui(u,u,gr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",onlyContainsUserCerts:"onlyContainsUserCerts",onlyContainsCACerts:"onlyContainsCACerts",onlySomeReasons:"onlySomeReasons",indirectCRL:"indirectCRL",onlyContainsAttributeCerts:"onlyContainsAttributeCerts"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for IssuingDistributionPoint");if("distributionPoint"in _.result)switch(!0){case 0===_.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=Array.from(_.result.distributionPointNames,A=>new ci({schema:A}));break;case 1===_.result.distributionPoint.idBlock.tagNumber:this.distributionPoint=new Nr({schema:new gn({value:_.result.distributionPoint.valueBlock.value})});break;default:throw new Error("Unknown tagNumber for distributionPoint: {$asn1.result.distributionPoint.idBlock.tagNumber}")}if("onlyContainsUserCerts"in _.result){const A=new Uint8Array(_.result.onlyContainsUserCerts.valueBlock.valueHex);this.onlyContainsUserCerts=0!==A[0]}if("onlyContainsCACerts"in _.result){const A=new Uint8Array(_.result.onlyContainsCACerts.valueBlock.valueHex);this.onlyContainsCACerts=0!==A[0]}if("onlySomeReasons"in _.result){const A=new Uint8Array(_.result.onlySomeReasons.valueBlock.valueHex);this.onlySomeReasons=A[0]}if("indirectCRL"in _.result){const A=new Uint8Array(_.result.indirectCRL.valueBlock.valueHex);this.indirectCRL=0!==A[0]}if("onlyContainsAttributeCerts"in _.result){const A=new Uint8Array(_.result.onlyContainsAttributeCerts.valueBlock.valueHex);this.onlyContainsAttributeCerts=0!==A[0]}}toSchema(){const u=[];if("distributionPoint"in this){let _;this.distributionPoint instanceof Array?_=new X({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}):(_=this.distributionPoint.toSchema(),_.idBlock.tagClass=3,_.idBlock.tagNumber=1),u.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[_]}))}if(this.onlyContainsUserCerts!==gr.defaultValues("onlyContainsUserCerts")&&u.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsCACerts!==gr.defaultValues("onlyContainsCACerts")&&u.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:new Uint8Array([255]).buffer})),"onlySomeReasons"in this){const _=new ArrayBuffer(1);new Uint8Array(_)[0]=this.onlySomeReasons,u.push(new it({idBlock:{tagClass:3,tagNumber:3},valueHex:_}))}return this.indirectCRL!==gr.defaultValues("indirectCRL")&&u.push(new it({idBlock:{tagClass:3,tagNumber:4},valueHex:new Uint8Array([255]).buffer})),this.onlyContainsAttributeCerts!==gr.defaultValues("onlyContainsAttributeCerts")&&u.push(new it({idBlock:{tagClass:3,tagNumber:5},valueHex:new Uint8Array([255]).buffer})),new gn({value:u})}toJSON(){const u={};return"distributionPoint"in this&&(u.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,_=>_.toJSON()):this.distributionPoint.toJSON()),this.onlyContainsUserCerts!==gr.defaultValues("onlyContainsUserCerts")&&(u.onlyContainsUserCerts=this.onlyContainsUserCerts),this.onlyContainsCACerts!==gr.defaultValues("onlyContainsCACerts")&&(u.onlyContainsCACerts=this.onlyContainsCACerts),"onlySomeReasons"in this&&(u.onlySomeReasons=this.onlySomeReasons),this.indirectCRL!==gr.defaultValues("indirectCRL")&&(u.indirectCRL=this.indirectCRL),this.onlyContainsAttributeCerts!==gr.defaultValues("onlyContainsAttributeCerts")&&(u.onlyContainsAttributeCerts=this.onlyContainsAttributeCerts),u}}class Gs{constructor(u={}){this.names=w(u,"names",Gs.defaultValues("names")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("names"===u)return[];throw new Error(`Invalid member name for GeneralNames class: ${u}`)}static schema(u={},_=!1){const A=w(u,"names",{});return new gn({optional:_,name:A.blockName||"",value:[new Ni({name:A.generalNames||"",value:ci.schema()})]})}fromSchema(u){L(u,["names","generalNames"]);const _=ui(u,u,Gs.schema({names:{blockName:"names",generalNames:"generalNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralNames");this.names=Array.from(_.result.generalNames,A=>new ci({schema:A}))}toSchema(){return new gn({value:Array.from(this.names,u=>u.toSchema())})}toJSON(){return{names:Array.from(this.names,u=>u.toJSON())}}}class Br{constructor(u={}){this.base=w(u,"base",Br.defaultValues("base")),this.minimum=w(u,"minimum",Br.defaultValues("minimum")),"maximum"in u&&(this.maximum=w(u,"maximum",Br.defaultValues("maximum"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"base":return new ci;case"minimum":case"maximum":return 0;default:throw new Error(`Invalid member name for GeneralSubtree class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[ci.schema(_.base||{}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({name:_.minimum||""})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new fn({name:_.maximum||""})]})]})}fromSchema(u){L(u,["base","minimum","maximum"]);const _=ui(u,u,Br.schema({names:{base:{names:{blockName:"base"}},minimum:"minimum",maximum:"maximum"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for GeneralSubtree");this.base=new ci({schema:_.result.base}),"minimum"in _.result&&(this.minimum=_.result.minimum.valueBlock.isHexOnly?_.result.minimum:_.result.minimum.valueBlock.valueDec),"maximum"in _.result&&(this.maximum=_.result.maximum.valueBlock.isHexOnly?_.result.maximum:_.result.maximum.valueBlock.valueDec)}toSchema(){const u=[];if(u.push(this.base.toSchema()),0!==this.minimum){let _=0;_=this.minimum instanceof fn?this.minimum:new fn({value:this.minimum}),u.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[_]}))}if("maximum"in this){let _=0;_=this.maximum instanceof fn?this.maximum:new fn({value:this.maximum}),u.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[_]}))}return new gn({value:u})}toJSON(){const u={base:this.base.toJSON()};return 0!==this.minimum&&(u.minimum="number"==typeof this.minimum?this.minimum:this.minimum.toJSON()),"maximum"in this&&(u.maximum="number"==typeof this.maximum?this.maximum:this.maximum.toJSON()),u}}class jr{constructor(u={}){"permittedSubtrees"in u&&(this.permittedSubtrees=w(u,"permittedSubtrees",jr.defaultValues("permittedSubtrees"))),"excludedSubtrees"in u&&(this.excludedSubtrees=w(u,"excludedSubtrees",jr.defaultValues("excludedSubtrees"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"permittedSubtrees":case"excludedSubtrees":return[];default:throw new Error(`Invalid member name for NameConstraints class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:_.permittedSubtrees||"",value:Br.schema()})]}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:_.excludedSubtrees||"",value:Br.schema()})]})]})}fromSchema(u){L(u,["permittedSubtrees","excludedSubtrees"]);const _=ui(u,u,jr.schema({names:{permittedSubtrees:"permittedSubtrees",excludedSubtrees:"excludedSubtrees"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for NameConstraints");"permittedSubtrees"in _.result&&(this.permittedSubtrees=Array.from(_.result.permittedSubtrees,A=>new Br({schema:A}))),"excludedSubtrees"in _.result&&(this.excludedSubtrees=Array.from(_.result.excludedSubtrees,A=>new Br({schema:A})))}toSchema(){const u=[];return"permittedSubtrees"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.permittedSubtrees,_=>_.toSchema())})),"excludedSubtrees"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.excludedSubtrees,_=>_.toSchema())})),new gn({value:u})}toJSON(){const u={};return"permittedSubtrees"in this&&(u.permittedSubtrees=Array.from(this.permittedSubtrees,_=>_.toJSON())),"excludedSubtrees"in this&&(u.excludedSubtrees=Array.from(this.excludedSubtrees,_=>_.toJSON())),u}}class zr{constructor(u={}){"distributionPoint"in u&&(this.distributionPoint=w(u,"distributionPoint",zr.defaultValues("distributionPoint"))),"reasons"in u&&(this.reasons=w(u,"reasons",zr.defaultValues("reasons"))),"cRLIssuer"in u&&(this.cRLIssuer=w(u,"cRLIssuer",zr.defaultValues("cRLIssuer"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"distributionPoint":case"cRLIssuer":return[];case"reasons":return new lt;default:throw new Error(`Invalid member name for DistributionPoint class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new yr({value:[new X({name:_.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new Ni({name:_.distributionPointNames||"",value:ci.schema()})]}),new X({name:_.distributionPoint||"",optional:!0,idBlock:{tagClass:3,tagNumber:1},value:Nr.schema().valueBlock.value})]})]}),new it({name:_.reasons||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new X({name:_.cRLIssuer||"",optional:!0,idBlock:{tagClass:3,tagNumber:2},value:[new Ni({name:_.cRLIssuerNames||"",value:ci.schema()})]})]})}fromSchema(u){L(u,["distributionPoint","distributionPointNames","reasons","cRLIssuer","cRLIssuerNames"]);const _=ui(u,u,zr.schema({names:{distributionPoint:"distributionPoint",distributionPointNames:"distributionPointNames",reasons:"reasons",cRLIssuer:"cRLIssuer",cRLIssuerNames:"cRLIssuerNames"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for DistributionPoint");"distributionPoint"in _.result&&(0===_.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=Array.from(_.result.distributionPointNames,A=>new ci({schema:A}))),1===_.result.distributionPoint.idBlock.tagNumber&&(this.distributionPoint=new Nr({schema:new gn({value:_.result.distributionPoint.valueBlock.value})}))),"reasons"in _.result&&(this.reasons=new lt({valueHex:_.result.reasons.valueBlock.valueHex})),"cRLIssuer"in _.result&&(this.cRLIssuer=Array.from(_.result.cRLIssuerNames,A=>new ci({schema:A})))}toSchema(){const u=[];if("distributionPoint"in this){let _;_=new X(this.distributionPoint instanceof Array?{idBlock:{tagClass:3,tagNumber:0},value:Array.from(this.distributionPoint,A=>A.toSchema())}:{idBlock:{tagClass:3,tagNumber:1},value:[this.distributionPoint.toSchema()]}),u.push(new X({idBlock:{tagClass:3,tagNumber:0},value:[_]}))}return"reasons"in this&&u.push(new it({idBlock:{tagClass:3,tagNumber:1},valueHex:this.reasons.valueBlock.valueHex})),"cRLIssuer"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:2},value:Array.from(this.cRLIssuer,_=>_.toSchema())})),new gn({value:u})}toJSON(){const u={};return"distributionPoint"in this&&(u.distributionPoint=this.distributionPoint instanceof Array?Array.from(this.distributionPoint,_=>_.toJSON()):this.distributionPoint.toJSON()),"reasons"in this&&(u.reasons=this.reasons.toJSON()),"cRLIssuer"in this&&(u.cRLIssuer=Array.from(this.cRLIssuer,_=>_.toJSON())),u}}class vn{constructor(u={}){this.distributionPoints=w(u,"distributionPoints",vn.defaultValues("distributionPoints")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("distributionPoints"===u)return[];throw new Error(`Invalid member name for CRLDistributionPoints class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.distributionPoints||"",value:zr.schema()})]})}fromSchema(u){L(u,["distributionPoints"]);const _=ui(u,u,vn.schema({names:{distributionPoints:"distributionPoints"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CRLDistributionPoints");this.distributionPoints=Array.from(_.result.distributionPoints,A=>new zr({schema:A}))}toSchema(){return new gn({value:Array.from(this.distributionPoints,u=>u.toSchema())})}toJSON(){return{distributionPoints:Array.from(this.distributionPoints,u=>u.toJSON())}}}class ys{constructor(u={}){this.policyQualifierId=w(u,"policyQualifierId",ys.defaultValues("policyQualifierId")),this.qualifier=w(u,"qualifier",ys.defaultValues("qualifier")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"policyQualifierId":return"";case"qualifier":return new vr;default:throw new Error(`Invalid member name for PolicyQualifierInfo class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.policyQualifierId||""}),new vr({name:_.qualifier||""})]})}fromSchema(u){L(u,["policyQualifierId","qualifier"]);const _=ui(u,u,ys.schema({names:{policyQualifierId:"policyQualifierId",qualifier:"qualifier"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyQualifierInfo");this.policyQualifierId=_.result.policyQualifierId.valueBlock.toString(),this.qualifier=_.result.qualifier}toSchema(){return new gn({value:[new Gt({value:this.policyQualifierId}),this.qualifier]})}toJSON(){return{policyQualifierId:this.policyQualifierId,qualifier:this.qualifier.toJSON()}}}class ke{constructor(u={}){this.policyIdentifier=w(u,"policyIdentifier",ke.defaultValues("policyIdentifier")),"policyQualifiers"in u&&(this.policyQualifiers=w(u,"policyQualifiers",ke.defaultValues("policyQualifiers"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"policyIdentifier":return"";case"policyQualifiers":return[];default:throw new Error(`Invalid member name for PolicyInformation class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.policyIdentifier||""}),new gn({optional:!0,value:[new Ni({name:_.policyQualifiers||"",value:ys.schema()})]})]})}fromSchema(u){L(u,["policyIdentifier","policyQualifiers"]);const _=ui(u,u,ke.schema({names:{policyIdentifier:"policyIdentifier",policyQualifiers:"policyQualifiers"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyInformation");this.policyIdentifier=_.result.policyIdentifier.valueBlock.toString(),"policyQualifiers"in _.result&&(this.policyQualifiers=Array.from(_.result.policyQualifiers,A=>new ys({schema:A})))}toSchema(){const u=[];return u.push(new Gt({value:this.policyIdentifier})),"policyQualifiers"in this&&u.push(new gn({value:Array.from(this.policyQualifiers,_=>_.toSchema())})),new gn({value:u})}toJSON(){const u={policyIdentifier:this.policyIdentifier};return"policyQualifiers"in this&&(u.policyQualifiers=Array.from(this.policyQualifiers,_=>_.toJSON())),u}}class Ue{constructor(u={}){this.certificatePolicies=w(u,"certificatePolicies",Ue.defaultValues("certificatePolicies")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("certificatePolicies"===u)return[];throw new Error(`Invalid member name for CertificatePolicies class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.certificatePolicies||"",value:ke.schema()})]})}fromSchema(u){L(u,["certificatePolicies"]);const _=ui(u,u,Ue.schema({names:{certificatePolicies:"certificatePolicies"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CertificatePolicies");this.certificatePolicies=Array.from(_.result.certificatePolicies,A=>new ke({schema:A}))}toSchema(){return new gn({value:Array.from(this.certificatePolicies,u=>u.toSchema())})}toJSON(){return{certificatePolicies:Array.from(this.certificatePolicies,u=>u.toJSON())}}}class he{constructor(u={}){this.issuerDomainPolicy=w(u,"issuerDomainPolicy",he.defaultValues("issuerDomainPolicy")),this.subjectDomainPolicy=w(u,"subjectDomainPolicy",he.defaultValues("subjectDomainPolicy")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"issuerDomainPolicy":case"subjectDomainPolicy":return"";default:throw new Error(`Invalid member name for PolicyMapping class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.issuerDomainPolicy||""}),new Gt({name:_.subjectDomainPolicy||""})]})}fromSchema(u){L(u,["issuerDomainPolicy","subjectDomainPolicy"]);const _=ui(u,u,he.schema({names:{issuerDomainPolicy:"issuerDomainPolicy",subjectDomainPolicy:"subjectDomainPolicy"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyMapping");this.issuerDomainPolicy=_.result.issuerDomainPolicy.valueBlock.toString(),this.subjectDomainPolicy=_.result.subjectDomainPolicy.valueBlock.toString()}toSchema(){return new gn({value:[new Gt({value:this.issuerDomainPolicy}),new Gt({value:this.subjectDomainPolicy})]})}toJSON(){return{issuerDomainPolicy:this.issuerDomainPolicy,subjectDomainPolicy:this.subjectDomainPolicy}}}class qe{constructor(u={}){this.mappings=w(u,"mappings",qe.defaultValues("mappings")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("mappings"===u)return[];throw new Error(`Invalid member name for PolicyMappings class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.mappings||"",value:he.schema()})]})}fromSchema(u){L(u,["mappings"]);const _=ui(u,u,qe.schema({names:{mappings:"mappings"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyMappings");this.mappings=Array.from(_.result.mappings,A=>new he({schema:A}))}toSchema(){return new gn({value:Array.from(this.mappings,u=>u.toSchema())})}toJSON(){return{mappings:Array.from(this.mappings,u=>u.toJSON())}}}class Lt{constructor(u={}){"keyIdentifier"in u&&(this.keyIdentifier=w(u,"keyIdentifier",Lt.defaultValues("keyIdentifier"))),"authorityCertIssuer"in u&&(this.authorityCertIssuer=w(u,"authorityCertIssuer",Lt.defaultValues("authorityCertIssuer"))),"authorityCertSerialNumber"in u&&(this.authorityCertSerialNumber=w(u,"authorityCertSerialNumber",Lt.defaultValues("authorityCertSerialNumber"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"keyIdentifier":return new It;case"authorityCertIssuer":return[];case"authorityCertSerialNumber":return new fn;default:throw new Error(`Invalid member name for AuthorityKeyIdentifier class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new it({name:_.keyIdentifier||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:1},value:[new Ni({name:_.authorityCertIssuer||"",value:ci.schema()})]}),new it({name:_.authorityCertSerialNumber||"",optional:!0,idBlock:{tagClass:3,tagNumber:2}})]})}fromSchema(u){L(u,["keyIdentifier","authorityCertIssuer","authorityCertSerialNumber"]);const _=ui(u,u,Lt.schema({names:{keyIdentifier:"keyIdentifier",authorityCertIssuer:"authorityCertIssuer",authorityCertSerialNumber:"authorityCertSerialNumber"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AuthorityKeyIdentifier");"keyIdentifier"in _.result&&(this.keyIdentifier=new It({valueHex:_.result.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in _.result&&(this.authorityCertIssuer=Array.from(_.result.authorityCertIssuer,A=>new ci({schema:A}))),"authorityCertSerialNumber"in _.result&&(this.authorityCertSerialNumber=new fn({valueHex:_.result.authorityCertSerialNumber.valueBlock.valueHex}))}toSchema(){const u=[];return"keyIdentifier"in this&&u.push(new it({idBlock:{tagClass:3,tagNumber:0},valueHex:this.keyIdentifier.valueBlock.valueHex})),"authorityCertIssuer"in this&&u.push(new X({idBlock:{tagClass:3,tagNumber:1},value:Array.from(this.authorityCertIssuer,_=>_.toSchema())})),"authorityCertSerialNumber"in this&&u.push(new it({idBlock:{tagClass:3,tagNumber:2},valueHex:this.authorityCertSerialNumber.valueBlock.valueHex})),new gn({value:u})}toJSON(){const u={};return"keyIdentifier"in this&&(u.keyIdentifier=this.keyIdentifier.toJSON()),"authorityCertIssuer"in this&&(u.authorityCertIssuer=Array.from(this.authorityCertIssuer,_=>_.toJSON())),"authorityCertSerialNumber"in this&&(u.authorityCertSerialNumber=this.authorityCertSerialNumber.toJSON()),u}}class Yn{constructor(u={}){"requireExplicitPolicy"in u&&(this.requireExplicitPolicy=w(u,"requireExplicitPolicy",Yn.defaultValues("requireExplicitPolicy"))),"inhibitPolicyMapping"in u&&(this.inhibitPolicyMapping=w(u,"inhibitPolicyMapping",Yn.defaultValues("inhibitPolicyMapping"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"requireExplicitPolicy":case"inhibitPolicyMapping":return 0;default:throw new Error(`Invalid member name for PolicyConstraints class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new it({name:_.requireExplicitPolicy||"",optional:!0,idBlock:{tagClass:3,tagNumber:0}}),new it({name:_.inhibitPolicyMapping||"",optional:!0,idBlock:{tagClass:3,tagNumber:1}})]})}fromSchema(u){L(u,["requireExplicitPolicy","inhibitPolicyMapping"]);const _=ui(u,u,Yn.schema({names:{requireExplicitPolicy:"requireExplicitPolicy",inhibitPolicyMapping:"inhibitPolicyMapping"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for PolicyConstraints");if("requireExplicitPolicy"in _.result){const A=_.result.requireExplicitPolicy;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ae=Pt(A.toBER(!1));this.requireExplicitPolicy=ae.result.valueBlock.valueDec}if("inhibitPolicyMapping"in _.result){const A=_.result.inhibitPolicyMapping;A.idBlock.tagClass=1,A.idBlock.tagNumber=2;const ae=Pt(A.toBER(!1));this.inhibitPolicyMapping=ae.result.valueBlock.valueDec}}toSchema(){const u=[];if("requireExplicitPolicy"in this){const _=new fn({value:this.requireExplicitPolicy});_.idBlock.tagClass=3,_.idBlock.tagNumber=0,u.push(_)}if("inhibitPolicyMapping"in this){const _=new fn({value:this.inhibitPolicyMapping});_.idBlock.tagClass=3,_.idBlock.tagNumber=1,u.push(_)}return new gn({value:u})}toJSON(){const u={};return"requireExplicitPolicy"in this&&(u.requireExplicitPolicy=this.requireExplicitPolicy),"inhibitPolicyMapping"in this&&(u.inhibitPolicyMapping=this.inhibitPolicyMapping),u}}class Di{constructor(u={}){this.keyPurposes=w(u,"keyPurposes",Di.defaultValues("keyPurposes")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("keyPurposes"===u)return[];throw new Error(`Invalid member name for ExtKeyUsage class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.keyPurposes||"",value:new Gt})]})}fromSchema(u){L(u,["keyPurposes"]);const _=ui(u,u,Di.schema({names:{keyPurposes:"keyPurposes"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for ExtKeyUsage");this.keyPurposes=Array.from(_.result.keyPurposes,A=>A.valueBlock.toString())}toSchema(){return new gn({value:Array.from(this.keyPurposes,u=>new Gt({value:u}))})}toJSON(){return{keyPurposes:Array.from(this.keyPurposes)}}}class as{constructor(u={}){this.accessMethod=w(u,"accessMethod",as.defaultValues("accessMethod")),this.accessLocation=w(u,"accessLocation",as.defaultValues("accessLocation")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"accessMethod":return"";case"accessLocation":return new ci;default:throw new Error(`Invalid member name for AccessDescription class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.accessMethod||""}),ci.schema(_.accessLocation||{})]})}fromSchema(u){L(u,["accessMethod","accessLocation"]);const _=ui(u,u,as.schema({names:{accessMethod:"accessMethod",accessLocation:{names:{blockName:"accessLocation"}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for AccessDescription");this.accessMethod=_.result.accessMethod.valueBlock.toString(),this.accessLocation=new ci({schema:_.result.accessLocation})}toSchema(){return new gn({value:[new Gt({value:this.accessMethod}),this.accessLocation.toSchema()]})}toJSON(){return{accessMethod:this.accessMethod,accessLocation:this.accessLocation.toJSON()}}}class _s{constructor(u={}){this.accessDescriptions=w(u,"accessDescriptions",_s.defaultValues("accessDescriptions")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("accessDescriptions"===u)return[];throw new Error(`Invalid member name for InfoAccess class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.accessDescriptions||"",value:as.schema()})]})}fromSchema(u){L(u,["accessDescriptions"]);const _=ui(u,u,_s.schema({names:{accessDescriptions:"accessDescriptions"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for InfoAccess");this.accessDescriptions=Array.from(_.result.accessDescriptions,A=>new as({schema:A}))}toSchema(){return new gn({value:Array.from(this.accessDescriptions,u=>u.toSchema())})}toJSON(){return{accessDescriptions:Array.from(this.accessDescriptions,u=>u.toJSON())}}}class Zn{constructor(u={}){if("view"in u)this.fromUint8Array(u.view);else if("buffer"in u)this.fromArrayBuffer(u.buffer);else if("string"in u)this.fromString(u.string);else if("hexstring"in u)this.fromHexString(u.hexstring);else if("length"in u&&u.length>0){if(this.length=u.length,u.stub)for(let _=0;_<this._view.length;_++)this._view[_]=u.stub}else this.length=0}set buffer(u){this._buffer=u,this._view=new Uint8Array(this._buffer)}get buffer(){return this._buffer}set view(u){this._buffer=new ArrayBuffer(u.length),this._view=new Uint8Array(this._buffer),this._view.set(u)}get view(){return this._view}get length(){return this.view.byteLength}set length(u){this._buffer=new ArrayBuffer(u),this._view=new Uint8Array(this._buffer)}clear(){this._buffer=new ArrayBuffer(0),this._view=new Uint8Array(this._buffer)}fromArrayBuffer(u){this._buffer=u,this._view=new Uint8Array(this._buffer)}fromUint8Array(u){this.fromArrayBuffer(new Uint8Array(u).buffer)}fromString(u){const _=u.length;this.length=_;for(let A=0;A<_;A++)this.view[A]=u.charCodeAt(A)}toString(u=0,_=this.view.length-u){let A="";(u>=this.view.length||u<0)&&(u=0),(_>=this.view.length||_<0)&&(_=this.view.length-u);for(let W=u;W<u+_;W++)A+=String.fromCharCode(this.view[W]);return A}fromHexString(u){const _=u.length;this.buffer=new ArrayBuffer(_>>1),this.view=new Uint8Array(this.buffer);const A=new Map;A.set("0",0),A.set("1",1),A.set("2",2),A.set("3",3),A.set("4",4),A.set("5",5),A.set("6",6),A.set("7",7),A.set("8",8),A.set("9",9),A.set("A",10),A.set("a",10),A.set("B",11),A.set("b",11),A.set("C",12),A.set("c",12),A.set("D",13),A.set("d",13),A.set("E",14),A.set("e",14),A.set("F",15),A.set("f",15);let W=0,ae=0;for(let ve=0;ve<_;ve++)ve%2?(ae|=A.get(u.charAt(ve)),this.view[W]=ae,W++):ae=A.get(u.charAt(ve))<<4}toHexString(u=0,_=this.view.length-u){let A="";(u>=this.view.length||u<0)&&(u=0),(_>=this.view.length||_<0)&&(_=this.view.length-u);for(let W=u;W<u+_;W++){const ae=this.view[W].toString(16).toUpperCase();A=A+(1==ae.length?"0":"")+ae}return A}copy(u=0,_=this.length-u){if(!u&&!this.length)return new Zn;if(u<0||u>this.length-1)throw new Error(`Wrong start position: ${u}`);return new Zn({buffer:this._buffer.slice(u,u+_)})}slice(u=0,_=this.length){if(!u&&!this.length)return new Zn;if(u<0||u>this.length-1)throw new Error(`Wrong start position: ${u}`);return new Zn({buffer:this._buffer.slice(u,_)})}realloc(u){const _=new ArrayBuffer(u);new Uint8Array(_).set(u>this._view.length?this._view:new Uint8Array(this._buffer,0,u)),this._buffer=_,this._view=new Uint8Array(this._buffer)}append(u){const _=this.length,A=u.length,W=u._view.subarray();this.realloc(_+A),this._view.set(W,_)}insert(u,_=0,A=this.length-_){return!(_>this.length-1||(A>this.length-_&&(A=this.length-_),A>u.length&&(A=u.length),this._view.set(A==u.length?u._view:u._view.subarray(0,A),_),0))}isEqual(u){if(this.length!=u.length)return!1;for(let _=0;_<u.length;_++)if(this.view[_]!=u.view[_])return!1;return!0}isEqualView(u){if(u.length!=this.view.length)return!1;for(let _=0;_<u.length;_++)if(this.view[_]!=u[_])return!1;return!0}findPattern(u,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W),D=u.length;if(D>ve)return-1;const V=[];for(let B=0;B<D;B++)V.push(u.view[B]);for(let B=0;B<=ve-D;B++){let Q=!0;const ge=Ge?ae-D-B:ae+B;for(let $e=0;$e<D;$e++)if(this.view[$e+ge]!=V[$e]){Q=!1;break}if(Q)return Ge?ae-D-B:ae+D+B}return-1}findFirstIn(u,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W),D={id:-1,position:Ge?0:ae+ve,length:0};for(let V=0;V<u.length;V++){const B=this.findPattern(u[V],ae,ve,Ge);if(-1!=B){let Q=!1;const ge=u[V].length;Ge?B-ge>=D.position-D.length&&(Q=!0):B-ge<=D.position-D.length&&(Q=!0),Q&&(D.position=B,D.id=V,D.length=ge)}}return D}findAllIn(u,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={id:-1,position:W};for(;;){const D=Ge.position;if(Ge=this.findFirstIn(u,Ge.position,ae),-1==Ge.id)break;ae-=Ge.position-D,ve.push({id:Ge.id,position:Ge.position})}return ve}findAllPatternIn(u,_,A){const{start:W,length:ae}=this.prepareFindParameters(_,A),ve=[],Ge=u.length;if(Ge>ae)return-1;const D=Array.from(u.view);for(let V=0;V<=ae-Ge;V++){let B=!0;const Q=W+V;for(let ge=0;ge<Ge;ge++)if(this.view[ge+Q]!=D[ge]){B=!1;break}B&&(ve.push(W+Ge+V),V+=Ge-1)}return ve}findFirstNotIn(u,_,A,W){let{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);const D={left:{id:-1,position:ae},right:{id:-1,position:0},value:new Zn};let V=ve;for(;V>0;){if(D.right=this.findFirstIn(u,Ge?ae-ve+V:ae+ve-V,V,Ge),-1==D.right.id){ve=V,Ge?ae-=ve:ae=D.left.position,D.value=new Zn({buffer:this._buffer.slice(ae,ae+ve)});break}if(D.right.position!=(Ge?D.left.position-u[D.right.id].length:D.left.position+u[D.right.id].length)){Ge?(ae=D.right.position+u[D.right.id].length,ve=D.left.position-D.right.position-u[D.right.id].length):(ae=D.left.position,ve=D.right.position-D.left.position-u[D.right.id].length),D.value=new Zn({buffer:this._buffer.slice(ae,ae+ve)});break}D.left=D.right,V-=u[D.right.id].length}if(Ge){const B=D.right;D.right=D.left,D.left=B}return D}findAllNotIn(u,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={left:{id:-1,position:W},right:{id:-1,position:W},value:new Zn};do{const D=Ge.right.position;Ge=this.findFirstNotIn(u,Ge.right.position,ae),ae-=Ge.right.position-D,ve.push({left:{id:Ge.left.id,position:Ge.left.position},right:{id:Ge.right.id,position:Ge.right.position},value:Ge.value})}while(-1!=Ge.right.id);return ve}findFirstSequence(u,_,A,W){let{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);const D=this.skipNotPatterns(u,ae,ve,Ge);if(-1==D)return{position:-1,value:new Zn};const V=this.skipPatterns(u,D,ve-(Ge?ae-D:D-ae),Ge);return Ge?(ae=V,ve=D-V):(ae=D,ve=V-D),{position:V,value:new Zn({buffer:this._buffer.slice(ae,ae+ve)})}}findAllSequences(u,_,A){let{start:W,length:ae}=this.prepareFindParameters(_,A);const ve=[];let Ge={position:W,value:new Zn};do{const D=Ge.position;Ge=this.findFirstSequence(u,Ge.position,ae),-1!=Ge.position&&(ae-=Ge.position-D,ve.push({position:Ge.position,value:Ge.value}))}while(-1!=Ge.position);return ve}findPairedPatterns(u,_,A,W){const ae=[];if(u.isEqual(_))return ae;const{start:ve,length:Ge}=this.prepareFindParameters(A,W);let D=0;const V=this.findAllPatternIn(u,ve,Ge);if(!Array.isArray(V)||0==V.length)return ae;const B=this.findAllPatternIn(_,ve,Ge);if(!Array.isArray(B)||0==B.length)return ae;for(;D<V.length&&0!=B.length;)if(V[0]!=B[0]){if(V[D]>B[0])break;for(;V[D]<B[0]&&(D++,!(D>=V.length)););ae.push({left:V[D-1],right:B[0]}),V.splice(D-1,1),B.splice(0,1),D=0}else ae.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return ae.sort((Q,ge)=>Q.left-ge.left),ae}findPairedArrays(u,_,A,W){const{start:ae,length:ve}=this.prepareFindParameters(A,W),Ge=[];let D=0;const V=this.findAllIn(u,ae,ve);if(0==V.length)return Ge;const B=this.findAllIn(_,ae,ve);if(0==B.length)return Ge;for(;D<V.length&&0!=B.length;)if(V[0].position!=B[0].position){if(V[D].position>B[0].position)break;for(;V[D].position<B[0].position&&(D++,!(D>=V.length)););Ge.push({left:V[D-1],right:B[0]}),V.splice(D-1,1),B.splice(0,1),D=0}else Ge.push({left:V[0],right:B[0]}),V.splice(0,1),B.splice(0,1);return Ge.sort((Q,ge)=>Q.left.position-ge.left.position),Ge}replacePattern(u,_,A,W,ae=null){let Ge,ve=[];const D={status:-1,searchPatternPositions:[],replacePatternPositions:[]},{start:V,length:B}=this.prepareFindParameters(A,W);if(null==ae){if(ve=this.findAllIn([u],V,B),0==ve.length)return D}else ve=ae;D.searchPatternPositions.push(...Array.from(ve,bt=>bt.position));const Q=u.length-_.length,ge=new ArrayBuffer(this.view.length-ve.length*Q),$e=new Uint8Array(ge);for($e.set(new Uint8Array(this.buffer,0,V)),Ge=0;Ge<ve.length;Ge++){const bt=0==Ge?V:ve[Ge-1].position;$e.set(new Uint8Array(this.buffer,bt,ve[Ge].position-u.length-bt),bt-Ge*Q),$e.set(_.view,ve[Ge].position-u.length-Ge*Q),D.replacePatternPositions.push(ve[Ge].position-u.length-Ge*Q)}return Ge--,$e.set(new Uint8Array(this.buffer,ve[Ge].position,this.length-ve[Ge].position),ve[Ge].position-u.length+_.length-Ge*Q),this.buffer=ge,this.view=new Uint8Array(this.buffer),D.status=1,D}skipPatterns(u,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);let D=ae;for(let V=0;V<u.length;V++){const B=u[V].length,Q=Ge?D-B:D;let ge=!0;for(let $e=0;$e<B;$e++)if(this.view[$e+Q]!=u[V].view[$e]){ge=!1;break}if(ge)if(V=-1,Ge){if(D-=B,D<=0)return D}else if(D+=B,D>=ae+ve)return D}return D}skipNotPatterns(u,_,A,W){const{start:ae,length:ve,backward:Ge}=this.prepareFindParameters(_,A,W);let D=-1;for(let V=0;V<ve;V++){for(let B=0;B<u.length;B++){const Q=u[B].length,ge=Ge?ae-V-Q:ae+V;let $e=!0;for(let bt=0;bt<Q;bt++)if(this.view[bt+ge]!=u[B].view[bt]){$e=!1;break}if($e){D=Ge?ae-V:ae+V;break}}if(-1!=D)break}return D}prepareFindParameters(u=null,_=null,A=!1){return null===u&&(u=A?this.length:0),u>this.length&&(u=this.length),A?(null===_&&(_=u),_>u&&(_=u)):(null===_&&(_=this.length-u),_>this.length-u&&(_=this.length-u)),{start:u,length:_,backward:A}}}let Re=(()=>{class Le{constructor(_={}){this._stream=new Zn,this._length=0,this._start=0,this.backward=!1,this.appendBlock=0,this.prevLength=0,this.prevStart=0,this.stream="view"in _?new Zn({view:_.view}):"buffer"in _?new Zn({buffer:_.buffer}):"string"in _?new Zn({string:_.string}):"hexstring"in _?new Zn({hexstring:_.hexstring}):"stream"in _?_.stream.slice():new Zn,"backward"in _&&_.backward&&(this.backward=_.backward,this._start=this.stream.length),"length"in _&&_.length>0&&(this._length=_.length),"start"in _&&_.start&&_.start>0&&(this._start=_.start),"appendBlock"in _&&_.appendBlock&&_.appendBlock>0&&(this.appendBlock=_.appendBlock)}set stream(_){this._stream=_,this.prevLength=this._length,this._length=_.length,this.prevStart=this._start,this._start=0}get stream(){return this._stream}set length(_){this.prevLength=this._length,this._length=_}get length(){return this.appendBlock?this.start:this._length}set start(_){_>this.stream.length||(this.prevStart=this._start,this.prevLength=this._length,this._length-=this.backward?this._start-_:_-this._start,this._start=_)}get start(){return this._start}get buffer(){return this._stream.buffer.slice(0,this._length)}resetPosition(){this._start=this.prevStart,this._length=this.prevLength}findPattern(_,A=null){(null==A||A>this.length)&&(A=this.length);const W=this.stream.findPattern(_,this.start,this.length,this.backward);if(-1==W)return W;if(this.backward){if(W<this.start-_.length-A)return-1}else if(W>this.start+_.length+A)return-1;return this.start=W,W}findFirstIn(_,A=null){(null==A||A>this.length)&&(A=this.length);const W=this.stream.findFirstIn(_,this.start,this.length,this.backward);if(-1==W.id)return W;if(this.backward){if(W.position<this.start-_[W.id].length-A)return{id:-1,position:this.backward?0:this.start+this.length}}else if(W.position>this.start+_[W.id].length+A)return{id:-1,position:this.backward?0:this.start+this.length};return this.start=W.position,W}findAllIn(_){return this.stream.findAllIn(_,this.backward?this.start-this.length:this.start,this.length)}findFirstNotIn(_,A=null){(null==A||A>this._length)&&(A=this._length);const W=this._stream.findFirstNotIn(_,this._start,this._length,this.backward);if(-1==W.left.id&&-1==W.right.id)return W;if(this.backward){if(-1!=W.right.id&&W.right.position<this._start-_[W.right.id].length-A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Zn}}else if(-1!=W.left.id&&W.left.position>this._start+_[W.left.id].length+A)return{left:{id:-1,position:this._start},right:{id:-1,position:0},value:new Zn};return this.start=this.backward?-1==W.left.id?0:W.left.position:-1==W.right.id?this._start+this._length:W.right.position,W}findAllNotIn(_){return this._stream.findAllNotIn(_,this.backward?this._start-this._length:this._start,this._length)}findFirstSequence(_,A=null,W=null){(null==A||A>this._length)&&(A=this._length),(null==W||W>A)&&(W=A);const ae=this._stream.findFirstSequence(_,this._start,A,this.backward);if(0==ae.value.length)return ae;if(this.backward){if(ae.position<this._start-ae.value.length-W)return{position:-1,value:new Zn}}else if(ae.position>this._start+ae.value.length+W)return{position:-1,value:new Zn};return this.start=ae.position,ae}findAllSequences(_){return this.stream.findAllSequences(_,this.backward?this.start-this.length:this.start,this.length)}findPairedPatterns(_,A,W=null){(null==W||W>this.length)&&(W=this.length);const ve=this.stream.findPairedPatterns(_,A,this.backward?this.start-this.length:this.start,this.length);if(ve.length)if(this.backward){if(ve[0].right<this.start-A.length-W)return[]}else if(ve[0].left>this.start+_.length+W)return[];return ve}findPairedArrays(_,A,W=null){(null==W||W>this.length)&&(W=this.length);const ve=this.stream.findPairedArrays(_,A,this.backward?this.start-this.length:this.start,this.length);if(ve.length)if(this.backward){if(ve[0].right.position<this.start-A[ve[0].right.id].length-W)return[]}else if(ve[0].left.position>this.start+_[ve[0].left.id].length+W)return[];return ve}replacePattern(_,A){return this.stream.replacePattern(_,A,this.backward?this.start-this.length:this.start,this.length)}skipPatterns(_){const A=this.stream.skipPatterns(_,this.start,this.length,this.backward);return this.start=A,A}skipNotPatterns(_){const A=this.stream.skipNotPatterns(_,this.start,this.length,this.backward);return-1==A?-1:(this.start=A,A)}append(_){this.beforeAppend(_.length),this._stream.view.set(_.view,this._start),this._length+=2*_.length,this.start=this._start+_.length,this.prevLength-=2*_.length}appendView(_){this.beforeAppend(_.length),this._stream.view.set(_,this._start),this._length+=2*_.length,this.start=this._start+_.length,this.prevLength-=2*_.length}appendChar(_){this.beforeAppend(1),this._stream.view[this._start]=_,this._length+=2,this.start=this._start+1,this.prevLength-=2}appendUint16(_){this.beforeAppend(2);const A=new Uint16Array([_]),W=new Uint8Array(A.buffer);this.stream.view[this._start]=W[1],this._stream.view[this._start+1]=W[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendUint24(_){this.beforeAppend(3);const A=new Uint32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[2],this._stream.view[this._start+1]=W[1],this._stream.view[this._start+2]=W[0],this._length+=6,this.start=this._start+3,this.prevLength-=6}appendUint32(_){this.beforeAppend(4);const A=new Uint32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[3],this._stream.view[this._start+1]=W[2],this._stream.view[this._start+2]=W[1],this._stream.view[this._start+3]=W[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}appendInt16(_){this.beforeAppend(2);const A=new Int16Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[1],this._stream.view[this._start+1]=W[0],this._length+=4,this.start=this._start+2,this.prevLength-=4}appendInt32(_){this.beforeAppend(4);const A=new Int32Array([_]),W=new Uint8Array(A.buffer);this._stream.view[this._start]=W[3],this._stream.view[this._start+1]=W[2],this._stream.view[this._start+2]=W[1],this._stream.view[this._start+3]=W[0],this._length+=8,this.start=this._start+4,this.prevLength-=8}getBlock(_,A=!0){if(this._length<=0)return new Uint8Array(0);let W;if(this._length<_&&(_=this._length),this.backward){const ae=this._stream.view.subarray(this._length-_,this._length);W=new Uint8Array(_);for(let ve=0;ve<_;ve++)W[_-1-ve]=ae[ve]}else W=this._stream.view.subarray(this._start,this._start+_);return A&&(this.start+=this.backward?-1*_:_),W}getUint16(_=!0){const A=this.getBlock(2,_);if(A.length<2)return 0;const W=new Uint16Array(1),ae=new Uint8Array(W.buffer);return ae[0]=A[1],ae[1]=A[0],W[0]}getInt16(_=!0){const A=this.getBlock(2,_);if(A.length<2)return 0;const W=new Int16Array(1),ae=new Uint8Array(W.buffer);return ae[0]=A[1],ae[1]=A[0],W[0]}getUint24(_=!0){const A=this.getBlock(3,_);if(A.length<3)return 0;const W=new Uint32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=1;ve--)ae[3-ve]=A[ve-1];return W[0]}getUint32(_=!0){const A=this.getBlock(4,_);if(A.length<4)return 0;const W=new Uint32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=0;ve--)ae[3-ve]=A[ve];return W[0]}getInt32(_=!0){const A=this.getBlock(4,_);if(A.length<4)return 0;const W=new Int32Array(1),ae=new Uint8Array(W.buffer);for(let ve=3;ve>=0;ve--)ae[3-ve]=A[ve];return W[0]}beforeAppend(_){this._start+_>this._stream.length&&(_>this.appendBlock&&(this.appendBlock=_+Le.APPEND_BLOCK),this._stream.realloc(this._stream.length+this.appendBlock))}}return Le.APPEND_BLOCK=1e3,Le})();class Je{constructor(u={}){this.version=w(u,"version",Je.defaultValues("version")),this.logID=w(u,"logID",Je.defaultValues("logID")),this.timestamp=w(u,"timestamp",Je.defaultValues("timestamp")),this.extensions=w(u,"extensions",Je.defaultValues("extensions")),this.hashAlgorithm=w(u,"hashAlgorithm",Je.defaultValues("hashAlgorithm")),this.signatureAlgorithm=w(u,"signatureAlgorithm",Je.defaultValues("signatureAlgorithm")),this.signature=w(u,"signature",Je.defaultValues("signature")),"schema"in u&&this.fromSchema(u.schema),"stream"in u&&this.fromStream(u.stream)}static defaultValues(u){switch(u){case"version":return 0;case"logID":case"extensions":return new ArrayBuffer(0);case"timestamp":return new Date(0);case"hashAlgorithm":case"signatureAlgorithm":return"";case"signature":return new vr;default:throw new Error(`Invalid member name for SignedCertificateTimestamp class: ${u}`)}}fromSchema(u){if(!(u instanceof Xs))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestamp");const _=new Re({stream:new Zn({buffer:u.data})});this.fromStream(_)}fromStream(u){const _=u.getUint16();if(this.version=u.getBlock(1)[0],0===this.version){this.logID=new Uint8Array(u.getBlock(32)).buffer.slice(0),this.timestamp=new Date(d(new Uint8Array(u.getBlock(8)),8));const A=u.getUint16();switch(this.extensions=new Uint8Array(u.getBlock(A)).buffer.slice(0),u.getBlock(1)[0]){case 0:this.hashAlgorithm="none";break;case 1:this.hashAlgorithm="md5";break;case 2:this.hashAlgorithm="sha1";break;case 3:this.hashAlgorithm="sha224";break;case 4:this.hashAlgorithm="sha256";break;case 5:this.hashAlgorithm="sha384";break;case 6:this.hashAlgorithm="sha512";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}switch(u.getBlock(1)[0]){case 0:this.signatureAlgorithm="anonymous";break;case 1:this.signatureAlgorithm="rsa";break;case 2:this.signatureAlgorithm="dsa";break;case 3:this.signatureAlgorithm="ecdsa";break;default:throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}const W=u.getUint16(),ve=Pt(new Uint8Array(u.getBlock(W)).buffer.slice(0));if(-1===ve.offset)throw new Error("Object's stream was not correct for SignedCertificateTimestamp");if(this.signature=ve.result,_!==47+A+W)throw new Error("Object's stream was not correct for SignedCertificateTimestamp")}}toSchema(){const u=this.toStream();return new Xs({data:u.stream.buffer})}toStream(){const u=new Re;u.appendUint16(47+this.extensions.byteLength+this.signature.valueBeforeDecode.byteLength),u.appendChar(this.version),u.appendView(new Uint8Array(this.logID));const _=new ArrayBuffer(8),A=new Uint8Array(_),W=f(this.timestamp.valueOf(),8);let ae,ve;switch(A.set(new Uint8Array(W),8-W.byteLength),u.appendView(A),u.appendUint16(this.extensions.byteLength),this.extensions.byteLength&&u.appendView(new Uint8Array(this.extensions)),this.hashAlgorithm.toLowerCase()){case"none":ae=0;break;case"md5":ae=1;break;case"sha1":ae=2;break;case"sha224":ae=3;break;case"sha256":ae=4;break;case"sha384":ae=5;break;case"sha512":ae=6;break;default:throw new Error(`Incorrect data for hashAlgorithm: ${this.hashAlgorithm}`)}switch(u.appendChar(ae),this.signatureAlgorithm.toLowerCase()){case"anonymous":ve=0;break;case"rsa":ve=1;break;case"dsa":ve=2;break;case"ecdsa":ve=3;break;default:throw new Error(`Incorrect data for signatureAlgorithm: ${this.signatureAlgorithm}`)}u.appendChar(ve);const Ge=this.signature.toBER(!1);return u.appendUint16(Ge.byteLength),u.appendView(new Uint8Array(Ge)),u}toJSON(){return{version:this.version,logID:C(this.logID),timestamp:this.timestamp,extensions:C(this.extensions),hashAlgorithm:this.hashAlgorithm,signatureAlgorithm:this.signatureAlgorithm,signature:this.signature.toJSON()}}verify(u,_,A=0){var W=this;return(0,i.A)(function*(){let Ge,ae=R(U(W.logID)),ve=null,D=new Re;for(const $e of u)if($e.log_id===ae){ve=$e.key;break}if(null===ve)throw new Error(`Public key not found for CT with logId: ${ae}`);const V=Pt($(j(ve)));if(-1===V.offset)throw new Error(`Incorrect key value for CT Log with logId: ${ae}`);Ge=new Er({schema:V.result}),D.appendChar(0),D.appendChar(0);const B=new ArrayBuffer(8),Q=new Uint8Array(B),ge=f(W.timestamp.valueOf(),8);return Q.set(new Uint8Array(ge),8-ge.byteLength),D.appendView(Q),D.appendUint16(A),0===A&&D.appendUint24(_.byteLength),D.appendView(new Uint8Array(_)),D.appendUint16(W.extensions.byteLength),0!==W.extensions.byteLength&&D.appendView(new Uint8Array(W.extensions)),rs().subtle.verifyWithPublicKey(D._stream._buffer.slice(0,D._length),{valueBlock:{valueHex:W.signature.toBER(!1)}},Ge,{algorithmId:""},"SHA-256")})()}}class Et{constructor(u={}){this.timestamps=w(u,"timestamps",Et.defaultValues("timestamps")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("timestamps"===u)return[];throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${u}`)}static compareWithDefault(u,_){if("timestamps"===u)return 0===_.length;throw new Error(`Invalid member name for SignedCertificateTimestampList class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return"optional"in _||(_.optional=!1),new It({name:_.blockName||"SignedCertificateTimestampList",optional:_.optional})}fromSchema(u){if(!(u instanceof It))throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");const _=new Re({stream:new Zn({buffer:u.valueBlock.valueHex})});if(_.getUint16()!==_.length)throw new Error("Object's schema was not verified against input data for SignedCertificateTimestampList");for(;_.length;)this.timestamps.push(new Je({stream:_}))}toSchema(){const u=new Re;let _=0;const A=[];for(const W of this.timestamps){const ae=W.toStream();A.push(ae),_+=ae.stream.buffer.byteLength}u.appendUint16(_);for(const W of A)u.appendView(W.stream.view);return new It({valueHex:u.stream.buffer.slice(0)})}toJSON(){return{timestamps:Array.from(this.timestamps,u=>u.toJSON())}}}class St{constructor(u={}){this.templateID=w(u,"templateID",St.defaultValues("templateID")),"templateMajorVersion"in u&&(this.templateMajorVersion=w(u,"templateMajorVersion",St.defaultValues("templateMajorVersion"))),"templateMinorVersion"in u&&(this.templateMinorVersion=w(u,"templateMinorVersion",St.defaultValues("templateMinorVersion"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"templateID":return"";case"templateMajorVersion":case"templateMinorVersion":return 0;default:throw new Error(`Invalid member name for CertificateTemplate class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.templateID||""}),new fn({name:_.templateMajorVersion||"",optional:!0}),new fn({name:_.templateMinorVersion||"",optional:!0})]})}fromSchema(u){L(u,["templateID","templateMajorVersion","templateMinorVersion"]);let _=ui(u,u,St.schema({names:{templateID:"templateID",templateMajorVersion:"templateMajorVersion",templateMinorVersion:"templateMinorVersion"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for CertificateTemplate");this.templateID=_.result.templateID.valueBlock.toString(),"templateMajorVersion"in _.result&&(this.templateMajorVersion=_.result.templateMajorVersion.valueBlock.valueDec),"templateMinorVersion"in _.result&&(this.templateMinorVersion=_.result.templateMinorVersion.valueBlock.valueDec)}toSchema(){const u=[];return u.push(new Gt({value:this.templateID})),"templateMajorVersion"in this&&u.push(new fn({value:this.templateMajorVersion})),"templateMinorVersion"in this&&u.push(new fn({value:this.templateMinorVersion})),new gn({value:u})}toJSON(){const u={extnID:this.templateID};return"templateMajorVersion"in this&&(u.templateMajorVersion=this.templateMajorVersion),"templateMinorVersion"in this&&(u.templateMinorVersion=this.templateMinorVersion),u}}class pn{constructor(u={}){this.certificateIndex=w(u,"certificateIndex",pn.defaultValues("certificateIndex")),this.keyIndex=w(u,"keyIndex",pn.defaultValues("keyIndex")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"certificateIndex":case"keyIndex":return 0;default:throw new Error(`Invalid member name for CAVersion class: ${u}`)}}static schema(u={}){return new fn}fromSchema(u){if(u.constructor.blockName()!==fn.blockName())throw new Error("Object's schema was not verified against input data for CAVersion");let _=u.valueBlock.valueHex.slice(0);const A=new Uint8Array(_);switch(!0){case _.byteLength<4:{const Q=new ArrayBuffer(4);new Uint8Array(Q).set(A,4-_.byteLength),_=Q.slice(0)}break;case _.byteLength>4:{const Q=new ArrayBuffer(4);new Uint8Array(Q).set(A.slice(0,4)),_=Q.slice(0)}}const W=_.slice(0,2),ae=new Uint8Array(W);let ve=ae[0];ae[0]=ae[1],ae[1]=ve;const Ge=new Uint16Array(W);this.keyIndex=Ge[0];const D=_.slice(2),V=new Uint8Array(D);ve=V[0],V[0]=V[1],V[1]=ve;const B=new Uint16Array(D);this.certificateIndex=B[0]}toSchema(){const u=new ArrayBuffer(2);new Uint16Array(u)[0]=this.certificateIndex;const A=new Uint8Array(u);let W=A[0];A[0]=A[1],A[1]=W;const ae=new ArrayBuffer(2);new Uint16Array(ae)[0]=this.keyIndex;const Ge=new Uint8Array(ae);return W=Ge[0],Ge[0]=Ge[1],Ge[1]=W,new fn({valueHex:I(ae,u)})}toJSON(){return{certificateIndex:this.certificateIndex,keyIndex:this.keyIndex}}}class en{constructor(u={}){this.id=w(u,"id",en.defaultValues("id")),"type"in u&&(this.type=w(u,"type",en.defaultValues("type"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"id":return"";case"type":return new Bt;default:throw new Error(`Invalid member name for QCStatement class: ${u}`)}}static compareWithDefault(u,_){switch(u){case"id":return""===_;case"type":return _ instanceof Bt;default:throw new Error(`Invalid member name for QCStatement class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.id||""}),new vr({name:_.type||"",optional:!0})]})}fromSchema(u){L(u,["id","type"]);const _=ui(u,u,en.schema({names:{id:"id",type:"type"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for QCStatement");this.id=_.result.id.valueBlock.toString(),"type"in _.result&&(this.type=_.result.type)}toSchema(){const u=[new Gt({value:this.id})];return"type"in this&&u.push(this.type),new gn({value:u})}toJSON(){const u={id:this.id};return"type"in this&&(u.type=this.type.toJSON()),u}}class qn{constructor(u={}){this.values=w(u,"values",qn.defaultValues("values")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("values"===u)return[];throw new Error(`Invalid member name for QCStatements class: ${u}`)}static compareWithDefault(u,_){if("values"===u)return 0===_.length;throw new Error(`Invalid member name for QCStatements class: ${u}`)}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Ni({name:_.values||"",value:en.schema(_.value||{})})]})}fromSchema(u){L(u,["values"]);const _=ui(u,u,qn.schema({names:{values:"values"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for QCStatements");this.values=Array.from(_.result.values,A=>new en({schema:A}))}toSchema(){return new gn({value:Array.from(this.values,u=>u.toSchema())})}toJSON(){return{extensions:Array.from(this.values,u=>u.toJSON())}}}class Nn{constructor(u={}){this.extnID=w(u,"extnID",Nn.defaultValues("extnID")),this.critical=w(u,"critical",Nn.defaultValues("critical")),this.extnValue="extnValue"in u?new It({valueHex:u.extnValue}):Nn.defaultValues("extnValue"),"parsedValue"in u&&(this.parsedValue=w(u,"parsedValue",Nn.defaultValues("parsedValue"))),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"extnID":return"";case"critical":return!1;case"extnValue":return new It;case"parsedValue":return{};default:throw new Error(`Invalid member name for Extension class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[new Gt({name:_.extnID||""}),new Mn({name:_.critical||"",optional:!0}),new It({name:_.extnValue||""})]})}fromSchema(u){L(u,["extnID","critical","extnValue"]);let _=ui(u,u,Nn.schema({names:{extnID:"extnID",critical:"critical",extnValue:"extnValue"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Extension");if(this.extnID=_.result.extnID.valueBlock.toString(),"critical"in _.result&&(this.critical=_.result.critical.valueBlock.value),this.extnValue=_.result.extnValue,_=Pt(this.extnValue.valueBlock.valueHex),-1!==_.offset)switch(this.extnID){case"2.5.29.9":try{this.parsedValue=new Or({schema:_.result})}catch{this.parsedValue=new Or,this.parsedValue.parsingError="Incorrectly formated SubjectDirectoryAttributes"}break;case"2.5.29.14":case"2.5.29.15":case"2.5.29.20":case"2.5.29.27":case"2.5.29.21":case"2.5.29.24":case"2.5.29.54":case"1.3.6.1.4.1.311.20.2":case"1.3.6.1.4.1.311.21.2":this.parsedValue=_.result;break;case"2.5.29.16":try{this.parsedValue=new os({schema:_.result})}catch{this.parsedValue=new os,this.parsedValue.parsingError="Incorrectly formated PrivateKeyUsagePeriod"}break;case"2.5.29.17":case"2.5.29.18":try{this.parsedValue=new Kr({schema:_.result})}catch{this.parsedValue=new Kr,this.parsedValue.parsingError="Incorrectly formated AltName"}break;case"2.5.29.19":try{this.parsedValue=new $s({schema:_.result})}catch{this.parsedValue=new $s,this.parsedValue.parsingError="Incorrectly formated BasicConstraints"}break;case"2.5.29.28":try{this.parsedValue=new gr({schema:_.result})}catch{this.parsedValue=new gr,this.parsedValue.parsingError="Incorrectly formated IssuingDistributionPoint"}break;case"2.5.29.29":try{this.parsedValue=new Gs({schema:_.result})}catch{this.parsedValue=new Gs,this.parsedValue.parsingError="Incorrectly formated GeneralNames"}break;case"2.5.29.30":try{this.parsedValue=new jr({schema:_.result})}catch{this.parsedValue=new jr,this.parsedValue.parsingError="Incorrectly formated NameConstraints"}break;case"2.5.29.31":case"2.5.29.46":try{this.parsedValue=new vn({schema:_.result})}catch{this.parsedValue=new vn,this.parsedValue.parsingError="Incorrectly formated CRLDistributionPoints"}break;case"2.5.29.32":case"1.3.6.1.4.1.311.21.10":try{this.parsedValue=new Ue({schema:_.result})}catch{this.parsedValue=new Ue,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.33":try{this.parsedValue=new qe({schema:_.result})}catch{this.parsedValue=new qe,this.parsedValue.parsingError="Incorrectly formated CertificatePolicies"}break;case"2.5.29.35":try{this.parsedValue=new Lt({schema:_.result})}catch{this.parsedValue=new Lt,this.parsedValue.parsingError="Incorrectly formated AuthorityKeyIdentifier"}break;case"2.5.29.36":try{this.parsedValue=new Yn({schema:_.result})}catch{this.parsedValue=new Yn,this.parsedValue.parsingError="Incorrectly formated PolicyConstraints"}break;case"2.5.29.37":try{this.parsedValue=new Di({schema:_.result})}catch{this.parsedValue=new Di,this.parsedValue.parsingError="Incorrectly formated ExtKeyUsage"}break;case"1.3.6.1.5.5.7.1.1":case"1.3.6.1.5.5.7.1.11":try{this.parsedValue=new _s({schema:_.result})}catch{this.parsedValue=new _s,this.parsedValue.parsingError="Incorrectly formated InfoAccess"}break;case"1.3.6.1.4.1.11129.2.4.2":try{this.parsedValue=new Et({schema:_.result})}catch{this.parsedValue=new Et,this.parsedValue.parsingError="Incorrectly formated SignedCertificateTimestampList"}break;case"1.3.6.1.4.1.311.21.7":try{this.parsedValue=new St({schema:_.result})}catch{this.parsedValue=new St,this.parsedValue.parsingError="Incorrectly formated CertificateTemplate"}break;case"1.3.6.1.4.1.311.21.1":try{this.parsedValue=new pn({schema:_.result})}catch{this.parsedValue=new pn,this.parsedValue.parsingError="Incorrectly formated CAVersion"}break;case"1.3.6.1.5.5.7.1.3":try{this.parsedValue=new qn({schema:_.result})}catch{this.parsedValue=new qn,this.parsedValue.parsingError="Incorrectly formated QCStatements"}}}toSchema(){const u=[];return u.push(new Gt({value:this.extnID})),this.critical!==Nn.defaultValues("critical")&&u.push(new Mn({value:this.critical})),u.push(this.extnValue),new gn({value:u})}toJSON(){const u={extnID:this.extnID,extnValue:this.extnValue.toJSON()};return this.critical!==Nn.defaultValues("critical")&&(u.critical=this.critical),"parsedValue"in this&&"toJSON"in this.parsedValue&&(u.parsedValue=this.parsedValue.toJSON()),u}}class Gn{constructor(u={}){this.extensions=w(u,"extensions",Gn.defaultValues("extensions")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){if("extensions"===u)return[];throw new Error(`Invalid member name for Extensions class: ${u}`)}static schema(u={},_=!1){const A=w(u,"names",{});return new gn({optional:_,name:A.blockName||"",value:[new Ni({name:A.extensions||"",value:Nn.schema(A.extension||{})})]})}fromSchema(u){L(u,["extensions"]);const _=ui(u,u,Gn.schema({names:{extensions:"extensions"}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Extensions");this.extensions=Array.from(_.result.extensions,A=>new Nn({schema:A}))}toSchema(){return new gn({value:Array.from(this.extensions,u=>u.toSchema())})}toJSON(){return{extensions:Array.from(this.extensions,u=>u.toJSON())}}}function Lr(Le={}){const u=w(Le,"names",{});return new gn({name:u.blockName||"tbsCertificate",value:[new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({name:u.tbsCertificateVersion||"tbsCertificate.version"})]}),new fn({name:u.tbsCertificateSerialNumber||"tbsCertificate.serialNumber"}),$n.schema(u.signature||{names:{blockName:"tbsCertificate.signature"}}),Nr.schema(u.issuer||{names:{blockName:"tbsCertificate.issuer"}}),new gn({name:u.tbsCertificateValidity||"tbsCertificate.validity",value:[sr.schema(u.notBefore||{names:{utcTimeName:"tbsCertificate.notBefore",generalTimeName:"tbsCertificate.notBefore"}}),sr.schema(u.notAfter||{names:{utcTimeName:"tbsCertificate.notAfter",generalTimeName:"tbsCertificate.notAfter"}})]}),Nr.schema(u.subject||{names:{blockName:"tbsCertificate.subject"}}),Er.schema(u.subjectPublicKeyInfo||{names:{blockName:"tbsCertificate.subjectPublicKeyInfo"}}),new it({name:u.tbsCertificateIssuerUniqueID||"tbsCertificate.issuerUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:1}}),new it({name:u.tbsCertificateSubjectUniqueID||"tbsCertificate.subjectUniqueID",optional:!0,idBlock:{tagClass:3,tagNumber:2}}),new X({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[Gn.schema(u.extensions||{names:{blockName:"tbsCertificate.extensions"}})]})]})}class Ai{constructor(u={}){this.tbs=w(u,"tbs",Ai.defaultValues("tbs")),this.version=w(u,"version",Ai.defaultValues("version")),this.serialNumber=w(u,"serialNumber",Ai.defaultValues("serialNumber")),this.signature=w(u,"signature",Ai.defaultValues("signature")),this.issuer=w(u,"issuer",Ai.defaultValues("issuer")),this.notBefore=w(u,"notBefore",Ai.defaultValues("notBefore")),this.notAfter=w(u,"notAfter",Ai.defaultValues("notAfter")),this.subject=w(u,"subject",Ai.defaultValues("subject")),this.subjectPublicKeyInfo=w(u,"subjectPublicKeyInfo",Ai.defaultValues("subjectPublicKeyInfo")),"issuerUniqueID"in u&&(this.issuerUniqueID=w(u,"issuerUniqueID",Ai.defaultValues("issuerUniqueID"))),"subjectUniqueID"in u&&(this.subjectUniqueID=w(u,"subjectUniqueID",Ai.defaultValues("subjectUniqueID"))),"extensions"in u&&(this.extensions=w(u,"extensions",Ai.defaultValues("extensions"))),this.signatureAlgorithm=w(u,"signatureAlgorithm",Ai.defaultValues("signatureAlgorithm")),this.signatureValue=w(u,"signatureValue",Ai.defaultValues("signatureValue")),"schema"in u&&this.fromSchema(u.schema)}static defaultValues(u){switch(u){case"tbs":case"issuerUniqueID":case"subjectUniqueID":return new ArrayBuffer(0);case"version":return 0;case"serialNumber":return new fn;case"signature":case"signatureAlgorithm":return new $n;case"issuer":case"subject":return new Nr;case"notBefore":case"notAfter":return new sr;case"subjectPublicKeyInfo":return new Er;case"extensions":return[];case"signatureValue":return new lt;default:throw new Error(`Invalid member name for Certificate class: ${u}`)}}static schema(u={}){const _=w(u,"names",{});return new gn({name:_.blockName||"",value:[Lr(_.tbsCertificate),$n.schema(_.signatureAlgorithm||{names:{blockName:"signatureAlgorithm"}}),new lt({name:_.signatureValue||"signatureValue"})]})}fromSchema(u){L(u,["tbsCertificate","tbsCertificate.extensions","tbsCertificate.version","tbsCertificate.serialNumber","tbsCertificate.signature","tbsCertificate.issuer","tbsCertificate.notBefore","tbsCertificate.notAfter","tbsCertificate.subject","tbsCertificate.subjectPublicKeyInfo","tbsCertificate.issuerUniqueID","tbsCertificate.subjectUniqueID","signatureAlgorithm","signatureValue"]);const _=ui(u,u,Ai.schema({names:{tbsCertificate:{names:{extensions:{names:{extensions:"tbsCertificate.extensions"}}}}}}));if(!1===_.verified)throw new Error("Object's schema was not verified against input data for Certificate");this.tbs=_.result.tbsCertificate.valueBeforeDecode,"tbsCertificate.version"in _.result&&(this.version=_.result["tbsCertificate.version"].valueBlock.valueDec),this.serialNumber=_.result["tbsCertificate.serialNumber"],this.signature=new $n({schema:_.result["tbsCertificate.signature"]}),this.issuer=new Nr({schema:_.result["tbsCertificate.issuer"]}),this.notBefore=new sr({schema:_.result["tbsCertificate.notBefore"]}),this.notAfter=new sr({schema:_.result["tbsCertificate.notAfter"]}),this.subject=new Nr({schema:_.result["tbsCertificate.subject"]}),this.subjectPublicKeyInfo=new Er({schema:_.result["tbsCertificate.subjectPublicKeyInfo"]}),"tbsCertificate.issuerUniqueID"in _.result&&(this.issuerUniqueID=_.result["tbsCertificate.issuerUniqueID"].valueBlock.valueHex),"tbsCertificate.subjectUniqueID"in _.result&&(this.subjectUniqueID=_.result["tbsCertificate.subjectUniqueID"].valueBlock.valueHex),"tbsCertificate.extensions"in _.result&&(this.extensions=Array.from(_.result["tbsCertificate.extensions"],A=>new Nn({schema:A}))),this.signatureAlgorithm=new $n({schema:_.result.signatureAlgorithm}),this.signatureValue=_.result.signatureValue}encodeTBS(){const u=[];return"version"in this&&this.version!==Ai.defaultValues("version")&&u.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:0},value:[new fn({value:this.version})]})),u.push(this.serialNumber),u.push(this.signature.toSchema()),u.push(this.issuer.toSchema()),u.push(new gn({value:[this.notBefore.toSchema(),this.notAfter.toSchema()]})),u.push(this.subject.toSchema()),u.push(this.subjectPublicKeyInfo.toSchema()),"issuerUniqueID"in this&&u.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:1},valueHex:this.issuerUniqueID})),"subjectUniqueID"in this&&u.push(new it({optional:!0,idBlock:{tagClass:3,tagNumber:2},valueHex:this.subjectUniqueID})),"extensions"in this&&u.push(new X({optional:!0,idBlock:{tagClass:3,tagNumber:3},value:[new gn({value:Array.from(this.extensions,_=>_.toSchema())})]})),new gn({value:u})}toSchema(u=!1){let _={};if(!1===u){if(0===this.tbs.length)return Ai.schema().value[0];_=Pt(this.tbs).result}else _=this.encodeTBS();return new gn({value:[_,this.signatureAlgorithm.toSchema(),this.signatureValue]})}toJSON(){const u={tbs:C(this.tbs,0,this.tbs.byteLength),serialNumber:this.serialNumber.toJSON(),signature:this.signature.toJSON(),issuer:this.issuer.toJSON(),notBefore:this.notBefore.toJSON(),notAfter:this.notAfter.toJSON(),subject:this.subject.toJSON(),subjectPublicKeyInfo:this.subjectPublicKeyInfo.toJSON(),signatureAlgorithm:this.signatureAlgorithm.toJSON(),signatureValue:this.signatureValue.toJSON()};return"version"in this&&this.version!==Ai.defaultValues("version")&&(u.version=this.version),"issuerUniqueID"in this&&(u.issuerUniqueID=C(this.issuerUniqueID,0,this.issuerUniqueID.byteLength)),"subjectUniqueID"in this&&(u.subjectUniqueID=C(this.subjectUniqueID,0,this.subjectUniqueID.byteLength)),"extensions"in this&&(u.extensions=Array.from(this.extensions,_=>_.toJSON())),u}getPublicKey(u=null){return rs().subtle.getPublicKey(this.subjectPublicKeyInfo,this.signatureAlgorithm,u)}getKeyHash(u="SHA-1"){const _=ss();return typeof _>"u"?Promise.reject("Unable to create WebCrypto object"):_.digest({name:u},new Uint8Array(this.subjectPublicKeyInfo.subjectPublicKey.valueBlock.valueHex))}sign(u,_="SHA-1"){if(typeof u>"u")return Promise.reject("Need to provide a private key for signing");let W,A=Promise.resolve();const ae=rs();return A=A.then(()=>ae.subtle.getSignatureParameters(u,_)),A=A.then(ve=>{W=ve.parameters,this.signature=ve.signatureAlgorithm,this.signatureAlgorithm=ve.signatureAlgorithm}),A=A.then(()=>{this.tbs=this.encodeTBS().toBER(!1)}),A=A.then(()=>ae.subtle.signWithPrivateKey(this.tbs,u,W)),A=A.then(ve=>{this.signatureValue=new lt({valueHex:ve})}),A}verify(u=null){let _={};return null!==u?_=u.subjectPublicKeyInfo:this.issuer.isEqual(this.subject)&&(_=this.subjectPublicKeyInfo),_ instanceof Er?rs().subtle.verifyWithPublicKey(this.tbs,this.signatureValue,_,this.signatureAlgorithm):Promise.reject("Please provide issuer certificate as a parameter")}}function As(){if(typeof BigInt>"u")throw new Error("BigInt is not defined. Your environment doesn't implement BigInt.")}function da(Le){if(Le.idBlock.isConstructed)for(let u=0;u<Le.valueBlock.value.length;u++)da(Le.valueBlock.value[u])&&(Le.lenBlock.isIndefiniteForm=!0);return!!Le.lenBlock.isIndefiniteForm}function Zo(Le){let u=0,_=0;for(let ae=0;ae<Le.length;ae++)u+=Le[ae].byteLength;const A=new ArrayBuffer(u),W=new Uint8Array(A);for(let ae=0;ae<Le.length;ae++){const ve=Le[ae];W.set(new Uint8Array(ve),_),_+=ve.byteLength}return A}const $r=[new Uint8Array([1])],ki="0123456789",Gi="valueHex",xo="isHexOnly",qo="isConstructed",xa="isIndefiniteForm",ta="optional",fl="primitiveSchema",fs="value",Ga="valueDate",ka="valueDec",Ir=new ArrayBuffer(0);class yo{constructor(){this.items=[]}write(u){this.items.push(u)}final(){return Zo(this.items)}}class xs{constructor(u={}){this.blockLength=w(u,"blockLength",0),this.error=w(u,"error",""),this.warnings=w(u,"warnings",[]),this.valueBeforeDecode="valueBeforeDecode"in u?u.valueBeforeDecode.slice(0):Ir}static blockName(){return"baseBlock"}toJSON(){return{blockName:this.constructor.blockName(),blockLength:this.blockLength,error:this.error,warnings:this.warnings,valueBeforeDecode:C(this.valueBeforeDecode,0,this.valueBeforeDecode.byteLength)}}}const Js=Le=>class extends Le{constructor(_={}){super(_),this.isHexOnly=w(_,xo,!1),this.valueHex=Gi in _?_.valueHex.slice(0):Ir}static blockName(){return"hexBlock"}fromBER(_,A,W){return!1===m(this,_,A,W)?-1:0===new Uint8Array(_,A,W).length?(this.warnings.push("Zero buffer length"),A):(this.valueHex=_.slice(A,A+W),this.blockLength=W,A+W)}toBER(_=!1){return!0!==this.isHexOnly?(this.error='Flag "isHexOnly" is not set, abort',Ir):!0===_?new ArrayBuffer(this.valueHex.byteLength):this.valueHex.slice(0)}toJSON(){let _={};try{_=super.toJSON()}catch{}return _.blockName=this.constructor.blockName(),_.isHexOnly=this.isHexOnly,_.valueHex=C(this.valueHex,0,this.valueHex.byteLength),_}};class Uo extends(Js(xs)){constructor(u={}){super(),"idBlock"in u?(this.isHexOnly=w(u.idBlock,xo,!1),this.valueHex=w(u.idBlock,Gi,Ir),this.tagClass=w(u.idBlock,"tagClass",-1),this.tagNumber=w(u.idBlock,"tagNumber",-1),this.isConstructed=w(u.idBlock,qo,!1)):(this.tagClass=-1,this.tagNumber=-1,this.isConstructed=!1)}static blockName(){return"identificationBlock"}toBER(u=!1){let A,W,_=0;switch(this.tagClass){case 1:_|=0;break;case 2:_|=64;break;case 3:_|=128;break;case 4:_|=192;break;default:return this.error="Unknown tag class",Ir}if(this.isConstructed&&(_|=32),this.tagNumber<31&&!this.isHexOnly){if(A=new ArrayBuffer(1),W=new Uint8Array(A),!u){let ae=this.tagNumber;ae&=31,_|=ae,W[0]=_}return A}if(!1===this.isHexOnly){const ae=f(this.tagNumber,7),ve=new Uint8Array(ae),Ge=ae.byteLength;if(A=new ArrayBuffer(Ge+1),W=new Uint8Array(A),W[0]=31|_,!u){for(let D=0;D<Ge-1;D++)W[D+1]=128|ve[D];W[Ge]=ve[Ge-1]}return A}if(A=new ArrayBuffer(this.valueHex.byteLength+1),W=new Uint8Array(A),W[0]=31|_,!1===u){const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<ae.length-1;ve++)W[ve+1]=128|ae[ve];W[this.valueHex.byteLength]=ae[ae.length-1]}return A}fromBER(u,_,A){if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);if(0===W.length)return this.error="Zero buffer length",-1;switch(192&W[0]){case 0:this.tagClass=1;break;case 64:this.tagClass=2;break;case 128:this.tagClass=3;break;case 192:this.tagClass=4;break;default:return this.error="Unknown tag class",-1}this.isConstructed=!(32&~W[0]),this.isHexOnly=!1;const ve=31&W[0];if(31!==ve)this.tagNumber=ve,this.blockLength=1;else{let Ge=1;this.valueHex=new ArrayBuffer(255);let D=255,V=new Uint8Array(this.valueHex);for(;128&W[Ge];){if(V[Ge-1]=127&W[Ge],Ge++,Ge>=W.length)return this.error="End of input reached before message was fully decoded",-1;if(Ge===D){D+=255;const ge=new ArrayBuffer(D),$e=new Uint8Array(ge);for(let bt=0;bt<V.length;bt++)$e[bt]=V[bt];this.valueHex=new ArrayBuffer(D),V=new Uint8Array(this.valueHex)}}this.blockLength=Ge+1,V[Ge-1]=127&W[Ge];const B=new ArrayBuffer(Ge),Q=new Uint8Array(B);for(let ge=0;ge<Ge;ge++)Q[ge]=V[ge];this.valueHex=new ArrayBuffer(Ge),V=new Uint8Array(this.valueHex),V.set(Q),this.blockLength<=9?this.tagNumber=d(V,7):(this.isHexOnly=!0,this.warnings.push("Tag too long, represented as hex-coded"))}if(1===this.tagClass&&this.isConstructed)switch(this.tagNumber){case 1:case 2:case 5:case 6:case 9:case 13:case 14:case 23:case 24:case 31:case 32:case 33:case 34:return this.error="Constructed encoding used for primitive type",-1}return _+this.blockLength}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.blockName=this.constructor.blockName(),u.tagClass=this.tagClass,u.tagNumber=this.tagNumber,u.isConstructed=this.isConstructed,u}}class Eo extends xs{constructor(u={}){super(),"lenBlock"in u?(this.isIndefiniteForm=w(u.lenBlock,xa,!1),this.longFormUsed=w(u.lenBlock,"longFormUsed",!1),this.length=w(u.lenBlock,"length",0)):(this.isIndefiniteForm=!1,this.longFormUsed=!1,this.length=0)}static blockName(){return"lengthBlock"}fromBER(u,_,A){if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);if(0===W.length)return this.error="Zero buffer length",-1;if(255===W[0])return this.error="Length block 0xFF is reserved by standard",-1;if(this.isIndefiniteForm=128===W[0],!0===this.isIndefiniteForm)return this.blockLength=1,_+this.blockLength;if(this.longFormUsed=!!(128&W[0]),!1===this.longFormUsed)return this.length=W[0],this.blockLength=1,_+this.blockLength;const ae=127&W[0];if(ae>8)return this.error="Too big integer",-1;if(ae+1>W.length)return this.error="End of input reached before message was fully decoded",-1;const ve=new Uint8Array(ae);for(let Ge=0;Ge<ae;Ge++)ve[Ge]=W[Ge+1];return 0===ve[ae-1]&&this.warnings.push("Needlessly long encoded length"),this.length=d(ve,8),this.longFormUsed&&this.length<=127&&this.warnings.push("Unnecessary usage of long length form"),this.blockLength=ae+1,_+this.blockLength}toBER(u=!1){let _,A;if(this.length>127&&(this.longFormUsed=!0),this.isIndefiniteForm)return _=new ArrayBuffer(1),!1===u&&(A=new Uint8Array(_),A[0]=128),_;if(!0===this.longFormUsed){const W=f(this.length,8);if(W.byteLength>127)return this.error="Too big length",Ir;if(_=new ArrayBuffer(W.byteLength+1),!0===u)return _;const ae=new Uint8Array(W);A=new Uint8Array(_),A[0]=128|W.byteLength;for(let ve=0;ve<W.byteLength;ve++)A[ve+1]=ae[ve];return _}return _=new ArrayBuffer(1),!1===u&&(A=new Uint8Array(_),A[0]=this.length),_}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.blockName=this.constructor.blockName(),u.isIndefiniteForm=this.isIndefiniteForm,u.longFormUsed=this.longFormUsed,u.length=this.length,u}}class Yr extends xs{constructor(u={}){super(u)}static blockName(){return"valueBlock"}fromBER(u,_,A){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}toBER(u=!1){throw TypeError('User need to make a specific function in a class which extends "ValueBlock"')}}class ps extends xs{constructor(u={},_=Yr){super(u),"name"in u&&(this.name=u.name),ta in u&&(this.optional=u.optional),fl in u&&(this.primitiveSchema=u.primitiveSchema),this.idBlock=new Uo(u),this.lenBlock=new Eo(u),this.valueBlock=new _(u)}static blockName(){return"BaseBlock"}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}toBER(u=!1,_){const A=_||new yo;_||da(this);const W=this.idBlock.toBER(u);if(A.write(W),this.lenBlock.isIndefiniteForm)A.write(new Uint8Array([128]).buffer),this.valueBlock.toBER(u,A),A.write(new ArrayBuffer(2));else{const ae=this.valueBlock.toBER(!0);this.lenBlock.length=ae.byteLength;const ve=this.lenBlock.toBER(u);A.write(ve);const Ge=u?new ArrayBuffer(this.lenBlock.length):this.valueBlock.toBER(u);A.write(Ge,A)}if(!_)return A.final()}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.idBlock=this.idBlock.toJSON(),u.lenBlock=this.lenBlock.toJSON(),u.valueBlock=this.valueBlock.toJSON(),"name"in this&&(u.name=this.name),ta in this&&(u.optional=this.optional),fl in this&&(u.primitiveSchema=this.primitiveSchema.toJSON()),u}toString(){return`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class za extends Yr{constructor(u={}){super(u),this.valueHex=Gi in u?u.valueHex.slice(0):Ir,this.isHexOnly=w(u,xo,!0)}fromBER(u,_,A){if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);if(0===W.length)return this.warnings.push("Zero buffer length"),_;this.valueHex=new ArrayBuffer(W.length);const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<W.length;ve++)ae[ve]=W[ve];return this.blockLength=A,_+A}toBER(u=!1){return this.valueHex.slice(0)}static blockName(){return"PrimitiveValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueHex=C(this.valueHex,0,this.valueHex.byteLength),u.isHexOnly=this.isHexOnly,u}}class ha extends ps{constructor(u={}){super(u,za),this.idBlock.isConstructed=!1}static blockName(){return"PRIMITIVE"}}class co extends Yr{constructor(u={}){super(u),this.value=w(u,fs,[]),this.isIndefiniteForm=w(u,xa,!1)}fromBER(u,_,A){const W=_,ae=A;if(!1===m(this,u,_,A))return-1;if(0===new Uint8Array(u,_,A).length)return this.warnings.push("Zero buffer length"),_;let D=_;for(;(!0===this.isIndefiniteForm?1:A)>0;){const V=Ar(u,D,A);if(-1===V.offset)return this.error=V.result.error,this.warnings.concat(V.result.warnings),-1;if(D=V.offset,this.blockLength+=V.result.blockLength,A-=V.result.blockLength,this.value.push(V.result),!0===this.isIndefiniteForm&&V.result.constructor.blockName()===Cs.blockName())break}return!0===this.isIndefiniteForm&&(this.value[this.value.length-1].constructor.blockName()===Cs.blockName()?this.value.pop():this.warnings.push("No EndOfContent block encoded")),this.valueBeforeDecode=u.slice(W,W+ae),D}toBER(u=!1,_){const A=_||new yo;for(let W=0;W<this.value.length;W++)this.value[W].toBER(u,A);if(!_)return A.final()}static blockName(){return"ConstructedValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.isIndefiniteForm=this.isIndefiniteForm,u.value=[];for(let _=0;_<this.value.length;_++)u.value.push(this.value[_].toJSON());return u}}class ks extends ps{constructor(u={}){super(u,co),this.idBlock.isConstructed=!0}static blockName(){return"CONSTRUCTED"}fromBER(u,_,A){this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm;const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}toString(){const u=[];for(const A of this.valueBlock.value)u.push(A.toString().split("\n").map(W=>`  ${W}`).join("\n"));const _=3===this.idBlock.tagClass?`[${this.idBlock.tagNumber}]`:this.constructor.blockName();return u.length?`${_} :\n${u.join("\n")}`:`${_} :`}}class Ci extends Yr{constructor(u={}){super(u)}fromBER(u,_,A){return _}toBER(u=!1){return Ir}static blockName(){return"EndOfContentValueBlock"}}class Cs extends ps{constructor(u={}){super(u,Ci),this.idBlock.tagClass=1,this.idBlock.tagNumber=0}static blockName(){return"EndOfContent"}}class ee extends Yr{constructor(u={}){super(u),this.value=w(u,fs,!1),this.isHexOnly=w(u,xo,!1),Gi in u?this.valueHex=u.valueHex.slice(0):(this.valueHex=new ArrayBuffer(1),!0===this.value&&(new Uint8Array(this.valueHex)[0]=255))}fromBER(u,_,A){if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);A>1&&this.warnings.push("Boolean value encoded in more then 1 octet"),this.isHexOnly=!0,this.valueHex=new ArrayBuffer(W.length);const ae=new Uint8Array(this.valueHex);for(let ve=0;ve<W.length;ve++)ae[ve]=W[ve];return this.value=0!==P.call(this),this.blockLength=A,_+A}toBER(u=!1){return this.valueHex}static blockName(){return"BooleanValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u.isHexOnly=this.isHexOnly,u.valueHex=C(this.valueHex,0,this.valueHex.byteLength),u}}class We extends ps{constructor(u={}){super(u,ee),this.idBlock.tagClass=1,this.idBlock.tagNumber=1}static blockName(){return"BOOLEAN"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class ue extends ks{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=16}static blockName(){return"SEQUENCE"}}class Fe extends ks{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=17}static blockName(){return"SET"}}class Rt extends ps{constructor(u={}){super(u,xs),this.idBlock.tagClass=1,this.idBlock.tagNumber=5}static blockName(){return"NULL"}fromBER(u,_,A){return this.lenBlock.length>0&&this.warnings.push("Non-zero length of value block for Null type"),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),this.blockLength+=A,_+A>u.byteLength?(this.error="End of input reached before message was fully decoded (inconsistent offset and length values)",-1):_+A}toBER(u=!1,_){const A=new ArrayBuffer(2);if(!u){const W=new Uint8Array(A);W[0]=5,W[1]=0}return _&&_.write(A),A}toString(){return`${this.constructor.blockName()}`}}class mn extends(Js(co)){constructor(u={}){super(u),this.isConstructed=w(u,qo,!1)}fromBER(u,_,A){let W=0;if(!0===this.isConstructed){if(this.isHexOnly=!1,W=co.prototype.fromBER.call(this,u,_,A),-1===W)return W;for(let ae=0;ae<this.value.length;ae++){const ve=this.value[ae].constructor.blockName();if(ve===Cs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, OCTET STRING may consists of OCTET STRINGs only",-1}if(ve!==En.blockName())return this.error="OCTET STRING may consists of OCTET STRINGs only",-1}}else this.isHexOnly=!0,W=super.fromBER(u,_,A),this.blockLength=A;return W}toBER(u=!1,_){if(!0===this.isConstructed)return co.prototype.toBER.call(this,u,_);let A=new ArrayBuffer(this.valueHex.byteLength);return!0===u||0===this.valueHex.byteLength||(A=this.valueHex.slice(0)),A}static blockName(){return"OctetStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.isConstructed=this.isConstructed,u.isHexOnly=this.isHexOnly,u.valueHex=C(this.valueHex,0,this.valueHex.byteLength),u}}class En extends ps{constructor(u={}){super(u,mn),this.idBlock.tagClass=1,this.idBlock.tagNumber=4}fromBER(u,_,A){if(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,0===A)return 0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),_;if(!this.valueBlock.isConstructed){const W=u.slice(_,_+A);try{const ae=wi(W);-1!==ae.offset&&ae.offset===A&&(this.valueBlock.value=[ae.result])}catch{}}return super.fromBER(u,_,A)}static blockName(){return"OCTET STRING"}isEqual(u){return!(!(u instanceof En)||JSON.stringify(this)!==JSON.stringify(u))}toString(){return this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length?ks.prototype.toString.call(this):`${this.constructor.blockName()} : ${C(this.valueBlock.valueHex)}`}}class ti extends(Js(co)){constructor(u={}){super(u),this.unusedBits=w(u,"unusedBits",0),this.isConstructed=w(u,qo,!1),this.blockLength=this.valueHex.byteLength}fromBER(u,_,A){if(0===A)return _;let W=-1;if(!0===this.isConstructed){if(W=co.prototype.fromBER.call(this,u,_,A),-1===W)return W;for(let Ge=0;Ge<this.value.length;Ge++){const D=this.value[Ge].constructor.blockName();if(D===Cs.blockName()){if(!0===this.isIndefiniteForm)break;return this.error="EndOfContent is unexpected, BIT STRING may consists of BIT STRINGs only",-1}if(D!==fr.blockName())return this.error="BIT STRING may consists of BIT STRINGs only",-1;if(this.unusedBits>0&&this.value[Ge].valueBlock.unusedBits>0)return this.error='Using of "unused bits" inside constructive BIT STRING allowed for least one only',-1;if(this.unusedBits=this.value[Ge].valueBlock.unusedBits,this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1}return W}if(!1===m(this,u,_,A))return-1;const ae=new Uint8Array(u,_,A);if(this.unusedBits=ae[0],this.unusedBits>7)return this.error="Unused bits for BitString must be in range 0-7",-1;if(!this.unusedBits){const Ge=u.slice(_+1,_+A);try{const D=wi(Ge);-1!==D.offset&&D.offset===A-1&&(this.value=[D.result])}catch{}}this.valueHex=new ArrayBuffer(ae.length-1);const ve=new Uint8Array(this.valueHex);for(let Ge=0;Ge<A-1;Ge++)ve[Ge]=ae[Ge+1];return this.blockLength=ae.length,_+A}toBER(u=!1,_){if(!0===this.isConstructed)return co.prototype.toBER.call(this,u,_);if(!0===u)return new ArrayBuffer(this.valueHex.byteLength+1);if(0===this.valueHex.byteLength)return Ir;const A=new Uint8Array(this.valueHex),W=new ArrayBuffer(this.valueHex.byteLength+1),ae=new Uint8Array(W);ae[0]=this.unusedBits;for(let ve=0;ve<this.valueHex.byteLength;ve++)ae[ve+1]=A[ve];return W}static blockName(){return"BitStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.unusedBits=this.unusedBits,u.isConstructed=this.isConstructed,u.isHexOnly=this.isHexOnly,u.valueHex=C(this.valueHex,0,this.valueHex.byteLength),u}}class fr extends ps{constructor(u={}){super(u,ti),this.idBlock.tagClass=1,this.idBlock.tagNumber=3}static blockName(){return"BIT STRING"}fromBER(u,_,A){return 0===A?_:(this.valueBlock.isConstructed=this.idBlock.isConstructed,this.valueBlock.isIndefiniteForm=this.lenBlock.isIndefiniteForm,super.fromBER(u,_,A))}isEqual(u){return!(!(u instanceof fr)||JSON.stringify(this)!==JSON.stringify(u))}toString(){if(this.valueBlock.isConstructed||this.valueBlock.value&&this.valueBlock.value.length)return ks.prototype.toString.call(this);{const u=[],_=new Uint8Array(this.valueBlock.valueHex);for(const A of _)u.push(A.toString(2).padStart(8,"0"));return`${this.constructor.blockName()} : ${u.join("")}`}}}class or extends(Js(Yr)){constructor(u={}){super(u),fs in u&&(this.valueDec=u.value)}set valueHex(u){this._valueHex=u.slice(0),u.byteLength>=4?(this.warnings.push("Too big Integer for decoding, hex only"),this.isHexOnly=!0,this._valueDec=0):(this.isHexOnly=!1,u.byteLength>0&&(this._valueDec=P.call(this)))}get valueHex(){return this._valueHex}set valueDec(u){this._valueDec=u,this.isHexOnly=!1,this._valueHex=b(u)}get valueDec(){return this._valueDec}fromDER(u,_,A,W=0){const ae=this.fromBER(u,_,A);if(-1===ae)return ae;const ve=new Uint8Array(this._valueHex);if(0===ve[0]&&128&ve[1]){const Ge=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(Ge).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=Ge.slice(0)}else if(0!==W&&this._valueHex.byteLength<W){W-this._valueHex.byteLength>1&&(W=this._valueHex.byteLength+1);const Ge=new ArrayBuffer(W);new Uint8Array(Ge).set(ve,W-this._valueHex.byteLength),this._valueHex=Ge.slice(0)}return ae}toDER(u=!1){const _=new Uint8Array(this._valueHex);switch(!0){case!!(128&_[0]):{const A=new ArrayBuffer(this._valueHex.byteLength+1),W=new Uint8Array(A);W[0]=0,W.set(_,1),this._valueHex=A.slice(0)}break;case 0===_[0]&&!(128&_[1]):{const A=new ArrayBuffer(this._valueHex.byteLength-1);new Uint8Array(A).set(new Uint8Array(this._valueHex,1,this._valueHex.byteLength-1)),this._valueHex=A.slice(0)}}return this.toBER(u)}fromBER(u,_,A){const W=super.fromBER(u,_,A);return-1===W?W:(this.blockLength=A,_+A)}toBER(u=!1){return this.valueHex.slice(0)}static blockName(){return"IntegerValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u}toString(){function u(Q,ge){const $e=new Uint8Array([0]);let bt=new Uint8Array(Q),ln=new Uint8Array(ge),rn=bt.slice(0);const Ln=rn.length-1;let Oi=ln.slice(0);const Fi=Oi.length-1;let dr=0,Ns=0;for(let Oa=Fi<Ln?Ln:Fi;Oa>=0;Oa--,Ns++)dr=1==Ns<Oi.length?rn[Ln-Ns]+Oi[Fi-Ns]+$e[0]:rn[Ln-Ns]+$e[0],$e[0]=dr/10,1==Ns>=rn.length?rn=O(new Uint8Array([dr%10]),rn):rn[Ln-Ns]=dr%10;return $e[0]>0&&(rn=O($e,rn)),rn.slice(0)}function _(Q){if(Q>=$r.length)for(let ge=$r.length;ge<=Q;ge++){const $e=new Uint8Array([0]);let bt=$r[ge-1].slice(0);for(let ln=bt.length-1;ln>=0;ln--){const rn=new Uint8Array([(bt[ln]<<1)+$e[0]]);$e[0]=rn[0]/10,bt[ln]=rn[0]%10}$e[0]>0&&(bt=O($e,bt)),$r.push(bt)}return $r[Q]}function A(Q,ge){let $e=0,bt=new Uint8Array(Q),ln=new Uint8Array(ge),rn=bt.slice(0);const Ln=rn.length-1;let Oi=ln.slice(0);const Fi=Oi.length-1;let dr,Hs=0;for(let Ns=Fi;Ns>=0;Ns--,Hs++)dr=rn[Ln-Hs]-Oi[Fi-Hs]-$e,1==dr<0?($e=1,rn[Ln-Hs]=dr+10):($e=0,rn[Ln-Hs]=dr);if($e>0)for(let Ns=Ln-Fi+1;Ns>=0;Ns--,Hs++){if(dr=rn[Ln-Hs]-$e,!(dr<0)){$e=0,rn[Ln-Hs]=dr;break}$e=1,rn[Ln-Hs]=dr+10}return rn.slice()}const W=8*this._valueHex.byteLength-1;let Ge,ae=new Uint8Array(8*this._valueHex.byteLength/3),ve=0;const D=new Uint8Array(this._valueHex);let V="",B=!1;for(let Q=this._valueHex.byteLength-1;Q>=0;Q--){Ge=D[Q];for(let ge=0;ge<8;ge++)1&~Ge||(ve===W?(ae=A(_(ve),ae),V="-"):ae=u(ae,_(ve))),ve++,Ge>>=1}for(let Q=0;Q<ae.length;Q++)ae[Q]&&(B=!0),B&&(V+=ki.charAt(ae[Q]));return!1===B&&(V+=ki.charAt(0)),V}}class Yi extends ps{constructor(u={}){super(u,or),this.idBlock.tagClass=1,this.idBlock.tagNumber=2}static blockName(){return"INTEGER"}isEqual(u){return u instanceof Yi?this.valueBlock.isHexOnly&&u.valueBlock.isHexOnly?M(this.valueBlock.valueHex,u.valueBlock.valueHex):this.valueBlock.isHexOnly===u.valueBlock.isHexOnly&&this.valueBlock.valueDec===u.valueBlock.valueDec:u instanceof ArrayBuffer&&M(this.valueBlock.valueHex,u)}convertToDER(){const u=new Yi({valueHex:this.valueBlock.valueHex});return u.valueBlock.toDER(),u}convertFromDER(){const u=this.valueBlock.valueHex.byteLength%2?this.valueBlock.valueHex.byteLength+1:this.valueBlock.valueHex.byteLength,_=new Yi({valueHex:this.valueBlock.valueHex});return _.valueBlock.fromDER(_.valueBlock.valueHex,0,_.valueBlock.valueHex.byteLength,u),_}toString(){As();const u=C(this.valueBlock.valueHex),_=BigInt(`0x${u}`);return`${this.constructor.blockName()} : ${_.toString()}`}}class Vi extends Yi{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=10}static blockName(){return"ENUMERATED"}}class si extends(Js(xs)){constructor(u={}){super(u),this.valueDec=w(u,ka,-1),this.isFirstSid=w(u,"isFirstSid",!1)}static blockName(){return"sidBlock"}fromBER(u,_,A){if(0===A)return _;if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);this.valueHex=new ArrayBuffer(A);let ae=new Uint8Array(this.valueHex);for(let D=0;D<A&&(ae[D]=127&W[D],this.blockLength++,128&W[D]);D++);const ve=new ArrayBuffer(this.blockLength),Ge=new Uint8Array(ve);for(let D=0;D<this.blockLength;D++)Ge[D]=ae[D];return this.valueHex=ve.slice(0),ae=new Uint8Array(this.valueHex),128&W[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ae[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ae,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),_+this.blockLength)}set valueBigInt(u){As();let _=BigInt(u).toString(2);for(;_.length%7;)_="0"+_;const A=new Uint8Array(_.length/7);for(let W=0;W<A.length;W++)A[W]=parseInt(_.slice(7*W,7*W+7),2)+(W+1<A.length?128:0);this.fromBER(A.buffer,0,A.length)}toBER(u=!1){let _,A;if(this.isHexOnly){if(!0===u)return new ArrayBuffer(this.valueHex.byteLength);const ae=new Uint8Array(this.valueHex);_=new ArrayBuffer(this.blockLength),A=new Uint8Array(_);for(let ve=0;ve<this.blockLength-1;ve++)A[ve]=128|ae[ve];return A[this.blockLength-1]=ae[this.blockLength-1],_}const W=f(this.valueDec,7);if(0===W.byteLength)return this.error="Error during encoding SID value",Ir;if(_=new ArrayBuffer(W.byteLength),!1===u){const ae=new Uint8Array(W);A=new Uint8Array(_);for(let ve=0;ve<W.byteLength-1;ve++)A[ve]=128|ae[ve];A[W.byteLength-1]=ae[W.byteLength-1]}return _}toString(){let u="";if(!0===this.isHexOnly)u=C(this.valueHex,0,this.valueHex.byteLength);else if(this.isFirstSid){let _=this.valueDec;this.valueDec<=39?u="0.":this.valueDec<=79?(u="1.",_-=40):(u="2.",_-=80),u+=_.toString()}else u=this.valueDec.toString();return u}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u.isFirstSid=this.isFirstSid,u}}class Xi extends Yr{constructor(u={}){super(u),this.fromString(w(u,fs,""))}fromBER(u,_,A){let W=_;for(;A>0;){const ae=new si;if(W=ae.fromBER(u,W,A),-1===W)return this.blockLength=0,this.error=ae.error,W;0===this.value.length&&(ae.isFirstSid=!0),this.blockLength+=ae.blockLength,A-=ae.blockLength,this.value.push(ae)}return W}toBER(u=!1){const _=[];for(let A=0;A<this.value.length;A++){const W=this.value[A].toBER(u);if(0===W.byteLength)return this.error=this.value[A].error,Ir;_.push(W)}return Zo(_)}fromString(u){this.value=[];let _=0,A=0,W="",ae=!1;do{if(A=u.indexOf(".",_),W=-1===A?u.substr(_):u.substr(_,A-_),_=A+1,ae){const ve=this.value[0];let Ge=0;switch(ve.valueDec){case 0:break;case 1:Ge=40;break;case 2:Ge=80;break;default:return this.value=[],!1}const D=parseInt(W,10);if(isNaN(D))return!0;ve.valueDec=D+Ge,ae=!1}else{const ve=new si;if(W>Number.MAX_SAFE_INTEGER){As();const Ge=BigInt(W);ve.valueBigInt=Ge}else if(ve.valueDec=parseInt(W,10),isNaN(ve.valueDec))return!0;0===this.value.length&&(ve.isFirstSid=!0,ae=!0),this.value.push(ve)}}while(-1!==A);return!0}toString(){let u="",_=!1;for(let A=0;A<this.value.length;A++){_=this.value[A].isHexOnly;let W=this.value[A].toString();0!==A&&(u=`${u}.`),_?(W=`{${W}}`,this.value[A].isFirstSid?u=`2.{${W} - 80}`:u+=W):u+=W}return u}static blockName(){return"ObjectIdentifierValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.value=this.toString(),u.sidArray=[];for(let _=0;_<this.value.length;_++)u.sidArray.push(this.value[_].toJSON());return u}}class ur extends ps{constructor(u={}){super(u,Xi),this.idBlock.tagClass=1,this.idBlock.tagNumber=6}static blockName(){return"OBJECT IDENTIFIER"}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.toString()}`}}class pe extends(Js(xs)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"Utf8StringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class F extends ps{constructor(u={}){super(u,pe),fs in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=12}static blockName(){return"UTF8String"}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(u));try{this.valueBlock.value=decodeURIComponent(escape(this.valueBlock.value))}catch(_){this.warnings.push(`Error during "decodeURIComponent": ${_}, using raw string`)}}fromString(u){const _=unescape(encodeURIComponent(u)),A=_.length;this.valueBlock.valueHex=new ArrayBuffer(A);const W=new Uint8Array(this.valueBlock.valueHex);for(let ae=0;ae<A;ae++)W[ae]=_.charCodeAt(ae);this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class de extends(Js(xs)){constructor(u={}){super(u),this.valueDec=w(u,ka,-1)}static blockName(){return"relativeSidBlock"}fromBER(u,_,A){if(0===A)return _;if(!1===m(this,u,_,A))return-1;const W=new Uint8Array(u,_,A);this.valueHex=new ArrayBuffer(A);let ae=new Uint8Array(this.valueHex);for(let D=0;D<A&&(ae[D]=127&W[D],this.blockLength++,128&W[D]);D++);const ve=new ArrayBuffer(this.blockLength),Ge=new Uint8Array(ve);for(let D=0;D<this.blockLength;D++)Ge[D]=ae[D];return this.valueHex=ve.slice(0),ae=new Uint8Array(this.valueHex),128&W[this.blockLength-1]?(this.error="End of input reached before message was fully decoded",-1):(0===ae[0]&&this.warnings.push("Needlessly long format of SID encoding"),this.blockLength<=8?this.valueDec=d(ae,7):(this.isHexOnly=!0,this.warnings.push("Too big SID for decoding, hex only")),_+this.blockLength)}toBER(u=!1){let _,A;if(this.isHexOnly){if(!0===u)return new ArrayBuffer(this.valueHex.byteLength);const ae=new Uint8Array(this.valueHex);_=new ArrayBuffer(this.blockLength),A=new Uint8Array(_);for(let ve=0;ve<this.blockLength-1;ve++)A[ve]=128|ae[ve];return A[this.blockLength-1]=ae[this.blockLength-1],_}const W=f(this.valueDec,7);if(0===W.byteLength)return this.error="Error during encoding SID value",Ir;if(_=new ArrayBuffer(W.byteLength),!1===u){const ae=new Uint8Array(W);A=new Uint8Array(_);for(let ve=0;ve<W.byteLength-1;ve++)A[ve]=128|ae[ve];A[W.byteLength-1]=ae[W.byteLength-1]}return _}toString(){let u="";return u=!0===this.isHexOnly?C(this.valueHex,0,this.valueHex.byteLength):this.valueDec.toString(),u}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.valueDec=this.valueDec,u}}class Me extends Yr{constructor(u={}){super(u),this.fromString(w(u,fs,""))}fromBER(u,_,A){let W=_;for(;A>0;){const ae=new de;if(W=ae.fromBER(u,W,A),-1===W)return this.blockLength=0,this.error=ae.error,W;this.blockLength+=ae.blockLength,A-=ae.blockLength,this.value.push(ae)}return W}toBER(u=!1){let _=[];for(let A=0;A<this.value.length;A++){const W=this.value[A].toBER(u);if(0===W.byteLength)return this.error=this.value[A].error,Ir;_.push(W)}return Zo(_)}fromString(u){this.value=[];let _=0,A=0,W="";do{A=u.indexOf(".",_),W=-1===A?u.substr(_):u.substr(_,A-_),_=A+1;const ae=new de;if(ae.valueDec=parseInt(W,10),isNaN(ae.valueDec))return!0;this.value.push(ae)}while(-1!==A);return!0}toString(){let u="",_=!1;for(let A=0;A<this.value.length;A++){_=this.value[A].isHexOnly;let W=this.value[A].toString();0!==A&&(u=`${u}.`),_&&(W=`{${W}}`),u+=W}return u}static blockName(){return"RelativeObjectIdentifierValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}u.value=this.toString(),u.sidArray=[];for(let _=0;_<this.value.length;_++)u.sidArray.push(this.value[_].toJSON());return u}}class rt extends ps{constructor(u={}){super(u,Me),this.idBlock.tagClass=1,this.idBlock.tagNumber=13}static blockName(){return"RelativeObjectIdentifier"}}class Nt extends(Js(xs)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"BmpStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class Vt extends ps{constructor(u={}){super(u,Nt),fs in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=30}static blockName(){return"BMPString"}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){const _=u.slice(0),A=new Uint8Array(_);for(let W=0;W<A.length;W+=2){const ae=A[W];A[W]=A[W+1],A[W+1]=ae}this.valueBlock.value=String.fromCharCode.apply(null,new Uint16Array(_))}fromString(u){const _=u.length;this.valueBlock.valueHex=new ArrayBuffer(2*_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++){const ae=f(u.charCodeAt(W),8),ve=new Uint8Array(ae);if(ve.length>2)continue;const Ge=2-ve.length;for(let D=ve.length-1;D>=0;D--)A[2*W+D+Ge]=ve[D]}this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class nn extends(Js(xs)){constructor(u={}){super(u),this.isHexOnly=!0,this.value=""}static blockName(){return"UniversalStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class an extends ps{constructor(u={}){super(u,nn),fs in u&&this.fromString(u.value),this.idBlock.tagClass=1,this.idBlock.tagNumber=28}static blockName(){return"UniversalString"}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){const _=u.slice(0),A=new Uint8Array(_);for(let W=0;W<A.length;W+=4)A[W]=A[W+3],A[W+1]=A[W+2],A[W+2]=0,A[W+3]=0;this.valueBlock.value=String.fromCharCode.apply(null,new Uint32Array(_))}fromString(u){const _=u.length;this.valueBlock.valueHex=new ArrayBuffer(4*_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++){const ae=f(u.charCodeAt(W),8),ve=new Uint8Array(ae);if(ve.length>4)continue;const Ge=4-ve.length;for(let D=ve.length-1;D>=0;D--)A[4*W+D+Ge]=ve[D]}this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class wn extends(Js(xs)){constructor(u={}){super(u),this.value="",this.isHexOnly=!0}static blockName(){return"SimpleStringValueBlock"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.value=this.value,u}}class ni extends ps{constructor(u={}){super(u,wn),fs in u&&this.fromString(u.value)}static blockName(){return"SIMPLESTRING"}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){this.valueBlock.value=String.fromCharCode.apply(null,new Uint8Array(u))}fromString(u){const _=u.length;this.valueBlock.valueHex=new ArrayBuffer(_);const A=new Uint8Array(this.valueBlock.valueHex);for(let W=0;W<_;W++)A[W]=u.charCodeAt(W);this.valueBlock.value=u}toString(){return`${this.constructor.blockName()} : ${this.valueBlock.value}`}}class jn extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=18}static blockName(){return"NumericString"}}class br extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=19}static blockName(){return"PrintableString"}}class vi extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=20}static blockName(){return"TeletexString"}}class Gr extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=21}static blockName(){return"VideotexString"}}class Dr extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=22}static blockName(){return"IA5String"}}class ws extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=25}static blockName(){return"GraphicString"}}class Wi extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=26}static blockName(){return"VisibleString"}}class ls extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=27}static blockName(){return"GeneralString"}}class ko extends ni{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=29}static blockName(){return"CharacterString"}}class fa extends Wi{constructor(u={}){if(super(u),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,fs in u){this.fromString(u.value),this.valueBlock.valueHex=new ArrayBuffer(u.value.length);const _=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<u.value.length;A++)_[A]=u.value.charCodeAt(A)}Ga in u&&(this.fromDate(u.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=23}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,new Uint8Array(u)))}toBuffer(){const u=this.toString(),_=new ArrayBuffer(u.length),A=new Uint8Array(_);for(let W=0;W<u.length;W++)A[W]=u.charCodeAt(W);return _}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second))}fromString(u){const A=/(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})Z/gi.exec(u);if(null===A)return void(this.error="Wrong input string for conversion");const W=parseInt(A[1],10);this.year=W>=50?1900+W:2e3+W,this.month=parseInt(A[2],10),this.day=parseInt(A[3],10),this.hour=parseInt(A[4],10),this.minute=parseInt(A[5],10),this.second=parseInt(A[6],10)}toString(){const u=new Array(7);return u[0]=k(this.year<2e3?this.year-1900:this.year-2e3,2),u[1]=k(this.month,2),u[2]=k(this.day,2),u[3]=k(this.hour,2),u[4]=k(this.minute,2),u[5]=k(this.second,2),u[6]="Z",u.join("")}static blockName(){return"UTCTime"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.year=this.year,u.month=this.month,u.day=this.day,u.hour=this.hour,u.minute=this.minute,u.second=this.second,u}}class _o extends Wi{constructor(u={}){if(super(u),this.year=0,this.month=0,this.day=0,this.hour=0,this.minute=0,this.second=0,this.millisecond=0,fs in u){this.fromString(u.value),this.valueBlock.valueHex=new ArrayBuffer(u.value.length);const _=new Uint8Array(this.valueBlock.valueHex);for(let A=0;A<u.value.length;A++)_[A]=u.value.charCodeAt(A)}Ga in u&&(this.fromDate(u.valueDate),this.valueBlock.valueHex=this.toBuffer()),this.idBlock.tagClass=1,this.idBlock.tagNumber=24}fromBER(u,_,A){const W=this.valueBlock.fromBER(u,_,!0===this.lenBlock.isIndefiniteForm?A:this.lenBlock.length);return-1===W?(this.error=this.valueBlock.error,W):(this.fromBuffer(this.valueBlock.valueHex),0===this.idBlock.error.length&&(this.blockLength+=this.idBlock.blockLength),0===this.lenBlock.error.length&&(this.blockLength+=this.lenBlock.blockLength),0===this.valueBlock.error.length&&(this.blockLength+=this.valueBlock.blockLength),W)}fromBuffer(u){this.fromString(String.fromCharCode.apply(null,new Uint8Array(u)))}toBuffer(){const u=this.toString(),_=new ArrayBuffer(u.length),A=new Uint8Array(_);for(let W=0;W<u.length;W++)A[W]=u.charCodeAt(W);return _}fromDate(u){this.year=u.getUTCFullYear(),this.month=u.getUTCMonth()+1,this.day=u.getUTCDate(),this.hour=u.getUTCHours(),this.minute=u.getUTCMinutes(),this.second=u.getUTCSeconds(),this.millisecond=u.getUTCMilliseconds()}toDate(){return new Date(Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second,this.millisecond))}fromString(u){let ve,_=!1,A="",W="",ae=0,Ge=0,D=0;if("Z"===u[u.length-1])A=u.substr(0,u.length-1),_=!0;else{const Q=new Number(u[u.length-1]);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");A=u}if(_){if(-1!==A.indexOf("+"))throw new Error("Wrong input string for conversion");if(-1!==A.indexOf("-"))throw new Error("Wrong input string for conversion")}else{let Q=1,ge=A.indexOf("+"),$e="";if(-1===ge&&(ge=A.indexOf("-"),Q=-1),-1!==ge){if($e=A.substr(ge+1),A=A.substr(0,ge),2!==$e.length&&4!==$e.length)throw new Error("Wrong input string for conversion");let bt=new Number($e.substr(0,2));if(isNaN(bt.valueOf()))throw new Error("Wrong input string for conversion");if(Ge=Q*bt,4===$e.length){if(bt=new Number($e.substr(2,2)),isNaN(bt.valueOf()))throw new Error("Wrong input string for conversion");D=Q*bt}}}let V=A.indexOf(".");if(-1===V&&(V=A.indexOf(",")),-1!==V){const Q=new Number(`0${A.substr(V)}`);if(isNaN(Q.valueOf()))throw new Error("Wrong input string for conversion");ae=Q.valueOf(),W=A.substr(0,V)}else W=A;switch(!0){case 8===W.length:if(ve=/(\d{4})(\d{2})(\d{2})/gi,-1!==V)throw new Error("Wrong input string for conversion");break;case 10===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.minute=Math.floor(Q),Q=60*(Q-this.minute),this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 12===W.length:if(ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V){let Q=60*ae;this.second=Math.floor(Q),Q=1e3*(Q-this.second),this.millisecond=Math.floor(Q)}break;case 14===W.length:ve=/(\d{4})(\d{2})(\d{2})(\d{2})(\d{2})(\d{2})/gi,-1!==V&&(this.millisecond=Math.floor(1e3*ae));break;default:throw new Error("Wrong input string for conversion")}const B=ve.exec(W);if(null===B)throw new Error("Wrong input string for conversion");for(let Q=1;Q<B.length;Q++)switch(Q){case 1:this.year=parseInt(B[Q],10);break;case 2:this.month=parseInt(B[Q],10);break;case 3:this.day=parseInt(B[Q],10);break;case 4:this.hour=parseInt(B[Q],10)+Ge;break;case 5:this.minute=parseInt(B[Q],10)+D;break;case 6:this.second=parseInt(B[Q],10);break;default:throw new Error("Wrong input string for conversion")}if(!1===_){const Q=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second,this.millisecond);this.year=Q.getUTCFullYear(),this.month=Q.getUTCMonth(),this.day=Q.getUTCDay(),this.hour=Q.getUTCHours(),this.minute=Q.getUTCMinutes(),this.second=Q.getUTCSeconds(),this.millisecond=Q.getUTCMilliseconds()}}toString(){const u=[];return u.push(k(this.year,4)),u.push(k(this.month,2)),u.push(k(this.day,2)),u.push(k(this.hour,2)),u.push(k(this.minute,2)),u.push(k(this.second,2)),0!==this.millisecond&&(u.push("."),u.push(k(this.millisecond,3))),u.push("Z"),u.join("")}static blockName(){return"GeneralizedTime"}toJSON(){let u={};try{u=super.toJSON()}catch{}return u.year=this.year,u.month=this.month,u.day=this.day,u.hour=this.hour,u.minute=this.minute,u.second=this.second,u.millisecond=this.millisecond,u}}class ts extends F{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=31}static blockName(){return"DATE"}}class Vo extends F{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=32}static blockName(){return"TimeOfDay"}}class Ri extends F{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=33}static blockName(){return"DateTime"}}class Na extends F{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=34}static blockName(){return"Duration"}}class na extends F{constructor(u={}){super(u),this.idBlock.tagClass=1,this.idBlock.tagNumber=14}static blockName(){return"TIME"}}function Ar(Le,u,_){const A=u;let ae=new ps({},Object);const ve=new xs;if(!1===m(ve,Le,u,_))return ae.error=ve.error,{offset:-1,result:ae};if(0===new Uint8Array(Le,u,_).length)return ae.error="Zero buffer length",{offset:-1,result:ae};let D=ae.idBlock.fromBER(Le,u,_);if(ae.warnings.concat(ae.idBlock.warnings),-1===D)return ae.error=ae.idBlock.error,{offset:-1,result:ae};if(D=ae.lenBlock.fromBER(Le,u=D,_-=ae.idBlock.blockLength),ae.warnings.concat(ae.lenBlock.warnings),-1===D)return ae.error=ae.lenBlock.error,{offset:-1,result:ae};if(u=D,_-=ae.lenBlock.blockLength,!1===ae.idBlock.isConstructed&&!0===ae.lenBlock.isIndefiniteForm)return ae.error="Indefinite length form used for primitive encoding form",{offset:-1,result:ae};let V=ps;if(1===ae.idBlock.tagClass){if(ae.idBlock.tagNumber>=37&&!1===ae.idBlock.isHexOnly)return ae.error="UNIVERSAL 37 and upper tags are reserved by ASN.1 standard",{offset:-1,result:ae};switch(ae.idBlock.tagNumber){case 0:if(!0===ae.idBlock.isConstructed&&ae.lenBlock.length>0)return ae.error="Type [UNIVERSAL 0] is reserved",{offset:-1,result:ae};V=Cs;break;case 1:V=We;break;case 2:V=Yi;break;case 3:V=fr;break;case 4:V=En;break;case 5:V=Rt;break;case 6:V=ur;break;case 10:V=Vi;break;case 12:V=F;break;case 13:V=rt;break;case 14:V=na;break;case 15:return ae.error="[UNIVERSAL 15] is reserved by ASN.1 standard",{offset:-1,result:ae};case 16:V=ue;break;case 17:V=Fe;break;case 18:V=jn;break;case 19:V=br;break;case 20:V=vi;break;case 21:V=Gr;break;case 22:V=Dr;break;case 23:V=fa;break;case 24:V=_o;break;case 25:V=ws;break;case 26:V=Wi;break;case 27:V=ls;break;case 28:V=an;break;case 29:V=ko;break;case 30:V=Vt;break;case 31:V=ts;break;case 32:V=Vo;break;case 33:V=Ri;break;case 34:V=Na;break;default:{let B;B=!0===ae.idBlock.isConstructed?new ks:new ha,B.idBlock=ae.idBlock,B.lenBlock=ae.lenBlock,B.warnings=ae.warnings,ae=B}}}else V=!0===ae.idBlock.isConstructed?ks:ha;return ae=function W(B,Q){if(B instanceof Q)return B;const ge=new Q;return ge.idBlock=B.idBlock,ge.lenBlock=B.lenBlock,ge.warnings=B.warnings,ge.valueBeforeDecode=B.valueBeforeDecode.slice(0),ge}(ae,V),D=ae.fromBER(Le,u,!0===ae.lenBlock.isIndefiniteForm?_:ae.lenBlock.length),ae.valueBeforeDecode=Le.slice(A,A+ae.blockLength),{offset:D,result:ae}}function wi(Le){if(0===Le.byteLength){const u=new ps({},Object);return u.error="Input buffer has zero length",{offset:-1,result:u}}return Ar(Le,0,Le.byteLength)}var ra=h(3838),uo=h(4531),Ja=h(4438);let pl=(()=>{class Le{convertStringToArrayBuffer(_){const A=new ra.hp(_,"base64").toString("binary"),W=new ArrayBuffer(2*A.length),ae=new Uint8Array(W);for(let ve=0,Ge=A.length;ve<Ge;ve++)ae[ve]=A.charCodeAt(ve);return W}buildCertModelFromArrayBuffer(_,A){var W=this;return(0,i.A)(function*(){const ae=wi(_),ve=new Ai({schema:ae.result}),Ge=new e,D=W.getSubject(ve),V=yield W.calculateCertificateThumbprint(A);return Ge.base64Cert=A,Ge.subject=D,Ge.thumbprint=V,Ge})()}verifyCertFilePassword(_,A,W){let ae=new FileReader;ae.onload=ve=>{try{const Ge=ra.hp.from(ae.result),D=this.arrayBufferToBase64(Ge);(0,uo.hc)(Ge,A),W.next(D)}catch(Ge){console.log("Invalid cert!"),W.error(Ge)}},ae.onerror=ve=>{W.error(ve)},ae.readAsArrayBuffer(_)}getSubject(_){const A={"2.5.4.6":"C","2.5.4.10":"O","2.5.4.11":"OU","2.5.4.3":"CN","2.5.4.7":"L","2.5.4.8":"S","2.5.4.12":"T","2.5.4.42":"GN","2.5.4.43":"I","2.5.4.4":"SN","1.2.840.113549.1.9.1":"E-mail"},W=new Array;for(const ve of _.subject.typesAndValues){let Ge=A[ve.type];typeof Ge>"u"&&(Ge=ve.type),W.push(`${Ge}=${ve.value.valueBlock.value}`)}return W.reverse().join(", ")}calculateCertificateThumbprint(_){var A=this;return(0,i.A)(function*(){const W=new ra.hp(_,"base64"),ae=yield crypto.subtle.digest("SHA-1",W);return A.computeHex(ae)})()}computeHex(_){return[].map.call(new Uint8Array(_),A=>("00"+A.toString(16)).slice(-2)).join("")}arrayBufferToBase64(_){for(var A="",W=new Uint8Array(_),ae=W.byteLength,ve=0;ve<ae;ve++)A+=String.fromCharCode(W[ve]);return window.btoa(A)}static{this.\u0275fac=function(A){return new(A||Le)}}static{this.\u0275prov=Ja.jDH({token:Le,factory:Le.\u0275fac})}}return Le})()},526:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>C});var i=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,I){this.http=f,this.claimTypeSubject=new e.m(1),this.actionUrl="ClaimTypes",this.headers=I.setHeaders()}getCachedClaimType(){return this.claimTypeSubject}getClaimType(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}getClaimTypes(f,I,O=!1){let P=new i.Nl;return(0,y.gP)(f)||(P=P.append("name",f)),P=P.append("sort",(0,y.gP)(I)?"name":I),this.http.get(O?`${this.actionUrl}/ClaimTypesLightWeight`:this.actionUrl,{headers:this.headers,params:P})}addClaimType(f){const I=`${this.actionUrl}`,O=JSON.stringify(f);return this.http.post(I,O,{headers:this.headers})}updateClaimType(f){const I=`${this.actionUrl}/${f.id}`,O=JSON.stringify(f);return this.http.put(I,O,{headers:this.headers})}deleteClaimType(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}getAllowedValues(f,I,O){let P=new i.Nl;return(0,y.gP)(I)||(P=P.append("query",I)),O&&(P=P.append("resultThreshold",O)),this.http.get(`${this.actionUrl}/AllowedValues/${f}`,{headers:this.headers,params:P})}static{this.\u0275fac=function(I){return new(I||m)(p.KVO(i.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},8939:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>d});var i=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(526),m=h(5424);let d=(()=>{class f{constructor(O,P){this.claimTypeService=O,this.errorService=P}resolve(O,P){return this.claimTypeService.getClaimType(O.params.Id).pipe((0,e.T)(M=>(M&&this.claimTypeService.getCachedClaimType().next(M),M)),(0,y.W)((M,k)=>(404===M.status?this.errorService.resourceNotFound(p.v.claimType):this.errorService.handleError(M),(0,i.I)())))}static{this.\u0275fac=function(P){return new(P||f)(w.KVO(C.X),w.KVO(m.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},3577:(nt,fe,h)=>{"use strict";h.d(fe,{e:()=>y});var i=h(4412),e=h(4438);let y=(()=>{class p{constructor(){this.unsavedCache=new i.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new i.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onClientSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},9113:(nt,fe,h)=>{"use strict";h.d(fe,{Hh:()=>C,SD:()=>w,qJ:()=>p});var i=h(4438),e=h(1626),y=h(9564);let p=(()=>{class d{constructor(I,O){this.http=I,this.headersService=O,this.actionUrl="clients/import"}validateImportFile(I){const b=this.headersService.setHeaders("application/vnd.adminui.import-clients-validation-v1+json","application/vnd.adminui.import-clients-validation-result-v1+json");return this.http.post(`${this.actionUrl}/validate`,I,{headers:b})}completeImport(I,O){const P=this.appendImportConfiguration(I,O),M=this.headersService.setHeaders("application/vnd.adminui.import-clients-v1+json");return this.http.post(`${this.actionUrl}`,P,{headers:M})}appendImportConfiguration(I,O){const P=JSON.parse(I);return P.importConfiguration={clients:O.clients,protectedResources:O.protectedResources},JSON.stringify(P)}static{this.\u0275fac=function(O){return new(O||d)(i.KVO(e.Qq),i.KVO(y.m))}}static{this.\u0275prov=i.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})();class w{}class C{constructor(){this.certificates=new m}}class m{}},8173:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>w});var i=h(6701),e=h(4491),y=h(4438),p=h(3577);let w=(()=>{class te{constructor(re){this.cache=re,this.defaultClientGrantTypeMap=new Map([[i.s.BrowserBased,e.$.AuthorizationCode],[i.s.ServerSidePKCE,e.$.AuthorizationCode],[i.s.ServerSide,e.$.Hybrid],[i.s.Native,e.$.Hybrid],[i.s.Machine,e.$.ClientCredentials],[i.s.CIBAMachine,e.$.CIBA],[i.s.Device,e.$.Device],[i.s.LegacyClientSide,e.$.Implicit]]),this.clientCacheSubscription=this.cache.unsavedCache$.subscribe(K=>{this.initClientViews(K)})}ngOnDestroy(){this.clientCacheSubscription.unsubscribe()}initClientViews(re){this.resetTabs(),this.isStandardClientFormat(re)||re.clientType===i.s.Saml||re.clientType===i.s.WsFed?this.initUsingClientType(re.clientType):0!==re.allowedGrantTypes.length?this.initUsingGrantTypes(re.allowedGrantTypes):this.initDefaults()}resetTabs(){this.authRequest=new C,this.details=new m,this.applicationUrls=new d,this.secrets=new f,this.resources=new I,this.tokens=new L,this.claims=new P,this.refreshTokens=new U,this.identityProviders=new M,this.properties=new k,this.other=new N,this.deviceFlow=new R,this.singleSignOut=new j,this.consent=new $,this.saml=new ne,this.wsFed=new se,this.ciba=new O,this.dpop=new J}isStandardClientFormat(re){if(re.clientType===i.s.Unknown||re.allowedGrantTypes.length>1)return!1;const K=this.defaultClientGrantTypeMap.get(re.clientType);return re.allowedGrantTypes[0]===K}initUsingClientType(re){switch(re){case i.s.BrowserBased:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.ServerSide:case i.s.ServerSidePKCE:this.refreshTokens.display=!0,this.consent.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Native:case i.s.NativePKCE:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case i.s.Machine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case i.s.CIBAMachine:this.other.display=!0,this.authRequest.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0,this.dpop.display=!0;break;case i.s.Device:this.consent.display=!0,this.authRequest.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.deviceFlow.display=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case i.s.Saml:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.saml.display=!0;break;case i.s.WsFed:this.other.display=!0,this.other.userSSOLifetime=!0,this.tokens.display=!1,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.resources.allowedScopesIdentity=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.wsFed.display=!0;break;case i.s.LegacyClientSide:this.consent.display=!0,this.authRequest.display=!0,this.singleSignOut.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}}initUsingGrantTypes(re){this.saml.display=!1,this.wsFed.display=!1,re.forEach(K=>{switch(K){case e.$.Implicit:this.consent.display=!0,this.singleSignOut.display=!0,this.authRequest.display=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Hybrid:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.AuthorizationCode:this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.singleSignOut.backChannelLogoutUri=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.resources.allowedScopesIdentity=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0,this.dpop.display=!0;break;case e.$.ClientCredentials:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.dpop.display=!0;break;case e.$.CIBA:this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.ciba.display=!0;break;case e.$.ResourceOwnerPassword:this.refreshTokens.display=!0,this.other.display=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;case e.$.Device:this.consent.display=!0,this.refreshTokens.display=!0,this.deviceFlow.display=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.authRequest.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0;break;default:this.initDefaults()}})}initDefaults(){this.consent.display=!0,this.refreshTokens.display=!0,this.singleSignOut.display=!0,this.singleSignOut.backChannelLogoutUri=!0,this.singleSignOut.backChannelLogoutSessionRequired=!0,this.deviceFlow.display=!0,this.authRequest.display=!0,this.authRequest.pkce=!0,this.authRequest.par=!0,this.other.display=!0,this.other.userSSOLifetime=!0,this.applicationUrls.display=!0,this.applicationUrls.redirectUris=!0,this.applicationUrls.postLogoutRedirectUris=!0,this.applicationUrls.allowedCorsOrigins=!0,this.secrets.display=!0,this.resources.allowedScopesIdentity=!0,this.resources.allowedScopesAPI=!0,this.claims.display=!0,this.identityProviders.display=!0,this.properties.display=!0,this.tokens.allowAccessTokensViaBrowser=!0,this.tokens.identityTokenLifetime=!0,this.tokens.accessTokenLifetime=!0,this.tokens.authorizationCodeLifetime=!0,this.tokens.accessTokenType=!0,this.tokens.includeJwtId=!0,this.tokens.alwaysIncludeUserClaimsInIdToken=!0}static{this.\u0275fac=function(K){return new(K||te)(y.KVO(p.e))}}static{this.\u0275prov=y.jDH({token:te,factory:te.\u0275fac})}}return te})();class C{constructor(){this.display=!1,this.pkce=!1,this.par=!1}}class m{}class d{constructor(){this.display=!1,this.redirectUris=!1,this.postLogoutRedirectUris=!1,this.allowedCorsOrigins=!1}}class f{constructor(){this.display=!1}}class I{constructor(){this.allowedScopesIdentity=!1,this.allowedScopesAPI=!1}}class O{constructor(){this.display=!1}}class P{constructor(){this.display=!1}}class M{constructor(){this.display=!1}}class k{constructor(){this.display=!1}}class N{constructor(){this.display=!1,this.userSSOLifetime=!1}}class R{constructor(){this.display=!1}}class j{constructor(){this.display=!1,this.backChannelLogoutUri=!1,this.backChannelLogoutSessionRequired=!1}}class U{constructor(){this.display=!1}}class ${constructor(){this.display=!1}}class ne{constructor(){this.display=!1}}class se{constructor(){this.display=!1}}class L{constructor(){this.display=!0,this.allowAccessTokensViaBrowser=!1,this.identityTokenLifetime=!1,this.accessTokenLifetime=!1,this.authorizationCodeLifetime=!1,this.accessTokenType=!1,this.includeJwtId=!1,this.alwaysIncludeUserClaimsInIdToken=!1}}class J{constructor(){this.display=!1}}},9398:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>m});var i=h(1626),e=h(2771),y=h(7263),p=h(6701),w=h(4438),C=h(9564);let m=(()=>{class d{constructor(I,O){this.http=I,this.headersService=O,this.clientSubject=new e.m(1),this.actionUrl="clients",this.headers=O.setHeaders()}getClients(I,O,P){let b=new i.Nl;return(0,y.gP)(I)||(b=b.append("name",I)),O&&(b=b.append("page",O)),P&&(b=b.append("pageSize",P)),this.http.get(this.actionUrl,{headers:this.headers,params:b})}getClient(I){return this.http.get(`${this.actionUrl}/${I}`,{headers:this.headers})}getCachedClient(){return this.clientSubject}addClient(I){let O;switch(I.clientType){case p.s.Saml:O=this.headersService.setHeaders("application/vnd.adminui.new-saml-client-v1+json");break;case p.s.WsFed:O=this.headersService.setHeaders("application/vnd.adminui.new-wsfed-client-v1+json");break;default:O=this.headersService.setHeaders()}const P=`${this.actionUrl}/`,b=JSON.stringify(I);return this.http.post(P,b,{headers:O})}updateClient(I){return this.http.put(`${this.actionUrl}/${I.id}`,I,{headers:this.headers})}addClientSecret(I,O){return this.http.post(`${this.actionUrl}/${I}/secrets`,O,{headers:this.headers})}removeClientSecret(I,O){return this.http.delete(`${this.actionUrl}/${I}/secrets/${O.id}`,{headers:this.headers})}deleteClient(I){return this.http.delete(`${this.actionUrl}/${I}`,{headers:this.headers})}cloneClient(I,O){const P=`${this.actionUrl}/${I}/clone`,b=this.headersService.setHeaders("application/vnd.adminui.clone-client-v1+json");return this.http.post(P,O,{headers:b,observe:"response"})}static{this.\u0275fac=function(O){return new(O||d)(w.KVO(i.Qq),w.KVO(C.m))}}static{this.\u0275prov=w.jDH({token:d,factory:d.\u0275fac,providedIn:"root"})}}return d})()},9196:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>O});var i=h(1626),e=h(7673),y=h(1413),p=h(978);function C(P){return{...P,dynamicAuthenticationFlag:p.U[P.dynamicAuthenticationFlag]}}class f{}var I=h(4438);let O=(()=>{class P{constructor(M){this.http=M,this.headers=new i.Lr,this.actionUrl="UIConfiguration"}getConfig(M=!1){const k=new f;if(k.resetPasswordConfigured=!1,k.targetIdentityServer4=!1,k.resetMfaConfigured=!1,k.policyPersistence=!1,k.webhookPersistence=!1,k.featureFlagOptions=new p.D,k.supportedLanguages=[],this.uiOptions&&!M)return(0,e.of)(this.uiOptions);const N=new y.B;return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).subscribe({next:G=>{this.uiOptions=function d(P){return{...P,featureFlagOptions:C(P.featureFlagOptions)}}(G),N.next(this.uiOptions)},error:G=>N.next(k)}),N.asObservable()}static{this.\u0275fac=function(k){return new(k||P)(I.KVO(i.Qq))}}static{this.\u0275prov=I.jDH({token:P,factory:P.\u0275fac})}}return P})()},3384:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>f});var i=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(2036),m=h(6366),d=h(5424);let f=(()=>{class I{constructor(P,b,M){this.wsfedClientService=P,this.relyingPartyCache=b,this.errorService=M}resolve(P,b){const M=P.parent.paramMap.get("Id");if(!(this.relyingPartyCache.componentDirtyValidMap.size>0))return this.wsfedClientService.getRelyingParty(M).pipe((0,e.T)(k=>{const N=JSON.parse(JSON.stringify(k.claimMappings)),G=new Map;for(const R in N)N.hasOwnProperty(R)&&G.set(R,N[R]);return k.claimMappings=G,this.relyingPartyCache.unsavedCache.next(k),k}),(0,y.W)(k=>(404===k.status?this.errorService.resourceNotFound(p.v.relyingParty):this.errorService.handleError(k),(0,i.I)())));this.relyingPartyCache.unsavedCache$.subscribe(k=>k)}static{this.\u0275fac=function(b){return new(b||I)(w.KVO(C.c),w.KVO(m.z),w.KVO(d.I))}}static{this.\u0275prov=w.jDH({token:I,factory:I.\u0275fac})}}return I})()},1466:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>I});var i=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(9156),m=h(5691),d=h(1583),f=h(5424);let I=(()=>{class O{constructor(b,M,k,N){this.serviceProviderService=b,this.serviceproviderCache=M,this.router=k,this.errorSerivce=N}resolve(b,M){const k=b.parent.paramMap.get("Id");if(!(this.serviceproviderCache.componentDirtyValidMap.size>0))return this.serviceProviderService.getServiceProvider(k).pipe((0,e.T)(N=>{const G=JSON.parse(JSON.stringify(N.claimMappings)),R=new Map;for(const j in G)G.hasOwnProperty(j)&&R.set(j,G[j]);return N.claimMappings=R,this.serviceproviderCache.unsavedCache.next(N),this.serviceproviderCache.savedCache.next(N),N}),(0,y.W)((N,G)=>(404===N.status?this.errorSerivce.resourceNotFound(p.v.serviceProvider):this.errorSerivce.handleError(N),(0,i.I)())));this.serviceproviderCache.unsavedCache$.subscribe(N=>N)}static{this.\u0275fac=function(M){return new(M||O)(w.KVO(C.s),w.KVO(m.d),w.KVO(d.Ix),w.KVO(f.I))}}static{this.\u0275prov=w.jDH({token:O,factory:O.\u0275fac})}}return O})()},4442:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>C});var i=h(1594),e=h(4438),y=h(9156),p=h(5691),w=h(5424);let C=(()=>{class m{constructor(f,I,O){this.serviceProviderService=f,this.cache=I,this.errorService=O}uploadFile(f,I){return this.serviceProviderService.setEncryptionCertificateViaFile(f,I)}uploadViaMetaData(f,I){return this.serviceProviderService.setEncryptionCertificateViaMetadata(f,I)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(I=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(O=>{O.encryptionCertificate=I.encryptionCertificate,this.cache.unsavedCache.next(O)})},I=>{this.errorService.handleError(I)})}static{this.\u0275fac=function(I){return new(I||m)(e.KVO(y.s),e.KVO(p.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},5424:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>f});var i=h(7263),e=h(8284),y=h(9957),p=h(4438),w=h(1583),C=h(7005),m=h(5794),d=h(1780);let f=(()=>{class I{constructor(P,b,M,k){this.router=P,this.localize=b,this.toast=M,this.translate=k}resourceNotFound(P){this.router.navigate([this.localize.translateRoute("/resourcenotfound/"+e.v[P])])}handleError(P,b,M){let k=y.I.NotHandled;const N=this.getDefaultNavigationPath(P);if(N)this.router.navigate([this.localize.translateRoute(N)]),k|=y.I.Navigate;else{const G=this.getOptionsToastBody(P,b)||this.getDefaultToastBody(P),R=this.getOptionsToastTitle(P,b)||this.getDefaultToastTitle(P);G&&R&&(M?this.toast.error(G,R,M):this.toast.error(G,R),k|=y.I.Toast)}return k}getOptionsToastBody(P,b){if(!b)return;const M="number"==typeof P.status&&b.statusToastOptions?b.statusToastOptions[P.status]:b;return M&&M.toastBody}getOptionsToastTitle(P,b){if(!b)return;const M="number"==typeof P.status&&b.statusToastOptions?b.statusToastOptions[P.status]:b;return M&&M.toastTitle}getDefaultNavigationPath(P){switch(P.status){case 401:return"/unauthorized";case 403:return"/forbidden";case 404:return"/404";default:return}}getDefaultToastTitle(P){switch(P.status){case 400:case 420:return"Bad Request";case 405:return"Method Not Allowed";default:return this.translate.instant("Notifications.Error")}}getDefaultToastBody(P){return 500===P.status?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:P.error&&P.error.errors&&P.error.errors.length>0?P.error.errors[0]:(0,i.gP)(P._body)&&(0,i.gP)(P.error)?`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`:(0,i.gP)(P.error)?P._body:P.error}static{this.\u0275fac=function(b){return new(b||I)(p.KVO(w.Ix),p.KVO(C.QG),p.KVO(m.tw),p.KVO(d.c$))}}static{this.\u0275prov=p.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})()},9686:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>p});class i{constructor(C){this.form=C}submitForm(){document.body.appendChild(this.form),this.form.submit(),document.body.removeChild(this.form)}}var e=h(4438),y=h(7883);let p=(()=>{class w{constructor(m){this.securityService=m}buildForm(m){const d=this.buildStandardForm(m);return new i(d)}buildStandardForm(m){const d=document.createElement("form");return d.setAttribute("method","post"),d.setAttribute("action",m),d}appendInput(m,d,f){const I=document.createElement("input");I.setAttribute("type","text"),I.setAttribute("name",m),I.setAttribute("value",d),f.appendChild(I)}buildFormWithCustomInputs(m,d){const f=this.buildStandardForm(m);return d.forEach((I,O)=>{this.appendInput(O,I,f)}),new i(f)}static{this.\u0275fac=function(d){return new(d||w)(e.KVO(y.i))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},3218:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>C});var i=h(1594),e=h(6354),y=h(4438),p=h(1583),w=h(9196);let C=(()=>{class m{constructor(f,I){this.router=f,this.config=I}canActivate(f,I){return this.config.getConfig().pipe((0,i.$)(),(0,e.T)(O=>(O?.featureFlagOptions?.sessionManagementEnabled??!1)||this.router.parseUrl("/resourcenotfound/user")))}static{this.\u0275fac=function(I){return new(I||m)(y.KVO(p.Ix),y.KVO(w.w))}}static{this.\u0275prov=y.jDH({token:m,factory:m.\u0275fac,providedIn:"root"})}}return m})()},9564:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var i=h(1626),e=h(4438);let y=(()=>{class p{setHeaders(C,m){return(new i.Lr).set("Content-Type",C||"application/json").set("Accept",m||"application/json").set("Access-Control-Allow-Origin","true").set("Cache-Control","no-cache").set("Pragma","no-cache").set("Expires","Sat, 01 Jan 2000 00:00:00 GMT")}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},6801:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>p});var i=h(2771),e=h(4438),y=h(1626);let p=(()=>{class w{constructor(m){this.http=m,this.idsReady=!1,this.idsHealthCheckComplete=new i.m(1),this.uiReady=!1,this.uiHealthCheckComplete=new i.m(1),this.actionUrl="healthcheck"}checkHealthIdentityServer(){return this.http.get(`${this.actionUrl}/checkidentityserver`)}checkHealthUi(){return this.http.get(`${this.actionUrl}/checkui`)}static{this.\u0275fac=function(d){return new(d||w)(e.KVO(y.Qq))}}static{this.\u0275prov=e.jDH({token:w,factory:w.\u0275fac})}}return w})()},8261:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>C});var i=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,I){this.http=f,this.headersService=I,this.identityResourceSubject=new e.m(1),this.actionUrl="IdentityResources",this.headers=I.setHeaders()}getCachedIdentityResource(){return this.identityResourceSubject}getIdentityResources(f){let I=new i.Nl;return(0,y.gP)(f)||(I=I.append("name",f)),this.http.get(this.actionUrl,{headers:this.headers,params:I})}addResource(f){const I=`${this.actionUrl}/`,O=JSON.stringify(f);return this.http.post(I,O,{headers:this.headers})}getResource(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}updateResource(f){return this.http.put(`${this.actionUrl}/${f.id}`,f,{headers:this.headers})}deleteIdentityResource(f){return this.http.delete(`${this.actionUrl}/${f}`,{headers:this.headers})}static{this.\u0275fac=function(I){return new(I||m)(p.KVO(i.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},6193:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>G});var i=h(1413),e=h(2771),y=h(4414),p=h(1594),w=h(1744),C=h(7728),m=h(5696),d=h(4406),f=h(1138),I=h(785),O=h(7263),P=h(2858),b=h(7212),M=h(4438),k=h(5847),N=h(5826);let G=(()=>{class R{constructor(U,$){this.importWizardProvider=U,this.importWizardService=$,this.stepModified=!0,this.disableCloseButton=!1,this.stepsAhead=new Array,this.stepsCompleted=new Array,this.move=new i.B}setupInitialStep(){const U=this.importWizardProvider.getStep(y.M.clientSummary);this.stepsAhead.push(U)}goToNextStep(){const U=this.stepsAhead.pop();this.stepsCompleted.push(U),U.component===C.z&&U.data.includes(w.ot.Client)?this.createWizard().subscribe(()=>{this.move.next(!1)}):(U.component===f.u&&U.data.rememberSecretAction?this.stepsAhead=this.applyRememberDecision(U):U.component===P.zI&&U.data.rememberCertificateAction&&(this.stepsAhead=this.applyCertificateRememberDecision(U)),this.move.next(!1))}applyCertificateRememberDecision(U){const $=[];return this.stepsAhead.forEach(ne=>{ne.component!==P.zI||ne.data.existingHasCertificates!==U.data.existingHasCertificates||(U.data.certificateAction===P.AU.DoNotSet?ne.data.certificates=new b.D:U.data.certificateAction===P.AU.UseExisting&&(ne.data.certificates=new b.D,ne.data.useExistingCertificates=!0),$.push(ne),this.stepsCompleted.push(ne))}),this.stepsAhead.filter(ne=>!$.includes(ne))}applyRememberDecision(U){const $=[];return this.stepsAhead.forEach(ne=>{if(ne.component===f.u&&ne.data.resourceType===U.data.resourceType&&ne.data.existingHasSecrets===U.data.existingHasSecrets){if(U.data.secretsAction===f.r.DoNotSet)ne.data.secrets=[];else if(U.data.secretsAction===f.r.UseExistingSecret)ne.data.useExistingSecrets=!0;else if(U.data.secretsAction===f.r.Generate){const se=new I.z;se.value=(0,O.Nl)(),se.type="Shared Secret",se.description="",ne.data.secrets=[se]}$.push(ne),this.stepsCompleted.push(ne)}}),this.stepsAhead.filter(ne=>!$.includes(ne))}areStepsRemaning(){return this.stepsAhead.length>0}getCurrentStep(){return this.stepsAhead[this.stepsAhead.length-1]}goToPreviousStep(){if(0===this.stepsCompleted.length)return void this.insertAndOpenStep(y.M.importCloseWarning,!0);this.getCurrentStep().isDeadEnd&&this.stepsAhead.pop();const $=this.stepsCompleted[this.stepsCompleted.length-1];if($.component===f.u)this.goToLastRememberedDecision($.component,ne=>ne.data.rememberSecretAction);else if($.component===P.zI)this.goToLastRememberedDecision($.component,ne=>ne.data.rememberCertificateAction&&ne.data.existingHasCertificates===$.data.existingHasCertificates);else{const ne=this.stepsCompleted.pop();this.stepsAhead.push(ne)}this.move.next(!1)}goToLastRememberedDecision(U,$){const ne=this.stepsCompleted.filter(se=>se.component===U);if(ne.length>1){const se=ne.filter($);if(se){const J=this.stepsCompleted.indexOf(se[se.length-1]),te=this.stepsCompleted.splice(J,this.stepsCompleted.length-1);this.stepsAhead=[...this.stepsAhead,...te.reverse()]}else{const L=this.stepsCompleted.pop();this.stepsAhead.push(L)}}else{const se=this.stepsCompleted.pop();this.stepsAhead.push(se)}}goToFinalSummary(){const U=this.stepsAhead.findIndex(ne=>ne.component===m.s),$=this.stepsAhead.splice(U+1);for(;$.length>0;){const ne=$.pop();this.stepsCompleted.push(ne)}this.move.next(!1)}goToSummaryStep(U){const $=this.stepsCompleted.findIndex(se=>se.component===C.z&&se.data.includes(U)),ne=this.stepsCompleted.splice($);for(;ne.length>0;){const se=ne.pop();this.stepsAhead.push(se)}this.stepModified=!1,this.move.next(!1)}quit(){this.move.next(!0)}cancel(){const U=this.getCurrentStep();U.component===d.X?this.quit():U.isDeadEnd?this.goToPreviousStep():this.insertAndOpenStep(y.M.importCloseWarning)}clear(){this.stepsAhead=[],this.stepsCompleted=[],this.stepModified=!0}insertAndOpenStep(U,$){const ne=this.stepsAhead.pop();this.stepsCompleted.push(ne);const se=this.importWizardProvider.getStep(U);se.data=$,this.stepsAhead.push(se),this.move.next(!1)}reset(){this.clear(),this.setupInitialStep(),this.move.next(!1)}createWizard(){this.stepsAhead=[];const U=new e.m;return this.importWizardService.cache.pipe((0,p.$)()).subscribe($=>{this.stepsAhead.push(this.importWizardProvider.getStep(y.M.importComplete)),this.showFinalSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.finalSummary));const ne=this.sortImportResources($),se=[],L=[];for(let J=ne.length;J>0;J--){const te=ne[J-1];let E=!1;te.resourceType===w.ot.ProtectedResource&&te.dependantClients.forEach(re=>{E=$.some(K=>K.identifier===re.identifier&&K.resourceState!==w.jD.Duplicate)}),(te.selected||E)&&(te.existingHasSecrets&&se.push(this.importWizardProvider.getSecretStep(te)),te.hadSecrets&&!te.existingHasSecrets&&se.push(this.importWizardProvider.getSecretStep(te)),te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)),te.hadCertificates&&!te.existingHasCertificates&&L.push(this.importWizardProvider.getCertificateStep(te)))}this.stepsAhead.push(...se),this.stepsAhead.push(...L),this.showClaimTypeSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.claimTypeSummary)),this.showResourceSummary($)&&this.stepsAhead.push(this.importWizardProvider.getStep(y.M.resourcesSummary)),U.next()}),U}sortImportResources(U){U=(U=U.sort((ne,se)=>ne.displayName.toUpperCase().localeCompare(se.displayName.toUpperCase()))).sort((ne,se)=>+ne.conflictedByDependencies-+se.conflictedByDependencies);const $=[w.jD.Conflicted,w.jD.New,w.jD.Duplicate];return U.sort((ne,se)=>$.indexOf(ne.resourceState)-$.indexOf(se.resourceState))}showResourceSummary(U){const $=U.filter(se=>se.resourceType===w.ot.Client&&!0===se.selected).map(se=>se.identifier),ne=U.filter(se=>(se.resourceType===w.ot.IdentityResource||se.resourceType===w.ot.ProtectedResource)&&se.dependantClients.map(L=>L.identifier).some(L=>$.includes(L)));return ne.length>0&&ne.some(se=>se.resourceState===w.jD.Conflicted)}showClaimTypeSummary(U){const $=U.filter(se=>se.resourceType===w.ot.Client&&!0===se.selected).map(se=>se.identifier),ne=U.filter(se=>se.resourceType===w.ot.ClaimType&&se.dependantClients.map(L=>L.identifier).some(L=>$.includes(L)));return ne.length>0&&ne.some(se=>se.resourceState===w.jD.Conflicted)}showFinalSummary(U){return U.some($=>$.resourceType!==w.ot.Client)}static{this.\u0275fac=function($){return new($||R)(M.KVO(k.a),M.KVO(N.o))}}static{this.\u0275prov=M.jDH({token:R,factory:R.\u0275fac})}}return R})()},5847:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>L});var i=h(1744),e=h(7728),y=h(5088),p=h(7629),w=h(6799),C=h(4438),m=h(5826),d=h(1780);let f=(()=>{class te extends w.P{set data(re){null!==re&&(this.resetOnClose=re)}constructor(re){super(),this.importWizardService=re,this.isWarningModal=!0,this.resetOnClose=!1}yes(){this.resetOnClose?this.importWizardService.resetImport.next("Resetting Import"):this.quit()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||te)(C.rXU(m.o))}}static{this.\u0275cmp=C.VBU({type:te,selectors:[["app-import-close-warning"]],features:[C.Vt3],decls:14,vars:12,consts:[[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,me){1&K&&(C.j41(0,"div",0)(1,"p"),C.EFF(2),C.nI1(3,"translate"),C.nI1(4,"translate"),C.k0s()(),C.j41(5,"div",1)(6,"div",2)(7,"div",3)(8,"button",4),C.bIt("click",function(){return me.no()}),C.EFF(9),C.nI1(10,"translate"),C.k0s()(),C.j41(11,"button",5),C.bIt("click",function(){return me.yes()}),C.EFF(12),C.nI1(13,"translate"),C.k0s()()()),2&K&&(C.R7$(2),C.Lme("",C.bMT(3,4,"Clients.Import.Wizard.Warning.Text1")," ",C.bMT(4,6,"Clients.Import.Wizard.Warning.Text2"),""),C.R7$(7),C.JRh(C.bMT(10,8,"Notifications.StayHere")),C.R7$(3),C.JRh(C.bMT(13,10,"Notifications.DiscardChanges")))},dependencies:[d.D9],encapsulation:2})}}return te})();var I=h(4414),O=h(590),P=h(177);function b(te,E){1&te&&(C.j41(0,"p"),C.EFF(1),C.nI1(2,"translate"),C.k0s()),2&te&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.Resource")))}let M=(()=>{class te extends w.P{set data(re){this.resource=re,this.summaryDisplayType=O.n.getSummaryDisplayType(re.resourceType)}constructor(re){super(),this.importWizardService=re,this.isWarningModal=!0}yes(){this.importWizardService.deselectResource(this.resource),this.reset()}no(){this.back()}static{this.\u0275fac=function(K){return new(K||te)(C.rXU(m.o))}}static{this.\u0275cmp=C.VBU({type:te,selectors:[["app-conflicts-confirmation"]],features:[C.Vt3],decls:14,vars:11,consts:[[1,"modal-body","tw-text-center"],[4,"ngIf"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-danger","tw--mr-4",3,"click"],["id","stayBtn",1,"tw-btn-link",3,"click"]],template:function(K,me){1&K&&(C.j41(0,"div",0)(1,"p"),C.EFF(2),C.nI1(3,"translate"),C.k0s(),C.DNE(4,b,3,3,"p",1),C.k0s(),C.j41(5,"div",2)(6,"div",3)(7,"div",4)(8,"button",5),C.bIt("click",function(){return me.no()}),C.EFF(9),C.nI1(10,"translate"),C.k0s()(),C.j41(11,"button",6),C.bIt("click",function(){return me.yes()}),C.EFF(12),C.nI1(13,"translate"),C.k0s()()()),2&K&&(C.R7$(2),C.Lme("",C.bMT(3,5,"Clients.Import.Wizard.Summary.Conflicts.Confirmation.AreYouSure")," ",null==me.resource?null:me.resource.displayName,""),C.R7$(2),C.Y8G("ngIf","Client"!==me.summaryDisplayType),C.R7$(5),C.JRh(C.bMT(10,7,"Clients.Import.Wizard.Warning.No")),C.R7$(3),C.JRh(C.bMT(13,9,"Clients.Import.Wizard.Warning.Yes")))},dependencies:[P.bT,d.D9],encapsulation:2})}}return te})();var k=h(5696),N=h(1138),G=h(4406),R=h(2858),j=h(467),U=h(5404);const $=["certReader"],ne=["nextButton"];let se=(()=>{class te extends w.P{get data(){return this._subject}set data(re){this._subject=re}constructor(re){super(),this.translate=re}certificateDataLoaded(re){this.nextButton.nativeElement.disabled=!re}goNext(){var re=this;return(0,j.A)(function*(){const K=yield re.certReaderComponent.getCertificateModel();re.data.next(K),re.importWizardController.goToPreviousStep()})()}static{this.\u0275fac=function(K){return new(K||te)(C.rXU(d.c$))}}static{this.\u0275cmp=C.VBU({type:te,selectors:[["app-import-certificate-picker"]],viewQuery:function(K,me){if(1&K&&(C.GBs($,5),C.GBs(ne,5)),2&K){let Ne;C.mGM(Ne=C.lsd())&&(me.certReaderComponent=Ne.first),C.mGM(Ne=C.lsd())&&(me.nextButton=Ne.first)}},features:[C.Vt3],decls:21,vars:21,consts:[["certReader",""],["nextButton",""],[1,"modal-body"],[3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn","disabled","",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(K,me){if(1&K){const Ne=C.RV6();C.j41(0,"div",2)(1,"app-cert-reader",3,0),C.nI1(3,"translate"),C.nI1(4,"translate"),C.nI1(5,"translate"),C.nI1(6,"translate"),C.bIt("dataExists",function(xe){return C.eBV(Ne),C.Njj(me.certificateDataLoaded(xe))}),C.k0s()(),C.nrm(7,"div",4),C.j41(8,"div",5)(9,"div",6)(10,"div",7)(11,"button",8,1),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.goNext())}),C.EFF(13),C.nI1(14,"translate"),C.k0s(),C.j41(15,"button",9),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.back())}),C.EFF(16),C.nI1(17,"translate"),C.k0s()(),C.j41(18,"button",10),C.bIt("click",function(){return C.eBV(Ne),C.Njj(me.cancel())}),C.EFF(19),C.nI1(20,"translate"),C.k0s()()()}2&K&&(C.R7$(),C.Y8G("uploadCert",C.bMT(3,7,"Clients.Saml.UploadCert"))("uploadCertHelp",C.bMT(4,9,"Clients.Saml.UploadCertHelp"))("certMetaData",C.bMT(5,11,"Clients.Saml.ServiceProviderSigningCert"))("certMetaDataHelp",C.bMT(6,13,"Clients.Saml.ServiceProviderSigningCertHelp")),C.R7$(12),C.SpI(" ",C.bMT(14,15,"Common.Add")," "),C.R7$(3),C.SpI(" ",C.bMT(17,17,"Common.Back")," "),C.R7$(3),C.SpI(" ",C.bMT(20,19,"Common.Cancel")," "))},dependencies:[U.V,d.D9],encapsulation:2})}}return te})(),L=(()=>{class te{constructor(){this.stepMap=new Map,this.stepMap.set(I.M.clientSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Client",[i.ot.Client])),this.stepMap.set(I.M.resourcesSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.Resource",[i.ot.IdentityResource,i.ot.ProtectedResource])),this.stepMap.set(I.M.claimTypeSummary,new J(e.z,"Clients.Import.Wizard.Summary.Title.ClaimType",[i.ot.ClaimType])),this.stepMap.set(I.M.summaryConflicts,new J(p.oG,"Clients.Import.Wizard.Summary.Conflicts.ReviewChanges",null,!0)),this.stepMap.set(I.M.importComplete,new J(y.E,"Clients.Import.Wizard.CompleteImport.ImportComplete")),this.stepMap.set(I.M.importCloseWarning,new J(f,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(I.M.summaryConflictsConfirmation,new J(M,"Clients.Import.Wizard.Warning.Title",null,!0)),this.stepMap.set(I.M.finalSummary,new J(k.s,"Clients.Import.Wizard.Summary.Title.Final")),this.stepMap.set(I.M.importDownloadWarning,new J(G.X,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),this.stepMap.set(I.M.importUploadCertificate,new J(se,"Clients.Import.Wizard.Certificates.AddCertificate",null,!0))}getStep(re){return this.stepMap.get(re)}getSecretStep(re){return new J(N.u,"Clients.Import.Wizard.Secrets.Title",re)}getCertificateStep(re){return new J(R.zI,"Clients.Import.Wizard.Certificates.Title",re)}static{this.\u0275fac=function(K){return new(K||te)}}static{this.\u0275prov=C.jDH({token:te,factory:te.\u0275fac})}}return te})();class J{constructor(E,re,K,me=!1){this.component=E,this.stepTitle=re,this.data=K,this.isDeadEnd=me}}},5826:(nt,fe,h)=>{"use strict";h.d(fe,{o:()=>w});var i=h(1744),e=h(2771),y=h(1594),p=h(4438);let w=(()=>{class C{constructor(){this.importResourceTypeMap=new Map([[i.ot.Client,"Client"],[i.ot.ClaimType,"Claim Type"],[i.ot.ProtectedResource,"Protected Resource"],[i.ot.IdentityResource,"Identity Resource"]]),this.cache=new e.m(1),this.resetImport=new e.m(1)}updateSelectedClients(d){this.cache.pipe((0,y.$)()).subscribe(f=>{d=d.filter(I=>I.resourceType===i.ot.Client),f.forEach(I=>{const O=d.find(P=>P.identifier===I.identifier);void 0!==O&&(I.selected=O.selected)}),this.cache.next(f)})}selectResource(d){this.setResourcesSelected(d,!0)}deselectResource(d){this.setResourcesSelected(d,!1)}setResourcesSelected(d,f){this.cache.pipe((0,y.$)()).subscribe(I=>{let O;O=d.resourceType===i.ot.Client?[d.identifier]:d.dependantClients.filter(b=>b.state===i.XF.Importing).map(b=>b.identifier),O.forEach(P=>{I.find(b=>b.identifier===P&&b.resourceType===i.ot.Client).selected=f}),this.cache.next(I)})}downloadClientSecretsFromCache(){const d=new e.m;return this.cache.pipe((0,y.$)()).subscribe(f=>{const I=f.filter(M=>M.secrets&&M.secrets.length>0);let O="Type,Id,Name,Secret\r\n";I.forEach(M=>{M.secrets.forEach(k=>{const N=this.importResourceTypeMap.get(M.resourceType);O+=N+","+M.identifier+","+M.displayName+","+k.value+"\r\n"})});const P=new Blob([O],{type:"application/csv"}),b=document.createElement("a");b.download="import-secrets.csv",b.href=window.URL.createObjectURL(P),b.click(),b.remove(),d.next()}),d}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275prov=p.jDH({token:C,factory:C.\u0275fac})}}return C})()},4414:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>i});let i=(()=>{class e{static{this.importUploadCertificate="CertificateUpload"}static{this.clientSummary="ClientSummary"}static{this.resourcesSummary="ResourcesSummary"}static{this.summaryConflicts="SummaryConflicts"}static{this.claimTypeSummary="ClaimTypeSummary"}static{this.importComplete="ImportComplete"}static{this.importCloseWarning="ImportCloseWarning"}static{this.summaryConflictsConfirmation="SummaryConflictsConfirmation"}static{this.finalSummary="FinalSummary"}static{this.importDownloadWarning="ImportDownloadWarning"}}return e})()},3853:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>d});var i=h(1626),e=h(4589);class p{constructor(){}isExpectingStarterConsent(){return this.isExpired&&this.licenseType==e.G.Demo}isStarterLicense(){return this.licenseType==e.G.Starter}get userLimitReached(){return this.userQuotaRemaining<=0&&this.isStarterLicense()}get overUserLimit(){return this.userQuotaRemaining<0&&this.isStarterLicense()}get clientLimitReached(){return this.clientQuotaRemaining<=0&&this.isStarterLicense()}get overClientLimit(){return this.clientQuotaRemaining<0&&this.isStarterLicense()}}var w=h(1594),C=h(6354),m=h(4438);let d=(()=>{class f{constructor(O){this.http=O,this.headers=new i.Lr,this.actionUrl="license"}getLicenseInfo(){return this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true"),this.http.get(this.actionUrl,{headers:this.headers}).pipe((0,w.$)(),(0,C.T)(O=>{var P=new p;return P.organisation=O.organisation,P.licenseType=O.licenseType,P.isExpired=O.isExpired,P.isInGracePeriod=O.isInGracePeriod,P.gracePeriodExpiry=O.gracePeriodExpiry,P.maxUsers=O.maxUsers,P.maxClients=O.maxClients,P.userQuotaRemaining=O.userQuotaRemaining,P.clientQuotaRemaining=O.clientQuotaRemaining,P}))}static{this.\u0275fac=function(P){return new(P||f)(m.KVO(i.Qq))}}static{this.\u0275prov=m.jDH({token:f,factory:f.\u0275fac})}}return f})()},7773:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>y});var i=h(1626),e=h(4438);let y=(()=>{class p{constructor(C){this.http=C,this.headers=new i.Lr,this.actionUrl="permission",this.headers=this.headers.set("Content-Type","application/json").set("Accept","application/json").set("Access-Control-Allow-Origin","true")}getUserPermissions(){return this.http.get(this.actionUrl,{headers:this.headers})}getAvaliablePermissions(){return this.http.get(this.actionUrl+"/avaliable",{headers:this.headers})}static{this.\u0275fac=function(m){return new(m||p)(e.KVO(i.Qq))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},5893:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>d,x:()=>m});var i=h(1626),e=h(2771),y=h(7673),p=h(7263),w=h(4438),C=h(9564);let m=(()=>{class f{constructor(O,P){this.http=O,this.headersService=P,this.protectedResourceSubject=new e.m(1),this.actionUrl="ProtectedResources",this.headers=P.setHeaders()}getCachedProtectedResource(){return this.protectedResourceSubject}getProtectedResources(O){let P=new i.Nl;return(0,p.gP)(O)||(P=P.set("name",O)),this.http.get(this.actionUrl,{headers:this.headers,params:P})}getResourcesPaginated(O,P,b){const M=`${this.actionUrl}/getPaginated`;let k=new i.Nl;return(0,p.gP)(O)||(k=k.set("name",O)),P&&(k=k.append("page",P)),b&&(k=k.append("pageSize",b)),this.http.get(M,{headers:this.headers,params:k})}addResource(O){const P=`${this.actionUrl}/`,b=JSON.stringify(O);return this.http.post(P,b,{headers:this.headers})}getResource(O){return this.http.get(`${this.actionUrl}/${O}`,{headers:this.headers})}updateResource(O){return this.http.put(`${this.actionUrl}/${O.id}`,O,{headers:this.headers})}updateResourceSecret(O,P){return this.http.put(`${this.actionUrl}/${O}/secrets/${P.id}`,P,{headers:this.headers})}removeResourceSecret(O,P){return this.http.delete(`${this.actionUrl}/${O}/secrets/${P}`,{headers:this.headers})}addResourceSecret(O,P){return this.http.post(`${this.actionUrl}/${O}/secrets`,P,{headers:this.headers})}updateResourceScope(O,P,b){const M=encodeURIComponent(b);return this.http.put(`${this.actionUrl}/${O}/scopes/${M}`,P,{headers:this.headers})}addResourceScope(O,P){return this.http.post(`${this.actionUrl}/${O}/scopes`,P,{headers:this.headers})}deleteProtectedResource(O){return this.http.delete(`${this.actionUrl}/${O}`,{headers:this.headers})}deleteScope(O,P){const b=encodeURIComponent(P);return this.http.delete(`${this.actionUrl}/${O}/scopes/${b}`,{headers:this.headers})}getAllScopes(){return this.http.get(`${this.actionUrl}/scopes`,{headers:this.headers})}static{this.\u0275fac=function(P){return new(P||f)(w.KVO(i.Qq),w.KVO(C.m))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})(),d=(()=>{class f extends m{getProtectedResources(O){return(0,y.of)([])}static{this.\u0275fac=(()=>{let O;return function(b){return(O||(O=w.xGo(f)))(b||f)}})()}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},6199:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>f});var i=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(3519),m=h(1583),d=h(5424);let f=(()=>{class I{constructor(P,b,M){this.roleService=P,this.router=b,this.errorService=M}resolve(P,b){const M=P.paramMap.get("Id");return this.roleService.getRole(M).pipe((0,e.T)(k=>(k&&this.roleService.getCachedRole().next(k),k)),(0,y.W)((k,N)=>(404===k.status?this.errorService.resourceNotFound(p.v.role):this.errorService.handleError(k),(0,i.I)())))}static{this.\u0275fac=function(b){return new(b||I)(w.KVO(C.P),w.KVO(m.Ix),w.KVO(d.I))}}static{this.\u0275prov=w.jDH({token:I,factory:I.\u0275fac})}}return I})()},3519:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>C});var i=h(1626),e=h(2771),y=h(7263),p=h(4438),w=h(9564);let C=(()=>{class m{constructor(f,I){this.http=f,this.RoleSubject=new e.m(1),this.actionUrl="roles",this.headers=I.setHeaders()}getCachedRole(){return this.RoleSubject}setCachedRole(f){this.RoleSubject.next(f)}getRoles(f,I){let O=new i.Nl;return(0,y.gP)(f)||(O=O.append("name",f)),O=O.append("sort",(0,y.gP)(I)?"name":I),this.http.get(this.actionUrl,{headers:this.headers,params:O})}getRole(f){return this.http.get(`${this.actionUrl}/${f}`,{headers:this.headers})}deleteRole(f){return this.http.delete(`${this.actionUrl}/${f.id}`,{headers:this.headers})}addRole(f){const I=`${this.actionUrl}/`,O=JSON.stringify(f);return this.http.post(I,O,{headers:this.headers})}updateRole(f){const I=JSON.stringify(f);return this.http.put(`${this.actionUrl}/${f.id}`,I,{headers:this.headers})}getUsersInRole(f,I,O,P){let b=new i.Nl;return(0,y.gP)(P)||(b=b.append("q",P)),I&&(b=b.append("page",String(I))),O&&(b=b.append("pageSize",String(O))),this.http.get(`${this.actionUrl}/${f}/users`,{headers:this.headers,params:b})}addAndRemoveUsers(f,I){const O=JSON.stringify(I);return this.http.put(`${this.actionUrl}/${f}/users`,O,{headers:this.headers})}static{this.\u0275fac=function(I){return new(I||m)(p.KVO(i.Qq),p.KVO(w.m))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},2892:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>N});var i=h(7673),e=h(5060),y=h(1413),p=h(5558),w=h(4861),C=h(4438),m=h(7883),d=h(6801),f=h(1339),I=h(7005),O=h(5424),P=h(6888),b=h(1583),M=h(9196),k=h(2972);let N=(()=>{class G{constructor(j,U,$,ne,se,L,J,te,E){this.securityService=j,this.healthCheckService=U,this.authService=$,this.localizeRouter=ne,this.errorService=se,this.loginTrackingService=L,this.router=J,this.configService=te,this.appComponentViewService=E}canActivate(j,U){return this.healthCheckService.uiReady?this.authDecision(j,U):this.healthCheckService.uiHealthCheckComplete.pipe((0,p.n)($=>this.authDecision(j,U)))}authDecision(j,U){return document.dispatchEvent(new Event("appready")),this.authService.isAuthenticated?(this.authService.user==w.M.DefaultAdministratorUsername&&!this.authService.isCreatingInitialAdministrator&&this.configService.getConfig().subscribe($=>{if($.featureFlagOptions.defaultUserValidation){this.authService.isCreatingInitialAdministrator=!0;const ne=this.localizeRouter.translateRoute("/initial-admin-creation");this.router.navigate([ne])}}),void 0!==this.securityService.userPermissions?(0,i.of)(this.permissionAuthDecision(j)):this.permissionAuthDecisionAsObservable(j)):(this.securityService.startLogin(U.url),e.t)}permissionAuthDecision(j){const U=j.data.permissions;if(void 0===U)return!0;for(let $=0;$<U.length;$++)if(this.securityService.userPermissions.includes(U[$]))return!0;return this.errorService.handleError({status:403}),!1}permissionAuthDecisionAsObservable(j){const U=new y.B;return this.securityService.init().subscribe(()=>{U.next(this.permissionAuthDecision(j))}),U.asObservable()}static{this.\u0275fac=function(U){return new(U||G)(C.KVO(m.i),C.KVO(d.M),C.KVO(f.u),C.KVO(I.QG),C.KVO(O.I),C.KVO(P.W),C.KVO(b.Ix),C.KVO(M.w),C.KVO(k.X))}}static{this.\u0275prov=C.jDH({token:G,factory:G.\u0275fac})}}return G})()},7883:(nt,fe,h)=>{"use strict";h.d(fe,{i:()=>U});var i=h(1413);class e extends i.B{constructor(){super(...arguments),this._value=null,this._hasValue=!1,this._isComplete=!1}_checkFinalizedStatuses(ne){const{hasError:se,_hasValue:L,_value:J,thrownError:te,isStopped:E,_isComplete:re}=this;se?ne.error(te):(E||re)&&(L&&ne.next(J),ne.complete())}next(ne){this.isStopped||(this._value=ne,this._hasValue=!0)}complete(){const{_hasValue:ne,_value:se,_isComplete:L}=this;L||(this._isComplete=!0,ne&&super.next(se),super.complete())}}var y=h(7468),p=h(3178),w=h(6354),C=h(6697),m=h(7263),d=h(9838),f=h(4589),I=h(4438),O=h(1583),P=h(7005),b=h(9196),M=h(1339),k=h(7773),N=h(3853),G=h(5424),R=h(6888),j=h(1780);let U=(()=>{class ${constructor(se,L,J,te,E,re,K,me,Ne){this.router=se,this.localize=L,this.configService=J,this.authService=te,this.permissionService=E,this.licenseService=re,this.errorService=K,this.loginTrackingService=me,this.translate=Ne,this.userPermissions$=new e,this.userManagerView=!1,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.allView=!1,this.auditerView=!1,this.noPermissions=!1,this.licenseType="",this.organisation="",this.nonProduction=!1,this.storage=sessionStorage}startLogin(se){let J=se??this.router.url;J=J.replace(`/${this.localize.parser.currentLang}`,""),this.storage.setItem("redirectUrl",J),this.loginTrackingService.startLogin(),this.authService.login()}onAuthorizationResultComplete(se){if(se.isAuthenticated){let L=this.storage.getItem("redirectUrl");null==L&&(L="/home");const J=this.localize.translateRoute(L);this.handleSuccessfulAuthorization(J)}else this.handleUnsuccessfulAuthorization(se.username)}handleSuccessfulAuthorization(se){this.init().subscribe(()=>{this.loginTrackingService.endLogin(),this.storage.removeItem("redirectUrl"),this.router.navigateByUrl(se)},L=>{this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError(L,{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0})})}handleUnsuccessfulAuthorization(se){if((0,m.gP)(se))return void(this.loginTrackingService.canRetryLogin?(this.loginTrackingService.retryLogin(),this.authService.login()):this.errorService.handleError({},{toastBody:this.translate.instant("Errors.LoginLoopError",{link:d.$9.loginRedirectLoopDocs}),toastTitle:this.translate.instant("Notifications.Error")},{timeOut:0,extendedTimeOut:0,enableHtml:!0}));const L=this.localize.translateRoute("/unauthorized");this.router.navigateByUrl(L)}isNonProd(){return this.licenseType===f.G.Demo||this.licenseType===f.G.NonProduction}init(){const se=[this.initUsersPermissions(),this.initLicenseInfo(),this.initUiConfiguration()];return(0,y.p)(se)}initUsersPermissions(){return this.permissionService.getUserPermissions().pipe((0,w.T)(se=>{this.userPermissions=se.permissions,this.policyClaims=se.policyClaims,void 0!==this.userPermissions&&(this.userPermissions.includes(p.a[p.a.All])?(this.userManagerView=!0,this.userManagerReadOnlyView=!1,this.identityServerManagerView=!0,this.identityServerManagerReadOnlyView=!1,this.allReadOnlyView=!1,this.auditerView=!0,this.allView=!0):this.userPermissions.includes(p.a[p.a.AllReadOnly])?(this.userManagerView=!1,this.userManagerReadOnlyView=!0,this.identityServerManagerView=!1,this.identityServerManagerReadOnlyView=!0,this.allReadOnlyView=!0,this.auditerView=!0,this.allView=!1):(this.userManagerView=this.userPermissions.includes(p.a[p.a.UserManager]),this.userManagerReadOnlyView=this.userPermissions.includes(p.a[p.a.UserManagerReadOnly]),this.identityServerManagerView=this.userPermissions.includes(p.a[p.a.IdentityServerManager]),this.identityServerManagerReadOnlyView=this.userPermissions.includes(p.a[p.a.IdentityServerManagerReadOnly]),this.auditerView=this.userPermissions.includes(p.a[p.a.Auditer]),this.userManagerView||this.userManagerReadOnlyView||this.identityServerManagerView||this.identityServerManagerReadOnlyView||this.auditerView||this.allView||this.allReadOnlyView||(this.noPermissions=!0))),this.userPermissions$.next(se.permissions),this.userPermissions$.complete()},se=>{this.errorService.handleError(se)}))}initLicenseInfo(){return this.licenseService.getLicenseInfo().pipe((0,w.T)(se=>{this.licenseType=se.licenseType,"NonProduction"===this.licenseType&&(this.licenseType=f.G.NonProduction),se.isStarterLicense()&&(this.licenseType=f.G.Starter),this.nonProduction=se.licenseType!==f.G.Production,this.organisation=se.organisation}))}initUiConfiguration(){return this.configService.getConfig().pipe((0,C.s)(1))}static{this.\u0275fac=function(L){return new(L||$)(I.KVO(O.Ix),I.KVO(P.QG),I.KVO(b.w),I.KVO(M.u),I.KVO(k.n),I.KVO(N.X),I.KVO(G.I),I.KVO(R.W),I.KVO(j.c$))}}static{this.\u0275prov=I.jDH({token:$,factory:$.\u0275fac})}}return $})()},9156:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>w});var i=h(2771),e=h(4438),y=h(1626),p=h(9564);let w=(()=>{class C{constructor(d,f){this.http=d,this.headersService=f,this.ServiceProviderSubject=new i.m(1),this.actionUrl="clients",this.headers=f.setHeaders()}getCachedServiceProvider(){return this.ServiceProviderSubject}getServiceProvider(d){return this.http.get(`${this.actionUrl}/${d}/saml`,{headers:this.headers})}updateServiceProvider(d,f){const I=`${this.actionUrl}/${d}/saml`,O={allowIdpInitiatedSso:f.allowIdpInitiatedSso,assertionConsumerServices:f.assertionConsumerServices,artifactResolutionServices:f.artifactResolutionServices,claimMappings:f.claimMappings,encryptAssertions:f.encryptAssertions,requireSamlMessageDestination:f.requireSamlMessageDestination,signAssertions:f.signAssertions,singleLogoutServices:f.singleLogoutServices,requireAuthenticationRequestsSigned:f.requireAuthenticationRequestsSigned,artifactDeliveryBindingType:f.artifactDeliveryBindingType,requireSignedArtifactResolveRequests:f.requireSignedArtifactResolveRequests,requireSignedArtifactResponses:f.requireSignedArtifactResponses,nameIdentifierFormat:f.nameIdentifierFormat},P=this.headersService.setHeaders("application/vnd.adminui.sam-client-update-v2+json","application/vnd.adminui.saml-client-v2+json");return this.http.put(I,O,{headers:P})}setEncryptionCertificateViaFile(d,f){const I=`${this.actionUrl}/${d}/saml/certificates/encryption`,O=f,P=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.put(I,O,{headers:P})}setEncryptionCertificateViaMetadata(d,f){const I=`${this.actionUrl}/${d}/saml/certificates/encryption`,O=f,P=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.put(I,O,{headers:P})}deleteEncryptionCertificate(d){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/encryption`,{headers:this.headers})}addSigningCertificateViaFile(d,f){const I=`${this.actionUrl}/${d}/saml/certificates/signing`,O=f,P=this.headersService.setHeaders("application/x-x509-ca-cert");return this.http.post(I,O,{headers:P})}addSigningCertificateViaMetadata(d,f){const I=`${this.actionUrl}/${d}/saml/certificates/signing`,O=f,P=this.headersService.setHeaders("application/x-x509-ca-cert-base64");return this.http.post(I,O,{headers:P})}deleteSigningCertificate(d,f){return this.http.delete(`${this.actionUrl}/${d}/saml/certificates/signing/${f}`,{headers:this.headers})}static{this.\u0275fac=function(f){return new(f||C)(e.KVO(y.Qq),e.KVO(p.m))}}static{this.\u0275prov=e.jDH({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})()},8556:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>C});var i=h(1594),e=h(4438),y=h(9156),p=h(5691),w=h(5424);let C=(()=>{class m{constructor(f,I,O){this.serviceProviderService=f,this.cache=I,this.errorService=O}uploadFile(f,I){return this.serviceProviderService.addSigningCertificateViaFile(f,I)}uploadViaMetaData(f,I){return this.serviceProviderService.addSigningCertificateViaMetadata(f,I)}updateCertCache(f){this.serviceProviderService.getServiceProvider(f).subscribe(I=>{this.cache.unsavedCache$.pipe((0,i.$)()).subscribe(O=>{O.signingCertificates=I.signingCertificates,this.cache.unsavedCache.next(O)})},I=>{this.errorService.handleError(I)})}static{this.\u0275fac=function(I){return new(I||m)(e.KVO(y.s),e.KVO(p.d),e.KVO(w.I))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},3488:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>y});var i=h(4549),e=h(4438);let y=(()=>{class p{now(){return i.c9.now()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},1575:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>y});var i=h(4549),e=h(4438);let y=(()=>{class p{now(){return i.c9.now()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},4811:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>d});var i=h(983),e=h(6354),y=h(9437),p=h(8284),w=h(4438),C=h(5602),m=h(5424);let d=(()=>{class f{constructor(O,P){this.userService=O,this.errorService=P}resolve(O,P){return this.userService.getUser(O.params.Id).pipe((0,e.T)(M=>(M&&this.userService.getCachedUser().next(M),M)),(0,y.W)((M,k)=>(404===M.status?this.errorService.resourceNotFound(p.v.user):this.errorService.handleError(M),(0,i.I)())))}static{this.\u0275fac=function(P){return new(P||f)(w.KVO(C.D),w.KVO(m.I))}}static{this.\u0275prov=w.jDH({token:f,factory:f.\u0275fac})}}return f})()},5602:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>f});var i=h(1626),e=h(2771),y=h(7673),p=h(6354),w=h(9437),C=h(7263),m=h(4438),d=h(9564);let f=(()=>{class I{constructor(P,b){this.http=P,this.headersService=b,this.userSubject=new e.m(1),this.actionUrl="users",this.headers=this.headersService.setHeaders()}defaultUserExists(){return this.http.get(`${this.actionUrl}/default-user-exists`,{headers:this.headers}).pipe((0,p.T)(()=>!0),(0,w.W)(b=>(0,y.of)(!1)))}getUser(P){return this.http.get(`${this.actionUrl}/${P}`,{headers:this.headers}).pipe((0,p.T)(M=>(this.userSubject.next(M),M),M=>(this.userSubject.error(M),M)))}getCachedUser(){return this.userSubject}getUsers(P,b,M,k,N){let G=new i.Nl;return(0,C.gP)(P)||(G=G.append("q",P)),b&&(G=G.append("page",String(b))),M&&(G=G.append("pageSize",String(M))),k&&(G=G.append("state",k.toString())),N&&(G=G.append("sort",N.toString())),this.http.get(this.actionUrl,{headers:this.headers,params:G})}getUsersLightweight(P,b,M,k,N){let G=new i.Nl;return(0,C.gP)(P)||(G=G.append("q",P)),b&&(G=G.append("page",String(b))),M&&(G=G.append("pageSize",String(M))),k&&(G=G.append("state",k.toString())),N&&(G=G.append("advancedFilters",N.toString())),this.http.get(`${this.actionUrl}/lightweight`,{headers:this.headers,params:G})}addUser(P){const b=`${this.actionUrl}/`,M=JSON.stringify(P);return this.http.post(b,M,{headers:this.headers,observe:"response"})}addInitialAdministrator(P){const b=`${this.actionUrl}/initialadmin`,M=JSON.stringify(P);return this.http.post(b,M,{headers:this.headers,observe:"response"})}getUserApps(P){return this.http.get(`${this.actionUrl}/${P}/apps`,{headers:this.headers})}revokeAllUserApps(P){return this.http.delete(`${this.actionUrl}/${P}/apps`,{headers:this.headers})}revokeSingleUserApp(P,b){return this.http.delete(`${this.actionUrl}/${P}/apps/${b}`,{headers:this.headers})}updateUser(P){const b=`${this.actionUrl}/${P.subject}`,M=JSON.stringify(P);return this.http.put(b,M,{headers:this.headers})}deleteUser(P){return this.http.delete(`${this.actionUrl}/${P.subject}`,{headers:this.headers})}deleteDefaultUser(){return this.http.delete(`${this.actionUrl}/removedefaultuser`,{headers:this.headers})}addUserRoles(P,b){return this.http.post(`${this.actionUrl}/${P}/roles`,b,{headers:this.headers})}deleteUserRoles(P,b){return this.http.request("delete",`${this.actionUrl}/${P}/roles`,{headers:this.headers,body:b})}addUserClaim(P,b){return this.http.post(`${this.actionUrl}/${P}/claims`,b,{headers:this.headers})}updateUserClaim(P,b){return this.http.put(`${this.actionUrl}/${P}/claims`,b,{headers:this.headers})}deleteUserClaim(P,b){return this.http.request("delete",`${this.actionUrl}/${P}/claims`,{headers:this.headers,body:b})}resetPassword(P){return this.http.get(`${this.actionUrl}/${P}/password/reset`,{headers:this.headers})}resetMfa(P){return this.http.get(`${this.actionUrl}/${P}/mfa/reset`,{headers:this.headers})}getUserLogins(P){return this.http.get(`${this.actionUrl}/${P}/logins`,{headers:this.headers})}revokeUserLogin(P,b){return this.http.request("delete",`${this.actionUrl}/${P}/logins`,{headers:this.headers,body:b})}getLightweightUsersAndIfInRole(P,b,M,k,N){let G=new i.Nl;b&&(G=G.append("state",b.toString()));const R=`${this.actionUrl}/lightweight/isinrole/${P}`;return(0,C.gP)(M)||(G=G.append("searchTerm",M)),k&&(G=G.append("page",String(k))),N&&(G=G.append("pageSize",String(N))),this.http.get(R,{headers:this.headers,params:G})}static{this.\u0275fac=function(b){return new(b||I)(m.KVO(i.Qq),m.KVO(d.m))}}static{this.\u0275prov=m.jDH({token:I,factory:I.\u0275fac})}}return I})()},3431:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>w}),h(7756);var e=h(4438),y=h(1626),p=h(9564);let w=(()=>{class m{constructor(f,I){this.http=f,this.headersService=I,this.actionUrl="webhookconfiguration",this.headers=this.headersService.setHeaders()}getWebhooks(){return this.http.get(this.actionUrl,{headers:this.headers})}saveWebhookConfiguration(f){const I=JSON.stringify(f);return this.http.put(this.actionUrl,I,{headers:this.headers})}static{this.\u0275fac=function(I){return new(I||m)(e.KVO(y.Qq),e.KVO(p.m))}}static{this.\u0275prov=e.jDH({token:m,factory:m.\u0275fac})}}return m})()},2036:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>p});var i=h(4438),e=h(1626),y=h(9564);let p=(()=>{class w{constructor(m,d){this.http=m,this.headersService=d,this.actionUrl="clients"}getRelyingParty(m){const d=`${this.actionUrl}/${m}/wsfed`,f=this.headersService.setHeaders();return this.http.get(d,{headers:f})}updateRelyingParty(m,d){const f=`${this.actionUrl}/${m}/wsfed`,I=this.headersService.setHeaders("application/vnd.adminui.wsfed-relying-party-v1+json");return this.http.put(f,d,{headers:I})}static{this.\u0275fac=function(d){return new(d||w)(i.KVO(e.Qq),i.KVO(y.m))}}static{this.\u0275prov=i.jDH({token:w,factory:w.\u0275fac})}}return w})()},7294:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>p});var i=h(4438);const e=[[["","left",""]],[["","right",""]]],y=["[left]","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-action-bar"]],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-ml-auto"]],template:function(d,f){1&d&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return w})()},4193:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>C});var i=h(177),e=h(1583),y=h(1683),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[i.MD,e.iI,y.Y,p.h]})}}return m})()},9767:(nt,fe,h)=>{"use strict";h.d(fe,{Ws:()=>e,l1:()=>y});var i=h(9969);function e(){return(0,i.hZ)("fadeInOut",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}function y(){return(0,i.hZ)("initLoad",[(0,i.kY)(":enter",[(0,i.iF)({opacity:0}),(0,i.i0)("250ms",(0,i.iF)({opacity:1}))]),(0,i.kY)(":leave",[(0,i.iF)({opacity:1}),(0,i.i0)("250ms",(0,i.iF)({opacity:0}))])])}},7415:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>I});var i=h(9417),e=h(2571),y=h(534),p=h(3816),w=h(1780),C=h(8389),m=h(6843),d=h(177),f=h(4438);let I=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=f.$C({type:O})}static{this.\u0275inj=f.G2t({imports:[d.MD,e.A,i.X1,p.jr,w.h,y.Ss,C.w,m.l]})}}return O})()},9475:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>M});var i=h(177),e=h(7005),y=h(9417),p=h(534),w=h(4304),C=h(1780),m=h(5731),d=h(4193),f=h(7175),I=h(6599),O=h(1683),P=h(1575),b=h(4438);let M=(()=>{class k{static{this.\u0275fac=function(R){return new(R||k)}}static{this.\u0275mod=b.$C({type:k})}static{this.\u0275inj=b.G2t({providers:[P.v],imports:[i.MD,y.YN,y.X1,e.XE,C.h,w.h6,p.Ss,m.i,d.c,f.c,I.Y,O.Y]})}}return k})()},6406:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>p});var i=h(4438);const e=["*",[["","right",""]]],y=["*","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-button-bar"]],ngContentSelectors:y,decls:6,vars:0,consts:[[1,"tw-bg-grey-200","tw-border","tw-border-grey-300","tw-mt-8","tw-px-4","tw-pt-4","tw-pb-1","xs:tw-border-0","xs:tw-border-t","xs:tw-mb-12","xs:tw-inset-x-0","xs:tw-bottom-0","xs:tw-fixed","xs:tw-z-20"],[1,"tw-container","tw-mx-auto"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-auto"]],template:function(d,f){1&d&&(i.NAR(e),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),i.SdG(4),i.k0s(),i.SdG(5,1),i.k0s()()())},encapsulation:2})}}return w})()},1993:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>y});var i=h(177),e=h(4438);let y=(()=>{class p{static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return p})()},7499:(nt,fe,h)=>{"use strict";h.d(fe,{o:()=>y});var i=h(1413),e=h(4438);let y=(()=>{class p{constructor(){this.emitter=new i.B,this.eventStream=new i.B}getChangeEmitter(){return this.emitter}confirm(){this.emitter.next()}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac})}}return p})()},6728:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>m});var i=h(4438),e=h(7499),y=h(1780),p=h(779);const w=["canDeactivate"],C=()=>({animated:!1,backdrop:"static"});let m=(()=>{class d{constructor(I,O){this.service=I,this.translate=O,this.param={value:"world"}}ngOnInit(){}ngAfterViewInit(){this.listener=this.service.getChangeEmitter().subscribe(I=>{this.modal.show()})}leave(){this.modal.hide(),this.service.eventStream.next(!0)}stay(){this.modal.hide(),this.service.eventStream.next(!1)}ngOnDestroy(){this.listener?.unsubscribe()}static{this.\u0275fac=function(O){return new(O||d)(i.rXU(e.o),i.rXU(y.c$))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-can-deactivate"]],viewQuery:function(O,P){if(1&O&&i.GBs(w,7),2&O){let b;i.mGM(b=i.lsd())&&(P.modal=b.first)}},decls:28,vars:20,consts:[["canDeactivate","bs-modal"],["bsModal","","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog","modal-dialog--danger"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","stayBtn",1,"tw-btn-danger",3,"click"],["id","leaveBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(O,P){if(1&O){const b=i.RV6();i.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",6),i.bIt("click",function(){return i.eBV(b),i.Njj(P.stay())}),i.nrm(9,"span",7),i.j41(10,"span",8),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",9)(14,"p"),i.EFF(15),i.nI1(16,"translate"),i.nI1(17,"translate"),i.k0s()(),i.nrm(18,"div",10),i.j41(19,"div",11)(20,"div",12)(21,"div",13)(22,"button",14),i.bIt("click",function(){return i.eBV(b),i.Njj(P.stay())}),i.EFF(23),i.nI1(24,"translate"),i.k0s()(),i.j41(25,"button",15),i.bIt("click",function(){return i.eBV(b),i.Njj(P.leave())}),i.EFF(26),i.nI1(27,"translate"),i.k0s()()()()()()}2&O&&(i.Y8G("config",i.lJ4(19,C)),i.R7$(6),i.JRh(i.bMT(7,7,"Notifications.UnsavedChangesTitle")),i.R7$(5),i.JRh(i.bMT(12,9,"Common.Close")),i.R7$(4),i.Lme("",i.bMT(16,11,"Notifications.UnsavedChanges")," ",i.bMT(17,13,"Notifications.ContinueWithoutSaving"),""),i.R7$(8),i.JRh(i.bMT(24,15,"Notifications.StayHere")),i.R7$(3),i.JRh(i.bMT(27,17,"Notifications.DiscardChanges")))},dependencies:[p.hZ,y.D9],encapsulation:2})}}return d})()},8455:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>m});var i=h(779),e=h(8416),y=h(7499),p=h(1780),w=h(177),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({providers:[e.M,y.o],imports:[w.MD,i.Q_,p.h]})}}return d})()},8416:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>e});var i=h(4438);let e=(()=>{class y{canDeactivate(w){return!w.canDeactivate||w.canDeactivate()}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac})}}return y})()},5404:(nt,fe,h)=>{"use strict";h.d(fe,{V:()=>f});var i=h(467),e=h(4438),y=h(2261),p=h(5794),w=h(1780),C=h(9417),m=h(8698);const d=["fileInput"];let f=(()=>{class I{constructor(P,b,M){this.certPickerService=P,this.toastr=b,this.translate=M,this.metadata="",this.dataExists=new e.bkB}ngOnInit(){}handleFileInput(P){this.fileToUpload=P.item(0),this.dataExists.emit(this.hasData())}metaDataKeyDown(){this.dataExists.emit(this.hasData())}hasData(){return!(this.metadata.length<=1&&!this.fileToUpload)}getCertificateModel(){var P=this;return(0,i.A)(function*(){let b="";if(P.fileToUpload){const k=P.fileToUpload.slice(0),N=new FileReader,R=new Promise(function(j,U){N.onloadend=function(){const ne=N.result.split("base64,");j(ne[1])}});N.readAsDataURL(k),b=yield R}else""!==P.metadata&&(b=P.metadata);const M=yield P.tryBuildCertModel(b);return P.resetForm(P),M})()}resetForm(P){P.fileToUpload=null,P.fileInput.nativeElement.value="",P.metadata="",P.dataExists.emit(P.hasData())}tryBuildCertModel(P){var b=this;return(0,i.A)(function*(){let M;try{const k=b.certPickerService.convertStringToArrayBuffer(P);M=yield b.certPickerService.buildCertModelFromArrayBuffer(k,P)}catch(k){throw b.toastr.error(b.translate.instant("Clients.Import.Wizard.Certificates.TryAgainDifferentFile"),b.translate.instant("Clients.Import.Wizard.Certificates.FailedToParseCertificate")),k}return M})()}static{this.\u0275fac=function(b){return new(b||I)(e.rXU(y.V),e.rXU(p.tw),e.rXU(w.c$))}}static{this.\u0275cmp=e.VBU({type:I,selectors:[["app-cert-reader"]],viewQuery:function(b,M){if(1&b&&e.GBs(d,7),2&b){let k;e.mGM(k=e.lsd())&&(M.fileInput=k.first)}},inputs:{uploadCert:"uploadCert",uploadCertHelp:"uploadCertHelp",certMetaData:"certMetaData",certMetaDataHelp:"certMetaDataHelp"},outputs:{dataExists:"dataExists"},decls:11,vars:14,consts:[["fileInput",""],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","cert","accept",".cer",1,"tw-form-file","tw-max-w-full",3,"change","disabled"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-border-b","tw-border-grey-300","tw-my-8","tw-relative","tw-z-10"],[1,"tw-inline-block","tw-bg-grey-100","tw-text-xs","tw-leading-none","tw-uppercase","tw-text-grey-500","tw--my-2","tw-px-2"],["id","metaData",1,"tw-form-control",3,"ngModelChange","keyup","disabled","ngModel"]],template:function(b,M){if(1&b){const k=e.RV6();e.j41(0,"app-form-row",1)(1,"div",2)(2,"input",3,0),e.bIt("change",function(G){return e.eBV(k),e.Njj(M.handleFileInput(G.target.files))}),e.k0s()()(),e.j41(4,"div",4)(5,"span",5),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"app-form-row",1)(9,"textarea",6),e.mxI("ngModelChange",function(G){return e.eBV(k),e.DH7(M.metadata,G)||(M.metadata=G),e.Njj(G)}),e.bIt("keyup",function(){return e.eBV(k),e.Njj(M.metaDataKeyDown())}),e.EFF(10,"  "),e.k0s()()}2&b&&(e.Y8G("id","fileInput")("label",M.uploadCert)("help",M.uploadCertHelp)("isLast",!0),e.R7$(2),e.Y8G("disabled",""!=M.metadata),e.R7$(4),e.JRh(e.bMT(7,12,"Common.Or")),e.R7$(2),e.Y8G("id","metaData")("label",M.certMetaData)("help",M.certMetaDataHelp)("isLast",!0),e.R7$(),e.Y8G("disabled",null!=M.fileToUpload),e.R50("ngModel",M.metadata))},dependencies:[C.me,C.BC,C.vS,m.Y,w.D9],encapsulation:2})}}return I})()},75:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>m});var i=h(1683),e=h(177),y=h(1780),p=h(9417),w=h(8389),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({imports:[i.Y,e.MD,y.h,p.YN,w.w]})}}return d})()},4354:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>N});var i=h(1413),e=h(4438),y=h(177),p=h(9417);let w=(()=>{class G{transform(j,U){let $=j;return U&&($=j.filter(ne=>ne.name.toUpperCase().includes(U))),$}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275pipe=e.EJ8({name:"search",type:G,pure:!0})}}return G})();var C=h(1780);const m=G=>({"tw-text-grey-600":G});function d(G,R){if(1&G){const j=e.RV6();e.j41(0,"div",19)(1,"label",20),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",22),e.mxI("ngModelChange",function($){e.eBV(j);const ne=e.XpG();return e.DH7(ne.availableSearchValue,$)||(ne.availableSearchValue=$),e.Njj($)}),e.k0s()()}if(2&G){const j=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",j.availableSearchValue)}}function f(G,R){1&G&&e.nrm(0,"span",30)}function I(G,R){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const j=e.XpG().$implicit;e.R7$(),e.SpI(" ",j.description," ")}}function O(G,R){if(1&G){const j=e.RV6();e.j41(0,"li",23)(1,"label",24)(2,"input",25),e.bIt("change",function(){const $=e.eBV(j).$implicit,ne=e.XpG();return e.Njj(ne.selectAvailable($))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,f,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,I,2,1,"span",29),e.k0s()()()}if(2&G){let j;const U=R.$implicit,$=e.XpG();e.R7$(),e.Y8G("htmlFor",$.prefix+U.name),e.R7$(),e.FS9("id",$.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",$.isRestricted(U)||$.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,m,$.isReadOnly)),e.R7$(),e.Y8G("ngIf",$.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(j=U.displayName)&&void 0!==j?j:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}function P(G,R){if(1&G){const j=e.RV6();e.j41(0,"div",32)(1,"label",33),e.nrm(2,"span",21),e.j41(3,"span",13),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"input",34),e.mxI("ngModelChange",function($){e.eBV(j);const ne=e.XpG();return e.DH7(ne.assignedSearchValue,$)||(ne.assignedSearchValue=$),e.Njj($)}),e.k0s()()}if(2&G){const j=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Search")),e.R7$(2),e.R50("ngModel",j.assignedSearchValue)}}function b(G,R){1&G&&e.nrm(0,"span",30)}function M(G,R){if(1&G&&(e.j41(0,"span",31),e.EFF(1),e.k0s()),2&G){const j=e.XpG().$implicit;e.R7$(),e.SpI(" ",j.description," ")}}function k(G,R){if(1&G){const j=e.RV6();e.j41(0,"li",35)(1,"label",24)(2,"input",25),e.bIt("change",function(){const $=e.eBV(j).$implicit,ne=e.XpG();return e.Njj(ne.selectAssigned($))}),e.k0s(),e.j41(3,"span",26)(4,"span",27),e.DNE(5,b,1,0,"span",28),e.EFF(6),e.k0s(),e.DNE(7,M,2,1,"span",29),e.k0s()()()}if(2&G){let j;const U=R.$implicit,$=e.XpG();e.R7$(),e.Y8G("htmlFor",$.prefix+U.name),e.R7$(),e.FS9("id",$.prefix+U.name),e.FS9("name",U.name),e.Y8G("checked",U.selected)("disabled",$.isRestricted(U)||$.isReadOnly),e.R7$(2),e.Y8G("ngClass",e.eq3(10,m,$.isReadOnly)),e.R7$(),e.Y8G("ngIf",$.isRestricted(U)),e.R7$(),e.Lme(" ",null!==(j=U.displayName)&&void 0!==j?j:U.name," ",U.shared?"*":""," "),e.R7$(),e.Y8G("ngIf",(null==U.description?null:U.description.length)>0)}}let N=(()=>{class G{set availableInput(j){this.available=this.sortArray(j)}set assignedInput(j){this.assigned=this.sortArray(j)}set isReadOnly(j){this._isReadOnly=j||!1}get isReadOnly(){return this._isReadOnly}constructor(){this.availableCount=0,this.assignedCount=0,this.unAssignedStream=new i.B,this.assignedStream=new i.B}ngOnInit(){this.prefix=Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5)}sortArray(j){if(j&&j.length>0)for(const U of j)U.selected=!1;return j.sort((U,$)=>U.name<$.name?-1:1)}selectAvailable(j){j.selected?this.availableCount-=1:this.availableCount+=1,j.selected=!j.selected}selectAssigned(j){j.selected?this.assignedCount-=1:this.assignedCount+=1,j.selected=!j.selected}assignItems(){let j=this.available.filter(U=>U.selected);this.assignedStream.next(j),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),j=[]}unAssignItems(){let j=this.assigned.filter(U=>U.selected);this.unAssignedStream.next(j),this.available.forEach(U=>{U.selected=!1}),this.assigned.forEach(U=>{U.selected=!1}),j=[]}isRestricted(j){if(this.restrictedInput)for(let U=0;U<this.restrictedInput.length;U++)if(this.restrictedInput[U].value===j.name)return!0}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275cmp=e.VBU({type:G,selectors:[["app-common-picker"]],inputs:{availableInput:"availableInput",assignedInput:"assignedInput",restrictedInput:"restrictedInput",assignedSearch:"assignedSearch",availableSearch:"availableSearch",isReadOnly:"isReadOnly"},decls:37,vars:28,consts:[["id","commonPicker",1,"tw-mx-auto","md:tw-flex","md:tw-justify-between"],[1,"tw-bg-white","tw-border","tw-border-grey-300","md:tw-w-2/5"],[1,"tw-flex","tw-flex-col","tw-items-center","tw-justify-start","tw-bg-primary-100","tw-border-b","tw-border-grey-300","tw-py-3","tw-px-4","md:tw-h-24","md:tw-py-1","md:tw-justify-center"],[1,"tw-font-semibold","tw-text-base","tw-truncate"],["class","tw-mt-3 tw-w-full tw-relative","id","availableSearch",4,"ngIf"],[1,"tw-py-2","tw-h-64","tw-overflow-hidden","tw-overflow-y-scroll","scrollbars","md:tw-h-72"],["id","unassignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],[1,"md:tw-self-center","md:tw-shrink-0","md:tw-w-1/5"],["id","assignButtons",1,"tw-flex","tw-items-center","tw-justify-center","tw-p-2","md:tw-flex-wrap","lg:tw-px-3","xl:tw-px-4"],[1,"tw-p-2","tw-w-24","tw-text-center","md:tw-w-full"],["id","assignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-down","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-right","tw-hidden","md:tw-inline"],[1,"sr-only"],["id","unAssignBtn",1,"tw-btn","tw-w-full","tw-max-w-32",3,"click","disabled"],["aria-hidden","true",1,"far","fa-chevron-up","md:tw-hidden"],["aria-hidden","true",1,"far","fa-chevron-left","tw-hidden","md:tw-inline"],["class","tw-mt-3 tw-w-full tw-relative","id","assignedSearch",4,"ngIf"],["id","assignedItems","class","tw-py-3 tw-px-4",4,"ngFor","ngForOf"],["id","availableSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAvailable",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["aria-hidden","true",1,"far","fa-search","tw-text-sm","tw-cursor-pointer"],["id","searchAvailable","name","availableSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","unassignedItems",1,"tw-py-3","tw-px-4"],[1,"tw-flex","tw-items-start","tw-m-0","tw-text-sm","tw-leading-none","tw-normal-case","tw-cursor-pointer","tw-truncate",3,"htmlFor"],["type","checkbox",1,"tw-block","tw-mr-2",3,"change","id","name","checked","disabled"],[1,"tw-block","tw-w-full","tw-truncate"],[3,"ngClass"],["class","fas fa-lock tw-text-red-500 tw-text-xs tw-mr-1",4,"ngIf"],["class","tw-block tw-mt-2 tw-font-normal tw-text-xs tw-leading-none tw-text-grey-600 tw-truncate",4,"ngIf"],[1,"fas","fa-lock","tw-text-red-500","tw-text-xs","tw-mr-1"],[1,"tw-block","tw-mt-2","tw-font-normal","tw-text-xs","tw-leading-none","tw-text-grey-600","tw-truncate"],["id","assignedSearch",1,"tw-mt-3","tw-w-full","tw-relative"],["for","searchAssigned",1,"tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-mb-0","tw-w-10","tw-absolute","tw-inset-y-0"],["id","searchAssigned","name","assignedSearchValue","type","search",1,"tw-form-control","tw-w-full","tw-pl-10",3,"ngModelChange","ngModel"],["id","assignedItems",1,"tw-py-3","tw-px-4"]],template:function(U,$){1&U&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.DNE(6,d,7,4,"div",4),e.k0s(),e.j41(7,"ul",5),e.DNE(8,O,8,12,"li",6),e.nI1(9,"uppercase"),e.nI1(10,"search"),e.k0s()(),e.j41(11,"div",7)(12,"ul",8)(13,"li",9)(14,"button",10),e.bIt("click",function(){return $.assignItems()}),e.nrm(15,"span",11)(16,"span",12),e.j41(17,"span",13),e.EFF(18),e.nI1(19,"translate"),e.k0s()()(),e.j41(20,"li",9)(21,"button",14),e.bIt("click",function(){return $.unAssignItems()}),e.nrm(22,"span",15)(23,"span",16),e.j41(24,"span",13),e.EFF(25),e.nI1(26,"translate"),e.k0s()()()()(),e.j41(27,"div",1)(28,"div",2)(29,"h2",3),e.EFF(30),e.nI1(31,"translate"),e.k0s(),e.DNE(32,P,7,4,"div",17),e.k0s(),e.j41(33,"ul",5),e.DNE(34,k,8,12,"li",18),e.nI1(35,"uppercase"),e.nI1(36,"search"),e.k0s()()()),2&U&&(e.R7$(4),e.JRh(e.bMT(5,10,"UserDetails.Available")),e.R7$(2),e.Y8G("ngIf",$.availableSearch||!$.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(10,14,$.available,e.bMT(9,12,$.availableSearchValue))),e.R7$(6),e.Y8G("disabled",$.availableCount<1||$.isReadOnly),e.R7$(4),e.JRh(e.bMT(19,17,"Common.Unassign")),e.R7$(3),e.Y8G("disabled",$.assignedCount<1||$.isReadOnly),e.R7$(4),e.JRh(e.bMT(26,19,"Common.Assign")),e.R7$(5),e.JRh(e.bMT(31,21,"UserDetails.Assigned")),e.R7$(2),e.Y8G("ngIf",$.assignedSearch||!$.isReadOnly),e.R7$(2),e.Y8G("ngForOf",e.i5U(36,25,$.assigned,e.bMT(35,23,$.assignedSearchValue))))},dependencies:[y.YU,y.Sq,y.bT,p.me,p.BC,p.vS,y.Pc,w,C.D9],encapsulation:2})}}return G})()},2571:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>C});var i=h(9417),e=h(1683),y=h(177),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[y.MD,i.YN,e.Y,p.h]})}}return m})()},275:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>w});var i=h(177),e=h(1780),y=h(1583),p=h(4438);let w=(()=>{class C{static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[i.MD,e.h,y.iI]})}}return C})()},6719:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>p});var i=h(4438),e=h(1583);const y=["*"];let p=(()=>{class w{constructor(m){this.activatedRoute=m,this.restrictedStarter=!1,this.active=!1}ngOnInit(){const m=this.activatedRoute.snapshot;null!==m.firstChild&&null!==m.firstChild.routeConfig&&m.firstChild.routeConfig.path===this.value&&(this.active=!0)}static{this.\u0275fac=function(d){return new(d||w)(i.rXU(e.nX))}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-custom-tab"]],inputs:{title:[i.Mj6.None,"tabTitle","title"],value:[i.Mj6.None,"tabValue","value"],restrictedStarter:"restrictedStarter"},ngContentSelectors:y,decls:1,vars:0,template:function(d,f){1&d&&(i.NAR(),i.SdG(0))},encapsulation:2})}}return w})()},251:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>O});var i=h(6719),e=h(4438),y=h(1583),p=h(177),w=h(1780);const C=(P,b)=>({tabs:P,"pill-tabs":b}),m=(P,b)=>({tabs__item:P,"pill-tabs__item":b}),d=(P,b)=>({tabs__link:P,"pill-tabs__link":b});function f(P,b){1&P&&(e.j41(0,"span",5)(1,"span",6),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",7),e.k0s()),2&P&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function I(P,b){if(1&P){const M=e.RV6();e.j41(0,"li",2)(1,"button",3),e.bIt("click",function(){const N=e.eBV(M).$implicit,G=e.XpG();return e.Njj(G.changeTab(N))}),e.EFF(2),e.nI1(3,"translate"),e.DNE(4,f,5,3,"span",4),e.k0s()()}if(2&P){const M=b.$implicit,k=b.index,N=e.XpG();e.Y8G("ngClass",e.l_i(11,m,!N.pillMode,N.pillMode)),e.R7$(),e.AVh("active",M.active),e.Y8G("id","customTab"+k)("ngClass",e.l_i(14,d,!N.pillMode,N.pillMode)),e.BMQ("data-value",M.value)("aria-selected",M.active),e.R7$(),e.SpI(" ",e.bMT(3,9,M.title)," "),e.R7$(2),e.Y8G("ngIf",M.restrictedStarter)}}let O=(()=>{class P{constructor(M,k){this.router=M,this.activatedRoute=k,this.pillMode=!1}ngOnInit(){"string"==typeof this.pillMode&&(this.pillMode="true"===this.pillMode)}ngAfterContentInit(){const M=this.tabs.filter(k=>k.active);M&&!M.length&&this.changeTab(this.tabs.first)}changeTab(M){!this.tabs||!this.tabs.length||M.active||(this.setActiveTab(M),this.router.navigate([M.value],{relativeTo:this.activatedRoute}))}setActiveTab(M){this.tabs.toArray().forEach(k=>k.active=!1),M.active=!0}static{this.\u0275fac=function(k){return new(k||P)(e.rXU(y.Ix),e.rXU(y.nX))}}static{this.\u0275cmp=e.VBU({type:P,selectors:[["app-custom-tabs"]],contentQueries:function(k,N,G){if(1&k&&e.wni(G,i.G,4),2&k){let R;e.mGM(R=e.lsd())&&(N.tabs=R)}},inputs:{pillMode:"pillMode"},decls:3,vars:8,consts:[["role","tablist",3,"ngClass"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],["role","tab",3,"click","id","ngClass"],["id","upgradeSymbol",4,"ngIf"],["id","upgradeSymbol"],[1,"sr-only"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-pl-1"]],template:function(k,N){1&k&&(e.j41(0,"ul",0),e.nI1(1,"translate"),e.DNE(2,I,5,17,"li",1),e.k0s()),2&k&&(e.Y8G("ngClass",e.l_i(5,C,!N.pillMode,N.pillMode)),e.BMQ("aria-label",e.bMT(1,3,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngForOf",N.tabs))},dependencies:[p.YU,p.Sq,p.bT,w.D9],encapsulation:2})}}return P})()},8577:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>C,w:()=>m});var i=h(4438),e=h(1589),y=h(2390),p=h(923),w=h(9812);class C{get datePipe(){return this._datePipe}constructor(f=p.N.standardDate,I="Common.NoDateSet"){this._datePipe=new e.El,this.noDateLabel=I??"Common.NoDateSet",this._datePipe=(()=>{switch(f){case p.N.standardDate:return new e.El;case p.N.standardDateTime:return new e.r7;case p.N.prettyDateTime:return new e.sp;default:return new e.El}})()}}let m=(()=>{class d{constructor(I){this.dataTableService=I,this.headClasses="",this.cellClasses="",this.isPlaceholder=!1,this.isBoolean=!1,this.placeholder="",this.navigate=new i.bkB}ngOnDestroy(){this.dataTableSub?.unsubscribe()}ngOnInit(){this.dataTableSub=this.dataTableService.sortCompletedEvent.subscribe(I=>{null!=this.sort&&this.setSort(I)})}get dateColumn(){return"boolean"==typeof this.date?new C:this.date}format(I){return void 0!==this.formatter?this.formatter(I):I}get sortClass(){if(null==this.sort)return"";switch(this.sort){case y.uy.None:return"fad fa-sort";case y.uy.Ascending:return"fas fa-caret-up";case y.uy.Descending:return"fas fa-caret-down"}}setSort(I){this.sort=I==this.prop?this.sort==y.uy.Descending?y.uy.Ascending:y.uy.Descending:y.uy.None}static{this.\u0275fac=function(O){return new(O||d)(i.rXU(w.I))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-data-table-column"]],inputs:{title:"title",prop:"prop",headClasses:"headClasses",cellClasses:"cellClasses",date:"date",link:"link",isPlaceholder:"isPlaceholder",isBoolean:"isBoolean",placeholder:"placeholder",formatter:"formatter",sort:"sort"},outputs:{navigate:"navigate"},decls:0,vars:0,template:function(O,P){},encapsulation:2})}}return d})()},4252:(nt,fe,h)=>{"use strict";h.d(fe,{AA:()=>Ee,up:()=>Qe});var i=h(4438),e=h(8577),y=h(1583),p=h(9812),w=h(177),C=h(1780);const m=["selectButton"],d=["deleteButton"],f=le=>({hover:le}),I=le=>({"tw-mr-2":le});function O(le,Pe){if(1&le&&(i.j41(0,"div",7),i.nrm(1,"div",8),i.nI1(2,"translate"),i.k0s()),2&le){const Ie=i.XpG();i.R7$(),i.Y8G("innerHTML",i.bMT(2,1,Ie.noRowsLabel),i.npT)}}function P(le,Pe){if(1&le&&i.nrm(0,"span",14),2&le){const Ie=i.XpG().$implicit;i.Y8G("ngClass",Ie.sortClass)}}function b(le,Pe){if(1&le){const Ie=i.RV6();i.j41(0,"th",13),i.bIt("click",function(){const Oe=i.eBV(Ie).$implicit,pt=i.XpG(2);return i.Njj(pt.sortColumn(Oe))}),i.j41(1,"span",14),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,P,1,1,"span",15),i.k0s()}if(2&le){const Ie=Pe.$implicit;i.Y8G("className",Ie.headClasses),i.R7$(),i.Y8G("ngClass",i.eq3(6,I,null!=Ie.sort)),i.R7$(),i.JRh(i.bMT(3,4,Ie.title)),i.R7$(2),i.Y8G("ngIf",null!=Ie.sort)}}function M(le,Pe){1&le&&(i.j41(0,"th",16)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&le&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Actions")))}function k(le,Pe){if(1&le&&(i.qex(0),i.EFF(1),i.bVm()),2&le){const Ie=i.XpG(3).$implicit;i.R7$(),i.SpI(" ",Ie," ")}}function N(le,Pe){if(1&le&&(i.qex(0),i.EFF(1),i.bVm()),2&le){const Ie=i.XpG(4).$implicit,st=i.XpG().$implicit;i.R7$(),i.SpI(" ",Ie.dateColumn.datePipe.transform(st[Ie.prop])," ")}}function G(le,Pe){if(1&le&&(i.EFF(0),i.nI1(1,"translate")),2&le){const Ie=i.XpG(4).$implicit;i.SpI(" ",i.bMT(1,1,Ie.dateColumn.noDateLabel)," ")}}function R(le,Pe){if(1&le&&(i.qex(0),i.DNE(1,N,2,1,"ng-container",21)(2,G,2,3,"ng-template",null,1,i.C5r),i.bVm()),2&le){const Ie=i.sdS(3),st=i.XpG(3).$implicit,Oe=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",Oe[st.prop])("ngIfElse",Ie)}}function j(le,Pe){if(1&le){const Ie=i.RV6();i.qex(0),i.j41(1,"a",22),i.bIt("click",function(){i.eBV(Ie);const Oe=i.XpG(5).$implicit,pt=i.XpG(2);return i.Njj(!!pt.clickLinkCell(Oe.link))}),i.EFF(2),i.k0s(),i.bVm()}if(2&le){const Ie=i.XpG(4).$implicit,st=i.XpG().$implicit;i.R7$(),i.FS9("href",st.routeLink,i.B4B),i.R7$(),i.SpI(" ",st[Ie.prop]," ")}}function U(le,Pe){if(1&le&&i.nrm(0,"span",23),2&le){const Ie=i.XpG(4).$implicit,st=i.XpG().$implicit;i.Y8G("innerHTML",Ie.format(st[Ie.prop]),i.npT)}}function $(le,Pe){if(1&le&&i.DNE(0,j,3,2,"ng-container",21)(1,U,1,1,"ng-template",null,2,i.C5r),2&le){const Ie=i.sdS(2),st=i.XpG(3).$implicit;i.Y8G("ngIf",st.link)("ngIfElse",Ie)}}function ne(le,Pe){if(1&le&&(i.qex(0),i.DNE(1,R,4,2,"ng-container",21)(2,$,3,2,"ng-template",null,0,i.C5r),i.bVm()),2&le){const Ie=i.sdS(3),st=i.XpG(2).$implicit;i.R7$(),i.Y8G("ngIf",st.date)("ngIfElse",Ie)}}function se(le,Pe){if(1&le&&(i.qex(0),i.DNE(1,k,2,1,"ng-container",20)(2,ne,4,2,"ng-container",20),i.bVm()),2&le){const Ie=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",null==Ie.prop),i.R7$(),i.Y8G("ngIf",null!=Ie.prop)}}function L(le,Pe){if(1&le&&(i.qex(0),i.j41(1,"span",24),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.bVm()),2&le){const Ie=i.XpG().$implicit;i.R7$(2),i.JRh(i.bMT(3,1,Ie.placeholder))}}function J(le,Pe){1&le&&(i.j41(0,"span",27)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&le&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.Yes")))}function te(le,Pe){1&le&&(i.j41(0,"span",28)(1,"span",17),i.EFF(2),i.nI1(3,"translate"),i.k0s()()),2&le&&(i.R7$(2),i.JRh(i.bMT(3,1,"Common.No")))}function E(le,Pe){if(1&le&&(i.qex(0),i.DNE(1,J,4,3,"span",25)(2,te,4,3,"span",26),i.bVm()),2&le){const Ie=i.XpG().$implicit,st=i.XpG().$implicit;i.R7$(),i.Y8G("ngIf",st[Ie.prop]),i.R7$(),i.Y8G("ngIf",!st[Ie.prop])}}function re(le,Pe){if(1&le&&(i.j41(0,"td",19),i.DNE(1,se,3,2,"ng-container",20)(2,L,4,3,"ng-container",20)(3,E,3,2,"ng-container",20),i.k0s()),2&le){const Ie=Pe.$implicit;i.Y8G("className",Ie.cellClasses),i.BMQ("data-label",Ie.title),i.R7$(),i.Y8G("ngIf",!Ie.isPlaceholder&&!Ie.isBoolean),i.R7$(),i.Y8G("ngIf",Ie.isPlaceholder),i.R7$(),i.Y8G("ngIf",Ie.isBoolean)}}function K(le,Pe){if(1&le){const Ie=i.RV6();i.j41(0,"button",32,3),i.bIt("click",function(){i.eBV(Ie);const Oe=i.XpG(2).$implicit,pt=i.XpG(2);return i.Njj(pt.selectRow(Oe))}),i.nrm(2,"span",33),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&le&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Edit")))}function me(le,Pe){if(1&le){const Ie=i.RV6();i.j41(0,"button",34,4),i.bIt("click",function(){i.eBV(Ie);const Oe=i.XpG(2).index,pt=i.XpG(2);return i.Njj(pt.deleteRow(Oe))}),i.nrm(2,"span",35),i.j41(3,"span",17),i.EFF(4),i.nI1(5,"translate"),i.k0s()()}2&le&&(i.R7$(4),i.JRh(i.bMT(5,1,"Common.Remove.Title")))}function Ne(le,Pe){if(1&le&&(i.j41(0,"td",16)(1,"div",29),i.DNE(2,K,6,3,"button",30)(3,me,6,3,"button",31),i.k0s()()),2&le){const Ie=i.XpG(3);i.R7$(2),i.Y8G("ngIf",Ie.canSelect),i.R7$(),i.Y8G("ngIf",Ie.canDelete)}}function Ae(le,Pe){if(1&le&&(i.j41(0,"tr"),i.DNE(1,re,4,5,"td",18)(2,Ne,4,2,"td",11),i.k0s()),2&le){const Ie=i.XpG(2);i.R7$(),i.Y8G("ngForOf",Ie.columns),i.R7$(),i.Y8G("ngIf",Ie.actions)}}function xe(le,Pe){if(1&le&&(i.j41(0,"table",9)(1,"thead")(2,"tr"),i.DNE(3,b,5,8,"th",10)(4,M,4,3,"th",11),i.k0s()(),i.j41(5,"tbody"),i.DNE(6,Ae,3,2,"tr",12),i.k0s()()),2&le){const Ie=i.XpG();i.Y8G("ngClass",i.eq3(4,f,!Ie.isReadOnly)),i.R7$(3),i.Y8G("ngForOf",Ie.columns),i.R7$(),i.Y8G("ngIf",Ie.actions),i.R7$(2),i.Y8G("ngForOf",Ie.rows)}}let Qe=(()=>{class le{set isReadOnly(Ie){this._isReadOnly=Ie||!1}get isReadOnly(){return this._isReadOnly}constructor(Ie,st){this.router=Ie,this.dataTableService=st,this.onSelect=new i.bkB}ngOnInit(){this.isReadOnly?(this.canDelete=!1,this.canSelect=!1):this.actions&&(this.canDelete=this.actions.includes(Ee.Delete),this.canSelect=this.actions.includes(Ee.Select))}ngAfterViewInit(){this.dataTableService.columns=this.columns}deleteRow(Ie){this.canDelete&&this.dataTableService.deleteRowEvent.next(Ie)}selectRow(Ie){if(this.canSelect){const st=new be(Ie,this.selectButtonRef);this.onSelect.emit(st)}}clickLinkCell(Ie){this.router.navigate([`${Ie.routeForLink}`,Ie.identifier])}sortColumn(Ie){(null!=Ie.sort||null!=Ie.sort)&&this.dataTableService.sortColumnEvent.next(Ie)}static{this.\u0275fac=function(st){return new(st||le)(i.rXU(y.Ix),i.rXU(p.I))}}static{this.\u0275cmp=i.VBU({type:le,selectors:[["app-data-table"]],contentQueries:function(st,Oe,pt){if(1&st&&i.wni(pt,e.w,4),2&st){let Ye;i.mGM(Ye=i.lsd())&&(Oe.columns=Ye)}},viewQuery:function(st,Oe){if(1&st&&(i.GBs(m,5),i.GBs(d,5)),2&st){let pt;i.mGM(pt=i.lsd())&&(Oe.selectButtonRef=pt.first),i.mGM(pt=i.lsd())&&(Oe.deleteButtonRef=pt.first)}},inputs:{noRowsLabel:[i.Mj6.None,"norowslabel","noRowsLabel"],rows:"rows",actions:"actions",isReadOnly:"isReadOnly"},outputs:{onSelect:"onSelect"},decls:2,vars:2,consts:[["nonDateRow",""],["dateRowWithNoValue",""],["normalRowWithoutLink",""],["selectButton",""],["deleteButton",""],["class","tw-alert tw-mb-4","role","alert",4,"ngIf"],["class","datatable",3,"ngClass",4,"ngIf"],["role","alert",1,"tw-alert","tw-mb-4"],["id","noRowsLabel",3,"innerHTML"],[1,"datatable",3,"ngClass"],[3,"className","click",4,"ngFor","ngForOf"],["class","tw-w-1",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"click","className"],[3,"ngClass"],[3,"ngClass",4,"ngIf"],[1,"tw-w-1"],[1,"sr-only"],[3,"className",4,"ngFor","ngForOf"],[3,"className"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"click","href"],[3,"innerHTML"],[1,"tw-italic","tw-text-grey-800"],["class","fas fa-check tw-text-green-500",4,"ngIf"],["class","fas fa-times tw-opacity-25",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500"],[1,"fas","fa-times","tw-opacity-25"],[1,"tw-flex","tw-items-center"],["id","selectButton","class","tw-btn-link tw-btn-small tw-mr-1","value","Edit",3,"click",4,"ngIf"],["id","deleteButton","class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],["id","selectButton","value","Edit",1,"tw-btn-link","tw-btn-small","tw-mr-1",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],["id","deleteButton","value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(st,Oe){1&st&&i.DNE(0,O,3,3,"div",5)(1,xe,7,6,"table",6),2&st&&(i.Y8G("ngIf",(null==Oe.rows?null:Oe.rows.length)<1),i.R7$(),i.Y8G("ngIf",(null==Oe.rows?null:Oe.rows.length)>0))},dependencies:[w.YU,w.Sq,w.bT,C.D9],encapsulation:2})}}return le})();var Ee=function(le){return le.Delete="Delete",le.Select="Select",le}(Ee||{});class be{constructor(Pe,Ie=null){this.data=Pe,this.element=Ie}}},8251:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>m});var i=h(1780),e=h(177),y=h(534),p=h(1683),w=h(9812),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({providers:[w.I],imports:[e.MD,i.h,y.Ss,p.Y]})}}return d})()},9812:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>y});var i=h(1413),e=h(4438);let y=(()=>{class p{constructor(){this.sortColumnEvent=new i.B,this.sortCompletedEvent=new i.B,this.deleteRowEvent=new i.B}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},6536:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>R,e:()=>G});var i=h(4438),e=h(9417),y=h(4549),p=h(7263),w=h(177);function C(j,U){1&j&&i.eu8(0)}function m(j,U){if(1&j&&(i.j41(0,"div",4),i.DNE(1,C,1,0,"ng-container",5),i.k0s()),2&j){i.XpG();const $=i.sdS(5);i.R7$(),i.Y8G("ngTemplateOutlet",$)}}function d(j,U){1&j&&i.eu8(0)}function f(j,U){1&j&&i.eu8(0)}function I(j,U){if(1&j&&(i.j41(0,"div",6)(1,"div",7),i.DNE(2,d,1,0,"ng-container",5),i.k0s(),i.j41(3,"div",8),i.DNE(4,f,1,0,"ng-container",5),i.k0s()()),2&j){i.XpG();const $=i.sdS(5),ne=i.sdS(7);i.R7$(2),i.Y8G("ngTemplateOutlet",ne),i.R7$(2),i.Y8G("ngTemplateOutlet",$)}}function O(j,U){1&j&&i.eu8(0)}function P(j,U){if(1&j&&(i.j41(0,"div",6),i.DNE(1,O,1,0,"ng-container",5),i.k0s()),2&j){i.XpG();const $=i.sdS(7);i.R7$(),i.Y8G("ngTemplateOutlet",$)}}function b(j,U){if(1&j&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&j){const $=U.index;i.Y8G("value",$),i.R7$(),i.JRh(i.i5U(2,2,$,"2.0"))}}function M(j,U){if(1&j&&(i.j41(0,"option",15),i.EFF(1),i.nI1(2,"number"),i.k0s()),2&j){const $=U.index;i.Y8G("value",$),i.R7$(),i.JRh(i.i5U(2,2,$,"2.0"))}}function k(j,U){if(1&j){const $=i.RV6();i.j41(0,"label",9),i.EFF(1,"Hours"),i.k0s(),i.j41(2,"div",10)(3,"select",11),i.bIt("ngModelChange",function(se){i.eBV($);const L=i.XpG();return i.Njj(L.onHoursChange(se))}),i.j41(4,"option",12),i.EFF(5,"HH"),i.k0s(),i.DNE(6,b,3,5,"option",13),i.k0s()(),i.j41(7,"span",14),i.EFF(8,":"),i.k0s(),i.j41(9,"label",9),i.EFF(10,"Minutes"),i.k0s(),i.j41(11,"div",10)(12,"select",11),i.bIt("ngModelChange",function(se){i.eBV($);const L=i.XpG();return i.Njj(L.onMinutesChange(se))}),i.j41(13,"option",12),i.EFF(14,"MM"),i.k0s(),i.DNE(15,M,3,5,"option",13),i.k0s()()}if(2&j){const $=i.XpG();i.Y8G("for",$.id+"-time-hours"),i.R7$(3),i.Y8G("id",$.id+"-time-hours")("ngModel",$.hours),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",$.counter(23)),i.R7$(3),i.Y8G("for",$.id+"-time-minutes"),i.R7$(3),i.Y8G("id",$.id+"-time-minutes")("ngModel",$.minutes),i.R7$(),i.Y8G("value",void 0),i.R7$(2),i.Y8G("ngForOf",$.counter(59))}}function N(j,U){if(1&j){const $=i.RV6();i.j41(0,"input",16),i.bIt("ngModelChange",function(se){i.eBV($);const L=i.XpG();return i.Njj(L.onDateChange(se))})("keyup",function(se){i.eBV($);const L=i.XpG();return i.Njj(L.onKeyUp(se))}),i.k0s()}if(2&j){const $=i.XpG();i.Y8G("id",$.id+"-date")("ngModel",$.stringDate),i.BMQ("required",$.required?"":null)("min",$.minDate)("max",$.maxDate)}}var G=function(j){return j.Date="date",j.Time="time",j.DateTime="datetime",j}(G||{});let R=(()=>{class j{constructor(){this.id=(0,p.Nl)(),this.displayType=G.DateTime,this.required=!1,this.disabled=!1,this.keyup=new i.bkB,this.onChange=$=>{},this.onTouched=()=>{}}set value($){this.setDate($)}set min($){this.minDate=this.toMinMaxDateString($)}set max($){this.maxDate=this.toMinMaxDateString($)}get hours(){return(this.date?this.date:void 0)?.hour}get minutes(){return(this.date?this.date:void 0)?.minute}ngOnInit(){}writeValue($){this.setDate($)}registerOnChange($){this.onChange=$}registerOnTouched($){this.onTouched=$}setDisabledState($){this.disabled=$}get opacity(){return this.disabled?.25:1}validate($){return!this.required||this.date?null:{required:{valid:!1}}}onKeyUp($){this.keyup.emit($)}onHoursChange($){this.date=this.date?this.date.set({hour:$}):y.c9.now().set({hour:$}),this.onChange(this.date.toString())}onMinutesChange($){this.date=this.date?this.date.set({minute:$}):y.c9.now().set({minute:$}),this.onChange(this.date.toString())}onDateChange($){this.stringDate=$;let ne=y.c9.fromFormat($,"yyyy-MM-dd");ne.isValid&&(this.date=this.date?this.date.set({year:ne.year,month:ne.month,day:ne.day}):ne,this.onChange(this.date.toString()))}counter($){return new Array($+1)}setDate($){if($){if($ instanceof y.c9&&(this.date=$),"string"==typeof $){const ne=y.c9.fromISO($);this.date=ne.isValid?ne:void 0}this.stringDate=this.date.toFormat("yyyy-MM-dd")}}toMinMaxDateString($){let ne;return ne=$ instanceof y.c9?$:y.c9.fromISO($.toString()),ne.toFormat("yyyy-MM-dd")}static{this.\u0275fac=function(ne){return new(ne||j)}}static{this.\u0275cmp=i.VBU({type:j,selectors:[["app-date-time"]],hostVars:2,hostBindings:function(ne,se){2&ne&&i.xc7("opacity",se.opacity)},inputs:{id:"id",value:"value",displayType:"displayType",required:"required",disabled:"disabled",min:"min",max:"max"},outputs:{keyup:"keyup"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>j),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>j),multi:!0}])],decls:8,vars:3,consts:[["timeTemplate",""],["dateTemplate",""],["class","tw-flex tw-items-center",4,"ngIf"],["class","tw-flex tw-flex-wrap",4,"ngIf"],[1,"tw-flex","tw-items-center"],[4,"ngTemplateOutlet"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-w-18"],[1,"tw-flex-none","tw-flex","tw-items-center","tw-pl-3"],[1,"sr-only",3,"for"],[1,"tw-form-select","tw-flex-no-shrink","tw-w-18"],[1,"tw-form-control",3,"ngModelChange","id","ngModel"],["disabled","","selected","",3,"value"],[3,"value",4,"ngFor","ngForOf"],["aria-hidden","true",1,"tw-font-semibold","tw-flex-no-shrink","px-1"],[3,"value"],["type","date","placeholder","dd/mm/yyyy",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel"]],template:function(ne,se){1&ne&&(i.j41(0,"div"),i.DNE(1,m,2,1,"div",2)(2,I,5,2,"div",3)(3,P,2,1,"div",3)(4,k,16,10,"ng-template",null,0,i.C5r)(6,N,1,5,"ng-template",null,1,i.C5r),i.k0s()),2&ne&&(i.R7$(),i.Y8G("ngIf","time"==se.displayType),i.R7$(),i.Y8G("ngIf","datetime"==se.displayType),i.R7$(),i.Y8G("ngIf","date"==se.displayType))},dependencies:[w.Sq,w.bT,w.T3,e.xH,e.y7,e.me,e.wz,e.BC,e.vS,w.QX],encapsulation:2})}}return j})()},6599:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>C});var i=h(177),e=h(1683),y=h(1780),p=h(9417),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[i.MD,p.YN,e.Y,y.h]})}}return m})()},3860:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>p});var i=h(9417),e=h(7263),y=h(4438);let p=(()=>{class w{validate(m){return this.regex?(0,e.AB)(new RegExp(this.regex,"i"))(m):null}static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275dir=y.FsC({type:w,selectors:[["","appClaimRegex",""]],inputs:{regex:[y.Mj6.None,"appClaimRegex","regex"]},features:[y.Jv_([{provide:i.cz,useExisting:w,multi:!0}])]})}}return w})()},5663:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>C});var i=h(5794),e=h(1583),y=h(1780),p=h(4438),w=h(7005);let C=(()=>{class m{constructor(f){this.injector=f}handleError(f){if((0,p.naY)())console.log(f);else{const I=this.injector.get(e.Ix),O=this.injector.get(i.tw),P=this.injector.get(y.c$),b=this.injector.get(w.QG);O.info(P.instant("Notifications.Support")),O.info(P.instant("Notifications.Apology"),P.instant("Notifications.Sorry"));const M=b.translateRoute("/home");I.navigateByUrl(M)}}static{this.\u0275fac=function(I){return new(I||m)(p.KVO(p.zZn))}}static{this.\u0275prov=p.jDH({token:m,factory:m.\u0275fac})}}return m})()},7811:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>U});var i=h(4438),e=h(1413),y=h(1985),p=h(5558),w=h(6354),C=h(7673),m=h(1584),d=h(526),f=h(9417),I=h(8400),O=h(177),P=h(1780);function b($,ne){if(1&$&&(i.j41(0,"option",11),i.EFF(1),i.k0s()),2&$){const se=ne.$implicit;i.Y8G("value",se),i.R7$(),i.JRh(se)}}function M($,ne){if(1&$){const se=i.RV6();i.j41(0,"select",9,1),i.bIt("ngModelChange",function(J){i.eBV(se);const te=i.XpG();return i.Njj(te.valueChanged.emit(J))})("keyup",function(){i.eBV(se);const J=i.XpG();return i.Njj(J.keyupEvent.emit())}),i.DNE(2,b,2,2,"option",10),i.k0s()}if(2&$){const se=i.sdS(1),L=i.XpG();i.Y8G("id",L.forId)("ngModel",L.value)("disabled",L.disabled&&!se.dirty),i.R7$(2),i.Y8G("ngForOf",L.allowedValues)}}function k($,ne){if(1&$){const se=i.RV6();i.j41(0,"input",12,1),i.nI1(2,"translate"),i.bIt("ngModelChange",function(J){i.eBV(se);const te=i.XpG();return i.Njj(te.valueChanged.emit(J))})("focus",function(J){i.eBV(se);const te=i.XpG();return i.Njj(te.onFocus(J))}),i.k0s()}if(2&$){const se=i.sdS(1),L=i.XpG(),J=i.sdS(5);i.FS9("placeholder",i.bMT(2,9,"ClaimTypes.TypeaheadHelp")),i.Y8G("id",L.forId)("container",L.hostingModal)("ngModel",L.value)("typeahead",L.dataSource)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",J)("disabled",L.disabled&&!se.dirty)}}function N($,ne){if(1&$&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"slice"),i.k0s()),2&$){const se=ne.item;i.R7$(),i.JRh(se.length>20?i.brH(2,1,se,0,20)+"...":se)}}function G($,ne){1&$&&(i.j41(0,"div",13),i.nrm(1,"span",14),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&$&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.LoadingPleaseWait")))}function R($,ne){1&$&&(i.j41(0,"div",15),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&$&&(i.R7$(3),i.JRh(i.bMT(4,1,"ClaimTypes.AllowedValuesFiltering.NothingFound")))}function j($,ne){if(1&$&&(i.j41(0,"div",17),i.nrm(1,"span",16),i.j41(2,"span"),i.EFF(3),i.nI1(4,"translate"),i.k0s()()),2&$){const se=i.XpG();i.R7$(3),i.Lme("",i.bMT(4,2,"ClaimTypes.AllowedValuesFiltering.TooManyFound")," (",se.totalValues,")")}}let U=(()=>{class ${set hostingModal(se){this._hostingModal=se}get hostingModal(){return null!=this._hostingModal?`#${this._hostingModal}`:null}set typeId(se){this._typeId=se,this.typeIdSub.next(se)}get typeId(){return this._typeId}constructor(se){this.claimTypesService=se,this.valueChanged=new i.bkB,this.disabled=!1,this.keyupEvent=new i.bkB,this.typeIdSub=new e.B,this.threshold=50,this.typeahead=!1,this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,this.typeIdSub.subscribe(L=>{this.claimTypesService.getAllowedValues(this._typeId,null,this.threshold).subscribe(J=>{this.totalValues=J.totalAllowedValues,this.allowedValues=J.allowedValues,this.typeahead=!this.allowedValues,this.allowedValues||(this.dataSource=this.initDataSrc())})})}initDataSrc(){return new y.c(se=>{this.loading=!0,this.nothingFound=!1,this.tooManyResults=!1,se.next(this.value)}).pipe((0,p.n)(se=>se?this.claimTypesService.getAllowedValues(this.typeId,se,this.threshold).pipe((0,w.T)(L=>(this.totalValues=L.totalAllowedValues,this.allowedValues=L.allowedValues,this.loading=!1,this.nothingFound=L.totalAllowedValues<=0,this.tooManyResults=L.totalAllowedValues>=this.threshold,L.allowedValues||[]))):(this.loading=!1,this.nothingFound=!1,this.tooManyResults=!1,(0,C.of)([]))))}onFocus(se){se.stopPropagation(),(0,m.O)(1).subscribe(()=>{const L=new Event("input");se.target?.dispatchEvent(L)})}static{this.\u0275fac=function(L){return new(L||$)(i.rXU(d.X))}}static{this.\u0275cmp=i.VBU({type:$,selectors:[["app-enum-claim-type-input"]],inputs:{hostingModal:"hostingModal",forId:[i.Mj6.None,"id","forId"],typeId:"typeId",inModal:"inModal",value:"value",disabled:"disabled"},outputs:{valueChanged:"valueChanged",keyupEvent:"keyupEvent"},decls:9,vars:5,consts:[["customItemTemplate",""],["claimvalue","ngModel"],[1,"tw-form-select"],["class","tw-form-control","name","enum","required","",3,"id","ngModel","disabled","ngModelChange","keyup",4,"ngIf"],[1,"tw-form-typeahead"],["class","tw-form-control","type","text","name","enum","autocomplete","off","required","",3,"id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled","ngModelChange","focus",4,"ngIf"],["id","typeahead-loading-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-nothing-found-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["id","typeahead-too-many-msg","class","tw-form-label tw-text-sm tw-mt-2",4,"ngIf"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","keyup","id","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","text","name","enum","autocomplete","off","required","",1,"tw-form-control",3,"ngModelChange","focus","id","container","ngModel","typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","placeholder","disabled"],["id","typeahead-loading-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],["id","typeahead-nothing-found-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"],[1,"fa","fa-exclamation-triangle","tw-text-secondary-500","tw-mr-2"],["id","typeahead-too-many-msg",1,"tw-form-label","tw-text-sm","tw-mt-2"]],template:function(L,J){1&L&&(i.j41(0,"div",2),i.DNE(1,M,3,4,"select",3),i.k0s(),i.j41(2,"div",4),i.DNE(3,k,3,11,"input",5),i.k0s(),i.DNE(4,N,3,5,"ng-template",null,0,i.C5r)(6,G,5,3,"div",6)(7,R,5,3,"div",7)(8,j,5,4,"div",8)),2&L&&(i.R7$(),i.Y8G("ngIf",!J.typeahead),i.R7$(2),i.Y8G("ngIf",J.typeahead),i.R7$(3),i.Y8G("ngIf",J.typeahead&&J.loading),i.R7$(),i.Y8G("ngIf",J.typeahead&&J.nothingFound),i.R7$(),i.Y8G("ngIf",J.typeahead&&J.tooManyResults))},dependencies:[f.xH,f.y7,f.me,f.wz,f.BC,f.YS,f.vS,I.Xi,O.Sq,O.bT,O.P9,P.D9],encapsulation:2})}}return $})()},8389:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>m});var i=h(177),e=h(1780),y=h(9417),p=h(6599),w=h(8400),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({imports:[y.YN,y.X1,w.qP,i.MD,e.h,p.Y]})}}return d})()},4701:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>U});var i=h(6536),e=h(7263),y=h(4438),p=h(9417),w=h(177),C=h(8698),m=h(9550),d=h(3860),f=h(7811);const I=["claimsForm"];function O($,ne){if(1&$){const se=y.RV6();y.j41(0,"input",11,1),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))}),y.mxI("ngModelChange",function(J){y.eBV(se);const te=y.XpG().$implicit;return y.DH7(te.value,J)||(te.value=J),y.Njj(J)}),y.k0s()}if(2&$){const se=y.sdS(1),L=y.XpG(),J=L.$implicit,te=L.index,E=y.XpG();y.Mz_("id","claim-",te,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("appClaimRegex",J.regex)("disabled",E.notAllowedToEditClaim(J)&&!se.dirty)}}function P($,ne){if(1&$){const se=y.RV6();y.j41(0,"input",12,1),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))}),y.mxI("ngModelChange",function(J){y.eBV(se);const te=y.XpG().$implicit;return y.DH7(te.value,J)||(te.value=J),y.Njj(J)}),y.k0s()}if(2&$){const se=y.sdS(1),L=y.XpG(),J=L.$implicit,te=L.index,E=y.XpG();y.Mz_("id","claim-",te,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("disabled",E.notAllowedToEditClaim(J)&&!se.dirty)}}function b($,ne){if(1&$){const se=y.RV6();y.j41(0,"app-form-toggle",13)(1,"input",14),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG().$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))})("ngModelChange",function(J){y.eBV(se);const te=y.XpG().$implicit;return y.Njj(te.value=J?"true":"false")}),y.k0s()()}if(2&$){const se=y.XpG(),L=se.$implicit,J=se.index,te=y.XpG();y.Y8G("id","claim-"+J)("isTraffic",!0)("isAlt",!1),y.R7$(),y.Y8G("id","claim-"+J)("name",L.type)("disabled",te.notAllowedToEditClaim(L)&&!te.claimvalue.dirty)("ngModel","true"==L.value)}}function M($,ne){if(1&$){const se=y.RV6();y.qex(0),y.j41(1,"app-date-time",17,1),y.mxI("ngModelChange",function(J){y.eBV(se);const te=y.XpG(2).$implicit;return y.DH7(te.value,J)||(te.value=J),y.Njj(J)}),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG(2).$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))})("change",function(){y.eBV(se);const J=y.XpG(3);return y.Njj(J.makeFormDirty())}),y.k0s(),y.bVm()}if(2&$){const se=y.sdS(2),L=y.XpG(2),J=L.$implicit,te=L.index,E=y.XpG();y.R7$(),y.Mz_("id","claim-",te,""),y.Y8G("name",J.type),y.R50("ngModel",J.value),y.Y8G("disabled",E.notAllowedToEditClaim(J)&&!se.dirty)}}function k($,ne){if(1&$){const se=y.RV6();y.qex(0),y.j41(1,"app-date-time",18,1),y.mxI("ngModelChange",function(J){y.eBV(se);const te=y.XpG(2).$implicit;return y.DH7(te.value,J)||(te.value=J),y.Njj(J)}),y.bIt("keyup",function(){y.eBV(se);const J=y.XpG(2).$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))})("change",function(){y.eBV(se);const J=y.XpG(3);return y.Njj(J.makeFormDirty())}),y.k0s(),y.bVm()}if(2&$){const se=y.sdS(2),L=y.XpG(2),J=L.$implicit,te=L.index,E=y.XpG();y.R7$(),y.Mz_("id","claim-",te,""),y.Y8G("name",J.type)("displayType",E.dateTimeDisplayType.Date),y.R50("ngModel",J.value),y.Y8G("disabled",E.notAllowedToEditClaim(J)&&!se.dirty)}}function N($,ne){if(1&$&&(y.j41(0,"div",15),y.DNE(1,M,3,5,"ng-container",16)(2,k,3,6,"ng-container",16),y.k0s()),2&$){const se=y.XpG().$implicit;y.R7$(),y.Y8G("ngIf","birthdate"!=se.type),y.R7$(),y.Y8G("ngIf","birthdate"==se.type)}}function G($,ne){if(1&$){const se=y.RV6();y.j41(0,"div",19)(1,"app-enum-claim-type-input",20),y.bIt("valueChanged",function(J){y.eBV(se);const te=y.XpG().$implicit,E=y.XpG();return te.value=J,y.Njj(E.makeFormDirty())})("keyupEvent",function(){y.eBV(se);const J=y.XpG().$implicit,te=y.XpG();return y.Njj(te.checkForPolicyClaimForm(J.type,J))}),y.k0s()()}if(2&$){const se=y.XpG(),L=se.$implicit,J=se.index,te=y.XpG();y.R7$(),y.Y8G("id","claim-"+J)("typeId",te.getClaimType(L).id)("value",L.value)("disabled",te.notAllowedToEditClaim(L))}}function R($,ne){if(1&$&&(y.j41(0,"span",21),y.EFF(1),y.k0s()),2&$){const se=y.XpG().$implicit;y.R7$(),y.JRh(se.failureMessage)}}function j($,ne){if(1&$&&(y.j41(0,"app-form-row",4),y.DNE(1,O,2,6,"input",5)(2,P,2,5,"input",6)(3,b,2,7,"app-form-toggle",7)(4,N,3,2,"div",8)(5,G,2,4,"div",9)(6,R,2,1,"span",10),y.k0s()),2&$){const se=ne.$implicit,L=ne.index,J=y.XpG();y.Y8G("id","claim-"+L)("label",J.getLabel(se))("help",J.getHelpTextString(se)),y.R7$(),y.Y8G("ngIf","String"==se.format),y.R7$(),y.Y8G("ngIf","Int"==se.format),y.R7$(),y.Y8G("ngIf","Boolean"==se.format),y.R7$(),y.Y8G("ngIf","DateTime"==se.format),y.R7$(),y.Y8G("ngIf","Enum"==se.format),y.R7$(),y.Y8G("ngIf",J.claimDirtyAndInvalid(se.type))}}let U=(()=>{class ${constructor(){this.claims=null,this.notAllowedToEditClaim=()=>!1,this.isPolicyClaim=()=>!1,this.requiredClaims=[],this.dateTimeDisplayType=i.e}ngOnChanges(){for(const se of this.claimTypes??[])if(se.required){let L="Boolean"===se.valueType?"false":null,J=this.claims?.filter(E=>E.type===se.name)??[];J.length>0&&!(0,e.hX)(J[0].value)&&(L=J[0].value);const te={typeId:se.id,format:se.valueType,value:L,type:se.name,displayName:se.displayName,editing:!1,required:se.required};se.rule&&(te.regex=se.rule,te.failureMessage=se.ruleValidationFailureDescription),this.requiredClaims.push(te)}}getHelpTextString(se){return this.isPolicyClaim(se)?"DateTime"==se.format?"Common.PolicyWithUTCNotice":"Common.Policy":"DateTime"==se.format?"Common.Dates.UTCWarning":""}checkForPolicyClaimForm(se,L){this.notAllowedToEditClaim(L)&&this.claimsForm.form.controls[se].setErrors({incorrect:!0})}isClaimInValid(se){return this.claimsForm.form.get(se)?.invalid??!1}makeFormDirty(){this.claimsForm.form.markAsDirty()}isFormValid(){return this.claimsForm.form.valid}claimDirtyAndInvalid(se){let L=this.claimsForm.form.get(se)??{invalid:!1,dirty:!1};return L.invalid&&L.dirty}resetForm(){this.claimsForm.reset()}getClaimType(se){return this.claimTypes.find(L=>L.name===se.type)}getLabel(se){return(0,e.gP)(se.displayName)?se.type:se.displayName}static{this.\u0275fac=function(L){return new(L||$)}}static{this.\u0275cmp=y.VBU({type:$,selectors:[["app-required-claims-form"]],viewQuery:function(L,J){if(1&L&&y.GBs(I,7),2&L){let te;y.mGM(te=y.lsd())&&(J.claimsForm=te.first)}},inputs:{claimTypes:"claimTypes",claims:"claims",notAllowedToEditClaim:"notAllowedToEditClaim",isPolicyClaim:"isPolicyClaim"},features:[y.OA$],decls:3,vars:1,consts:[["claimsForm","ngForm"],["claimvalue","ngModel"],["id","requiredClaims"],[3,"id","label","help",4,"ngFor","ngForOf"],[3,"id","label","help"],["class","tw-form-control","type","text","required","",3,"name","ngModel","appClaimRegex","id","disabled","keyup","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","required","",3,"name","ngModel","id","disabled","keyup","ngModelChange",4,"ngIf"],[3,"id","isTraffic","isAlt",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","",4,"ngIf"],["id","fail-msg","class","tw-form-text-danger",4,"ngIf"],["type","text","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","appClaimRegex","id","disabled"],["type","number","required","",1,"tw-form-control",3,"keyup","ngModelChange","name","ngModel","id","disabled"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"keyup","ngModelChange","id","name","disabled","ngModel"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],[3,"ngModelChange","keyup","change","id","name","ngModel","disabled"],[3,"ngModelChange","keyup","change","id","name","displayType","ngModel","disabled"],[1,""],[3,"valueChanged","keyupEvent","id","typeId","value","disabled"],["id","fail-msg",1,"tw-form-text-danger"]],template:function(L,J){1&L&&(y.j41(0,"form",2,0),y.DNE(2,j,7,9,"app-form-row",3),y.k0s()),2&L&&(y.R7$(2),y.Y8G("ngForOf",J.requiredClaims))},dependencies:[p.qT,p.me,p.Q0,p.Zm,p.BC,p.cb,p.YS,p.vS,p.cV,w.Sq,w.bT,i.Z,C.Y,m.m,d.$,f.j],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return $})()},803:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>p});var i=h(4438);const e=[[["","left",""]],[["","right",""]]],y=["[left]","[right]"];let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275cmp=i.VBU({type:w,selectors:[["app-row-bar"]],ngContentSelectors:y,decls:4,vars:0,consts:[[1,"tw-flex","tw-items-center","tw-bg-grey-100","tw-py-4","tw-sticky","tw-top-0","tw-z-20"],[1,"tw-shrink-0","tw-m-auto","tw-flex","tw-ml-4"]],template:function(d,f){1&d&&(i.NAR(e),i.j41(0,"div",0),i.SdG(1),i.j41(2,"div",1),i.SdG(3,1),i.k0s()())},encapsulation:2})}}return w})()},8698:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>I});var i=h(4438),e=h(177),y=h(1780);const p=["*"],w=O=>({"last:tw-border-0 last:tw-mb-0 last:tw-pb-0":O});function C(O,P){if(1&O&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&O){const b=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,b.helpText),i.npT)}}function m(O,P){if(1&O&&(i.j41(0,"label",4)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,C,2,3,"span",6),i.k0s()),2&O){const b=i.XpG();i.Y8G("for",b.idFor),i.R7$(2),i.JRh(i.bMT(3,3,b.labelText)),i.R7$(2),i.Y8G("ngIf",b.showHelpText)}}function d(O,P){if(1&O&&(i.nrm(0,"span",7),i.nI1(1,"translate")),2&O){const b=i.XpG(2);i.Y8G("innerHtml",i.bMT(1,1,b.helpText),i.npT)}}function f(O,P){if(1&O&&(i.j41(0,"p",8)(1,"span",5),i.EFF(2),i.nI1(3,"translate"),i.k0s(),i.DNE(4,d,2,3,"span",6),i.k0s()),2&O){const b=i.XpG();i.R7$(2),i.JRh(i.bMT(3,2,b.labelText)),i.R7$(2),i.Y8G("ngIf",b.showHelpText)}}let I=(()=>{class O{constructor(){this.helpText="",this.hasLabel=!0,this.isLast=!1,this.showHelpText=!1}ngOnInit(){""!==this.helpText&&(this.showHelpText=!0)}static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275cmp=i.VBU({type:O,selectors:[["app-form-row"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],labelText:[i.Mj6.None,"label","labelText"],helpText:[i.Mj6.None,"help","helpText"],hasLabel:"hasLabel",isLast:"isLast"},ngContentSelectors:p,decls:5,vars:5,consts:[[1,"tw-form-row-border","tw-flex","tw-items-center",3,"ngClass"],["class","tw-form-label-inline",3,"for",4,"ngIf"],["class","tw-form-label-inline",4,"ngIf"],[1,"tw-w-full"],[1,"tw-form-label-inline",3,"for"],[1,"tw-block"],["class","tw-form-label-help",3,"innerHtml",4,"ngIf"],[1,"tw-form-label-help",3,"innerHtml"],[1,"tw-form-label-inline"]],template:function(M,k){1&M&&(i.NAR(),i.j41(0,"div",0),i.DNE(1,m,5,5,"label",1)(2,f,5,4,"p",2),i.j41(3,"div",3),i.SdG(4),i.k0s()()),2&M&&(i.Y8G("ngClass",i.eq3(3,w,k.isLast)),i.R7$(),i.Y8G("ngIf",k.idFor&&k.hasLabel),i.R7$(),i.Y8G("ngIf",!k.idFor&&k.hasLabel))},dependencies:[e.YU,e.bT,y.D9],encapsulation:2})}}return O})()},9550:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>C});var i=h(4438),e=h(177);const y=["*"],p=(m,d)=>({"tw-form-switch__slider--traffic":m,"tw-form-switch__slider--alt":d}),w=(m,d)=>({"tw-form-switch__state--traffic":m,"tw-form-switch__state--alt":d});let C=(()=>{class m{constructor(){this.isAlt=!1,this.isTraffic=!1}static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["app-form-toggle"]],inputs:{idFor:[i.Mj6.None,"id","idFor"],isAlt:"isAlt",isTraffic:"isTraffic"},ngContentSelectors:y,decls:4,vars:9,consts:[[1,"tw-form-switch",3,"for"],[1,"tw-form-switch__slider",3,"ngClass"],[1,"tw-form-switch__state",3,"ngClass"]],template:function(I,O){1&I&&(i.NAR(),i.j41(0,"label",0),i.SdG(1),i.j41(2,"span",1),i.nrm(3,"span",2),i.k0s()()),2&I&&(i.Y8G("for",O.idFor),i.R7$(2),i.Y8G("ngClass",i.l_i(3,p,O.isTraffic,O.isAlt)),i.R7$(),i.Y8G("ngClass",i.l_i(6,w,O.isTraffic,O.isAlt)))},dependencies:[e.YU],encapsulation:2})}}return m})()},7263:(nt,fe,h)=>{"use strict";h.d(fe,{$N:()=>j,$_:()=>ne,AB:()=>N,KU:()=>w,Li:()=>$,Nj:()=>y,Nl:()=>k,TO:()=>R,X4:()=>E,Yt:()=>b,Zt:()=>G,_U:()=>P,ci:()=>se,gP:()=>d,hX:()=>C,hr:()=>p,jk:()=>L,kI:()=>f,lK:()=>re,uf:()=>O,zG:()=>J});var i=h(3178),e=h(4549);function y(K,me=" "){return C(K)?"":K.join(me)}function p(K,me=" "){return d(K)?[]:K.split(me)}function w(K,me){return`${e.c9.fromISO(K).toFormat(me)} UTC`}function C(K){return null==K}function d(K){return null==K||"string"!=typeof K||""===K||null!==K.match(/^ *$/)}function f(K){const me=document.createElement("a");return me.href=K,me.protocol+"//"+decodeURIComponent(me.host)}function O(K){const Ne=new RegExp("(^https?://|urn:|tcp://)").exec(K);if(Ne){if("urn:"===Ne[0])return!1}else K="http://"+K;const Ae=K.split("/");return K.endsWith("/")?Ae.length>4:Ae.length>3}function P(K){const Ne=new RegExp("https?://|urn:|tcp://").exec(K);return Ne?Ne[0]:null}function b(K,me){const Ne=JSON.parse(JSON.stringify(K));return me.forEach(Ae=>{let xe=Ne.length;for(;xe--;)Ne[xe].name===Ae.name&&Ne.splice(xe,1)}),Ne}function k(){let K=(new Date).getTime();return typeof performance<"u"&&"function"==typeof performance.now&&(K+=performance.now()),"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(me){const Ne=(K+16*Math.random())%16|0;return K=Math.floor(K/16),("x"===me?Ne:3&Ne|8).toString(16)})}function N(K){return me=>K.test(me.value)?null:{regex:{value:me.value}}}function G(){return K=>0===(K.value||"").trim().length?{whitespace:{value:K.value}}:null}function R(K){const me=e.c9.now();return e.c9.fromISO(K.value).diff(me).milliseconds>1?{dateInFuture:!0}:null}function j(K){const me=e.c9.fromISO(K.get("fromDate").value);return e.c9.fromISO(K.get("toDate").value).diff(me,"minutes").minutes<1?{fromDateIsAfterToDate:!0}:null}function $(K){if(K&&K.size>0){const me={};return K.forEach((Ne,Ae)=>{me[Ae]=Ne}),me}return{}}function ne(){const K=document.getElementsByTagName("base")[0].attributes.href.value;return d(K)?"/":K.endsWith("/")?K:`${K}/`}function se(K){return!(!K||0===K.length)&&(K.includes(i.a.IdentityServerManagerReadOnly)||K.includes(i.a.AllReadOnly))&&!(K.includes(i.a.IdentityServerManager)||K.includes(i.a.All))}function L(K){return!(!K||0===K.length)&&(K.includes(i.a.IdentityServerManager)||K.includes(i.a.All))}function J(K){return!(!K||0===K.length)&&(K.includes(i.a.UserManagerReadOnly)||K.includes(i.a.AllReadOnly))&&!(K.includes(i.a.UserManager)||K.includes(i.a.All))}function E(K){return!(!K||0===K.length)&&K.includes(i.a.All)}function re(K){return!(!K||0===K.length)&&K.includes(i.a.AllReadOnly)&&!K.includes(i.a.All)}},1560:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>se});var i=h(4438),e=h(9417),y=h(4866),p=h(3806),w=h(1088),C=h(7263),m=h(177),d=h(1780);const f=(L,J)=>({"tw-btn active":L,"tw-btn-link":J});function I(L,J){if(1&L&&(i.j41(0,"div"),i.nrm(1,"input",7),i.k0s()),2&L){const te=i.XpG();i.R7$(),i.FS9("id",te.id+"-input"),i.Y8G("ngModel",te.value)}}function O(L,J){if(1&L){const te=i.RV6();i.j41(0,"div")(1,"input",8),i.bIt("keydown",function(re){i.eBV(te);const K=i.XpG();return i.Njj(K.onKeyDown(re))})("paste",function(re){i.eBV(te);const K=i.XpG();return i.Njj(K.onPaste(re))})("ngModelChange",function(re){i.eBV(te);const K=i.XpG();return i.Njj(K.onValueChange(re))}),i.k0s()()}if(2&L){const te=i.XpG();i.R7$(),i.FS9("id",te.id+"-input"),i.Y8G("ngModel",te.value)("disabled",te.disabled)}}function P(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.years," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.years,"Year"))," ")}}function b(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.months," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.months,"Month"))," ")}}function M(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.weeks," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.weeks,"Week"))," ")}}function k(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.days," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.days,"Day"))," ")}}function N(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.hours," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.hours,"Hour"))," ")}}function G(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.minutes," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.minutes,"Minute"))," ")}}function R(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.Lme(" ",te.timeSpan.seconds," ",i.bMT(2,2,te.displayTimeSpanUnit(te.timeSpan.seconds,"Second"))," ")}}function j(L,J){if(1&L&&(i.j41(0,"span",13),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&L){const te=i.XpG(2);i.R7$(),i.SpI(" ",i.bMT(2,1,"Clients.Tokens.Durations."+te.tryGetNullMeaning())," ")}}function U(L,J){if(1&L&&(i.j41(0,"p",9),i.nrm(1,"span",10),i.nI1(2,"translate"),i.j41(3,"span",11),i.DNE(4,P,3,4,"span",12)(5,b,3,4,"span",12)(6,M,3,4,"span",12)(7,k,3,4,"span",12)(8,N,3,4,"span",12)(9,G,3,4,"span",12)(10,R,3,4,"span",12)(11,j,3,3,"span",12),i.k0s()()),2&L){const te=i.XpG();i.FS9("id",te.id+"-longTimeLabel"),i.R7$(),i.BMQ("aria-label",i.bMT(2,10,"Clients.Tokens.DurationTitle")),i.R7$(3),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.years)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.months)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.weeks)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.days)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.hours)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.minutes)>0),i.R7$(),i.Y8G("ngIf",(null==te.timeSpan?null:te.timeSpan.seconds)>0),i.R7$(),i.Y8G("ngIf",te.showNullTimeSpan())}}function $(L,J){if(1&L&&(i.j41(0,"span",16),i.EFF(1),i.k0s()),2&L){const te=i.XpG().$implicit;i.R7$(),i.JRh(te.duration)}}function ne(L,J){if(1&L){const te=i.RV6();i.j41(0,"li")(1,"button",14),i.bIt("click",function(){const re=i.eBV(te).$implicit,K=i.XpG();return i.Njj(K.setInput(re))}),i.DNE(2,$,2,1,"span",15),i.j41(3,"span"),i.EFF(4),i.nI1(5,"translate"),i.k0s()()()}if(2&L){const te=J.$implicit,E=i.XpG();i.R7$(),i.Y8G("ngClass",i.l_i(6,f,E.checkSelected(te),!E.checkSelected(te)))("disabled",E.disabled),i.R7$(),i.Y8G("ngIf",te.duration),i.R7$(2),i.JRh(i.bMT(5,4,"Clients.Tokens.Durations."+te.unit+"Short"))}}let se=(()=>{class L{constructor(){this.id=(0,C.Nl)(),this.allowNull=!1,this.disabled=!1,this.required=!1,this.unitMap=y.A.getUnitMap(),this.LifetimeUnit=p.u,this.onChange=te=>{},this.onTouched=()=>{}}set value(te){this.setValue(te,!1)}get value(){return this._value}setValue(te,E=!0){null!=te&&!Number.isInteger(te)||(this._value=te,null==te?this.timeSpan=null:this.timeSpan?this.timeSpan.formatSeconds(te):this.timeSpan=new w.Q(te),E&&this.onChange(te))}onValueChange(te){this.setValue(te)}onKeyDown(te){return 69!==te.keyCode&&189!==te.keyCode&&190!==te.keyCode}onPaste(te){const re=te.clipboardData?.getData("text"),K=Number(re);Number.isInteger(K)&&(K>0||null==K&&this.allowNull)||te.preventDefault()}writeValue(te){this.setValue(te,!1)}registerOnChange(te){this.onChange=te}registerOnTouched(te){this.onTouched=te}setDisabledState(te){this.disabled=te}validate(te){if(this.required){if(!this.value)return{required:{valid:!1}}}else if(!this.value)return null;return!isNaN(this.value)&&this.value>0?null:{number:{valid:!1}}}nullAwareMultiply(te,E){return null==te||null==E?null:te*E}setInput(te){const E=this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit));this.setValue(E)}checkSelected(te){return this.value===this.nullAwareMultiply(te.duration,this.unitMap.get(te.unit))}displayTimeSpanUnit(te,E){return"Clients.Tokens.Durations."+E+(te>1?"s":"")}showNullTimeSpan(){return!(!this.allowNull||null!=this.timeSpan&&(0!==this.timeSpan.years||0!==this.timeSpan.months||0!==this.timeSpan.weeks||0!==this.timeSpan.days||0!==this.timeSpan.hours||0!==this.timeSpan.minutes||0!==this.timeSpan.seconds))}tryGetNullMeaning(){return this.buttons.find(E=>null===E.duration)?.unit??"NotSet"}static{this.\u0275fac=function(E){return new(E||L)}}static{this.\u0275cmp=i.VBU({type:L,selectors:[["app-lifetime-picker"]],inputs:{id:"id",value:"value",buttons:"buttons",allowNull:"allowNull",disabled:"disabled",required:"required"},features:[i.Jv_([{provide:e.kq,useExisting:(0,i.Rfq)(()=>L),multi:!0},{provide:e.cz,useExisting:(0,i.Rfq)(()=>L),multi:!0}])],decls:8,vars:5,consts:[[1,"tw-flex-grid","sm:tw-flex-nowrap","lg:tw-max-w-2xl"],[1,"tw-flex-grid-col"],[4,"ngIf"],["class","tw-form-text tw-flex tw-items-center",3,"id",4,"ngIf"],[1,"tw-flex-grid-col","sm:tw-w-auto"],[1,"tw-flex","tw-items-center",3,"id"],[4,"ngFor","ngForOf"],["type","number","min","0","disabled","",1,"tw-form-control",3,"id","ngModel"],["type","number","min","0",1,"tw-form-control",3,"keydown","paste","ngModelChange","id","ngModel","disabled"],[1,"tw-form-text","tw-flex","tw-items-center",3,"id"],[1,"far","fa-clock","tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2",4,"ngIf"],[1,"tw-mr-2"],[3,"click","ngClass","disabled"],["class","tw-mr-1",4,"ngIf"],[1,"tw-mr-1"]],template:function(E,re){1&E&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,I,2,2,"div",2)(3,O,2,3,"div",2)(4,U,12,12,"p",3),i.k0s(),i.j41(5,"div",4)(6,"ul",5),i.DNE(7,ne,6,9,"li",6),i.k0s()()()),2&E&&(i.R7$(2),i.Y8G("ngIf",re.disabled),i.R7$(),i.Y8G("ngIf",!re.disabled),i.R7$(),i.Y8G("ngIf",re.value>0||null==re.value&&re.allowNull),i.R7$(2),i.FS9("id",re.id+"-buttonList"),i.R7$(),i.Y8G("ngForOf",re.buttons))},dependencies:[m.YU,m.Sq,m.bT,e.me,e.Q0,e.BC,e.VZ,e.vS,d.D9],encapsulation:2})}}return L})()},967:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>C});var i=h(177),e=h(7005),y=h(9417),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[i.MD,y.YN,y.X1,e.XE,p.h]})}}return m})()},8114:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>f});var i=h(4438),e=h(177),y=h(9216),p=h(1780);const w=["confirmModal"],C=[[["","body",""]]],m=["[body]"];function d(I,O){1&I&&i.nrm(0,"span",9)}let f=(()=>{class I{constructor(){this.type="narrow",this.buttonType="success",this.okText="Common.Ok",this.cancelText="Common.Cancel",this.inFlight=!1,this.confirm=new i.bkB,this.close=new i.bkB}get isShown(){return this.confirmModal.isShown}show(){this.confirmModal.show()}hide(){this.confirmModal.hide()}ok(){this.confirmModal.hideModal(),this.confirm.emit()}closeModal(){this.confirmModal.hideModal(),this.close.emit()}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275cmp=i.VBU({type:I,selectors:[["app-confirmation-modal"]],viewQuery:function(b,M){if(1&b&&i.GBs(w,7),2&b){let k;i.mGM(k=i.lsd())&&(M.confirmModal=k.first)}},inputs:{modalId:"modalId",type:"type",buttonType:"buttonType",title:"title",okText:"okText",cancelText:"cancelText",inFlight:"inFlight"},outputs:{confirm:"confirm",close:"close"},ngContentSelectors:m,decls:14,vars:16,consts:[["confirmModal",""],[3,"close","modalId","title","type"],["body",""],["footer",""],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["data-dismiss","modal",3,"click","id","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],["data-dismiss","modal",1,"tw-btn-link","tw--mr-4",3,"click","id"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(b,M){if(1&b){const k=i.RV6();i.NAR(C),i.j41(0,"app-simple-modal",1,0),i.bIt("close",function(){return i.eBV(k),i.Njj(M.close.emit())}),i.qex(2,2),i.SdG(3),i.bVm(),i.qex(4,3),i.j41(5,"div",4)(6,"div",5)(7,"button",6),i.bIt("click",function(){return i.eBV(k),i.Njj(M.ok())}),i.EFF(8),i.nI1(9,"translate"),i.DNE(10,d,1,0,"span",7),i.k0s()(),i.j41(11,"button",8),i.bIt("click",function(){return i.eBV(k),i.Njj(M.closeModal())}),i.EFF(12),i.nI1(13,"translate"),i.k0s()(),i.bVm(),i.k0s()}2&b&&(i.Y8G("modalId",M.modalId)("title",M.title)("type",M.type),i.R7$(7),i.ZvI("tw-btn",M.buttonType?"-"+M.buttonType:"",""),i.Y8G("id",M.modalId+"-confirmBtn")("disabled",M.inFlight),i.R7$(),i.SpI(" ",i.bMT(9,12,M.okText)," "),i.R7$(2),i.Y8G("ngIf",M.inFlight),i.R7$(),i.Y8G("id",M.modalId+"-cancelBtn"),i.R7$(),i.JRh(i.bMT(13,14,M.cancelText)))},dependencies:[e.bT,y.R,p.D9],encapsulation:2})}}return I})()},7778:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>O});var i=h(4438),e=h(177),y=h(8114),p=h(1780);const w=["deleteClientModal"];function C(P,b){1&P&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&P&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.Delete.AreYouSureSimple3")))}function m(P,b){if(1&P&&(i.j41(0,"p",6),i.EFF(1),i.nI1(2,"translate"),i.j41(3,"strong"),i.EFF(4),i.k0s(),i.EFF(5,"?"),i.k0s()),2&P){const M=i.XpG();i.R7$(),i.SpI("",i.bMT(2,2,"Common.Delete.AreYouSureSimple")," "),i.R7$(3),i.JRh(M.resourceName)}}function d(P,b){1&P&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&P&&i.Y8G("innerHTML",i.bMT(1,1,"Common.Delete.Warning"),i.npT)}function f(P,b){if(1&P&&(i.nrm(0,"p",7),i.nI1(1,"translate")),2&P){const M=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,M.danger),i.npT)}}function I(P,b){if(1&P&&(i.nrm(0,"p",8),i.nI1(1,"translate")),2&P){const M=i.XpG();i.Y8G("innerHTML",i.bMT(1,1,M.warning),i.npT)}}let O=(()=>{class P{constructor(){this.resourceName=null,this.warning=null,this.danger=null,this.destructive=!0,this.delete=new i.bkB,this.close=new i.bkB}get isShown(){return this.deleteModal.isShown}show(){this.deleteModal.show()}hide(){this.deleteModal.hide()}closeModal(){this.deleteModal.hide(),this.close.emit(null)}static{this.\u0275fac=function(k){return new(k||P)}}static{this.\u0275cmp=i.VBU({type:P,selectors:[["app-delete-confirmation-modal"]],viewQuery:function(k,N){if(1&k&&i.GBs(w,7),2&k){let G;i.mGM(G=i.lsd())&&(N.deleteModal=G.first)}},inputs:{modalId:"modalId",resourceName:"resourceName",warning:"warning",danger:"danger",destructive:"destructive"},outputs:{delete:"delete",close:"close"},decls:8,vars:11,consts:[["deleteClientModal",""],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],["class","tw-mb-4",4,"ngIf"],["class","tw-pill-danger",3,"innerHTML",4,"ngIf"],["class","tw-pill-warning",3,"innerHTML",4,"ngIf"],[1,"tw-mb-4"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-pill-warning",3,"innerHTML"]],template:function(k,N){if(1&k){const G=i.RV6();i.j41(0,"app-confirmation-modal",1,0),i.bIt("confirm",function(){return i.eBV(G),i.Njj(N.delete.emit())}),i.qex(2,2),i.DNE(3,C,3,3,"p",3)(4,m,6,4,"p",3)(5,d,2,3,"p",4)(6,f,2,3,"p",4)(7,I,2,3,"p",5),i.bVm(),i.k0s()}2&k&&(i.Y8G("modalId",N.modalId)("type","danger")("buttonType","danger")("title","Common.Delete.Confirm")("okText","Common.Delete.Title")("cancelText","Common.Delete.No"),i.R7$(3),i.Y8G("ngIf",!N.resourceName),i.R7$(),i.Y8G("ngIf",N.resourceName),i.R7$(),i.Y8G("ngIf",N.destructive&&null===N.warning&&null===N.danger),i.R7$(),i.Y8G("ngIf",N.destructive&&N.danger),i.R7$(),i.Y8G("ngIf",N.destructive&&N.warning))},dependencies:[e.bT,y.B,p.D9],encapsulation:2})}}return P})()},4367:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>m});var i=h(177),e=h(1780),y=h(779),p=h(1993),w=h(4193),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({imports:[i.MD,e.h,p.E,w.c,e.h,y.Q_]})}}return d})()},3899:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>L});var i=h(4438),e=h(177),y=h(1413),p=h(3726),w=h(6977),C=h(6354),m=h(9172),d=h(5964),f=h(3993);const I=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");var b=h(1258),M=h(7185),k=h(4754),N=h(1780);const G=["*"];function R(J,te){if(1&J){const E=i.RV6();i.j41(0,"button",16),i.bIt("click",function(){i.eBV(E);const K=i.XpG();return i.Njj(K.cancel())}),i.nrm(1,"span",17),i.j41(2,"span",18),i.EFF(3),i.nI1(4,"translate"),i.k0s()()}2&J&&(i.R7$(3),i.JRh(i.bMT(4,1,"Common.Close")))}function j(J,te){if(1&J){const E=i.RV6();i.j41(0,"button",19),i.bIt("click",function(){i.eBV(E);const K=i.XpG();return i.Njj(K.save())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&J){const E=i.XpG();i.Y8G("disabled",E.addDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,E.saveText)," ")}}function U(J,te){if(1&J){const E=i.RV6();i.j41(0,"button",20),i.bIt("click",function(){i.eBV(E);const K=i.XpG();return i.Njj(K.delete())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}if(2&J){const E=i.XpG();i.Y8G("disabled",E.deleteDisabled),i.R7$(),i.SpI(" ",i.bMT(2,2,E.deleteText)," ")}}function $(J,te){if(1&J){const E=i.RV6();i.j41(0,"div",21)(1,"button",22),i.bIt("click",function(){i.eBV(E);const K=i.XpG();return i.Njj(K.saveAndReAdd())}),i.EFF(2),i.nI1(3,"translate"),i.k0s()()}if(2&J){const E=i.XpG();i.R7$(),i.Y8G("disabled",E.addDisabled),i.R7$(),i.SpI(" ",i.bMT(3,2,E.saveAndReAddText)," ")}}function ne(J,te){if(1&J){const E=i.RV6();i.j41(0,"button",23),i.bIt("click",function(){i.eBV(E);const K=i.XpG();return i.Njj(K.cancel())}),i.EFF(1),i.nI1(2,"translate"),i.k0s()}2&J&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Cancel")," "))}function se(J,te){1&J&&i.nrm(0,"div",24)}let L=(()=>{class J{constructor(E,re,K){this.document=E,this.elRef=re,this.modalService=K,this.hideCancel=!1,this.modalType=M.q.Default,this.saveText="Common.Save",this.saveAndReAddText="Common.SaveAndAdd",this.deleteText="Common.Delete.Title",this.addDisabled=!1,this.deleteDisabled=!1,this.onSave=new i.bkB,this.onSaveAndReAdd=new i.bkB,this.onDelete=new i.bkB,this.onCancel=new i.bkB,this.isVisible=!1,this.isVisible$=new y.B,this.showBackdrop=!1}ngOnInit(){this.modalService.add(this),this.element=this.elRef.nativeElement.firstChild,this.actions&&(this.canDelete=this.actions.includes(b.N.Delete),this.canSave=this.actions.includes(b.N.Save),this.canSaveAndReAdd=this.actions.includes(b.N.SaveAndReAdd))}delete(){this.onDelete.emit()}save(){this.onSave.emit(),this.modalService.hideById(this.modalId)}saveAndReAdd(){this.onSaveAndReAdd.emit()}show(){this.isVisible=!0,function O(J,te){const E=function P(J){const te=Array.from(J.querySelectorAll(I)).filter(E=>-1!==E.tabIndex);return[te[0],te[te.length-1]]}(J),[re,K]=E,me=(0,p.R)(J,"focusin").pipe((0,w.Q)(te),(0,C.T)(Ne=>Ne.target),(0,m.Z)(re));re.focus(),(0,p.R)(J,"keydown").pipe((0,w.Q)(te),(0,d.p)(Ne=>"Tab"===Ne.key),(0,f.E)(me)).subscribe(([Ne,Ae])=>{(Ae===re||Ae===J)&&Ne.shiftKey&&(K.focus(),Ne.preventDefault()),Ae===K&&!Ne.shiftKey&&(re.focus(),Ne.preventDefault())}),(0,p.R)(document,"click").pipe((0,w.Q)(te),(0,f.E)(me),(0,C.T)(Ne=>Ne[1])).subscribe(Ne=>{Ne.focus()})}(this.element,this.isVisible$),1===this.modalService.visibleModals()&&(this.showBackdrop=!0,this.document.body.classList.add("tw-overflow-hidden")),(0,p.R)(this.document,"keydown").pipe((0,w.Q)(this.isVisible$),(0,d.p)(E=>"Esc"===E.key)).subscribe(()=>{this.isVisible&&this.cancel()})}cancel(){!1===this.hideCancel&&this.onCancel.emit()}hide(){this.isVisible=!1,this.isVisible$.next(),this.modalService.visibleModals()<1&&(this.showBackdrop=!1,this.document.body.classList.remove("tw-overflow-hidden"))}ngOnDestroy(){this.modalService.hideById(this.modalId),this.modalService.remove(this)}static{this.\u0275fac=function(re){return new(re||J)(i.rXU(e.qQ),i.rXU(i.aKT),i.rXU(k.B))}}static{this.\u0275cmp=i.VBU({type:J,selectors:[["app-custom-modal"]],inputs:{modalId:"modalId",title:"title",actions:"actions",hideCancel:"hideCancel",modalType:"modalType",saveText:"saveText",saveAndReAddText:"saveAndReAddText",deleteText:"deleteText",addDisabled:"addDisabled",deleteDisabled:"deleteDisabled"},outputs:{onSave:"onSave",onSaveAndReAdd:"onSaveAndReAdd",onDelete:"onDelete",onCancel:"onCancel"},ngContentSelectors:G,decls:19,vars:15,consts:[["role","dialog","aria-modal","true","tabindex","-1",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button","class","modal-close",3,"click",4,"ngIf"],[1,"modal-body","scrollbars"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","save","class","tw-btn-success tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["id","delete","class","tw-btn-danger tw-mr-3","type","submit",3,"disabled","click",4,"ngIf"],["class","tw-hidden tw-mr-3 md:tw-block",4,"ngIf"],["class","tw-btn-link tw--mr-4",3,"click",4,"ngIf"],["id","backdrop","class","modal-backdrop show",4,"ngIf"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["id","save","type","submit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","delete","type","submit",1,"tw-btn-danger","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","tw-mr-3","md:tw-block"],["id","saveAndReSubmit","type","submit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"],["id","backdrop",1,"modal-backdrop","show"]],template:function(re,K){1&re&&(i.NAR(),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h2",4),i.EFF(5),i.nI1(6,"translate"),i.k0s(),i.DNE(7,R,5,3,"button",5),i.k0s(),i.j41(8,"div",6),i.SdG(9),i.k0s(),i.nrm(10,"div",7),i.j41(11,"div",8)(12,"div",9)(13,"div",10),i.DNE(14,j,3,4,"button",11)(15,U,3,4,"button",12)(16,$,4,4,"div",13),i.k0s(),i.DNE(17,ne,3,3,"button",14),i.k0s()()()()(),i.DNE(18,se,1,0,"div",15)),2&re&&(i.AVh("show",K.isVisible),i.BMQ("aria-hidden",!K.isVisible)("aria-labelledby","modal-title-"+K.modalId),i.R7$(4),i.Mz_("id","modal-title-",K.modalId,""),i.R7$(),i.JRh(i.bMT(6,13,K.title)),i.R7$(2),i.Y8G("ngIf",!K.hideCancel),i.R7$(7),i.Y8G("ngIf",K.canSave),i.R7$(),i.Y8G("ngIf",K.canDelete),i.R7$(),i.Y8G("ngIf",K.canSaveAndReAdd),i.R7$(),i.Y8G("ngIf",!K.hideCancel),i.R7$(),i.Y8G("ngIf",K.showBackdrop))},dependencies:[e.bT,N.D9],encapsulation:2})}}return J})()},4754:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>y});var i=h(177),e=h(4438);let y=(()=>{class p{constructor(C){this.document=C,this.modalList=[]}add(C){this.modalList.push(C)}remove(C){const m=this.modalList.indexOf(C);this.modalList.splice(m)}visibleModals(){return this.modalList.filter(C=>C.isVisible).length}showById(C,m){null!=m&&null!=m.nativeElement&&(this.lastClickedEl=m.nativeElement),this.modalList.find(f=>f.modalId===C).show()}hideById(C){const m=this.modalList.find(d=>d.modalId===C);m&&(m.hide(),this.focusLastEl())}focusLastEl(){this.lastClickedEl&&this.lastClickedEl.focus()}static{this.\u0275fac=function(m){return new(m||p)(e.KVO(i.qQ))}}static{this.\u0275prov=e.jDH({token:p,factory:p.\u0275fac,providedIn:"root"})}}return p})()},9216:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>d});var i=h(4438),e=h(779),y=h(1780);const p=["simpleModal"],w=[[["","body",""]],[["","footer",""]]],C=["[body]","[footer]"],m=()=>({backdrop:"static",animated:!1});let d=(()=>{class f{constructor(){this.type=null,this.inFlight=!1,this.close=new i.bkB}get isShown(){return this.simpleModal.isShown}get modalType(){return this.type?` modal-dialog--${this.type}`:""}show(){this.simpleModal.show()}hide(){this.simpleModal.hide()}hideModal(){this.simpleModal.hide()}closeModal(){this.simpleModal.hide(),this.close.emit()}static{this.\u0275fac=function(P){return new(P||f)}}static{this.\u0275cmp=i.VBU({type:f,selectors:[["app-simple-modal"]],viewQuery:function(P,b){if(1&P&&i.GBs(p,7),2&P){let M;i.mGM(M=i.lsd())&&(b.simpleModal=M.first)}},inputs:{modalId:"modalId",type:"type",title:"title",inFlight:"inFlight"},outputs:{close:"close"},ngContentSelectors:C,decls:17,vars:13,consts:[["simpleModal","bs-modal"],["bsModal","","bsModal","","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"id","config"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal",1,"modal-close",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","tw-text-center","scrollbars"],[1,"modal-footer"]],template:function(P,b){if(1&P){const M=i.RV6();i.NAR(w),i.j41(0,"div",1,0)(2,"div")(3,"div",2)(4,"div",3)(5,"h5",4),i.EFF(6),i.nI1(7,"translate"),i.k0s(),i.j41(8,"button",5),i.bIt("click",function(){return i.eBV(M),i.Njj(b.closeModal())}),i.nrm(9,"span",6),i.j41(10,"span",7),i.EFF(11),i.nI1(12,"translate"),i.k0s()()(),i.j41(13,"div",8),i.SdG(14),i.k0s(),i.j41(15,"div",9),i.SdG(16,1),i.k0s()()()()}if(2&P){let M;i.Y8G("id",null!==(M=b.modalId)&&void 0!==M?M:"simpleModel")("config",i.lJ4(12,m)),i.R7$(2),i.ZvI("modal-dialog",b.modalType,""),i.R7$(4),i.JRh(i.bMT(7,8,b.title)),i.R7$(2),i.Y8G("id",b.modalId+"-closeBtn"),i.R7$(3),i.JRh(i.bMT(12,10,"Common.Close"))}},dependencies:[e.hZ,y.D9],encapsulation:2})}}return f})()},7156:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>m});var i=h(4438),e=h(177),y=h(1780);function p(d,f){if(1&d&&(i.j41(0,"span",6),i.EFF(1),i.k0s()),2&d){const I=i.XpG();i.R7$(),i.JRh(I.pageXofX)}}function w(d,f){1&d&&(i.j41(0,"span",7),i.EFF(1,"\u2022"),i.k0s())}function C(d,f){if(1&d){const I=i.RV6();i.j41(0,"nav",8),i.nI1(1,"translate"),i.j41(2,"ul",9)(3,"li")(4,"button",10),i.bIt("click",function(){i.eBV(I);const P=i.XpG();return i.Njj(P.goToPage(1))}),i.j41(5,"span"),i.nrm(6,"span",11),i.k0s(),i.j41(7,"span",12),i.EFF(8),i.nI1(9,"translate"),i.k0s()()(),i.j41(10,"li",13)(11,"button",14),i.bIt("click",function(){i.eBV(I);const P=i.XpG();return i.Njj(P.goToPage(P.currentPage-1))}),i.j41(12,"span"),i.nrm(13,"span",15),i.k0s(),i.j41(14,"span",12),i.EFF(15),i.nI1(16,"translate"),i.k0s()()(),i.j41(17,"li",13)(18,"button",16),i.bIt("click",function(){i.eBV(I);const P=i.XpG();return i.Njj(P.goToPage(P.currentPage+1))}),i.j41(19,"span"),i.nrm(20,"span",17),i.k0s(),i.j41(21,"span",12),i.EFF(22),i.nI1(23,"translate"),i.k0s()()(),i.j41(24,"li",13)(25,"button",18),i.bIt("click",function(){i.eBV(I);const P=i.XpG();return i.Njj(P.goToPage(P.lastPage))}),i.j41(26,"span"),i.nrm(27,"span",19),i.k0s(),i.j41(28,"span",12),i.EFF(29),i.nI1(30,"translate"),i.k0s()()()()()}if(2&d){const I=i.XpG();i.BMQ("aria-label",i.bMT(1,9,"Nav.Page")),i.R7$(4),i.Y8G("disabled",1==I.currentPage),i.R7$(4),i.JRh(i.bMT(9,11,"Nav.First")),i.R7$(3),i.Y8G("disabled",1==I.currentPage),i.R7$(4),i.JRh(i.bMT(16,13,"Nav.Previous")),i.R7$(3),i.Y8G("disabled",I.currentPage==I.lastPage),i.R7$(4),i.JRh(i.bMT(23,15,"Nav.Next")),i.R7$(3),i.Y8G("disabled",I.currentPage==I.lastPage),i.R7$(4),i.JRh(i.bMT(30,17,"Nav.Last"))}}let m=(()=>{class d{constructor(I,O){this.translate=I,this.decimalPipe=O,this.onGoToPage=new i.bkB}ngOnInit(){this.setupDefaults(),this.setupPages()}setupDefaults(){this.totalResults=void 0===this.totalResults?0:this.totalResults,this.currentPage=void 0===this.currentPage?1:this.currentPage,this.lastPage=void 0===this.lastPage?1:this.lastPage,this.hidePager=void 0!==this.hidePager}setupPages(){let I=this.translate.instant("Nav.PageXofX");I=I.replace("{0}",this.decimalPipe.transform(this.currentPage)),I=I.replace("{1}",this.decimalPipe.transform(this.lastPage)),this.pageXofX=I}goToPage(I){void 0!==this.onGoToPage&&(I<1?I=1:I>this.lastPage&&(I=this.lastPage),this.onGoToPage.emit(I))}static{this.\u0275fac=function(O){return new(O||d)(i.rXU(y.c$),i.rXU(e.QX))}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-pager"]],inputs:{totalResults:"totalResults",currentPage:"currentPage",lastPage:"lastPage",hidePager:"hidePager"},outputs:{onGoToPage:"onGoToPage"},features:[i.Jv_([e.QX])],decls:9,vars:9,consts:[[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-mt-2"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-w-full","tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2","sm:tw-w-auto"],["class","tw-hidden md:tw-inline",4,"ngIf"],["class","tw-hidden tw-text-base tw-mx-2 tw-opacity-50 md:tw-inline","aria-hidden","true",4,"ngIf"],["id","pager-total-results"],["class","tw-mt-2 tw-mx-auto sm:mt-0 sm:tw-mr-0",4,"ngIf"],[1,"tw-hidden","md:tw-inline"],["aria-hidden","true",1,"tw-hidden","tw-text-base","tw-mx-2","tw-opacity-50","md:tw-inline"],[1,"tw-mt-2","tw-mx-auto","sm:mt-0","sm:tw-mr-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-bg-white","tw-rounded"],["id","pagerFirstPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-left"],[1,"sr-only"],[1,"tw-border-l-2","tw-border-grey-100"],["id","pagerPrevPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-left"],["id","pagerNextPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-right"],["id","pagerLastPage",1,"tw-btn-link",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-angle-double-right"]],template:function(O,P){1&O&&(i.j41(0,"div",0)(1,"div",1),i.DNE(2,p,2,1,"span",2)(3,w,2,0,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"number"),i.nI1(7,"translate"),i.k0s()(),i.DNE(8,C,31,19,"nav",5),i.k0s()),2&O&&(i.R7$(2),i.Y8G("ngIf",!P.hidePager),i.R7$(),i.Y8G("ngIf",!P.hidePager),i.R7$(2),i.Lme("",i.bMT(6,5,P.totalResults)," ",i.bMT(7,7,"Nav.ResultsFound"),""),i.R7$(3),i.Y8G("ngIf",!P.hidePager))},dependencies:[e.bT,e.QX,y.D9],encapsulation:2})}}return d})()},5731:(nt,fe,h)=>{"use strict";h.d(fe,{i:()=>C});var i=h(177),e=h(1583),y=h(1683),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[i.MD,e.iI,y.Y,p.h]})}}return m})()},2292:(nt,fe,h)=>{"use strict";h.d(fe,{L:()=>m});var i=h(4438),e=h(7263),y=h(177);function p(d,f){if(1&d&&(i.j41(0,"div",5)(1,"span",6),i.EFF(2),i.k0s()()),2&d){const I=i.XpG().$implicit,O=i.XpG();i.BMQ("aria-label",O.enumValues),i.R7$(2),i.JRh(I)}}function w(d,f){if(1&d){const I=i.RV6();i.j41(0,"button",7),i.bIt("click",function(){i.eBV(I);const P=i.XpG().index,b=i.XpG();return i.Njj(b.deleteValue(P))}),i.nrm(1,"span",8),i.j41(2,"span",6),i.EFF(3),i.k0s()()}if(2&d){const I=i.XpG().$implicit,O=i.XpG();i.BMQ("aria-label",O.enumValues),i.R7$(3),i.JRh(I)}}function C(d,f){if(1&d&&(i.j41(0,"li",2),i.DNE(1,p,3,2,"div",3)(2,w,4,2,"button",4),i.k0s()),2&d){const I=i.XpG();i.R7$(),i.Y8G("ngIf",I.readonly),i.R7$(),i.Y8G("ngIf",!I.readonly)}}let m=(()=>{class d{get id(){return this._id}set id(I){this._id=I||(0,e.Nl)()}constructor(){this.readonly=!1,this.onDelete=new i.bkB}ngOnInit(){}deleteValue(I){this.readonly||this.onDelete.emit(I)}static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275cmp=i.VBU({type:d,selectors:[["app-pill-list"]],inputs:{id:"id",values:"values",readonly:"readonly"},outputs:{onDelete:"onDelete"},decls:2,vars:2,consts:[[3,"id"],["class","tw-pill",4,"ngFor","ngForOf"],[1,"tw-pill"],["class","tw-btn-small tw-rounded tw-pl-1",4,"ngIf"],["class","tw-btn-small tw-rounded tw-pl-1",3,"click",4,"ngIf"],[1,"tw-btn-small","tw-rounded","tw-pl-1"],[1,"tw-pl-1"],[1,"tw-btn-small","tw-rounded","tw-pl-1",3,"click"],["aria-hidden","true",1,"fas","fa-times","tw-mr-1"]],template:function(O,P){1&O&&(i.j41(0,"ul",0),i.DNE(1,C,3,2,"li",1),i.k0s()),2&O&&(i.FS9("id",P.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",P.values))},dependencies:[y.Sq,y.bT]})}}return d})()},3843:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>y});var i=h(177),e=h(4438);let y=(()=>{class p{static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275mod=e.$C({type:p})}static{this.\u0275inj=e.G2t({imports:[i.MD]})}}return p})()},6843:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>I});var i=h(177),e=h(1683),y=h(1780),p=h(8251),w=h(4193),C=h(4367),m=h(9417),d=h(8389),f=h(4438);let I=(()=>{class O{static{this.\u0275fac=function(M){return new(M||O)}}static{this.\u0275mod=f.$C({type:O})}static{this.\u0275inj=f.G2t({imports:[i.MD,m.YN,e.Y,y.h,p.h,w.c,C.N,d.w]})}}return O})()},8762:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>te});var i=h(6303),e=h(1088),y=h(4438),p=h(177),w=h(1780);function C(E,re){if(1&E&&(y.j41(0,"div")(1,"p",4),y.EFF(2),y.k0s()()),2&E){const K=y.XpG(3);y.R7$(2),y.JRh(K.displayValue)}}function m(E,re){if(1&E&&(y.j41(0,"div"),y.DNE(1,C,3,1,"div",2),y.k0s()),2&E){const K=y.XpG(2),me=y.sdS(2);y.R7$(),y.Y8G("ngIf",K.displayValue)("ngIfElse",me)}}function d(E,re){if(1&E&&(y.j41(0,"div",10),y.EFF(1),y.j41(2,"small",11),y.EFF(3),y.k0s()()),2&E){const K=y.XpG(),me=K.$implicit;y.Y8G("id","multiMainText"+K.i),y.R7$(),y.SpI(" ",me.MainText," "),y.R7$(2),y.JRh(me.HelpText)}}function f(E,re){if(1&E&&(y.j41(0,"li",8),y.DNE(1,d,4,3,"div",9),y.k0s()),2&E){const K=re.$implicit;y.XpG(3);const me=y.sdS(2);y.R7$(),y.Y8G("ngIf",K.MainText)("ngIfElse",me)}}function I(E,re){if(1&E&&(y.j41(0,"div")(1,"div",5)(2,"ul",6),y.DNE(3,f,2,2,"li",7),y.k0s()()()),2&E){const K=y.XpG(2);y.R7$(3),y.Y8G("ngForOf",K.filteredValues)}}function O(E,re){1&E&&y.nrm(0,"div")}function P(E,re){if(1&E&&(y.j41(0,"p",22),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.years," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.years,"Year"))," ")}}function b(E,re){if(1&E&&(y.j41(0,"p",23),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.months," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.months,"Month"))," ")}}function M(E,re){if(1&E&&(y.j41(0,"p",24),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.weeks," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.weeks,"Week"))," ")}}function k(E,re){if(1&E&&(y.j41(0,"p",25),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.days," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.days,"Day"))," ")}}function N(E,re){if(1&E&&(y.j41(0,"p",26),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.hours," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.hours,"Hour"))," ")}}function G(E,re){if(1&E&&(y.j41(0,"p",27),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.minutes," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.minutes,"Minute"))," ")}}function R(E,re){if(1&E&&(y.j41(0,"span",28),y.EFF(1),y.nI1(2,"translate"),y.k0s()),2&E){const K=y.XpG(5);y.R7$(),y.Lme(" ",K.timeSpan.seconds," ",y.bMT(2,2,K.displayTimeSpanUnit(K.timeSpan.seconds,"Second"))," ")}}function j(E,re){if(1&E&&(y.j41(0,"div")(1,"div",13),y.DNE(2,P,3,4,"p",14)(3,b,3,4,"p",15)(4,M,3,4,"p",16)(5,k,3,4,"p",17)(6,N,3,4,"p",18)(7,G,3,4,"p",19)(8,R,3,4,"span",20),y.k0s(),y.j41(9,"small",21),y.EFF(10),y.k0s()()),2&E){const K=y.XpG(4);y.R7$(2),y.Y8G("ngIf",K.timeSpan.years>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.months>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.weeks>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.days>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.hours>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.minutes>0),y.R7$(),y.Y8G("ngIf",K.timeSpan.seconds>0),y.R7$(2),y.JRh(K.values[0].MainText)}}function U(E,re){1&E&&(y.j41(0,"div")(1,"p",29),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&E&&(y.R7$(2),y.Lme("",0," ",y.bMT(3,2,"Clients.Tokens.Durations.Seconds"),""))}function $(E,re){1&E&&(y.j41(0,"div")(1,"p",30),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&E&&(y.R7$(2),y.JRh(y.bMT(3,1,"Clients.Tokens.Durations.Unlimited")))}function ne(E,re){if(1&E&&y.DNE(0,j,11,8,"div",3)(1,U,4,4,"div",3)(2,$,4,3,"div",3),2&E){const K=y.XpG(3);y.Y8G("ngIf","Unlimited"!=K.values[0].MainText&&0!==K.values[0].MainText&&"0"!==K.values[0].MainText),y.R7$(),y.Y8G("ngIf",0===K.values[0].MainText||"0"===K.values[0].MainText),y.R7$(),y.Y8G("ngIf","Unlimited"==K.values[0].MainText)}}function se(E,re){if(1&E&&(y.j41(0,"div"),y.DNE(1,O,1,0,"div",12)(2,ne,3,3,"ng-template",null,1,y.C5r),y.k0s()),2&E){const K=y.sdS(3),me=y.XpG(2),Ne=y.sdS(2);y.R7$(),y.Y8G("ngIf",null==me.values[0].MainText)("ngIfThen",Ne)("ngIfElse",K)}}function L(E,re){if(1&E&&(y.j41(0,"div"),y.DNE(1,m,2,2,"div",3)(2,I,4,1,"div",3)(3,se,4,3,"div",3),y.k0s()),2&E){const K=y.XpG();y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Single||K.fieldType==K.ReadOnlyFieldType.CommaSeparated),y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.Multi),y.R7$(),y.Y8G("ngIf",K.fieldType==K.ReadOnlyFieldType.LifetimePicker)}}function J(E,re){if(1&E&&(y.j41(0,"div")(1,"p",31),y.EFF(2),y.nI1(3,"translate"),y.k0s()()),2&E){const K=y.XpG();y.R7$(2),y.SpI(" ",y.bMT(3,1,K.noValueString)," ")}}let te=(()=>{class E{constructor(){this.customNoValue=null,this.filteredValues=[]}ngOnChanges(K){this.initData()}ngOnInit(){this.noValueString=this.customNoValue?this.customNoValue:this.fieldType==i.t.Single||this.fieldType==i.t.LifetimePicker?"Common.NoValue":"Common.NoValues",this.initData()}initData(){!this.values||void 0===this.values||(this.filteredValues=this.values.filter(K=>null!=K),this.filteredValues.length<1)||(this.fieldType===i.t.Single?this.displayValue=this.filteredValues[0].MainText||null:this.fieldType===i.t.CommaSeparated?this.displayValue=this.filteredValues.map(K=>K.MainText).join(", ").trimEnd():this.fieldType===i.t.LifetimePicker&&null!==this.values[0].MainText&&"Unlimited"!==this.values[0].MainText&&(this.timeSpan=new e.Q(+this.values[0].MainText)))}displayTimeSpanUnit(K,me){return"Clients.Tokens.Durations."+me+(K>1?"s":"")}get ReadOnlyFieldType(){return i.t}static{this.\u0275fac=function(me){return new(me||E)}}static{this.\u0275cmp=y.VBU({type:E,selectors:[["app-readonly"]],inputs:{fieldType:"fieldType",values:"values",customNoValue:"customNoValue"},features:[y.OA$],decls:3,vars:2,consts:[["valuesEmptyBlock",""],["lifetimeHasValueBlock",""],[4,"ngIf","ngIfElse"],[4,"ngIf"],["id","singleCommaMainText"],[1,"tw-overflow-hidden","tw-overflow-y-auto","scrollbars","tw-max-h-readonly-field"],[1,"tw--mt-2"],["class","tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pt-2"],[3,"id",4,"ngIf","ngIfElse"],[3,"id"],["id","multiHelpText",1,"tw-block","tw-text-grey-700"],[4,"ngIf","ngIfThen","ngIfElse"],[1,"tw-flex","tw-flex-wrap"],["class","tw-mr-2","id","lifetimeYears",4,"ngIf"],["class","tw-mr-2","id","lifetimeMonths",4,"ngIf"],["class","tw-mr-2","id","lifetimeWeeks",4,"ngIf"],["class","tw-mr-2","id","lifetimeDays",4,"ngIf"],["class","tw-mr-2","id","lifetimeHours",4,"ngIf"],["class","tw-mr-2","id","lifetimeMinutes",4,"ngIf"],["class","tw-mr-2","id","lifetimeSeconds",4,"ngIf"],["id","lifetimeSeconds",1,"tw-block","tw-text-grey-700"],["id","lifetimeYears",1,"tw-mr-2"],["id","lifetimeMonths",1,"tw-mr-2"],["id","lifetimeWeeks",1,"tw-mr-2"],["id","lifetimeDays",1,"tw-mr-2"],["id","lifetimeHours",1,"tw-mr-2"],["id","lifetimeMinutes",1,"tw-mr-2"],["id","lifetimeSeconds",1,"tw-mr-2"],["id","zero"],["id","unlimited"],["id","valuesUndefined",1,"tw-italic","tw-text-grey-400"]],template:function(me,Ne){if(1&me&&y.DNE(0,L,4,3,"div",2)(1,J,4,3,"ng-template",null,0,y.C5r),2&me){const Ae=y.sdS(2);y.Y8G("ngIf",(null==Ne.filteredValues?null:Ne.filteredValues.length)>0)("ngIfElse",Ae)}},dependencies:[p.Sq,p.bT,w.D9]})}}return E})()},7677:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>p});var i=h(177),e=h(1780),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[e.h,i.MD]})}}return w})()},2510:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>y});var i=h(4438),e=h(1780);let y=(()=>{class p{constructor(){this.placeholder=null,this.onSearch=new i.bkB}search(C){this.onSearch.emit(C.target.value)}static{this.\u0275fac=function(m){return new(m||p)}}static{this.\u0275cmp=i.VBU({type:p,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onSearch:"onSearch"},decls:8,vars:4,consts:[["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","text",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"keyup","placeholder"]],template:function(m,d){1&m&&(i.j41(0,"div",0)(1,"div",1)(2,"label",2),i.nrm(3,"span",3),i.j41(4,"span",4),i.EFF(5),i.nI1(6,"translate"),i.k0s()(),i.j41(7,"input",5),i.bIt("keyup",function(I){return d.search(I)}),i.k0s()()()),2&m&&(i.R7$(5),i.JRh(i.bMT(6,2,"Common.Search")),i.R7$(2),i.Y8G("placeholder",d.placeholder))},dependencies:[e.D9],encapsulation:2})}}return p})()},3665:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>C});var i=h(9417),e=h(177),y=h(1583),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[e.MD,y.iI,p.h,i.YN]})}}return m})()},9764:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>Qe});var i=h(467),e=h(4438),y=h(9417),p=h(9838),w=h(1413),C=h(7263),m=h(9767),d=h(4252),f=h(1258),I=h(4549),O=h(4754),P=h(9812),b=h(177),M=h(5404),k=h(8698),N=h(9550),G=h(8577),R=h(3899),j=h(6536),U=h(1780);const $=["certificateReader"],ne=["addCertificateBtn"],se=["showModalButton"],L=["secretPicker"],J=["certificateReaderNonModal"],te=["addCertificateBtnNonModal"];function E(Ee,be){if(1&Ee&&(e.j41(0,"option",43),e.EFF(1),e.k0s()),2&Ee){const le=be.$implicit;e.Y8G("value",le.value),e.R7$(),e.JRh(le.value)}}function re(Ee,be){1&Ee&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&Ee&&(e.R7$(),e.JRh(e.bMT(2,1,"Secret Picker.LastWarning")))}function K(Ee,be){if(1&Ee&&e.nrm(0,"app-date-time",45),2&Ee){const le=e.XpG(2);e.Y8G("min",le.minDate)}}function me(Ee,be){if(1&Ee){const le=e.RV6();e.j41(0,"form",15)(1,"div",16)(2,"div",17)(3,"app-form-row",18)(4,"div",19)(5,"select",20),e.DNE(6,E,2,2,"option",21),e.nI1(7,"keyvalue"),e.k0s()()(),e.j41(8,"app-form-row",18)(9,"div",22)(10,"div",23),e.nrm(11,"input",24),e.j41(12,"button",25),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.generateRandom())}),e.nrm(13,"span",26),e.j41(14,"span",27),e.EFF(15),e.nI1(16,"translate"),e.k0s()()(),e.nrm(17,"input",28),e.j41(18,"div",29)(19,"button",30,1),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.openCertificateReaderModel())}),e.j41(21,"span"),e.EFF(22),e.nI1(23,"translate"),e.k0s()()(),e.DNE(24,re,3,3,"p",31),e.k0s()(),e.j41(25,"app-form-row",32)(26,"div",22)(27,"div",33)(28,"div",34)(29,"app-form-toggle",35)(30,"input",36),e.bIt("change",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.toggleExpirationDateInput())}),e.k0s()()()(),e.DNE(31,K,1,1,"app-date-time",37),e.k0s()(),e.j41(32,"app-form-row",38),e.nrm(33,"textarea",39),e.k0s()()(),e.j41(34,"div",40)(35,"button",41),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.addSecret())}),e.EFF(36),e.nI1(37,"translate"),e.k0s(),e.j41(38,"button",42),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.resetForm())}),e.EFF(39),e.nI1(40,"translate"),e.k0s()()()}if(2&Ee){const le=e.XpG();e.Y8G("formGroup",le.secretForm),e.R7$(3),e.Y8G("id","SecretType")("label","Common.Type"),e.R7$(3),e.Y8G("ngForOf",e.bMT(7,23,le.secretTypes)),e.R7$(2),e.Y8G("id","SecretValue")("label","Common.Value"),e.R7$(2),e.Y8G("hidden","Shared Secret"!==le.secretForm.controls.type.value),e.R7$(5),e.JRh(e.bMT(16,25,"Common.GenerateRandom")),e.R7$(2),e.Y8G("hidden","Shared Secret"===le.secretForm.controls.type.value),e.R7$(2),e.Y8G("hidden","Shared Secret"===le.secretForm.controls.type.value),e.R7$(3),e.JRh(e.bMT(23,27,"Common.ReadCertificate")),e.R7$(2),e.Y8G("ngIf",le.displayWarnings),e.R7$(),e.Y8G("id","SecretExpiry")("label","Common.ExpirationDate")("help","Common.Dates.UTCWarning"),e.R7$(4),e.Y8G("id","expirationDateEnabled"),e.R7$(2),e.Y8G("ngIf",le.expirationDateEnabled),e.R7$(),e.Y8G("id","SecretDescription")("label","Common.Description")("isLast",!0),e.R7$(3),e.Y8G("disabled",!le.secretForm.valid),e.R7$(),e.JRh(e.bMT(37,29,"Common.Add")),e.R7$(3),e.JRh(e.bMT(40,31,"Common.Clear"))}}function Ne(Ee,be){1&Ee&&e.nrm(0,"app-data-table-column",46),2&Ee&&e.Y8G("prop","created")("date",!0)("title","Common.Created")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell")}function Ae(Ee,be){if(1&Ee){const le=e.RV6();e.j41(0,"div",47,2)(2,"div",48)(3,"app-cert-reader",49,3),e.nI1(5,"translate"),e.nI1(6,"translate"),e.nI1(7,"translate"),e.nI1(8,"translate"),e.bIt("dataExists",function(Ie){e.eBV(le);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Ie))}),e.k0s()(),e.j41(9,"div",40)(10,"button",50,4),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.hideCertReaderNonModal(!0))}),e.EFF(12),e.nI1(13,"translate"),e.k0s(),e.j41(14,"button",42),e.bIt("click",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.hideCertReaderNonModal(!1))}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()}2&Ee&&(e.R7$(3),e.Y8G("uploadCert",e.bMT(5,6,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(6,8,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(7,10,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(8,12,"Secret Picker.MetaDataHelp")),e.R7$(9),e.JRh(e.bMT(13,14,"Common.Use")),e.R7$(3),e.JRh(e.bMT(16,16,"Common.Cancel")))}function xe(Ee,be){if(1&Ee){const le=e.RV6();e.j41(0,"app-custom-modal",51),e.bIt("onSave",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.closeCertificateReaderModelAndReadCertificate())})("onCancel",function(){e.eBV(le);const Ie=e.XpG();return e.Njj(Ie.closeCertificateReaderModel())}),e.j41(1,"app-cert-reader",52,3),e.nI1(3,"translate"),e.nI1(4,"translate"),e.nI1(5,"translate"),e.nI1(6,"translate"),e.bIt("dataExists",function(Ie){e.eBV(le);const st=e.XpG();return e.Njj(st.certificateDataLoaded(Ie))}),e.k0s()()}if(2&Ee){const le=e.XpG();e.Y8G("modalId",le.certModalId)("title","Secret Picker.ReadCertificate")("actions",le.modalActions),e.R7$(),e.Y8G("uploadCert",e.bMT(3,7,"Secret Picker.UploadCert"))("uploadCertHelp",e.bMT(4,9,"Secret Picker.UploadCertHelp"))("certMetaData",e.bMT(5,11,"Secret Picker.MetaData"))("certMetaDataHelp",e.bMT(6,13,"Secret Picker.MetaDataHelp"))}}let Qe=(()=>{class Ee{set clientSecrets(le){this._clientSecrets=le||[]}get clientSecrets(){return this._clientSecrets}set isReadOnly(le){this._isReadOnly=le||!1}get isReadOnly(){return this._isReadOnly}constructor(le,Pe,Ie){this.fb=le,this.modalService=Pe,this.dataTableService=Ie,this._clientSecrets=[],this.nonModelCertPicker=!1,this.showCreatedColumn=!0,this.secretTypes=new p.S9,this.minDate=I.c9.now(),this.secretsAddStream=new w.B,this.secretsRemoveStream=new w.B,this.descFocus=!1,this.displayWarnings=!0,this.dataTableActions=[d.AA.Delete],this.modalActions=[f.N.Delete,f.N.Save],this.certModalId="CertificatePickerModal",this.expirationDateEnabled=!1,this.filepickerDisplayed=new e.bkB}ngOnDestroy(){this.dtsSubscription.unsubscribe()}keydown(le){"Enter"===le.key&&this.secretForm.valid&&!this.descFocus&&this.addSecret()}ngOnInit(){const le=I.c9.now().toISO();this.secretForm=this.fb.group({description:["",y.k0.maxLength(1e3)],value:["",y.k0.required],expiration:[{value:le,disabled:!0}],type:["Shared Secret"],enabled:[]}),this.dtsSubscription=this.dataTableService.deleteRowEvent.subscribe(Pe=>{this.deleteSecret(Pe)})}selectedDate(le){this.secretForm.controls.expiration.setValue(le)}toggleExpirationDateInput(){this.expirationDateEnabled=!this.expirationDateEnabled,this.updateExpiration()}generateRandom(){this.secretForm.controls.value.setValue((0,C.Nl)())}dateSelected(le){this.secretForm.controls.expiration.setValue(le)}addSecret(){const le=this.secretForm.value;le.expiration=this.expirationDateEnabled?I.c9.fromISO(le.expiration).toString():null,this.secretsAddStream.next(le),this.secretForm.reset(),this.resetForm()}updateExpiration(){const le=this.secretForm.controls.expiration;this.expirationDateEnabled?(le.addValidators(y.k0.required),le.enable()):(le.removeValidators(y.k0.required),le.disable()),le.reset()}deleteSecret(le){this.secretsRemoveStream.next(this.clientSecrets[le])}resetForm(){this.secretForm.setValue({description:"",value:"",expiration:"",type:"Shared Secret",enabled:""}),this.expirationDateEnabled=!1,this.updateExpiration()}openCertificateReaderModel(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!1,this.secretPicker.nativeElement.hidden=!0):this.modalService.showById(this.certModalId,this.showModalButton),this.filepickerDisplayed.emit(!0)}resetState(){this.nonModelCertPicker?(this.certificateReaderNonModal.nativeElement.hidden=!0,this.secretPicker.nativeElement.hidden=!1):this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModel(){this.modalService.hideById(this.certModalId),this.filepickerDisplayed.emit(!1)}closeCertificateReaderModelAndReadCertificate(){var le=this;return(0,i.A)(function*(){le.modalService.hideById(le.certModalId),le.filepickerDisplayed.emit(!1),yield le.ReadCertificateModel()})()}ReadCertificateModel(){var le=this;return(0,i.A)(function*(){const Pe=yield le.certReaderComponent.getCertificateModel();let Ie="";switch(le.secretForm.controls.type.value){case"X509 Certificate Base64":Ie=Pe.base64Cert;break;case"X509 Name":Ie=Pe.subject;break;case"X509 Thumbprint":Ie=Pe.thumbprint}le.secretForm.controls.value.setValue(Ie)})()}certificateDataLoaded(le){this.addCertificateButton&&(this.addCertificateButton.nativeElement.disabled=!le),this.addCertificateBtnNonModal&&(this.addCertificateBtnNonModal.nativeElement.disabled=!le)}hideCertReaderNonModal(le){var Pe=this;return(0,i.A)(function*(){Pe.certificateReaderNonModal.nativeElement.hidden=!0,Pe.secretPicker.nativeElement.hidden=!1,le&&(yield Pe.ReadCertificateModel()),Pe.filepickerDisplayed.emit(!1)})()}static{this.\u0275fac=function(Pe){return new(Pe||Ee)(e.rXU(y.ze),e.rXU(O.B),e.rXU(P.I))}}static{this.\u0275cmp=e.VBU({type:Ee,selectors:[["app-secret-picker"]],viewQuery:function(Pe,Ie){if(1&Pe&&(e.GBs($,5),e.GBs(ne,5),e.GBs(se,5),e.GBs(L,5),e.GBs(J,5),e.GBs(te,5)),2&Pe){let st;e.mGM(st=e.lsd())&&(Ie.certReaderComponent=st.first),e.mGM(st=e.lsd())&&(Ie.addCertificateButton=st.first),e.mGM(st=e.lsd())&&(Ie.showModalButton=st.first),e.mGM(st=e.lsd())&&(Ie.secretPicker=st.first),e.mGM(st=e.lsd())&&(Ie.certificateReaderNonModal=st.first),e.mGM(st=e.lsd())&&(Ie.addCertificateBtnNonModal=st.first)}},hostBindings:function(Pe,Ie){1&Pe&&e.bIt("keydown",function(Oe){return Ie.keydown(Oe)},!1,e.EBC)},inputs:{clientSecrets:"clientSecrets",isReadOnly:"isReadOnly",nonModelCertPicker:"nonModelCertPicker",showCreatedColumn:"showCreatedColumn"},outputs:{filepickerDisplayed:"filepickerDisplayed"},decls:11,vars:25,consts:[["secretPicker",""],["showCertModalButton",""],["certificateReaderNonModal",""],["certificateReader",""],["addCertificateBtnNonModal",""],["id","secretPicker"],["id","secretForm",3,"formGroup",4,"ngIf"],[3,"isReadOnly","rows","norowslabel","actions"],[3,"prop","title","headClasses"],[3,"title","isPlaceholder","placeholder","headClasses","cellClasses"],[3,"prop","title","headClasses","cellClasses"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses",4,"ngIf"],[3,"prop","date","title","headClasses","cellClasses"],["hidden","",4,"ngIf"],[3,"modalId","title","actions","onSave","onCancel",4,"ngIf"],["id","secretForm",3,"formGroup"],[1,"tw-flex-grid","tw-mb-6","md:tw-flex-nowrap"],[1,"tw-flex-grid-col"],[3,"id","label"],[1,"tw-form-select"],["id","SecretType","name","type","formControlName","type",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"tw-w-full","lg:tw-max-w-2xl"],[1,"tw-flex",3,"hidden"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","generateSecret",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["type","text","id","SecretValue","formControlName","value","name","SecretValue","autocomplete","off",1,"tw-form-control",3,"hidden"],[1,"tw-form-text"],["id","readCertificate",1,"tw-underline","hover:tw-no-underline",3,"click","hidden"],["class","tw-form-text-danger",4,"ngIf"],[3,"id","label","help"],[1,"tw-form-row","tw-flex","tw-items-center"],[1,"tw-shrink-0","tw-block"],[3,"id"],["formControlName","enabled","type","checkbox","id","expirationDateEnabled","name","expirationDateEnabled",1,"tw-form-switch__input",3,"change"],["id","expiration","formControlName","expiration",3,"min",4,"ngIf"],[3,"id","label","isLast"],["id","SecretDescription","name","SecretDescription","formControlName","description",1,"tw-form-control","md:tw-h-56"],[1,"tw-flex","tw-mb-6"],["id","addSecretBtn",1,"tw-btn-success","tw-mr-4",3,"click","disabled"],[1,"tw-btn",3,"click"],[3,"value"],[1,"tw-form-text-danger"],["id","expiration","formControlName","expiration",3,"min"],["id","createdColumn",3,"prop","date","title","headClasses","cellClasses"],["hidden",""],[1,"tw-mb-6","md:tw-flex-nowrap"],["id","certificateReader",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"],["id","addCertificateBtn","disabled","",1,"tw-btn-success","tw-mr-4",3,"click"],[3,"onSave","onCancel","modalId","title","actions"],["id","",3,"dataExists","uploadCert","uploadCertHelp","certMetaData","certMetaDataHelp"]],template:function(Pe,Ie){1&Pe&&(e.j41(0,"div",5,0),e.DNE(2,me,41,33,"form",6),e.j41(3,"app-data-table",7),e.nrm(4,"app-data-table-column",8)(5,"app-data-table-column",9)(6,"app-data-table-column",10),e.DNE(7,Ne,1,5,"app-data-table-column",11),e.nrm(8,"app-data-table-column",12),e.k0s()(),e.DNE(9,Ae,17,18,"div",13)(10,xe,7,15,"app-custom-modal",14)),2&Pe&&(e.R7$(2),e.Y8G("ngIf",!Ie.isReadOnly),e.R7$(),e.Y8G("isReadOnly",Ie.isReadOnly)("rows",Ie.clientSecrets)("norowslabel","Clients.NoSecrets")("actions",Ie.dataTableActions),e.R7$(),e.Y8G("prop","type")("title","Common.Type")("headClasses","sm:tw-w-1/3 md:tw-w-1/4"),e.R7$(),e.Y8G("title","Common.Value")("isPlaceholder",!0)("placeholder","Secret Picker.HiddenValue")("headClasses","tw-hidden tw-w-40 xl:tw-table-cell")("cellClasses","tw-hidden xl:tw-table-cell"),e.R7$(),e.Y8G("prop","description")("title","Common.Description")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ie.showCreatedColumn),e.R7$(),e.Y8G("prop","expiration")("date",!0)("title","Common.Expiration")("headClasses","tw-hidden tw-w-40 md:tw-table-cell")("cellClasses","tw-hidden md:tw-table-cell"),e.R7$(),e.Y8G("ngIf",Ie.nonModelCertPicker),e.R7$(),e.Y8G("ngIf",!1===Ie.nonModelCertPicker))},dependencies:[b.Sq,b.bT,y.qT,y.xH,y.y7,y.me,y.Zm,y.wz,y.BC,y.cb,y.j4,y.JD,M.V,k.Y,N.m,d.up,G.w,R.G,j.Z,b.lG,U.D9],encapsulation:2,data:{animation:[(0,m.Ws)()]}})}}return Ee})()},4179:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>b});var i=h(9417),e=h(177),y=h(1683),p=h(1780),w=h(779),C=h(75),m=h(8389),d=h(8251),f=h(4367),I=h(6599),O=h(9812),P=h(4438);let b=(()=>{class M{static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=P.$C({type:M})}static{this.\u0275inj=P.G2t({providers:[O.I],imports:[e.MD,i.X1,y.Y,p.h,i.YN,w.Q_,C.U,m.w,d.h,f.N,I.Y]})}}return M})()},4313:(nt,fe,h)=>{"use strict";h.d(fe,{if:()=>f});var i=h(1413),e=h(152),y=h(3294),p=h(5964),w=h(6354);class f{constructor(O,P,b){this.toastr=O,this.translate=P,this.canSearchEmptyString=b,this.searchTerm="",this.searchTermStream=new i.B,this.enterKeyStream=new i.B,this.searchSource=this.searchTermStream.pipe((0,e.B)(600),(0,y.F)(),(0,p.p)(M=>this.filterSearchTerm(M)),(0,w.T)(M=>this.mapSearchTerm(M))),this.enterKeySource=this.enterKeyStream.pipe((0,e.B)(600),(0,p.p)(()=>this.filterSearchTerm(this.searchTerm)),(0,w.T)(()=>this.mapSearchTerm(this.searchTerm)))}filterSearchTerm(O){return this.canSearchEmptyString?O.length<50&&1!==O.length:!(O.length<2||O.length>50)&&""!==O.trim()}search(O){"Enter"===O.key?1===this.searchTerm.length?this.toastr.warning(this.translate.instant("Users.MinimumSearchLength"),this.translate.instant("Notifications.Sorry")):this.enterKeyStream.next():1!==this.searchTerm.length&&this.searchTermStream.next(this.searchTerm)}}},9945:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>m});var i=h(177),e=h(9417),y=h(1683),p=h(8389),w=h(1780),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({imports:[i.MD,e.YN,e.X1,p.w,y.Y,w.h]})}}return d})()},7384:(nt,fe,h)=>{"use strict";h.d(fe,{d:()=>C});var i=h(4438),e=h(177),y=h(1780);function p(m,d){1&m&&(i.j41(0,"span"),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&m&&(i.R7$(),i.JRh(i.bMT(2,1,"Common.LoadingPleaseWait")))}function w(m,d){if(1&m&&(i.j41(0,"span"),i.EFF(1),i.k0s()),2&m){const f=i.XpG();i.R7$(),i.JRh(f.text)}}let C=(()=>{class m{constructor(){this.text=""}static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275cmp=i.VBU({type:m,selectors:[["app-simple-loader"]],inputs:{text:"text"},decls:4,vars:2,consts:[[1,"tw-flex","tw-items-center","tw-justify-center","tw-text-sm","tw-min-h-48"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2"],[4,"ngIf"]],template:function(I,O){1&I&&(i.j41(0,"div",0),i.nrm(1,"span",1),i.DNE(2,p,3,3,"span",2)(3,w,2,1,"span",2),i.k0s()),2&I&&(i.R7$(2),i.Y8G("ngIf",""==O.text),i.R7$(),i.Y8G("ngIf",""!=O.text))},dependencies:[e.bT,y.D9],encapsulation:2})}}return m})()},7175:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>C});var i=h(9417),e=h(177),y=h(1583),p=h(1780),w=h(4438);let C=(()=>{class m{static{this.\u0275fac=function(I){return new(I||m)}}static{this.\u0275mod=w.$C({type:m})}static{this.\u0275inj=w.G2t({imports:[e.MD,y.iI,p.h,i.YN]})}}return m})()},7970:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>w});var i=h(4438),e=h(7263),y=h(177);function p(C,m){if(1&C){const d=i.RV6();i.j41(0,"li",2)(1,"input",3),i.bIt("click",function(){const I=i.eBV(d).index,O=i.XpG();return i.Njj(O.selectValue(I))}),i.k0s(),i.j41(2,"label",4),i.bIt("click",function(){const I=i.eBV(d).index,O=i.XpG();return i.Njj(O.selectValue(I))}),i.j41(3,"span",5),i.EFF(4),i.k0s()()()}if(2&C){const d=m.$implicit,f=m.index,I=i.XpG();i.R7$(),i.Mz_("id","enum-val-",f,""),i.Mz_("name","",I.id,"-state"),i.Y8G("checked",d===I.value),i.R7$(),i.STu("tw-state-toggle-btn ",I.borderStyle(f)," ",I.isSelected(d),""),i.Mz_("for","enum-val-",f,""),i.BMQ("aria-label",I.enumValues),i.R7$(2),i.JRh(d)}}let w=(()=>{class C{get id(){return this._id}set id(d){this._id=d||(0,e.Nl)()}constructor(){this.readonly=!1,this.newValue=new i.bkB}selectValue(d){this.readonly||this.newValue.emit(this.options[d])}borderStyle(d){return 0===d?"tw-rounded-l-lg":d>=this.options.length-1?"tw-rounded-r-lg":"tw-rounded-none"}isSelected(d){return d===this.value?"tw-btn-selected":"tw-btn"}static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275cmp=i.VBU({type:C,selectors:[["app-state-toggle"]],inputs:{id:"id",options:"options",value:"value",readonly:"readonly"},outputs:{newValue:"newValue"},decls:2,vars:2,consts:[[3,"id"],["class","tw-state-toggle",4,"ngFor","ngForOf"],[1,"tw-state-toggle"],["type","radio",1,"sr-only",3,"click","id","name","checked"],["type","button",3,"click","for"],[1,"tw-pl-1"]],template:function(f,I){1&f&&(i.j41(0,"ul",0),i.DNE(1,p,5,13,"li",1),i.k0s()),2&f&&(i.FS9("id",I.id+"-enumValues-select"),i.R7$(),i.Y8G("ngForOf",I.options))},dependencies:[y.Sq],encapsulation:2})}}return C})()},1957:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>p});var i=h(177),e=h(9417),y=h(4438);let p=(()=>{class w{static{this.\u0275fac=function(d){return new(d||w)}}static{this.\u0275mod=y.$C({type:w})}static{this.\u0275inj=y.G2t({imports:[i.MD,e.YN]})}}return w})()},3680:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>N});var i=h(4438),e=h(177),y=h(1583),p=h(1780),w=h(7005);const C=[[["","badge",""]],[["","ctx",""]],[["","button",""]],[["","tabs",""]]],m=["[badge]","[ctx]","[button]","[tabs]"],d=G=>[G];function f(G,R){if(1&G&&(i.qex(0),i.j41(1,"li",7)(2,"span",17),i.EFF(3,"/"),i.k0s(),i.j41(4,"a",8),i.EFF(5),i.k0s()(),i.bVm()),2&G){const j=R.$implicit;i.R7$(4),i.Y8G("routerLink",j.link),i.R7$(),i.SpI(" ",j.title," ")}}function I(G,R){1&G&&(i.j41(0,"span",18),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.ReadOnly")," "))}function O(G,R){1&G&&(i.j41(0,"span",19),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.Reserved")," "))}function P(G,R){1&G&&(i.j41(0,"span",20),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&G&&(i.R7$(),i.SpI(" ",i.bMT(2,1,"Common.UserTOTPEnabled")," "))}function b(G,R){1&G&&(i.j41(0,"div",21),i.SdG(1,2),i.k0s())}function M(G,R){1&G&&(i.qex(0),i.j41(1,"div",22),i.SdG(2,3),i.k0s(),i.bVm())}let N=(()=>{class G{constructor(){this.hasButton=!1,this.hasTabs=!1,this.isReadOnly=!1,this.isReserved=!1,this.totpEnabled=!1}static{this.\u0275fac=function(U){return new(U||G)}}static{this.\u0275cmp=i.VBU({type:G,selectors:[["app-title-bar"]],inputs:{title:"title",crumbs:"crumbs",hasButton:"hasButton",hasTabs:"hasTabs",isReadOnly:"isReadOnly",isReserved:"isReserved",totpEnabled:"totpEnabled"},ngContentSelectors:m,decls:24,vars:18,consts:[[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6"],[1,"tw-px-4","tw-py-5"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-end","tw-justify-between"],[1,"tw-content","tw-min-w-0"],[1,"tw-mb-2"],["id","pageCrumbs",1,"tw-flex","tw-items-center","tw-text-xs","tw-leading-none","tw-text-grey-700"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-grey-700","tw-font-normal","hover:tw-text-body",3,"routerLink"],[4,"ngFor","ngForOf"],[1,"md:tw-flex","md:tw-items-center"],["id","pageTitle",1,"tw-text-xl","tw-font-semibold","tw-mb-2","tw-truncate","md:tw-mb-0","md:tw-mr-3","md:tw-text-2xl","last:tw-mb-0"],["id","readOnlyBadge","class","tw-pill tw-mr-2",4,"ngIf"],["id","reservedBadge","class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],["class","tw-shrink-0 tw-ml-4",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"tw-mx-2","tw-opacity-75"],["id","readOnlyBadge",1,"tw-pill","tw-mr-2"],["id","reservedBadge",1,"tw-pill","tw-mr-2"],[1,"tw-pill","tw-mr-2"],[1,"tw-shrink-0","tw-ml-4"],[1,"tw-container","tw-mx-auto","tw--mt-2"]],template:function(U,$){1&U&&(i.NAR(C),i.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"nav",5),i.nI1(6,"translate"),i.j41(7,"ol",6)(8,"li",7)(9,"a",8),i.nI1(10,"localize"),i.EFF(11),i.nI1(12,"translate"),i.k0s()(),i.DNE(13,f,6,2,"ng-container",9),i.k0s()(),i.j41(14,"div",10)(15,"h1",11),i.EFF(16),i.k0s(),i.SdG(17),i.DNE(18,I,3,3,"span",12)(19,O,3,3,"span",13)(20,P,3,3,"span",14),i.SdG(21,1),i.k0s()(),i.DNE(22,b,2,0,"div",15),i.k0s()()(),i.DNE(23,M,3,0,"ng-container",16),i.k0s()),2&U&&(i.R7$(5),i.BMQ("aria-label",i.bMT(6,10,"Nav.Breadcrumbs")),i.R7$(4),i.Y8G("routerLink",i.eq3(16,d,i.bMT(10,12,"/home"))),i.R7$(2),i.SpI(" ",i.bMT(12,14,"Nav.Home")," "),i.R7$(2),i.Y8G("ngForOf",$.crumbs),i.R7$(3),i.JRh($.title),i.R7$(2),i.Y8G("ngIf",$.isReadOnly&&!$.isReserved),i.R7$(),i.Y8G("ngIf",$.isReserved),i.R7$(),i.Y8G("ngIf",$.totpEnabled),i.R7$(2),i.Y8G("ngIf",$.hasButton),i.R7$(),i.Y8G("ngIf",$.hasTabs))},dependencies:[e.Sq,e.bT,y.Wk,p.D9,w.tl],encapsulation:2})}}return G})()},367:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>m});var i=h(177),e=h(1583),y=h(1683),p=h(7005),w=h(1780),C=h(4438);let m=(()=>{class d{static{this.\u0275fac=function(O){return new(O||d)}}static{this.\u0275mod=C.$C({type:d})}static{this.\u0275inj=C.G2t({imports:[i.MD,e.iI,y.Y,w.h,p.XE]})}}return d})()},2552:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>j});var i=h(4438),e=h(177),y=h(9417),p=h(1780);const w=(U,$)=>({"tw-bg-green-200":U,"tw-bg-primary-200":$}),C=(U,$,ne)=>({"tw-bg-green-500":U,"tw-bg-primary-500":$,"tw-bg-grey-200":ne}),m=(U,$,ne)=>({"tw-text-white":U,"tw-text-secondary-500":$,"tw-text-grey-400 group-hover:tw-text-grey-700":ne}),d=(U,$)=>({"fas fa-check tw-text-xl trans":U,"far fa-arrow-alt-circle-up tw-text-2xl":$}),f=(U,$,ne)=>({"tw-text-green-800":U,"tw-text-primary-800":$,"tw-text-navy-500":ne}),I=(U,$,ne)=>({"tw-text-green-600":U,"tw-text-primary-600":$,"tw-text-grey-600":ne}),O=(U,$,ne)=>({"tw-text-green-500":U,"tw-text-primary-500":$,"tw-text-grey-300":ne});function P(U,$){1&U&&(i.j41(0,"span",12),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&U&&(i.R7$(),i.JRh(i.bMT(2,1,"Clients.Selected")))}let b=(()=>{class U{constructor(){this.select=new i.bkB}static{this.\u0275fac=function(se){return new(se||U)}}static{this.\u0275cmp=i.VBU({type:U,selectors:[["app-type-option"]],inputs:{id:"id",btnId:"btnId",title:"title",summary:"summary",icon:"icon",selected:"selected",type:"type",activeType:"activeType",starterModeProtected:"starterModeProtected"},outputs:{select:"select"},decls:16,vars:48,consts:[[3,"id"],["type","radio",1,"sr-only",3,"click","id","value","ngModel"],["type","button",1,"tw-block","tw-bg-white","tw-pl-16","tw-py-3","tw-w-full","tw-overflow-hidden","tw-rounded","tw-relative","group","tw-transition-all","tw-ease-in-out","hover:tw-shadow-md","md:tw-pr-16",3,"click","for","ngClass"],["id","iconBg",1,"tw-flex","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-left-0","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","iconTextSpan",3,"ngClass"],["id","checkIconSpan",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"tw-px-4","tw-text-left"],["id","titleSpan",1,"tw-block","tw-font-semibold","tw-transition-all","tw-ease-in-out",3,"ngClass"],["id","summarySpan",1,"tw-block","tw-text-xs","tw-transition-all","tw-ease-in-out",3,"ngClass"],[1,"tw-hidden","tw-items-center","tw-justify-center","tw-w-16","tw-h-full","tw-absolute","tw-top-0","tw-right-0","tw-transition-all","tw-ease-in-out","md:tw-flex"],["id","iconSpan",3,"ngClass"],[1,"sr-only"]],template:function(se,L){1&se&&(i.j41(0,"li",0)(1,"input",1),i.bIt("click",function(){return L.select.emit(L.type)}),i.k0s(),i.j41(2,"label",2),i.bIt("click",function(){return L.select.emit(L.type)}),i.j41(3,"div",3)(4,"span",4),i.nrm(5,"span",5),i.k0s(),i.DNE(6,P,3,3,"span",6),i.k0s(),i.j41(7,"div",7)(8,"span",8),i.EFF(9),i.nI1(10,"translate"),i.k0s(),i.j41(11,"span",9),i.EFF(12),i.nI1(13,"translate"),i.k0s()(),i.j41(14,"div",10),i.nrm(15,"span",11),i.k0s()()()),2&se&&(i.FS9("id",L.id),i.R7$(),i.FS9("id",L.btnId),i.FS9("value",L.type),i.Y8G("ngModel",L.activeType),i.R7$(),i.FS9("for",L.btnId),i.Y8G("ngClass",i.l_i(22,w,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected)),i.R7$(),i.Y8G("ngClass",i.sMw(25,C,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.Y8G("ngClass",i.sMw(29,m,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.Y8G("ngClass",i.l_i(33,d,!L.starterModeProtected,L.starterModeProtected)),i.R7$(),i.Y8G("ngIf",L.selected),i.R7$(2),i.Y8G("ngClass",i.sMw(36,f,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.SpI(" ",i.bMT(10,18,L.title)," "),i.R7$(2),i.Y8G("ngClass",i.sMw(40,I,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)),i.R7$(),i.SpI(" ",i.bMT(13,20,L.summary)," "),i.R7$(3),i.ZvI("",L.icon," tw-text-3xl tw-transition-all tw-ease-in-out"),i.Y8G("ngClass",i.sMw(44,O,L.selected&&!L.starterModeProtected,L.selected&&L.starterModeProtected,!L.selected)))},dependencies:[e.YU,e.bT,y.me,y.Fm,y.BC,y.vS,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})();const M=(U,$)=>$.id;function k(U,$){1&U&&(i.j41(0,"h6",1),i.EFF(1),i.nI1(2,"translate"),i.k0s()),2&U&&(i.R7$(),i.JRh(i.bMT(2,1,"StarterMode.Basic")))}function N(U,$){if(1&U){const ne=i.RV6();i.j41(0,"div",1)(1,"app-type-option",3),i.bIt("select",function(L){i.eBV(ne);const J=i.XpG();return i.Njj(J.select.emit(L))}),i.k0s()()}if(2&U){const ne=$.$implicit,se=i.XpG();i.R7$(),i.Y8G("id",ne.id)("btnId",ne.btnId)("title",ne.title)("summary",ne.summary)("icon",ne.icon)("selected",ne.selectedTypes.includes(se.activeType))("type",ne.type)("summary",ne.summary)}}function G(U,$){if(1&U){const ne=i.RV6();i.j41(0,"div",1)(1,"app-type-option",5),i.bIt("select",function(L){i.eBV(ne);const J=i.XpG(2);return i.Njj(J.select.emit(L))}),i.k0s()()}if(2&U){const ne=$.$implicit,se=i.XpG(2);i.R7$(),i.Y8G("id",ne.id)("btnId",ne.btnId)("title",ne.title)("summary",ne.summary)("icon",ne.icon)("selected",se.activeType===ne.type)("type",ne.type)("summary",ne.summary)("starterModeProtected",se.isStarterMode)}}function R(U,$){if(1&U&&(i.j41(0,"h6",1),i.EFF(1),i.nI1(2,"translate"),i.k0s(),i.j41(3,"ul",4),i.Z7z(4,G,2,9,"div",1,M),i.k0s()),2&U){const ne=i.XpG();i.R7$(),i.JRh(i.bMT(2,1,"StarterMode.Enterprise")),i.R7$(3),i.Dyx(ne.disabledOptions())}}let j=(()=>{class U{constructor(){this.select=new i.bkB}availableOptions(){return this.isStarterMode?this.options.filter(ne=>ne.starterMode):this.options}disabledOptions(){return this.isStarterMode?this.options.filter(ne=>!ne.starterMode):[]}static{this.\u0275fac=function(se){return new(se||U)}}static{this.\u0275cmp=i.VBU({type:U,selectors:[["app-type-selector"]],inputs:{id:"id",options:"options",activeType:"activeType",isStarterMode:"isStarterMode"},outputs:{select:"select"},decls:6,vars:2,consts:[["id","defaultSetupList",1,"tw--mt-2","tw--ml-2","md:tw--mt-4","md:tw--ml-4"],[1,"tw-pt-2","tw-pl-2","tw-w-full","sm:tw-w-1/2","md:tw-pt-4","md:tw-pl-4"],["id","availableTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type"],["id","disabledTypes",1,"singleItem","tw-flex","tw-flex-wrap"],[3,"select","id","btnId","title","summary","icon","selected","type","starterModeProtected"]],template:function(se,L){1&se&&(i.j41(0,"div",0),i.DNE(1,k,3,3,"h6",1),i.j41(2,"ul",2),i.Z7z(3,N,2,8,"div",1,M),i.k0s(),i.DNE(5,R,6,3),i.k0s()),2&se&&(i.R7$(),i.vxM(1,L.isStarterMode?1:-1),i.R7$(2),i.Dyx(L.availableOptions()),i.R7$(2),i.vxM(5,L.isStarterMode?5:-1))},dependencies:[b,p.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return U})()},5667:(nt,fe,h)=>{"use strict";h.d(fe,{g:()=>w});var i=h(177),e=h(9417),y=h(1780),p=h(4438);let w=(()=>{class C{static{this.\u0275fac=function(f){return new(f||C)}}static{this.\u0275mod=p.$C({type:C})}static{this.\u0275inj=p.G2t({imports:[i.MD,e.YN,y.h]})}}return C})()},2420:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>U});var i=h(1594),e=h(4438),y=h(1715),p=h(6026);let w=(()=>{class ${constructor(){this.wizardCancel=new e.bkB,this.finish=new e.bkB,this.hide=new e.bkB,this.titleId=p.R.TileId,this.index=0,this.progressPercent=0}ngOnInit(){this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}setupWizard(){this.wizardSteps=this.wizardProvider.getWizard(this.wizardName),this.wizardTitles=this.wizardProvider.getWizardTitle(this.wizardName)}keydown(se){"Enter"===se.key&&this.canNext()&&this.nextTab()}get showProgress(){return!0}hideWizard(){this.hide.emit()}cancelWizard(){this.wizardCancel.emit()}finishWizard(){this.finish.emit()}initialStep(){return this.index<=0}displayComponentAtCurrentIndex(){this.wizardHost.viewContainerRef.detach();const se=this.components.get(this.index);this.wizardHost.viewContainerRef.insert(se.hostView),this.components.get(this.index).instance.hosted(),this.updateProgress()}createComponentAtCurrentIndex(){const L=this.wizardHost.viewContainerRef.createComponent(this.wizardSteps[this.index].component);this.components.set(this.index,L),L.instance.data=this.wizardSteps[this.index].data,this.wizardHost.viewContainerRef.detach()}canNext(){return this.components.get(this.index).instance.canNext()}updateProgress(){this.progressPercent=(this.index+1)/(this.wizardSteps.length+1)*100}ngOnDestroy(){this.clearComponents()}clearComponents(){this.components.forEach(se=>{se?.destroy()}),this.components.clear()}get asAny(){return this}static{this.\u0275fac=function(L){return new(L||$)}}static{this.\u0275dir=e.FsC({type:$,viewQuery:function(L,J){if(1&L&&e.GBs(y.t,7),2&L){let te;e.mGM(te=e.lsd())&&(J.wizardHost=te.first)}},hostBindings:function(L,J){1&L&&e.bIt("keydown",function(E){return J.keydown(E)},!1,e.EBC)},inputs:{wizardName:"wizardName"},outputs:{wizardCancel:"wizardCancel",finish:"finish",hide:"hide"}})}}return $})();var C=h(9417),m=h(177),d=h(1780),f=h(2467);function I($,ne){if(1&$&&(e.j41(0,"span",17),e.EFF(1),e.k0s()),2&$){const se=ne.$implicit;e.R7$(),e.JRh(se)}}function O($,ne){if(1&$){const se=e.RV6();e.j41(0,"tr",11)(1,"td",12),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.j41(2,"b"),e.EFF(3),e.nI1(4,"keyToString"),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"td",13),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.DNE(7,I,2,1,"span",14),e.k0s(),e.j41(8,"td",12),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.j41(9,"button",15),e.bIt("click",function(){e.eBV(se);const J=e.XpG().$implicit,te=e.XpG();return e.Njj(te.jumpToTab(J.stepName))}),e.nrm(10,"span",16),e.j41(11,"span",2),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&$){const se=ne.$implicit;e.R7$(3),e.JRh(e.bMT(5,5,e.bMT(4,3,se.key))),e.R7$(4),e.Y8G("ngForOf",se.value),e.R7$(5),e.JRh(e.bMT(13,7,"Common.Edit"))}}function P($,ne){if(1&$&&(e.qex(0),e.DNE(1,O,14,9,"tr",10),e.nI1(2,"keyvalue"),e.bVm()),2&$){const se=ne.$implicit;e.R7$(),e.Y8G("ngForOf",e.bMT(2,1,se.stepData))}}function b($,ne){if(1&$&&(e.j41(0,"form",18)(1,"div",19),e.nrm(2,"input",20),e.j41(3,"label",21),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&$){const se=e.XpG();e.Y8G("formGroup",se.summaryForm),e.R7$(),e.Y8G("ngClass","last:tw-border-0 last:tw-mb-0 last:tw-pb-0"),e.R7$(3),e.JRh(e.bMT(5,3,"Common.Enabled"))}}let M=(()=>{class ${constructor(se){this.fb=se,this.askIfEnabled=!1,this.emitNavigate=new e.bkB}ngOnInit(){this.summaryForm=this.fb.group({enabled:[!0]})}jumpToTab(se){this.emitNavigate.emit(se)}isEnabled(){return this.summaryForm.get("enabled").value}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(C.ze))}}static{this.\u0275cmp=e.VBU({type:$,selectors:[["app-wizard-summary"]],inputs:{askIfEnabled:"askIfEnabled"},decls:30,vars:20,consts:[[1,"cms","tw-mb-6"],["id","reviewTable",1,"datatable","selectable","hover"],[1,"sr-only"],[1,"disabled","inactive"],[1,"sm:tw-w-40"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell"],[1,"tw-italic"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[3,"formGroup",4,"ngIf"],["id","summaryItemRow","class","group",4,"ngFor","ngForOf"],["id","summaryItemRow",1,"group"],[3,"click"],[1,"tw-hidden","sm:tw-table-cell","tw-max-w-0","tw-wrap",3,"click"],["class","tw-block",4,"ngFor","ngForOf"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-block"],[3,"formGroup"],[1,"tw-form-row-border","tw-mt-6",3,"ngClass"],["id","enabledCheck","type","checkbox","value","false","formControlName","enabled",1,"tw-h-full","tw-ml-2","tw-mr-6"],["for","enabledCheck",1,"tw-form-label-inline","align-middle"]],template:function(L,J){1&L&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"table",1)(5,"thead",2)(6,"tr")(7,"th"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"th")(14,"span",2),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"tbody")(18,"tr",3)(19,"td",4)(20,"b"),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"td",5)(24,"span",6),e.EFF(25),e.nI1(26,"translate"),e.k0s()(),e.nrm(27,"td",7),e.k0s(),e.DNE(28,P,3,3,"ng-container",8),e.k0s()(),e.DNE(29,b,6,5,"form",9)),2&L&&(e.R7$(2),e.JRh(e.bMT(3,8,"Common.Wizards.Review")),e.R7$(6),e.JRh(e.bMT(9,10,"Common.Key")),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Value")),e.R7$(4),e.JRh(e.bMT(16,14,"Common.Actions")),e.R7$(6),e.JRh(e.bMT(22,16,"Common.Type")),e.R7$(4),e.JRh(e.bMT(26,18,J.summaryTitle)),e.R7$(3),e.Y8G("ngForOf",J.summary),e.R7$(),e.Y8G("ngIf",J.askIfEnabled))},dependencies:[m.YU,m.Sq,m.bT,C.qT,C.Zm,C.BC,C.cb,C.j4,C.JD,m.lG,d.D9,f.C],encapsulation:2})}}return $})();var k=h(5424),N=h(5794);let G=(()=>{class $ extends w{constructor(se,L,J){super(),this.errorService=se,this.toastr=L,this.translate=J,this.components=new Map}nextTab(){++this.index,this.index===this.wizardSteps.length?this.buildSummary():(void 0===this.components.get(this.index)&&this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex(),this.setOrUpdateDtoSnapshot())}previousTab(){this.index>0&&(--this.index,this.displayComponentAtCurrentIndex())}buildSummary(){const se=[];this.wizardSteps.forEach((L,J)=>{const E=this.components.get(J).instance.getStepSummary();null!=E&&se.push({stepName:`ClientStep${J}`,stepData:E})}),this.displaySummaryComponent(se)}displaySummaryComponent(se){this.wizardHost.viewContainerRef.detach(),void 0===this.summaryComponentRef?(this.wizardHost.viewContainerRef.detach(),this.summaryComponentRef=this.wizardHost.viewContainerRef.createComponent(M)):this.wizardHost.viewContainerRef.insert(this.summaryComponentRef.hostView),this.summaryComponentRef.instance.summary=se,this.summaryComponentRef.instance.summaryTitle=this.wizardTitles.summaryTitle,this.summaryComponentRef.instance.emitNavigate.pipe((0,i.$)()).subscribe(L=>{this.index=se.findIndex(J=>J.stepName===L),this.displayComponentAtCurrentIndex()}),this.updateProgress()}getWizardDto(){let se={};return this.wizardSteps.forEach((L,J)=>{if(J>=this.index)return;const E=this.components.get(J).instance.getStepDTO();se=Object.assign({},se,E)}),se}ngOnDestroy(){this.summaryComponentRef&&this.summaryComponentRef.destroy()}setOrUpdateDtoSnapshot(){var se=this.components.get(this.index),L=this.getWizardDto();se.instance.dtoSnapshot=L}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(k.I),e.rXU(N.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:$,features:[e.Vt3]})}}return $})();var R=h(9988),j=h(7263);let U=(()=>{class $ extends G{constructor(se,L,J){super(se,L,J),this.components=new Map,this.displayUpgradeIcon=!1}get showProgress(){return this.wizardName!==R.$.Home&&super.showProgress}nextTab(){var se=this.components.get(this.index),L=(0,j.hX)(se.instance.selectedType)?null:se.instance.selectedType();L?this.changeWizardType(L):super.nextTab()}previousTab(){0!==this.index||this.wizardName===R.$.Home?super.previousTab():this.changeWizardType(R.$.Home)}initialStep(){return super.initialStep()&&this.wizardName==R.$.Home}cancelWizard(){this.index>0||this.wizardName!==R.$.Home?this.changeWizardType(R.$.Home,0):super.cancelWizard()}changeWizardType(se,L=null){(0,j.hX)(L)||(this.index=L),this.wizardName=se,this.clearComponents(),this.setupWizard(),this.createComponentAtCurrentIndex(),this.displayComponentAtCurrentIndex()}static{this.\u0275fac=function(L){return new(L||$)(e.rXU(k.I),e.rXU(N.tw),e.rXU(d.c$))}}static{this.\u0275dir=e.FsC({type:$,inputs:{displayUpgradeIcon:"displayUpgradeIcon"},features:[e.Vt3]})}}return $})()},1715:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>e});var i=h(4438);let e=(()=>{class y{constructor(w){this.viewContainerRef=w}static{this.\u0275fac=function(C){return new(C||y)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:y,selectors:[["","appStepHost",""]]})}}return y})()},2858:(nt,fe,h)=>{"use strict";h.d(fe,{AU:()=>L,zI:()=>te});var i=h(6799),e=h(9417),y=h(4414),p=h(1413),w=h(590),C=h(4438),m=h(5794),d=h(1780),f=h(177);function I(E,re){if(1&E&&(C.j41(0,"li",10)(1,"label",22),C.nrm(2,"input",23),C.j41(3,"span"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()()),2&E){const K=C.XpG();C.R7$(2),C.Y8G("value",K.CertificateAction.DoNotSet),C.R7$(2),C.JRh(C.bMT(5,2,"Clients.Import.Wizard.Certificates.DoNotSet"))}}function O(E,re){if(1&E&&(C.j41(0,"li",10)(1,"label",24),C.nrm(2,"input",25),C.j41(3,"span"),C.EFF(4),C.nI1(5,"translate"),C.k0s()()()),2&E){const K=C.XpG();C.R7$(2),C.Y8G("value",K.CertificateAction.UseExisting),C.R7$(2),C.JRh(C.bMT(5,2,"Clients.Import.Wizard.Certificates.UseExistingCertificates"))}}function P(E,re){if(1&E){const K=C.RV6();C.j41(0,"tr")(1,"td",39),C.EFF(2),C.k0s(),C.j41(3,"td")(4,"button",40),C.bIt("click",function(){const Ne=C.eBV(K).$implicit,Ae=C.XpG(5);return C.Njj(Ae.deleteCert(Ne))}),C.EFF(5),C.nrm(6,"span",41),C.j41(7,"span",37),C.EFF(8),C.nI1(9,"translate"),C.k0s()()()()}if(2&E){const K=re.$implicit,me=C.XpG(5);C.R7$(2),C.SpI(" ",null==K?null:K.subject," "),C.R7$(3),C.SpI(" ",me.deleteDisabled," "),C.R7$(3),C.JRh(C.bMT(9,3,"Clients.Saml.DeleteCert"))}}function b(E,re){if(1&E&&(C.qex(0),C.DNE(1,P,10,5,"tr",38),C.bVm()),2&E){const K=C.XpG(4);C.R7$(),C.Y8G("ngForOf",K.data.certificates.SigningCertificates)}}function M(E,re){if(1&E){const K=C.RV6();C.qex(0),C.j41(1,"tr")(2,"td",39),C.EFF(3),C.k0s(),C.j41(4,"td")(5,"button",40),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(4);return C.Njj(Ne.deleteCert(null))}),C.EFF(6),C.nrm(7,"span",41),C.j41(8,"span",37),C.EFF(9),C.nI1(10,"translate"),C.k0s()()()(),C.bVm()}if(2&E){const K=C.XpG(4);C.R7$(3),C.SpI(" ",K.data.certificates.EncryptionCertificate.subject," "),C.R7$(3),C.SpI(" ",K.deleteDisabled," "),C.R7$(3),C.JRh(C.bMT(10,3,"Clients.Saml.DeleteCert"))}}function k(E,re){if(1&E&&(C.j41(0,"table",34)(1,"thead")(2,"tr")(3,"th",35),C.EFF(4),C.nI1(5,"translate"),C.k0s(),C.j41(6,"th",36)(7,"span",37),C.EFF(8),C.nI1(9,"translate"),C.k0s()()()(),C.j41(10,"tbody"),C.DNE(11,b,2,1,"ng-container",13)(12,M,11,5,"ng-container",13),C.k0s()()),2&E){const K=C.XpG(3);C.R7$(4),C.JRh(C.bMT(5,4,"Common.Subject")),C.R7$(4),C.JRh(C.bMT(9,6,"Common.Actions")),C.R7$(3),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Request),C.R7$(),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Response)}}function N(E,re){if(1&E&&(C.j41(0,"div"),C.DNE(1,k,13,8,"table",33),C.k0s()),2&E){const K=C.XpG(2);C.R7$(),C.Y8G("ngIf",K.activeTab==K.ActiveTab.Request?K.data.certificates.SigningCertificates.length>0:K.data.certificates.EncryptionCertificate)}}function G(E,re){1&E&&(C.j41(0,"div",42)(1,"div"),C.EFF(2),C.nI1(3,"translate"),C.k0s()()),2&E&&(C.R7$(2),C.JRh(C.bMT(3,1,"Clients.NoCertificates")))}function R(E,re){if(1&E){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(3);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&E&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.AddCert")))}function j(E,re){if(1&E){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(3);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&E&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.ReplaceCertificate")))}function U(E,re){if(1&E&&(C.qex(0),C.DNE(1,R,3,3,"button",32)(2,j,3,3,"button",32),C.bVm()),2&E){const K=C.XpG(2);C.R7$(),C.Y8G("ngIf",!K.data.certificates.EncryptionCertificate||""===K.data.certificates.EncryptionCertificate),C.R7$(),C.Y8G("ngIf",K.data.certificates.EncryptionCertificate&&""!==K.data.certificates.EncryptionCertificate)}}function $(E,re){if(1&E){const K=C.RV6();C.j41(0,"button",43),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG(2);return C.Njj(Ne.addCert())}),C.EFF(1),C.nI1(2,"translate"),C.k0s()}2&E&&(C.R7$(),C.JRh(C.bMT(2,1,"Clients.Saml.AddCert")))}function ne(E,re){if(1&E){const K=C.RV6();C.j41(0,"div")(1,"ul",26)(2,"li",27)(3,"button",28),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG();return C.Njj(Ne.activeTab=Ne.ActiveTab.Request)}),C.EFF(4),C.nI1(5,"translate"),C.k0s()(),C.j41(6,"li",27)(7,"button",29),C.bIt("click",function(){C.eBV(K);const Ne=C.XpG();return C.Njj(Ne.activeTab=Ne.ActiveTab.Response)}),C.EFF(8),C.nI1(9,"translate"),C.k0s()()(),C.DNE(10,N,2,1,"div",13)(11,G,4,3,"div",30),C.j41(12,"div",31),C.DNE(13,U,3,2,"ng-container",13)(14,$,3,3,"button",32),C.k0s()()}if(2&E){const K=C.XpG();C.R7$(3),C.AVh("active",K.activeTab===K.ActiveTab.Request),C.R7$(),C.JRh(C.bMT(5,10,"Clients.Saml.Request")),C.R7$(3),C.AVh("active",K.activeTab===K.ActiveTab.Response),C.R7$(),C.JRh(C.bMT(9,12,"Clients.Saml.Response")),C.R7$(2),C.Y8G("ngIf",K.data.certificates),C.R7$(),C.Y8G("ngIf",K.activeTab==K.ActiveTab.Request&&0===K.data.certificates.SigningCertificates.length||K.activeTab==K.ActiveTab.Response&&!K.data.certificates.EncryptionCertificate),C.R7$(2),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Response),C.R7$(),C.Y8G("ngIf",K.activeTab===K.ActiveTab.Request)}}function se(E,re){if(1&E){const K=C.RV6();C.j41(0,"div",44)(1,"ul",45)(2,"li",10)(3,"label",46)(4,"input",47),C.mxI("ngModelChange",function(Ne){C.eBV(K);const Ae=C.XpG();return C.DH7(Ae.data.rememberCertificateAction,Ne)||(Ae.data.rememberCertificateAction=Ne),C.Njj(Ne)}),C.k0s(),C.j41(5,"span",48),C.EFF(6),C.nI1(7,"translate"),C.k0s()()()()()}if(2&E){const K=C.XpG();C.R7$(4),C.R50("ngModel",K.data.rememberCertificateAction),C.R7$(2),C.SpI(" ",C.bMT(7,2,"Clients.Import.Wizard.Certificates.RememberMyDecision")," ")}}var L=function(E){return E[E.DoNotSet=0]="DoNotSet",E[E.UseExisting=1]="UseExisting",E[E.ManuallyCreate=2]="ManuallyCreate",E}(L||{}),J=function(E){return E[E.Request=0]="Request",E[E.Response=1]="Response",E}(J||{});let te=(()=>{class E extends i.P{get data(){return this._selectableImportResource}set data(K){this._selectableImportResource=K}constructor(K,me,Ne,Ae){super(),this.fb=K,this.changeDetector=me,this.toastr=Ne,this.translate=Ae,this.CertificateAction=L,this.ActiveTab=J}ngOnInit(){if(this.form=this.fb.group({certificateAction:[L.UseExisting,e.k0.required]}),this.data){let me;me=this.data.existingHasCertificates?this.data.certificateAction===L.ManuallyCreate?L.ManuallyCreate:L.UseExisting:L.DoNotSet,this.data.certificateAction=me,this.form.get("certificateAction").setValue(me),this.displayResourceType=w.n.getSummaryDisplayType(this.data.resourceType)}this.data.certificateAction===L.ManuallyCreate&&(this.showCertificatePicker=!0,this.changeDetector.detectChanges(),this.data.certificates&&(this.activeTab=J.Request,this.data.certificates.SigningCertificates&&this.data.certificates.SigningCertificates.length>0?this.activeTab=J.Request:this.data.certificates.EncryptionCertificate&&(this.activeTab=J.Response))),this.form.valueChanges.subscribe(()=>{const K=this.form.value.certificateAction;this.data.certificateAction=K,K===L.ManuallyCreate?(this.showCertificatePicker=!0,this.activeTab=J.Request,this.changeDetector.detectChanges()):this.showCertificatePicker=!1}),this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}addCert(){this.updatedCertificatesObservable&&(this.updatedCertificatesObservable.unsubscribe(),this.updatedCertificatesObservable=null),this.updatedCertificateSubject=new p.B,this.updatedCertificatesObservable=this.updatedCertificateSubject.subscribe(K=>{this.activeTab===J.Request?(this.stripContentTypeFromData(K),this.data.certificates.SigningCertificates.some(me=>me.base64Cert===K.base64Cert)?this.toastr.error(this.translate.instant("Clients.Import.Wizard.Certificates.DuplicateCertificate"),this.translate.instant("Clients.Import.Wizard.Certificates.InvalidCertificate")):this.data.certificates.SigningCertificates.push(K)):(this.stripContentTypeFromData(K),this.data.certificates.EncryptionCertificate=K)}),this.openModal(y.M.importUploadCertificate,this.updatedCertificatesObservable)}stripContentTypeFromData(K){const me=K.base64Cert.split("base64,");me.length>1&&(K.base64Cert=me[1])}deleteCert(K){if(this.activeTab===J.Request){const me=this.data.certificates.SigningCertificates.indexOf(K);this.data.certificates.SigningCertificates.splice(me,1)}else this.data.certificates.EncryptionCertificate=null}goNext(){this.data.certificateAction===L.ManuallyCreate&&(!this.data.certificates||!(this.data.certificates.SigningCertificates.length>0||this.data.certificates.EncryptionCertificate&&this.data.certificates.EncryptionCertificate.base64Cert))||(this.data.certificateAction===L.DoNotSet?(this.data.certificates.SigningCertificates=[],this.data.certificates.EncryptionCertificate=null):this.data.certificateAction===L.UseExisting&&(this.data.useExistingCertificates=!0),this.next())}disableNext(){return!(this.data.certificateAction===L.DoNotSet||this.data.certificateAction===L.UseExisting||null!==this.data.certificates&&(null!==this.data.certificates.SigningCertificates&&0!==this.data.certificates.SigningCertificates.length||this.data.certificates.EncryptionCertificate&&""!==this.data.certificates.EncryptionCertificate.base64Cert))}ngOnDestroy(){this.updatedCertificatesObservable&&this.updatedCertificatesObservable.unsubscribe()}static{this.\u0275fac=function(me){return new(me||E)(C.rXU(e.ze),C.rXU(C.gRc),C.rXU(m.tw),C.rXU(d.c$))}}static{this.\u0275cmp=C.VBU({type:E,selectors:[["app-import-certificates"]],features:[C.Vt3],decls:38,vars:29,consts:[["existingHasCertificates",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","certActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","certActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-certificate",1,"tw-form-checks__label"],["id","existing-certificate","formControlName","certificateAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"pill-tabs"],[1,"pill-tabs__item"],["id","requestSpan",1,"pill-tabs__link",3,"click"],["id","responseSpan",1,"pill-tabs__link",3,"click"],["id","noCertsAlert","class","tw-alert tw-mb-4","role","alert",4,"ngIf"],[1,"tw-flex","tw-justify-end"],["id","addButton","class","tw-btn-success",3,"click",4,"ngIf"],["id","certificateTable","class","datatable hover tw-mb-4",4,"ngIf"],["id","certificateTable",1,"datatable","hover","tw-mb-4"],[1,""],[1,"tw-w-1"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],["type","button",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],["id","noCertsAlert","role","alert",1,"tw-alert","tw-mb-4"],["id","addButton",1,"tw-btn-success",3,"click"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function(me,Ne){if(1&me){const Ae=C.RV6();C.j41(0,"div",1)(1,"h2",2)(2,"span",3),C.EFF(3),C.nI1(4,"translate"),C.k0s(),C.j41(5,"span",4),C.EFF(6),C.nI1(7,"translate"),C.k0s()(),C.j41(8,"div",5)(9,"p",6),C.EFF(10),C.nI1(11,"translate"),C.k0s()(),C.j41(12,"form",7)(13,"ul",8),C.DNE(14,I,6,4,"li",9)(15,O,6,4,"ng-template",null,0,C.C5r),C.j41(17,"li",10)(18,"label",11),C.nrm(19,"input",12),C.j41(20,"span"),C.EFF(21),C.nI1(22,"translate"),C.k0s()()()()(),C.DNE(23,ne,15,14,"div",13)(24,se,8,4,"div",14),C.k0s(),C.nrm(25,"div",15),C.j41(26,"div",16)(27,"div",17)(28,"div",18)(29,"button",19),C.bIt("click",function(){return C.eBV(Ae),C.Njj(Ne.goNext())}),C.EFF(30),C.nI1(31,"translate"),C.k0s(),C.j41(32,"button",20),C.bIt("click",function(){return C.eBV(Ae),C.Njj(Ne.back())}),C.EFF(33),C.nI1(34,"translate"),C.k0s()(),C.j41(35,"button",21),C.bIt("click",function(){return C.eBV(Ae),C.Njj(Ne.cancel())}),C.EFF(36),C.nI1(37,"translate"),C.k0s()()()}if(2&me){const Ae=C.sdS(16);C.R7$(3),C.SpI("",C.bMT(4,15,"Clients.Import.Wizard.Certificates.Title"),":"),C.R7$(3),C.Lme("",null==Ne.data?null:Ne.data.displayName," (",C.bMT(7,17,"Clients.Import.Wizard.Secrets."+Ne.displayResourceType),")"),C.R7$(4),C.JRh(C.bMT(11,19,"Clients.Import.Wizard.Certificates.ChooseWhatToDo")),C.R7$(2),C.Y8G("formGroup",Ne.form),C.R7$(2),C.Y8G("ngIf",!(null!=Ne.data&&Ne.data.existingHasCertificates))("ngIfElse",Ae),C.R7$(5),C.Y8G("value",Ne.CertificateAction.ManuallyCreate),C.R7$(2),C.JRh(C.bMT(22,21,"Clients.Import.Wizard.Certificates.UploadNewCertificates")),C.R7$(2),C.Y8G("ngIf",Ne.showCertificatePicker),C.R7$(),C.Y8G("ngIf",!Ne.showCertificatePicker),C.R7$(5),C.Y8G("disabled",Ne.disableNext()),C.R7$(),C.JRh(C.bMT(31,23,"Common.Next")),C.R7$(3),C.JRh(C.bMT(34,25,"Common.Back")),C.R7$(3),C.JRh(C.bMT(37,27,"Common.Cancel"))}},dependencies:[f.Sq,f.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,d.D9],encapsulation:2})}}return E})()},4406:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>w});var i=h(6799),e=h(4438),y=h(5826),p=h(1780);let w=(()=>{class C extends i.P{constructor(d){super(),this.importWizardService=d,this.hideProgressBar=!0}downloadAndQuit(){this.importWizardService.downloadClientSecretsFromCache().subscribe(()=>{this.quit()})}yes(){this.quit()}static{this.\u0275fac=function(f){return new(f||C)(e.rXU(y.o))}}static{this.\u0275cmp=e.VBU({type:C,selectors:[["app-import-download-warning"]],features:[e.Vt3],decls:17,vars:15,consts:[[1,"modal-body","tw-text-center"],[1,"tw-mb-4"],[1,"tw-pill-danger"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","leaveBtn",1,"tw-btn-success",3,"click"],["id","stayBtn",1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(f,I){1&f&&(e.j41(0,"div",0)(1,"p",1),e.EFF(2),e.nI1(3,"translate"),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"div",3)(9,"div",4)(10,"div",5)(11,"button",6),e.bIt("click",function(){return I.downloadAndQuit()}),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"button",7),e.bIt("click",function(){return I.yes()}),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()),2&f&&(e.R7$(2),e.Lme(" ",e.bMT(3,5,"Clients.Import.Wizard.Warning.DownloadSecrets")," ",e.bMT(4,7,"Clients.Import.Wizard.Warning.Text2")," "),e.R7$(4),e.JRh(e.bMT(7,9,"Secret Picker.LastWarning")),e.R7$(6),e.JRh(e.bMT(13,11,"Clients.Import.Wizard.CompleteImport.DownloadSecrets")),e.R7$(3),e.JRh(e.bMT(16,13,"Clients.Import.Wizard.CompleteImport.FinishImport")))},dependencies:[p.D9],encapsulation:2})}}return C})()},1138:(nt,fe,h)=>{"use strict";h.d(fe,{r:()=>N,u:()=>G});var i=h(1744),e=h(9417),y=h(785),p=h(7263),w=h(6799),C=h(590),m=h(4438),d=h(1780),f=h(177),I=h(9764);const O=["secretPicker"];function P(R,j){if(1&R&&(m.j41(0,"li",11)(1,"label",28),m.nrm(2,"input",29),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&R){const U=m.XpG();m.R7$(2),m.Y8G("value",U.SecretsActions.DoNotSet),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.DoNotSet"))}}function b(R,j){if(1&R&&(m.j41(0,"li",11)(1,"label",30),m.nrm(2,"input",31),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s()()()),2&R){const U=m.XpG();m.R7$(2),m.Y8G("value",U.SecretsActions.UseExistingSecret),m.R7$(2),m.JRh(m.bMT(5,2,"Clients.Import.Wizard.Secrets.UseExistingSecrets"))}}function M(R,j){if(1&R&&m.nrm(0,"app-secret-picker",32,1),2&R){const U=m.XpG();m.Y8G("clientSecrets",U.possibleSecrets)("nonModelCertPicker",!1)}}function k(R,j){if(1&R){const U=m.RV6();m.j41(0,"div",33)(1,"ul",34)(2,"li",11)(3,"label",35)(4,"input",36),m.mxI("ngModelChange",function(ne){m.eBV(U);const se=m.XpG();return m.DH7(se.data.rememberSecretAction,ne)||(se.data.rememberSecretAction=ne),m.Njj(ne)}),m.k0s(),m.j41(5,"span",37),m.EFF(6),m.nI1(7,"translate"),m.k0s()()()()()}if(2&R){const U=m.XpG();m.R7$(4),m.R50("ngModel",U.data.rememberSecretAction),m.R7$(2),m.SpI(" ",m.bMT(7,2,"Clients.Import.Wizard.Secrets.RememberMyDecision")," ")}}var N=function(R){return R[R.DoNotSet=0]="DoNotSet",R[R.Generate=1]="Generate",R[R.ManuallyCreate=2]="ManuallyCreate",R[R.UseExistingSecret=3]="UseExistingSecret",R}(N||{});let G=(()=>{class R extends w.P{get data(){return this._selectableImportResource}set data(U){this._selectableImportResource=U}constructor(U,$,ne){super(),this.translate=U,this.fb=$,this.changeDetector=ne,this.SecretsActions=N,this.possibleSecrets=[]}ngOnInit(){if(this.form=this.fb.group({secretAction:["",e.k0.required]}),this.data){const U=this.data.existingHasSecrets?N.UseExistingSecret:N.DoNotSet;this.form.get("secretAction").setValue(U),this.displayResourceType=this.data.resourceType===i.ot.Client?C.n.client:C.n.protectedResource}this.data.secrets&&this.data.secrets.length>0&&(this.data.secretsAction===N.ManuallyCreate?(this.possibleSecrets=this.data.secrets,this.form.setValue({secretAction:N.ManuallyCreate}),this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.form.setValue({secretAction:N.Generate})),this.form.valueChanges.subscribe(()=>{const U=this.form.value.secretAction;this.data.secretsAction=U,U===N.ManuallyCreate?(this.showSecretPicker=!0,this.changeDetector.detectChanges(),this.secretPicker.displayWarnings=!1,this.manageSecretStreams()):this.showSecretPicker=!1})}getResourceType(){return this.data?i.ot[this.data.resourceType]:""}goNext(){const U=this.form.get("secretAction");if(U.value===N.DoNotSet)this.data.secrets=[];else if(U.value===N.UseExistingSecret)this.data.useExistingSecrets=!0;else if(U.value===N.Generate){const $=new y.z;$.value=(0,p.Nl)(),$.type="Shared Secret",$.description="",this.data.secrets=[$]}else this.data.secrets=this.possibleSecrets;this.data.secretsAction=this.form.get("secretAction").value,this.next()}manageSecretStreams(){this.secretAddSubscription=this.secretPicker.secretsAddStream.subscribe(U=>{this.possibleSecrets.push(U)}),this.secretDeleteSubscription=this.secretPicker.secretsRemoveStream.subscribe(U=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(U),1)})}ngOnDestroy(){this.secretAddSubscription&&(this.secretAddSubscription.unsubscribe(),this.secretDeleteSubscription.unsubscribe())}static{this.\u0275fac=function($){return new($||R)(m.rXU(d.c$),m.rXU(e.ze),m.rXU(m.gRc))}}static{this.\u0275cmp=m.VBU({type:R,selectors:[["app-import-secrets"]],viewQuery:function($,ne){if(1&$&&m.GBs(O,5),2&$){let se;m.mGM(se=m.lsd())&&(ne.secretPicker=se.first)}},features:[m.Vt3],decls:51,vars:38,consts:[["existingHasSecrets",""],["secretPicker",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],["id","displayName"],[1,"cms"],["id","secretActionsLabel"],[3,"formGroup"],["role","group","aria-labelledby","secretActionsLabel",1,"tw-form-checks"],["class","tw-form-checks__item",4,"ngIf","ngIfElse"],[1,"tw-form-checks__item"],["for","generate",1,"tw-form-checks__label"],["id","generate","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","manually-create",1,"tw-form-checks__label"],["id","manually-create","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[1,"tw-text-center","tw-mb-8"],[1,"tw-pill","tw-mx-auto"],[1,"tw-font-bold"],[3,"clientSecrets","nonModelCertPicker",4,"ngIf"],["class","tw-border-t tw-border-grey-200 tw-px-4 tw-pt-4 tw--mx-5 tw-mt-4",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["for","do-not-set",1,"tw-form-checks__label"],["id","do-not-set","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],["for","existing-secrets",1,"tw-form-checks__label"],["id","existing-secrets","formControlName","secretAction","type","radio",1,"tw-form-checks__input",3,"value"],[3,"clientSecrets","nonModelCertPicker"],[1,"tw-border-t","tw-border-grey-200","tw-px-4","tw-pt-4","tw--mx-5","tw-mt-4"],[1,"tw-form-checks"],["for","remember-my-decision",1,"tw-form-checks__label"],["id","remember-my-decision","type","checkbox",1,"tw-form-checks__input",3,"ngModelChange","ngModel"],[1,"tw-font-normal"]],template:function($,ne){if(1&$){const se=m.RV6();m.j41(0,"div",2)(1,"h2",3)(2,"span",4),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span",5),m.EFF(6),m.nI1(7,"translate"),m.k0s()(),m.j41(8,"div",6)(9,"p",7),m.EFF(10),m.nI1(11,"translate"),m.k0s()(),m.j41(12,"form",8)(13,"ul",9),m.DNE(14,P,6,4,"li",10)(15,b,6,4,"ng-template",null,0,m.C5r),m.j41(17,"li",11)(18,"label",12),m.nrm(19,"input",13),m.j41(20,"span"),m.EFF(21),m.nI1(22,"translate"),m.k0s()()(),m.j41(23,"li",11)(24,"label",14),m.nrm(25,"input",15),m.j41(26,"span"),m.EFF(27),m.nI1(28,"translate"),m.k0s()()()()(),m.j41(29,"div",16)(30,"p",17)(31,"b",18),m.EFF(32),m.nI1(33,"translate"),m.k0s(),m.EFF(34),m.nI1(35,"translate"),m.k0s()(),m.DNE(36,M,2,2,"app-secret-picker",19)(37,k,8,4,"div",20),m.k0s(),m.nrm(38,"div",21),m.j41(39,"div",22)(40,"div",23)(41,"div",24)(42,"button",25),m.bIt("click",function(){return m.eBV(se),m.Njj(ne.goNext())}),m.EFF(43),m.nI1(44,"translate"),m.k0s(),m.j41(45,"button",26),m.bIt("click",function(){return m.eBV(se),m.Njj(ne.back())}),m.EFF(46),m.nI1(47,"translate"),m.k0s()(),m.j41(48,"button",27),m.bIt("click",function(){return m.eBV(se),m.Njj(ne.cancel())}),m.EFF(49),m.nI1(50,"translate"),m.k0s()()()}if(2&$){const se=m.sdS(16);m.R7$(3),m.SpI("",m.bMT(4,18,"Clients.Import.Wizard.Secrets.Title"),":"),m.R7$(3),m.Lme("",null==ne.data?null:ne.data.displayName," (",m.bMT(7,20,"Clients.Import.Wizard.Secrets."+ne.displayResourceType),")"),m.R7$(4),m.JRh(m.bMT(11,22,"Clients.Import.Wizard.Secrets.ChooseWhatToDo")),m.R7$(2),m.Y8G("formGroup",ne.form),m.R7$(2),m.Y8G("ngIf",!(null!=ne.data&&ne.data.existingHasSecrets))("ngIfElse",se),m.R7$(5),m.Y8G("value",ne.SecretsActions.Generate),m.R7$(2),m.JRh(m.bMT(22,24,"Clients.Import.Wizard.Secrets.Generate")),m.R7$(4),m.Y8G("value",ne.SecretsActions.ManuallyCreate),m.R7$(2),m.JRh(m.bMT(28,26,"Clients.Import.Wizard.Secrets.ManuallyCreate")),m.R7$(5),m.SpI("",m.bMT(33,28,"Clients.Import.Wizard.Secrets.Note.Title"),":"),m.R7$(2),m.SpI(" ",m.bMT(35,30,"Clients.Import.Wizard.Secrets.Note.Note")," "),m.R7$(2),m.Y8G("ngIf",ne.showSecretPicker),m.R7$(),m.Y8G("ngIf",!ne.showSecretPicker),m.R7$(6),m.JRh(m.bMT(44,32,"Common.Next")),m.R7$(3),m.JRh(m.bMT(47,34,"Common.Back")),m.R7$(3),m.JRh(m.bMT(50,36,"Common.Cancel"))}},dependencies:[f.bT,e.qT,e.me,e.Zm,e.Fm,e.BC,e.cb,e.vS,e.j4,e.JD,I.s,d.D9],encapsulation:2})}}return R})()},5696:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>L});var i=h(1744),e=h(4414),y=h(6799),p=h(4438),w=h(5826),C=h(1780),m=h(177);const d=(J,te,E,re,K)=>({title:J,editable:!0,header1:te,header2:E,header3:re,data:K}),f=(J,te,E,re,K,me)=>({title:J,editable:te,header1:E,header2:re,header3:K,data:me}),I=J=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":J});function O(J,te){1&J&&p.eu8(0)}function P(J,te){if(1&J&&(p.j41(0,"div"),p.DNE(1,O,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const E=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.s1E(10,d,p.bMT(2,2,"Nav.Clients"),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Client"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Client"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Client"),E.clients))}}function b(J,te){1&J&&p.eu8(0)}function M(J,te){if(1&J&&(p.j41(0,"div",13),p.DNE(1,b,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const E=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.l4e(10,f,p.bMT(2,2,"Nav.Resources"),E.canEdit(E.resources),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.Resource"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.Resource"),E.resources))}}function k(J,te){1&J&&p.eu8(0)}function N(J,te){if(1&J&&(p.j41(0,"div",13),p.DNE(1,k,1,0,"ng-container",12),p.nI1(2,"translate"),p.nI1(3,"translate"),p.nI1(4,"translate"),p.nI1(5,"translate"),p.k0s()),2&J){const E=p.XpG(),re=p.sdS(9);p.R7$(),p.Y8G("ngTemplateOutlet",re)("ngTemplateOutletContext",p.l4e(10,f,p.bMT(2,2,"Nav.ClaimTypes"),E.canEdit(E.claims),p.bMT(3,4,"Clients.Import.Wizard.Summary.Name.Resource"),p.bMT(4,6,"Clients.Import.Wizard.Summary.Identifier.ClaimType"),p.bMT(5,8,"Clients.Import.Wizard.Summary.Type.ClaimType"),E.claims))}}function G(J,te){if(1&J&&(p.qex(0),p.j41(1,"td",31),p.nrm(2,"span",32),p.k0s(),p.j41(3,"td")(4,"span",33),p.EFF(5),p.k0s()(),p.bVm()),2&J){const E=p.XpG().$implicit,re=p.XpG(2);p.R7$(5),p.JRh(re.getConflicts(E))}}function R(J,te){1&J&&p.nrm(0,"span",37)}function j(J,te){1&J&&p.nrm(0,"span",38)}function U(J,te){1&J&&p.nrm(0,"span",32)}function $(J,te){if(1&J&&(p.qex(0),p.j41(1,"td",31),p.DNE(2,R,1,0,"span",34)(3,j,1,0,"span",35)(4,U,1,0,"span",36),p.k0s(),p.j41(5,"td")(6,"span",33),p.EFF(7),p.k0s()(),p.bVm()),2&J){const E=p.XpG().$implicit,re=p.XpG(2);p.R7$(2),p.Y8G("ngIf",E.resourceState==re.resourceStates.New),p.R7$(),p.Y8G("ngIf",E.resourceState==re.resourceStates.Duplicate),p.R7$(),p.Y8G("ngIf",E.conflictedByDependencies),p.R7$(2),p.AVh("tw-italic",E.resourceState===re.resourceStates.Duplicate),p.R7$(),p.SpI(" ",re.getResourceState(E)," ")}}function ne(J,te){if(1&J&&(p.j41(0,"tr",27)(1,"td",28)(2,"b"),p.EFF(3),p.k0s()(),p.j41(4,"td",29),p.EFF(5),p.k0s(),p.j41(6,"td",30),p.EFF(7),p.nI1(8,"translate"),p.k0s(),p.DNE(9,G,6,1,"ng-container",3)(10,$,8,6,"ng-container",3),p.k0s()),2&J){const E=te.$implicit,re=p.XpG(2);p.Y8G("ngClass",p.eq3(9,I,E.resourceState===re.resourceStates.Duplicate)),p.R7$(),p.Y8G("title",E.displayName),p.R7$(2),p.JRh(E.displayName),p.R7$(2),p.SpI(" ",E.identifier," "),p.R7$(2),p.SpI(" ",p.bMT(8,7,"Clients.Import.Wizard.Summary.ResourceTypes."+E.displayType)," "),p.R7$(2),p.Y8G("ngIf",E.resourceState===re.resourceStates.Conflicted&&!E.conflictedByDependencies),p.R7$(),p.Y8G("ngIf",E.resourceState!==re.resourceStates.Conflicted||E.conflictedByDependencies)}}function se(J,te){if(1&J){const E=p.RV6();p.j41(0,"h2",14)(1,"span",15),p.EFF(2),p.k0s(),p.j41(3,"button",16),p.bIt("click",function(){const K=p.eBV(E).data,me=p.XpG();return p.Njj(me.editResourceSummary(K))}),p.nrm(4,"span",17),p.j41(5,"span",18),p.EFF(6),p.nI1(7,"translate"),p.k0s()()(),p.j41(8,"table",19)(9,"thead")(10,"tr")(11,"th",20),p.EFF(12),p.k0s(),p.j41(13,"th",21),p.EFF(14),p.k0s(),p.j41(15,"th",22),p.EFF(16),p.k0s(),p.nrm(17,"td",23),p.j41(18,"th",24)(19,"span",25),p.EFF(20),p.nI1(21,"translate"),p.k0s()()()(),p.j41(22,"tbody"),p.DNE(23,ne,11,11,"tr",26),p.k0s()()}if(2&J){const E=te.title,re=te.editable,K=te.header1,me=te.header2,Ne=te.header3,Ae=te.data;p.R7$(2),p.JRh(E),p.R7$(),p.Y8G("disabled",!re),p.R7$(3),p.JRh(p.bMT(7,8,"Common.Edit")),p.R7$(6),p.JRh(K),p.R7$(2),p.JRh(me),p.R7$(2),p.JRh(Ne),p.R7$(4),p.JRh(p.bMT(21,10,"Common.Status")),p.R7$(3),p.Y8G("ngForOf",Ae)}}let L=(()=>{class J extends y.P{constructor(E,re){super(),this.importWizardService=E,this.translate=re,this.resourceStates=i.jD,this.resourceTypes=i.ot}ngOnInit(){this.importWizardService.cache.subscribe(E=>{const re=[this.resourceStates.Conflicted,this.resourceStates.New,this.resourceStates.Duplicate],K=E.filter(Ae=>Ae.resourceType===i.ot.Client&&(Ae.selected||Ae.resourceState===i.jD.Duplicate)),me=[],Ne=[];E.forEach(Ae=>{Ae.resourceType!==i.ot.Client&&K.some(xe=>Ae.dependantClients.some(Qe=>Qe.identifier===xe.identifier))&&(Ae.resourceType===i.ot.ClaimType?me.push(Ae):Ne.push(Ae))}),this.clients=K.sort((Ae,xe)=>re.indexOf(Ae.resourceState)-re.indexOf(xe.resourceState)),this.claims=me.sort((Ae,xe)=>re.indexOf(Ae.resourceState)-re.indexOf(xe.resourceState)),this.resources=Ne.sort((Ae,xe)=>re.indexOf(Ae.resourceState)-re.indexOf(xe.resourceState))})}canNext(){return!0}goNext(){this.next()}viewConflicts(E,re){E.stopPropagation(),this.openModal(e.M.summaryConflicts,re)}getResourceState(E){return E.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[E.resourceState]}canEdit(E){return E.length>0&&E.some(re=>re.resourceState!==i.jD.Duplicate)}editResourceSummary(E){this.importWizardController.goToSummaryStep(E[0].resourceType)}getConflicts(E){let K,re=0;return E.conflicts.forEach(me=>{re+=me.conflicts.length}),K=this.translate.instant(1===re?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),re+" "+K}static{this.\u0275fac=function(re){return new(re||J)(p.rXU(w.o),p.rXU(C.c$))}}static{this.\u0275cmp=p.VBU({type:J,selectors:[["app-import-summary-all"]],features:[p.Vt3],decls:23,vars:16,consts:[["commonDatatable",""],[1,"modal-body"],[1,"cms"],[4,"ngIf"],["class","tw-mt-8",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-mt-8"],[1,"tw-border-b","tw-border-grey-200","tw-mb-3","tw-pb-1","tw-font-semibold","md:tw-flex","md:tw-items-center"],[1,"tw-block","tw-mb-2","md:tw-mb-0"],[1,"tw-btn","tw-btn-small","tw-btn-link","md:tw-ml-auto",3,"click","disabled"],["aria-hidden","true",1,"fad","fa-pencil"],[1,"tw-ml-2"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"tw-truncate","tw-max-w-0",3,"title"],[1,"tw-hidden","tw-truncate","sm:tw-table-cell"],[1,"tw-hidden","tw-truncate","lg:tw-table-cell"],["aria-hidden","true",1,"tw-hidden","tw-text-right","xs:tw-table-cell"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],[1,"tw-whitespace-nowrap"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"]],template:function(re,K){if(1&re){const me=p.RV6();p.j41(0,"div",1)(1,"div",2)(2,"p"),p.EFF(3),p.nI1(4,"translate"),p.k0s()(),p.DNE(5,P,6,16,"div",3)(6,M,6,17,"div",4)(7,N,6,17,"div",4)(8,se,24,12,"ng-template",null,0,p.C5r),p.k0s(),p.nrm(10,"div",5),p.j41(11,"div",6)(12,"div",7)(13,"div",8)(14,"button",9),p.bIt("click",function(){return p.eBV(me),p.Njj(K.goNext())}),p.EFF(15),p.nI1(16,"translate"),p.k0s(),p.j41(17,"button",10),p.bIt("click",function(){return p.eBV(me),p.Njj(K.back())}),p.EFF(18),p.nI1(19,"translate"),p.k0s()(),p.j41(20,"button",11),p.bIt("click",function(){return p.eBV(me),p.Njj(K.cancel())}),p.EFF(21),p.nI1(22,"translate"),p.k0s()()()}2&re&&(p.R7$(3),p.JRh(p.bMT(4,8,"Clients.Import.Wizard.Summary.FinalSummary")),p.R7$(2),p.Y8G("ngIf",(null==K.clients?null:K.clients.length)>0),p.R7$(),p.Y8G("ngIf",(null==K.resources?null:K.resources.length)>0),p.R7$(),p.Y8G("ngIf",(null==K.claims?null:K.claims.length)>0),p.R7$(7),p.Y8G("disabled",!K.canNext()),p.R7$(),p.JRh(p.bMT(16,10,"Clients.Import.Import")),p.R7$(3),p.JRh(p.bMT(19,12,"Common.Back")),p.R7$(3),p.JRh(p.bMT(22,14,"Common.Cancel")))},dependencies:[m.YU,m.Sq,m.bT,m.T3,C.D9],encapsulation:2})}}return J})()},7629:(nt,fe,h)=>{"use strict";h.d(fe,{oG:()=>tt});var i=h(1744),e=h(4414),y=h(7263),p=h(590),w=h(6799);let C=(()=>{class It{static{this.RelyingPartyProperty="RelyingParty"}static{this.RelyingPartyIdentifier="Relying Party"}static{this.ServiceProviderProperty="ServiceProvider"}static{this.ServiceProviderIdentifier="Service Provider"}static{this.ClaimsProperty="Claims"}static{this.PropertiesProperty="Properties"}static{this.ScopesProperty="Scopes"}static{this.UserClaimsProperty="UserClaims"}static{this.sloProperty="SingleLogoutServices"}static{this.acsProperty="AssertionConsumerServices"}static{this.sloIdentifier="Single Logout Services"}static{this.acsIdentifier="Assertion Consumer Services"}static{this.ClaimMappingsIdentifier="Claim Mappings"}static{this.ClaimMappingsKey="ClaimMappings"}static{this.SamlDisplayType="Saml"}static{this.WsFedDisplayType="WsFed"}static{this.Client="Client"}static{this.Endpoint="Endpoint"}static{this.ProtectedResources="ProtectedResources"}static{this.IdentityResources="IdentityResources"}static{this.ClaimTypes="ClaimTypes"}static{this.Secrets="Secrets"}static{this.Certificates="Certificates"}}return It})();var m=h(4438),d=h(5826),f=h(1780),I=h(7005),O=h(177);let P=(()=>{class It{transform(Ht){if(Ht){const lt=[...Ht];let Ct="",yt="";for(let Ot=0;Ot<lt.length;Ot++){const tn=lt[Ot];if(0===Ct.length)Ct=tn.toUpperCase();else if(Ot+1===lt.length)yt===yt.toUpperCase()||tn===tn.toLowerCase()?Ct+=tn:Ct+=`${tn}`;else if(tn===tn.toUpperCase()){const In=yt===yt.toUpperCase(),Un=lt[Ot+1];In?Un===Un.toLowerCase()?Ct+=` ${tn}`:Ct+=tn:Ct+=` ${tn}`}else Ct+=tn;yt=tn}Ht=Ct}return Ht}static{this.\u0275fac=function(lt){return new(lt||It)}}static{this.\u0275pipe=m.EJ8({name:"beautifyPropertyName",type:It,pure:!0})}}return It})();const b=["importSummaryConflictsModal"];function M(It,Rn){1&It&&m.nrm(0,"span",25)}function k(It,Rn){1&It&&m.nrm(0,"span",26)}function N(It,Rn){1&It&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function G(It,Rn){if(1&It&&(m.j41(0,"li",34)(1,"span"),m.EFF(2),m.k0s(),m.DNE(3,N,2,0,"span",35),m.k0s()),2&It){const Ht=Rn.$implicit,lt=Rn.last;m.R7$(2),m.JRh(Ht.displayName),m.R7$(),m.Y8G("ngIf",!lt)}}function R(It,Rn){if(1&It&&(m.j41(0,"dl",30)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd")(5,"ul",32),m.DNE(6,G,4,2,"li",33),m.k0s()()()),2&It){const Ht=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsImportClients"),": "),m.R7$(4),m.Y8G("ngForOf",Ht.linkedNewClients)}}function j(It,Rn){1&It&&(m.j41(0,"span",36),m.EFF(1,", "),m.k0s())}function U(It,Rn){if(1&It&&(m.j41(0,"li",34)(1,"a",38),m.EFF(2),m.k0s(),m.DNE(3,j,2,0,"span",35),m.k0s()),2&It){const Ht=Rn.$implicit,lt=Rn.last,Ct=m.XpG(4);m.R7$(),m.Y8G("href",Ct.buildHref(Ht.existingIdentifier),m.B4B),m.R7$(),m.SpI(" ",Ht.displayName," "),m.R7$(),m.Y8G("ngIf",!lt)}}function $(It,Rn){if(1&It&&(m.j41(0,"dl",37)(1,"dt",31),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",34)(5,"ul",32),m.DNE(6,U,4,3,"li",33),m.k0s()()()),2&It){const Ht=m.XpG(3);m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.EffectsExistingClients"),": "),m.R7$(4),m.Y8G("ngForOf",Ht.linkedExistingClients)}}function ne(It,Rn){if(1&It&&(m.j41(0,"div",27),m.DNE(1,R,7,4,"dl",28)(2,$,7,4,"dl",29),m.k0s()),2&It){const Ht=m.XpG(2);m.R7$(),m.Y8G("ngIf",Ht.linkedNewClients.length>0),m.R7$(),m.Y8G("ngIf",Ht.linkedExistingClients.length>0)}}function se(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"div",18)(1,"div",19)(2,"button",20),m.bIt("click",function(){m.eBV(Ht);const Ct=m.XpG();return m.Njj(Ct.toggleDisplayLinkedClientsDropdown())}),m.j41(3,"span"),m.EFF(4),m.nI1(5,"translate"),m.k0s(),m.j41(6,"span",21),m.DNE(7,M,1,0,"span",22)(8,k,1,0,"span",23),m.k0s()(),m.DNE(9,ne,3,2,"div",24),m.k0s()()}if(2&It){const Ht=m.XpG();m.AVh("tw-alert-warning",Ht.linkedExistingClients.length>0),m.R7$(4),m.JRh(m.bMT(5,6,"Clients.Import.Wizard.Summary.LinkedClients")),m.R7$(3),m.Y8G("ngIf",Ht.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",!Ht.displayLinkedClientsDropdown),m.R7$(),m.Y8G("ngIf",Ht.displayLinkedClientsDropdown)}}function L(It,Rn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.previous," ")}}function J(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function te(It,Rn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.new," ")}}function E(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function re(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Ht);const Ct=m.XpG(2);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,L,2,1,"span",44)(6,J,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,te,2,1,"span",46)(9,E,3,3,"i",45),m.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=m.XpG(2);m.R7$(2),m.JRh(m.bMT(3,5,Ht.propertyName)),m.R7$(3),m.Y8G("ngIf",lt.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.new))}}function K(It,Rn){if(1&It&&(m.j41(0,"div",39)(1,"table",40)(2,"thead")(3,"tr")(4,"th"),m.EFF(5),m.nI1(6,"translate"),m.k0s(),m.j41(7,"th",41),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s()()(),m.j41(13,"tbody"),m.DNE(14,re,10,7,"tr",42),m.k0s()()()),2&It){const Ht=m.XpG();m.R7$(5),m.JRh(m.bMT(6,4,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(9,6,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(12,8,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Ht.fieldConflicts?null:Ht.fieldConflicts.conflicts)}}function me(It,Rn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.previous," ")}}function Ne(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ae(It,Rn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.new," ")}}function xe(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Qe(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Ht);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.k0s(),m.j41(3,"td"),m.DNE(4,me,2,1,"span",44)(5,Ne,3,3,"i",45),m.k0s(),m.j41(6,"td"),m.DNE(7,Ae,2,1,"span",46)(8,xe,3,3,"i",45),m.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=m.XpG(3);m.R7$(2),m.JRh(Ht.propertyName),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Ee(It,Rn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Qe,9,5,"tr",42),m.k0s()()()),2&It){const Ht=Rn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Ht.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Key")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function be(It,Rn){if(1&It&&(m.j41(0,"div",50),m.DNE(1,Ee,18,13,"div",51),m.k0s()),2&It){const Ht=m.XpG();m.R7$(),m.Y8G("ngForOf",Ht.clientKeyValueConflicts)}}function le(It,Rn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.previous," ")}}function Pe(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function Ie(It,Rn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.new," ")}}function st(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Oe(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Ht);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.j41(1,"td"),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"td"),m.DNE(5,le,2,1,"span",44)(6,Pe,3,3,"i",45),m.k0s(),m.j41(7,"td"),m.DNE(8,Ie,2,1,"span",46)(9,st,3,3,"i",45),m.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=m.XpG(3);m.R7$(2),m.JRh(m.bMT(3,5,Ht.propertyName)),m.R7$(3),m.Y8G("ngIf",lt.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.new))}}function pt(It,Rn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Oe,10,7,"tr",42),m.k0s()()()),2&It){const Ht=Rn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Ht.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function Ye(It,Rn){if(1&It&&(m.j41(0,"div",54)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,pt,18,13,"div",51),m.k0s()),2&It){const Ht=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedScopes")," "),m.R7$(2),m.Y8G("ngForOf",Ht.scopeConflicts)}}function qt(It,Rn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Ht.propertyName))}}function jt(It,Rn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.JRh(Ht.propertyName)}}function Dt(It,Rn){if(1&It&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",62),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",62),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",47),m.EFF(15),m.k0s()()),2&It){const Ht=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Ht.previous.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Ht.previous.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Ht.previous.index)}}function wt(It,Rn){1&It&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&It&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function z(It,Rn){if(1&It&&(m.j41(0,"dl",60)(1,"dt",61),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.j41(4,"dd",63),m.EFF(5),m.k0s(),m.j41(6,"dt",61),m.EFF(7),m.nI1(8,"translate"),m.k0s(),m.j41(9,"dd",63),m.EFF(10),m.k0s(),m.j41(11,"dt",61),m.EFF(12),m.nI1(13,"translate"),m.k0s(),m.j41(14,"dd",49),m.EFF(15),m.k0s()()),2&It){const Ht=m.XpG(2).$implicit;m.R7$(2),m.SpI("",m.bMT(3,6,"Common.URL"),":"),m.R7$(3),m.JRh(Ht.new.location),m.R7$(2),m.SpI("",m.bMT(8,8,"Clients.Saml.BindingType"),":"),m.R7$(3),m.JRh(Ht.new.binding),m.R7$(2),m.SpI("",m.bMT(13,10,"Clients.Saml.Index"),":"),m.R7$(3),m.JRh(Ht.new.index)}}function Y(It,Rn){1&It&&(m.j41(0,"dl")(1,"i",48),m.EFF(2),m.nI1(3,"translate"),m.k0s()()),2&It&&(m.R7$(2),m.SpI(" ",m.bMT(3,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function Z(It,Rn){if(1&It&&(m.qex(0),m.j41(1,"td"),m.DNE(2,Dt,16,12,"dl",59)(3,wt,4,3,"dl",57),m.k0s(),m.j41(4,"td"),m.DNE(5,z,16,12,"dl",59)(6,Y,4,3,"dl",57),m.k0s(),m.bVm()),2&It){const Ht=m.XpG().$implicit,lt=m.XpG(3);m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Ce(It,Rn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Ht.previous," ")}}function we(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function at(It,Rn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG(2).$implicit;m.R7$(),m.SpI(" ",Ht.new," ")}}function Be(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function ot(It,Rn){if(1&It&&(m.j41(0,"td",64),m.DNE(1,Ce,2,1,"span",44)(2,we,3,3,"i",45),m.k0s(),m.j41(3,"td",64),m.DNE(4,at,2,1,"span",46)(5,Be,3,3,"i",45),m.k0s()),2&It){const Ht=m.XpG().$implicit,lt=m.XpG(3);m.R7$(),m.Y8G("ngIf",lt.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",lt.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!lt.hasValue(Ht.new))}}function Ft(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Ht);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.DNE(1,qt,3,3,"td",57)(2,jt,2,1,"td",57)(3,Z,7,4,"ng-container",58)(4,ot,6,4,"ng-template",null,0,m.C5r),m.k0s()}if(2&It){const Ht=m.sdS(5),lt=m.XpG().$implicit,Ct=m.XpG(2);m.R7$(),m.Y8G("ngIf",lt.identifier!=Ct.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.ClaimMappingsKey),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.sloProperty||lt.identifier==Ct.summaryConflictsConstants.acsProperty)("ngIfElse",Ht)}}function mt(It,Rn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,Ft,6,4,"tr",42),m.k0s()()()),2&It){const Ht=Rn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Ht.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function it(It,Rn){if(1&It&&(m.j41(0,"div",56)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,mt,18,13,"div",51),m.k0s()),2&It){const Ht=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedServiceProvider")," "),m.R7$(2),m.Y8G("ngForOf",Ht.serviceProviderConflicts)}}function Kt(It,Rn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.nI1(2,"beautifyPropertyName"),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.JRh(m.bMT(2,1,Ht.propertyName))}}function on(It,Rn){if(1&It&&(m.j41(0,"td"),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.JRh(Ht.propertyName)}}function Pt(It,Rn){if(1&It&&(m.j41(0,"span",47),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.previous," ")}}function Jt(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.NoValue")," "))}function je(It,Rn){if(1&It&&(m.j41(0,"span",49),m.EFF(1),m.k0s()),2&It){const Ht=m.XpG().$implicit;m.R7$(),m.SpI(" ",Ht.new," ")}}function ce(It,Rn){1&It&&(m.j41(0,"i",48),m.EFF(1),m.nI1(2,"translate"),m.k0s()),2&It&&(m.R7$(),m.SpI(" ",m.bMT(2,1,"Clients.Import.Wizard.Summary.Conflicts.Deleted")," "))}function X(It,Rn){if(1&It){const Ht=m.RV6();m.j41(0,"tr",43),m.bIt("change",function(){m.eBV(Ht);const Ct=m.XpG(3);return m.Njj(Ct.setupTableHeadings())}),m.DNE(1,Kt,3,3,"td",57)(2,on,2,1,"td",57),m.j41(3,"td",64),m.DNE(4,Pt,2,1,"span",44)(5,Jt,3,3,"i",45),m.k0s(),m.j41(6,"td",64),m.DNE(7,je,2,1,"span",46)(8,ce,3,3,"i",45),m.k0s()()}if(2&It){const Ht=Rn.$implicit,lt=m.XpG().$implicit,Ct=m.XpG(2);m.R7$(),m.Y8G("ngIf",lt.identifier!=Ct.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(),m.Y8G("ngIf",lt.identifier==Ct.summaryConflictsConstants.ClaimMappingsIdentifier),m.R7$(2),m.Y8G("ngIf",Ct.hasValue(Ht.previous)),m.R7$(),m.Y8G("ngIf",!Ct.hasValue(Ht.previous)),m.R7$(2),m.Y8G("ngIf",Ct.hasValue(Ht.new)),m.R7$(),m.Y8G("ngIf",!Ct.hasValue(Ht.new))}}function oe(It,Rn){if(1&It&&(m.j41(0,"div",52)(1,"h4",53),m.EFF(2),m.nI1(3,"beautifyPropertyName"),m.k0s(),m.j41(4,"table",40)(5,"thead")(6,"tr")(7,"th"),m.EFF(8),m.nI1(9,"translate"),m.k0s(),m.j41(10,"th",41),m.EFF(11),m.nI1(12,"translate"),m.k0s(),m.j41(13,"th",41),m.EFF(14),m.nI1(15,"translate"),m.k0s()()(),m.j41(16,"tbody"),m.DNE(17,X,9,6,"tr",42),m.k0s()()()),2&It){const Ht=Rn.$implicit;m.R7$(2),m.SpI(" ",m.bMT(3,5,Ht.identifier)," "),m.R7$(6),m.JRh(m.bMT(9,7,"Clients.Import.Wizard.Summary.Conflicts.Property")),m.R7$(3),m.JRh(m.bMT(12,9,"Clients.Import.Wizard.Summary.Conflicts.OldValue")),m.R7$(3),m.JRh(m.bMT(15,11,"Clients.Import.Wizard.Summary.Conflicts.NewValue")),m.R7$(3),m.Y8G("ngForOf",null==Ht?null:Ht.conflicts)}}function Ve(It,Rn){if(1&It&&(m.j41(0,"div",65)(1,"h3",55),m.EFF(2),m.nI1(3,"translate"),m.k0s(),m.DNE(4,oe,18,13,"div",51),m.k0s()),2&It){const Ht=m.XpG();m.R7$(2),m.SpI(" ",m.bMT(3,2,"Clients.Import.Wizard.Summary.Conflicts.ConflictedRelyingParty")," "),m.R7$(2),m.Y8G("ngForOf",Ht.relyingPartyConflicts)}}let tt=(()=>{class It extends w.P{set data(Ht){const lt=JSON.parse(JSON.stringify(Ht));this.resource=lt,this.summaryDisplayType=p.n.getSummaryDisplayType(lt.resourceType),this.setupLinkedClients(lt),this.resource.resourceType===i.ot.ClaimType&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.ClaimTypes)),this.resource.resourceType===i.ot.IdentityResource&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.IdentityResources)),this.resource.resourceType===i.ot.Client&&(this.initClient(),this.resource.displayType===C.SamlDisplayType?this.initServiceProvider():this.resource.displayType===C.WsFedDisplayType&&this.initRelyingParty()),this.resource.resourceType===i.ot.ProtectedResource&&(this.fieldConflicts=this.resource.conflicts.find(Ct=>Ct.identifier===C.ProtectedResources),this.initScopeConflicts())}constructor(Ht,lt,Ct){super(),this.importWizardService=Ht,this.translate=lt,this.localizeRouterService=Ct,this.clientKeyValueConflicts=[],this.scopeConflicts=[],this.serviceProviderConflicts=[],this.relyingPartyConflicts=[],this.summaryConflictsConstants=C}accept(){this.importWizardController.stepModified=!0,this.summaryDisplayType===p.n.client&&this.importWizardService.selectResource(this.resource),this.back()}decline(){this.importWizardController.stepModified=!0,this.openModal(e.M.summaryConflictsConfirmation,this.resource)}setupLinkedClients(Ht){null!==Ht.dependantClients&&0!==Ht.dependantClients.length?(this.displayLinkedClients=!0,this.linkedNewClients=this.sortDependentClients(Ht.dependantClients.filter(lt=>lt.state===i.XF.Importing)),this.linkedExistingClients=this.sortDependentClients(Ht.dependantClients.filter(lt=>lt.state===i.XF.Existing)),this.displayLinkedClientsDropdown=this.linkedExistingClients.length>0&&this.linkedExistingClients.length<8&&this.linkedNewClients.length<8):this.displayLinkedClients=!1}sortDependentClients(Ht){return Ht.sort((lt,Ct)=>lt.displayName.localeCompare(Ct.displayName))}buildHref(Ht){return this.localizeRouterService.translateRoute(`/clients/${Ht}`)}toggleDisplayLinkedClientsDropdown(){this.displayLinkedClientsDropdown=!this.displayLinkedClientsDropdown}hasValue(Ht){return!(null==Ht||(0,y.gP)(Ht.toString()))}initClient(){const Ht=this.resource.conflicts.find(yt=>yt.identifier===C.Client),lt=this.resource.conflicts.find(yt=>yt.identifier===C.ClaimsProperty),Ct=this.resource.conflicts.find(yt=>yt.identifier===C.PropertiesProperty);Ht&&(this.fieldConflicts=Ht),lt&&this.clientKeyValueConflicts.push(lt),Ct&&this.clientKeyValueConflicts.push(Ct)}initRelyingParty(){const Ht=this.resource.conflicts.find(Ct=>Ct.identifier===C.RelyingPartyProperty),lt=this.resource.conflicts.find(Ct=>Ct.identifier===C.ClaimMappingsKey);Ht&&this.relyingPartyConflicts.push(Ht),lt&&this.relyingPartyConflicts.push(lt)}initServiceProvider(){const Ht=this.resource.conflicts.find(Ot=>Ot.identifier===C.ServiceProviderProperty),lt=this.resource.conflicts.find(Ot=>Ot.identifier===C.ClaimMappingsKey),Ct=this.resource.conflicts.find(Ot=>Ot.identifier===C.acsProperty),yt=this.resource.conflicts.find(Ot=>Ot.identifier===C.sloProperty);Ht&&this.serviceProviderConflicts.push(Ht),lt&&this.serviceProviderConflicts.push(lt),Ct&&this.serviceProviderConflicts.push(Ct),yt&&this.serviceProviderConflicts.push(yt)}initScopeConflicts(){const Ht=this.resource.conflicts.filter(lt=>lt.identifier!==C.ProtectedResources);void 0!==Ht&&(Ht.forEach(lt=>{const Ct=lt.conflicts.find(yt=>yt.propertyName===C.UserClaimsProperty);Ct&&(Ct.new=Ct.new.join(", "),Ct.previous=Ct.previous.join(", "))}),this.scopeConflicts=Ht)}static{this.\u0275fac=function(lt){return new(lt||It)(m.rXU(d.o),m.rXU(f.c$),m.rXU(I.QG))}}static{this.\u0275cmp=m.VBU({type:It,selectors:[["app-import-summary-conflicts"]],viewQuery:function(lt,Ct){if(1&lt&&m.GBs(b,7),2&lt){let yt;m.mGM(yt=m.lsd())&&(Ct.importSummaryConflictsModal=yt.first)}},features:[m.Vt3],decls:30,vars:22,consts:[["normalConflicts",""],[1,"modal-body"],[1,"tw-mb-4"],[1,"tw-font-semibold","tw-mr-2"],[1,"cms"],["class","tw-alert tw-mb-6",3,"tw-alert-warning",4,"ngIf"],["class","tw-mb-6 last:tw-mb-0",4,"ngIf"],["id","clientKeyValueConflictsSection",4,"ngIf"],["id","scopeConflictsSection",4,"ngIf"],["id","serviceProviderConflictsSection",4,"ngIf"],["id","relyingPartyConflictsSection",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],[1,"tw-btn-success","tw-mr-3",3,"click"],[1,"tw-btn-danger",3,"click"],[1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert","tw-mb-6"],[1,"tw-w-full"],[1,"tw-flex","tw-items-center","tw-font-semibold","tw-text-left","tw-w-full",3,"click"],["aria-hidden","true",1,"tw-ml-auto"],["class","fas fa-caret-up fa-fw",4,"ngIf"],["class","fas fa-caret-down fa-fw",4,"ngIf"],["class","tw-pt-2 tw-pb-1",4,"ngIf"],[1,"fas","fa-caret-up","fa-fw"],[1,"fas","fa-caret-down","fa-fw"],[1,"tw-pt-2","tw-pb-1"],["class","tw-flex tw-mb-1 last:tw-mb-0",4,"ngIf"],["id","existingClients","class","tw-flex tw-text-red-500",4,"ngIf"],[1,"tw-flex","tw-mb-1","last:tw-mb-0"],[1,"tw-shrink-0","tw-mr-2","tw-font-semibold","tw-w-20"],[1,"tw-flex","tw-flex-wrap"],["class","tw-inline-flex tw-mr-2",4,"ngFor","ngForOf"],[1,"tw-inline-flex","tw-mr-2"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],["id","existingClients",1,"tw-flex","tw-text-red-500"],["target","_blank",1,"tw-text-red-500","tw-font-normal","tw-underline","hover:tw-text-red-500","hover:tw-no-underline",3,"href"],[1,"tw-mb-6","last:tw-mb-0"],[1,"datatable"],[1,"md:tw-w-1/3","lg:tw-w-2/5"],[3,"change",4,"ngFor","ngForOf"],[3,"change"],["class","tw-text-red-500",4,"ngIf"],["class","tw-text-grey-600",4,"ngIf"],["class","tw-text-green-500",4,"ngIf"],[1,"tw-text-red-500"],[1,"tw-text-grey-600"],[1,"tw-text-green-500"],["id","clientKeyValueConflictsSection"],["class","tw-mb-5 last:tw-mb-0",4,"ngFor","ngForOf"],[1,"tw-mb-5","last:tw-mb-0"],[1,"tw-font-semibold","tw-text-sm","tw-mb-4","tw-px-3"],["id","scopeConflictsSection"],[1,"tw-border-b","tw-border-grey-200","tw-mb-4","tw-pb-2","tw-font-semibold","md:tw-flex","md:tw-items-center","ng-star-inserted"],["id","serviceProviderConflictsSection"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["class","tw-text-grey-700",4,"ngIf"],[1,"tw-text-grey-700"],[1,"tw-font-normal"],[1,"tw-text-red-500","tw-mb-1"],[1,"tw-text-green-500","tw-mb-1"],[1,"tw-max-w-0","wrap-words"],["id","relyingPartyConflictsSection"]],template:function(lt,Ct){1&lt&&(m.j41(0,"div",1)(1,"h2",2)(2,"span",3),m.EFF(3),m.nI1(4,"translate"),m.k0s(),m.j41(5,"span"),m.EFF(6),m.k0s()(),m.j41(7,"div",4)(8,"p"),m.EFF(9),m.nI1(10,"translate"),m.k0s()(),m.DNE(11,se,10,8,"div",5)(12,K,15,10,"div",6)(13,be,2,1,"div",7)(14,Ye,5,4,"div",8)(15,it,5,4,"div",9)(16,Ve,5,4,"div",10),m.k0s(),m.nrm(17,"div",11),m.j41(18,"div",12)(19,"div",13)(20,"div",14)(21,"button",15),m.bIt("click",function(){return Ct.accept()}),m.EFF(22),m.nI1(23,"translate"),m.k0s(),m.j41(24,"button",16),m.bIt("click",function(){return Ct.decline()}),m.EFF(25),m.nI1(26,"translate"),m.k0s()(),m.j41(27,"button",17),m.bIt("click",function(){return Ct.back()}),m.EFF(28),m.nI1(29,"translate"),m.k0s()()()),2&lt&&(m.R7$(3),m.SpI("",m.bMT(4,12,"Clients.Import.Wizard.Summary.Identifier."+Ct.summaryDisplayType),":"),m.R7$(3),m.JRh(null==Ct.resource?null:Ct.resource.displayName),m.R7$(3),m.JRh(m.bMT(10,14,"Clients.Import.Wizard.Summary.Conflicts.ConfirmationText."+Ct.summaryDisplayType)),m.R7$(2),m.Y8G("ngIf",Ct.displayLinkedClients),m.R7$(),m.Y8G("ngIf",Ct.fieldConflicts&&Ct.fieldConflicts.conflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.clientKeyValueConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.scopeConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.serviceProviderConflicts.length>0),m.R7$(),m.Y8G("ngIf",Ct.relyingPartyConflicts.length>0),m.R7$(6),m.JRh(m.bMT(23,16,"Clients.Import.Wizard.Summary.Conflicts.Accept")),m.R7$(3),m.JRh(m.bMT(26,18,"Clients.Import.Wizard.Summary.Conflicts.Decline")),m.R7$(3),m.JRh(m.bMT(29,20,"Clients.Import.Wizard.Summary.Conflicts.Cancel")))},dependencies:[O.Sq,O.bT,f.D9,P],encapsulation:2})}}return It})()},7728:(nt,fe,h)=>{"use strict";h.d(fe,{z:()=>te});var i=h(1744),e=h(4414),y=h(590),p=h(6799),w=h(4438),C=h(5826),m=h(1780),d=h(177),f=h(9417);const I=E=>({"inactive disabled tw-opacity-50 tw-pointer-events-none":E});function O(E,re){if(1&E){const K=w.RV6();w.j41(0,"th",21)(1,"label",22)(2,"input",23),w.mxI("ngModelChange",function(Ne){w.eBV(K);const Ae=w.XpG();return w.DH7(Ae.allSelected,Ne)||(Ae.allSelected=Ne),w.Njj(Ne)}),w.bIt("change",function(){w.eBV(K);const Ne=w.XpG();return w.Njj(Ne.toggleAllSelected())}),w.k0s()()()}if(2&E){const K=w.XpG();w.R7$(2),w.R50("ngModel",K.allSelected)}}function P(E,re){if(1&E&&(w.j41(0,"th",24),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&E){const K=w.XpG();w.R7$(),w.JRh(w.bMT(2,1,"Clients.Import.Wizard.Summary.Identifier."+K.summaryDisplayType))}}function b(E,re){1&E&&(w.j41(0,"th",25),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&E&&(w.R7$(),w.SpI("",w.bMT(2,1,"Nav.Clients")," *"))}function M(E,re){if(1&E){const K=w.RV6();w.j41(0,"label",22)(1,"input",23),w.nI1(2,"translate"),w.mxI("ngModelChange",function(Ne){w.eBV(K);const Ae=w.XpG(2).$implicit;return w.DH7(Ae.selected,Ne)||(Ae.selected=Ne),w.Njj(Ne)}),w.bIt("change",function(){w.eBV(K);const Ne=w.XpG(3);return w.Njj(Ne.selectionChanged())}),w.k0s()()}if(2&E){const K=w.XpG(2).$implicit;w.R7$(),w.R50("ngModel",K.selected),w.BMQ("aria-label",w.bMT(2,2,"Common.Add"))}}function k(E,re){if(1&E&&(w.j41(0,"td",21),w.DNE(1,M,3,4,"label",32),w.k0s()),2&E){const K=w.XpG().$implicit;w.R7$(),w.Y8G("ngIf",K.isSelectable)}}function N(E,re){if(1&E){const K=w.RV6();w.j41(0,"td",33),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,Ae=w.XpG();return w.Njj(Ae.toggle(Ne))}),w.EFF(1),w.k0s()}if(2&E){const K=w.XpG().$implicit;w.Y8G("title",K.identifier),w.R7$(),w.SpI(" ",K.identifier," ")}}function G(E,re){if(1&E&&(w.j41(0,"td",34),w.EFF(1),w.k0s()),2&E){const K=w.XpG().$implicit,me=w.XpG();w.R7$(),w.SpI(" ",me.displayLinkedClients(K)," ")}}function R(E,re){1&E&&w.nrm(0,"span",40)}function j(E,re){if(1&E){const K=w.RV6();w.qex(0),w.j41(1,"td",35),w.bIt("click",function(Ne){w.eBV(K);const Ae=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,Ae))}),w.DNE(2,R,1,0,"span",36),w.k0s(),w.j41(3,"td",37),w.bIt("click",function(Ne){w.eBV(K);const Ae=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,Ae))}),w.j41(4,"button",38),w.bIt("click",function(Ne){w.eBV(K);const Ae=w.XpG().$implicit,xe=w.XpG();return w.Njj(xe.viewConflicts(Ne,Ae))}),w.j41(5,"span",39),w.EFF(6),w.k0s()()(),w.bVm()}if(2&E){const K=w.XpG().$implicit,me=w.XpG();w.R7$(2),w.Y8G("ngIf",K.resourceState==me.resourceStates.Conflicted),w.R7$(4),w.JRh(me.getConflicts(K))}}function U(E,re){1&E&&w.nrm(0,"span",45)}function $(E,re){1&E&&w.nrm(0,"span",46)}function ne(E,re){1&E&&w.nrm(0,"span",40)}function se(E,re){if(1&E){const K=w.RV6();w.qex(0),w.j41(1,"td",41),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,Ae=w.XpG();return w.Njj(Ae.toggle(Ne))}),w.DNE(2,U,1,0,"span",42)(3,$,1,0,"span",43)(4,ne,1,0,"span",36),w.k0s(),w.j41(5,"td",44),w.bIt("click",function(){w.eBV(K);const Ne=w.XpG().$implicit,Ae=w.XpG();return w.Njj(Ae.toggle(Ne))}),w.j41(6,"span",39),w.EFF(7),w.k0s()(),w.bVm()}if(2&E){const K=w.XpG().$implicit,me=w.XpG();w.R7$(2),w.Y8G("ngIf",K.resourceState==me.resourceStates.New),w.R7$(),w.Y8G("ngIf",K.resourceState==me.resourceStates.Duplicate),w.R7$(),w.Y8G("ngIf",K.conflictedByDependencies),w.R7$(2),w.AVh("tw-italic",!K.isSelectable),w.R7$(),w.SpI(" ",me.getResourceState(K)," ")}}function L(E,re){if(1&E){const K=w.RV6();w.j41(0,"tr",26),w.DNE(1,k,2,1,"td",3),w.j41(2,"td",27),w.bIt("click",function(){const Ne=w.eBV(K).$implicit,Ae=w.XpG();return w.Njj(Ae.toggle(Ne))}),w.j41(3,"b"),w.EFF(4),w.k0s()(),w.DNE(5,N,2,2,"td",28),w.j41(6,"td",29),w.bIt("click",function(){const Ne=w.eBV(K).$implicit,Ae=w.XpG();return w.Njj(Ae.toggle(Ne))}),w.EFF(7),w.nI1(8,"translate"),w.k0s(),w.DNE(9,G,2,1,"td",30)(10,j,7,2,"ng-container",31)(11,se,8,6,"ng-container",31),w.k0s()}if(2&E){const K=re.$implicit,me=w.XpG();w.Y8G("ngClass",w.eq3(11,I,K.resourceState===me.resourceStates.Duplicate)),w.R7$(),w.Y8G("ngIf",me.showSelectAll()),w.R7$(),w.Y8G("title",K.displayName),w.R7$(2),w.JRh(K.displayName),w.R7$(),w.Y8G("ngIf","ClaimType"!==me.summaryDisplayType),w.R7$(2),w.SpI(" ",w.bMT(8,9,"Clients.Import.Wizard.Summary.ResourceTypes."+K.displayType)," "),w.R7$(2),w.Y8G("ngIf","Client"!==me.summaryDisplayType),w.R7$(),w.Y8G("ngIf",K.resourceState===me.resourceStates.Conflicted&&!K.conflictedByDependencies),w.R7$(),w.Y8G("ngIf",K.resourceState!==me.resourceStates.Conflicted||K.conflictedByDependencies)}}function J(E,re){1&E&&(w.j41(0,"p",47),w.EFF(1),w.nI1(2,"translate"),w.k0s()),2&E&&(w.R7$(),w.SpI(" * ",w.bMT(2,1,"Clients.Import.Wizard.Summary.ClientsHelp")," "))}let te=(()=>{class E extends p.P{get data(){return this._importResourceType}set data(K){this._importResourceType=K}constructor(K,me){super(),this.importWizardService=K,this.translate=me,this.resourceStates=i.jD,this.nextImport=!1}ngOnInit(){this.summaryDisplayType=y.n.getSummaryDisplayType(this.data[0]),this.importWizardService.cache.subscribe(K=>{K.every(Ne=>Ne.resourceType===i.ot.Client)&&(this.nextImport=!0);let me=K.filter(Ne=>this.data.includes(Ne.resourceType));if(!this.data.includes(i.ot.Client)){const Ne=K.filter(Ae=>Ae.resourceType===i.ot.Client&&!0===Ae.selected).map(Ae=>Ae.identifier);me=me.filter(Ae=>Ae.dependantClients.map(xe=>xe.identifier).some(xe=>Ne.includes(xe)))}if(1===this.data.length&&this.data.includes(i.ot.Client)){const Ne=me.filter(xe=>xe.resourceState===i.jD.Duplicate),Ae=K.filter(xe=>xe.resourceType!==i.ot.Client&&xe.dependantClients.length>0&&xe.resourceState===i.jD.Conflicted);Ne.forEach(xe=>{Ae.filter(Ee=>Ee.dependantClients.some(be=>be.identifier===xe.identifier)).length>0&&(xe.resourceState=i.jD.Conflicted,xe.selected=!0,xe.conflictedByDependencies=!0)})}this.displayData=this.importWizardController.sortImportResources(me),this.checkAllSelected()})}getNextText(){return this.translate.instant(this.nextImport?"Clients.Import.Import":"Common.Next")}canNext(){return this.displayData.some(K=>K.selected)||this.displayData.every(K=>!1===K.isSelectable)&&this.summaryDisplayType!==y.n.client}goNext(){this.importWizardController.stepModified?(this.summaryDisplayType===y.n.client&&this.importWizardService.updateSelectedClients(this.displayData.filter(K=>K.selected)),this.next()):this.importWizardController.goToFinalSummary()}goBack(){this.importWizardController.stepModified=!0,this.back()}selectionChanged(){this.importWizardController.stepModified=!0,this.checkAllSelected()}checkAllSelected(){this.allSelected=this.displayData.filter(K=>K.resourceState!==this.resourceStates.Duplicate).every(K=>!0===K.selected)}toggle(K){K.isSelectable&&(K.selected=!K.selected,this.selectionChanged())}toggleAllSelected(){this.displayData.forEach(K=>K.selected=this.allSelected),this.selectionChanged()}getConflicts(K){let Ne,me=0;return K.conflicts.forEach(Ae=>{me+=Ae.conflicts.length}),Ne=this.translate.instant(1===me?"Clients.Import.Wizard.Summary.Change":"Clients.Import.Wizard.Summary.Changes"),me+" "+Ne}viewConflicts(K,me){K.stopPropagation(),this.openModal(e.M.summaryConflicts,me)}showSelectAll(){return this.displayData.some(K=>K.isSelectable)&&!this.displayData.every(K=>K.resourceState===i.jD.Duplicate)}displayLinkedClients(K){return null===K.dependantClients||0===K.dependantClients.length?"-":K.dependantClients.length.toString()}getResourceState(K){return K.conflictedByDependencies?this.translate.instant("Clients.Import.Wizard.Summary.DependencyConflicts"):this.resourceStates[K.resourceState]}static{this.\u0275fac=function(me){return new(me||E)(w.rXU(C.o),w.rXU(m.c$))}}static{this.\u0275cmp=w.VBU({type:E,selectors:[["app-import-summary"]],features:[w.Vt3],decls:37,vars:27,consts:[[1,"modal-body"],[1,"cms"],[1,"datatable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"md:tw-w-1/3","lg:tw-w-1/4"],["class","tw-hidden sm:tw-table-cell md:tw-w-1/3",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],["class","tw-hidden tw-text-center lg:tw-table-cell",4,"ngIf"],["aria-hidden","true",1,"tw-hidden","tw-w-1","xs:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","resourceTable"],[3,"ngClass",4,"ngFor","ngForOf"],["class","tw-text-xs tw-text-grey-700 tw-px-3 tw-py-2",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","backBtn",1,"tw-btn",3,"click"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"toggle","tw-w-1"],[1,"toggle-label"],["type","checkbox",1,"tw-block","tw-cursor-pointer",3,"ngModelChange","change","ngModel"],[1,"tw-hidden","sm:tw-table-cell","md:tw-w-1/3"],[1,"tw-hidden","tw-text-center","lg:tw-table-cell"],[3,"ngClass"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click","title"],["class","tw-hidden tw-max-w-1 tw-truncate sm:tw-table-cell",3,"title","click",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell","tw-truncate",3,"click"],["class","tw-text-center",4,"ngIf"],[4,"ngIf"],["class","toggle-label",4,"ngIf"],[1,"tw-hidden","tw-max-w-1","tw-truncate","sm:tw-table-cell",3,"click","title"],[1,"tw-text-center"],["aria-hidden","true","data-toggle","modal","data-target","#displayConflictsModal",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw--mr-3",4,"ngIf"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-cursor-pointer",3,"click"],["data-toggle","modal","data-target","#displayConflictsModal",1,"tw-font-semibold","tw-text-blue-500",3,"click"],[1,"tw-whitespace-nowrap"],[1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw--mr-3"],["aria-hidden","true",1,"tw-hidden","tw-cursor-pointer","tw-text-right","xs:tw-table-cell",3,"click"],["class","fas fa-check tw-text-green-500 tw--mr-3",4,"ngIf"],["class","far fa-copy tw--mr-3",4,"ngIf"],[3,"click"],[1,"fas","fa-check","tw-text-green-500","tw--mr-3"],[1,"far","fa-copy","tw--mr-3"],[1,"tw-text-xs","tw-text-grey-700","tw-px-3","tw-py-2"]],template:function(me,Ne){1&me&&(w.j41(0,"div",0)(1,"div",1)(2,"p"),w.EFF(3),w.nI1(4,"translate"),w.k0s()(),w.j41(5,"table",2)(6,"thead")(7,"tr"),w.DNE(8,O,3,1,"th",3),w.j41(9,"th",4),w.EFF(10),w.nI1(11,"translate"),w.k0s(),w.DNE(12,P,3,3,"th",5),w.j41(13,"th",6),w.EFF(14),w.nI1(15,"translate"),w.k0s(),w.DNE(16,b,3,3,"th",7),w.nrm(17,"td",8),w.j41(18,"th",9)(19,"span",10),w.EFF(20),w.nI1(21,"translate"),w.k0s()()()(),w.j41(22,"tbody",11),w.DNE(23,L,12,13,"tr",12),w.k0s()(),w.DNE(24,J,3,3,"p",13),w.k0s(),w.nrm(25,"div",14),w.j41(26,"div",15)(27,"div",16)(28,"div",17)(29,"button",18),w.bIt("click",function(){return Ne.goNext()}),w.EFF(30),w.k0s(),w.j41(31,"button",19),w.bIt("click",function(){return Ne.goBack()}),w.EFF(32),w.nI1(33,"translate"),w.k0s()(),w.j41(34,"button",20),w.bIt("click",function(){return Ne.cancel()}),w.EFF(35),w.nI1(36,"translate"),w.k0s()()()),2&me&&(w.R7$(3),w.JRh(w.bMT(4,15,"Clients.Import.Wizard.Summary.Intro."+Ne.summaryDisplayType)),w.R7$(2),w.AVh("selectable",Ne.showSelectAll()),w.R7$(3),w.Y8G("ngIf",Ne.showSelectAll()),w.R7$(2),w.JRh(w.bMT(11,17,"Clients.Import.Wizard.Summary.Name."+Ne.summaryDisplayType)),w.R7$(2),w.Y8G("ngIf","ClaimType"!==Ne.summaryDisplayType),w.R7$(2),w.JRh(w.bMT(15,19,"Clients.Import.Wizard.Summary.Type."+Ne.summaryDisplayType)),w.R7$(2),w.Y8G("ngIf","Client"!==Ne.summaryDisplayType),w.R7$(4),w.JRh(w.bMT(21,21,"Common.Status")),w.R7$(3),w.Y8G("ngForOf",Ne.displayData),w.R7$(),w.Y8G("ngIf","Client"!==Ne.summaryDisplayType),w.R7$(5),w.Y8G("disabled",!Ne.canNext()),w.R7$(),w.JRh(Ne.getNextText()),w.R7$(2),w.JRh(w.bMT(33,23,"Common.Back")),w.R7$(3),w.JRh(w.bMT(36,25,"Common.Cancel")))},dependencies:[d.YU,d.Sq,d.bT,f.Zm,f.BC,f.vS,m.D9],encapsulation:2})}}return E})()},6799:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>i});class i{constructor(){this.isWarningModal=!1,this.hideProgressBar=!1}get data(){return this._data}set data(y){this._data=y}next(){this.importWizardController.goToNextStep()}back(){this.importWizardController.goToPreviousStep()}cancel(){this.importWizardController.cancel()}openModal(y,p){this.importWizardController.insertAndOpenStep(y,p)}quit(){this.importWizardController.quit()}reset(){this.importWizardController.reset()}}},7301:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>pt});var i=h(1594),e=h(1410),y=h(9988),p=h(4438),w=h(3853),C=h(9417),m=h(177),d=h(8698),f=h(2552),I=h(1780);function O(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function P(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",12)(1,"app-form-row",13)(2,"div",14)(3,"select",15,0),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,O,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.webAppSelectForm),p.R7$(),p.Y8G("id","webAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.webAppTypes)}}function b(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function M(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",18)(1,"app-form-row",13)(2,"div",14)(3,"select",19,1),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,b,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.robotAppSelectForm),p.R7$(),p.Y8G("id","robotAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.robotAppTypes)}}function k(Ye,qt){if(1&Ye&&(p.j41(0,"option",17),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye){const jt=qt.$implicit;p.Y8G("value",jt),p.R7$(),p.JRh(p.bMT(2,2,"Clients.WizardTypes."+jt))}}function N(Ye,qt){if(1&Ye){const jt=p.RV6();p.j41(0,"form",20)(1,"app-form-row",13)(2,"div",14)(3,"select",21,2),p.bIt("change",function(){p.eBV(jt);const wt=p.sdS(4),z=p.XpG(2);return p.Njj(z.setActive(wt.value))}),p.DNE(5,k,3,4,"option",16),p.k0s()()()()}if(2&Ye){const jt=p.XpG(2);p.Y8G("formGroup",jt.nativeAppSelectForm),p.R7$(),p.Y8G("id","nativeAppFlow")("label","Clients.WizardTypes.WebAppSelection")("isLast",!0),p.R7$(4),p.Y8G("ngForOf",jt.nativeAppTypes)}}function G(Ye,qt){if(1&Ye&&p.DNE(0,P,6,5,"form",9)(1,M,6,5,"form",10)(2,N,6,5,"form",11),2&Ye){const jt=p.XpG();p.Y8G("ngIf",!jt.isStarterMode&&(jt.activeType===jt.wizardTypes.WebApplication||jt.activeType===jt.wizardTypes.PKCEWebApplication)),p.R7$(),p.Y8G("ngIf",jt.activeType===jt.wizardTypes.RobotApplication||jt.activeType===jt.wizardTypes.CIBARobotApplication),p.R7$(),p.Y8G("ngIf",!jt.isStarterMode&&(jt.activeType===jt.wizardTypes.NativeApplication||jt.activeType===jt.wizardTypes.PKCENativeApplication))}}function R(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.Home.Title")))}function j(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.SPA.Title")))}function U(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.WebApp.Title")))}function $(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.PKCEWebApp.Title")))}function ne(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.NativeApp.Title")))}function se(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.PKCENativeApp.Title")))}function L(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.MachineToMachine.Title")))}function J(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.CIBAMachineToMachine.Title")))}function te(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.DeviceFlow.Title")))}function E(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.Saml.Title")))}function re(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.WsFed.Title")))}function K(Ye,qt){1&Ye&&(p.j41(0,"span"),p.EFF(1),p.nI1(2,"translate"),p.k0s()),2&Ye&&(p.R7$(),p.JRh(p.bMT(2,1,"Clients.LegacySPA.Title")))}function me(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.Home.Description"),p.npT)}function Ne(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.SPA.Description"),p.npT)}function Ae(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.WebApp.Description"),p.npT)}function xe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.PKCEWebApp.Description"),p.npT)}function Qe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.NativeApp.Description"),p.npT)}function Ee(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.PKCENativeApp.Description"),p.npT)}function be(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.MachineToMachine.Description"),p.npT)}function le(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.CIBAMachineToMachine.Description"),p.npT)}function Pe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.DeviceFlow.Description"),p.npT)}function Ie(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.Saml.Description"),p.npT)}function st(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.WsFed.Description"),p.npT)}function Oe(Ye,qt){1&Ye&&(p.nrm(0,"p",4),p.nI1(1,"translate")),2&Ye&&p.Y8G("innerHTML",p.bMT(1,1,"Clients.LegacySPA.Description"),p.npT)}let pt=(()=>{class Ye{get isDuende(){return this.data===e.y.Duende}constructor(jt,Dt){this.licenseService=jt,this.fb=Dt,this.wizardTypes=y.$,this.activeType=y.$.SinglePageApplication,this.webAppTypes=[y.$.PKCEWebApplication,y.$.WebApplication],this.robotAppTypes=[y.$.RobotApplication,y.$.CIBARobotApplication],this.nativeAppTypes=[y.$.PKCENativeApplication,y.$.NativeApplication],this.starterModeProtectedSetups=[y.$.WebApplication,y.$.PKCEWebApplication,y.$.PKCENativeApplication,y.$.NativeApplication,y.$.DeviceApplication,y.$.SamlApplication,y.$.WsFedApplication,y.$.LegacySinglePageApplication]}hosted(){}ngOnInit(){this.licenseService.getLicenseInfo().pipe((0,i.$)()).subscribe(jt=>{this.isStarterMode=jt.isStarterLicense()})}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!this.isStarterMode||!this.starterModeProtectedType()}selectedType(){return this.activeType}onNext(){throw new Error("Method not implemented.")}buildOptionsArray(){var jt=[{id:"spaBtn",btnId:"spaTestBtn",title:"Clients.SPA.Title",summary:"Clients.SPA.Summary",icon:"fab fa-chrome",type:y.$.SinglePageApplication,selectedTypes:[y.$.SinglePageApplication],starterMode:!0},{id:"webAppBtn",btnId:"webAppTestBtn",title:"Clients.WebApp.Title",summary:"Clients.WebApp.Summary",icon:"fas fa-globe",type:y.$.PKCEWebApplication,selectedTypes:[y.$.WebApplication,y.$.PKCEWebApplication],starterMode:!1},{id:"nativeBtn",btnId:"nativeTestBtn",title:"Clients.NativeApp.Title",summary:"Clients.PKCENativeApp.Summary",icon:"fas fa-mobile-alt",type:y.$.PKCENativeApplication,selectedTypes:[y.$.NativeApplication,y.$.PKCENativeApplication],starterMode:!1},{id:"robotBtn",btnId:"robotTestBtn",title:"Clients.MachineToMachine.Title",summary:"Clients.MachineToMachine.Summary",icon:"fas fa-microchip",type:y.$.RobotApplication,selectedTypes:[y.$.RobotApplication,y.$.CIBARobotApplication],starterMode:!0},{id:"deviceBtn",btnId:"deviceTestBtn",title:"Clients.DeviceFlow.Title",summary:"Clients.DeviceFlow.Summary",icon:"fas fa-wifi",type:y.$.DeviceApplication,selectedTypes:[y.$.DeviceApplication],starterMode:!1},{id:"samlBtn",btnId:"samlTestBtn",title:"Clients.Saml.Title",summary:"Clients.Saml.Summary",icon:"fas fa-code",type:y.$.SamlApplication,selectedTypes:[y.$.SamlApplication],starterMode:!1},{id:"legacySpaBtn",btnId:"legacySpaTestBtn",title:"Clients.LegacySPA.Title",summary:"Clients.LegacySPA.Summary",icon:"fab fa-chrome",type:y.$.LegacySinglePageApplication,selectedTypes:[y.$.LegacySinglePageApplication],starterMode:!1}];return this.isDuende&&jt.push({id:"wsfedBtn",btnId:"wsfedTestBtn",title:"Clients.WsFed.Title",summary:"Clients.WsFed.Summary",icon:"far fa-id-card",type:y.$.WsFedApplication,selectedTypes:[y.$.WsFedApplication],starterMode:!1}),jt}setActive(jt){this.activeType=jt,this.setWebAppSelection(jt),this.setRobotAppSelection(jt),this.setNativeAppSelection(jt)}starterModeProtectedType(){return this.starterModeProtectedSetups.includes(this.activeType)}setWebAppSelection(jt){(jt===y.$.WebApplication||jt===y.$.PKCEWebApplication)&&(this.webAppSelectForm=this.fb.group({webAppSelection:jt}))}setRobotAppSelection(jt){this.isDuende&&(jt===y.$.RobotApplication||jt===y.$.CIBARobotApplication)&&(this.robotAppSelectForm=this.fb.group({robotAppSelection:jt}))}setNativeAppSelection(jt){(jt===y.$.NativeApplication||jt===y.$.PKCENativeApplication)&&(this.nativeAppSelectForm=this.fb.group({nativeAppSelection:jt}))}static{this.\u0275fac=function(Dt){return new(Dt||Ye)(p.rXU(w.X),p.rXU(C.ze))}}static{this.\u0275cmp=p.VBU({type:Ye,selectors:[["app-client-type-select"]],inputs:{data:"data"},decls:32,vars:9,consts:[["webAppSelection",""],["robotAppSelection",""],["nativeAppSelection",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"],["id","webAppSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","robotSelectionForm","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","nativeSelectionFrom","class","tw-mt-5",3,"formGroup",4,"ngIf"],["id","webAppSelectionForm",1,"tw-mt-5",3,"formGroup"],[3,"id","label","isLast"],[1,"tw-form-select"],["id","webAppFlow","formControlName","webAppSelection",1,"tw-form-control",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["id","robotSelectionForm",1,"tw-mt-5",3,"formGroup"],["id","robotAppFlow","formControlName","robotAppSelection",1,"tw-form-control",3,"change"],["id","nativeSelectionFrom",1,"tw-mt-5",3,"formGroup"],["id","nativeAppFlow","formControlName","nativeAppSelection",1,"tw-form-control",3,"change"]],template:function(Dt,wt){if(1&Dt&&(p.j41(0,"div",3),p.nrm(1,"p",4),p.nI1(2,"translate"),p.k0s(),p.j41(3,"app-type-selector",5),p.bIt("select",function(Y){return wt.setActive(Y)}),p.k0s(),p.DNE(4,G,3,3),p.j41(5,"div",6)(6,"h2",7),p.nrm(7,"span",8),p.DNE(8,R,3,3)(9,j,3,3)(10,U,3,3)(11,$,3,3)(12,ne,3,3)(13,se,3,3)(14,L,3,3)(15,J,3,3)(16,te,3,3)(17,E,3,3)(18,re,3,3)(19,K,3,3),p.k0s(),p.DNE(20,me,2,3)(21,Ne,2,3)(22,Ae,2,3)(23,xe,2,3)(24,Qe,2,3)(25,Ee,2,3)(26,be,2,3)(27,le,2,3)(28,Pe,2,3)(29,Ie,2,3)(30,st,2,3)(31,Oe,2,3),p.k0s()),2&Dt){let z,Y;p.R7$(),p.Y8G("innerHTML",p.bMT(2,7,"Clients.Home.Description"),p.npT),p.R7$(2),p.Y8G("activeType",wt.activeType)("isStarterMode",wt.isStarterMode)("options",wt.buildOptionsArray()),p.R7$(),p.vxM(4,wt.isDuende?4:-1),p.R7$(4),p.vxM(8,(z=wt.activeType)===wt.wizardTypes.Home?8:z===wt.wizardTypes.SinglePageApplication?9:z===wt.wizardTypes.WebApplication?10:z===wt.wizardTypes.PKCEWebApplication?11:z===wt.wizardTypes.NativeApplication?12:z===wt.wizardTypes.PKCENativeApplication?13:z===wt.wizardTypes.RobotApplication?14:z===wt.wizardTypes.CIBARobotApplication?15:z===wt.wizardTypes.DeviceApplication?16:z===wt.wizardTypes.SamlApplication?17:z===wt.wizardTypes.WsFedApplication?18:z===wt.wizardTypes.LegacySinglePageApplication?19:-1),p.R7$(12),p.vxM(20,(Y=wt.activeType)===wt.wizardTypes.Home?20:Y===wt.wizardTypes.SinglePageApplication?21:Y===wt.wizardTypes.WebApplication?22:Y===wt.wizardTypes.PKCEWebApplication?23:Y===wt.wizardTypes.NativeApplication?24:Y===wt.wizardTypes.PKCENativeApplication?25:Y===wt.wizardTypes.RobotApplication?26:Y===wt.wizardTypes.CIBARobotApplication?27:Y===wt.wizardTypes.DeviceApplication?28:Y===wt.wizardTypes.SamlApplication?29:Y===wt.wizardTypes.WsFedApplication?30:Y===wt.wizardTypes.LegacySinglePageApplication?31:-1)}},dependencies:[m.Sq,m.bT,C.qT,C.xH,C.y7,C.wz,C.BC,C.cb,C.j4,C.JD,d.Y,f.N,I.D9],encapsulation:2})}}return Ye})()},5313:(nt,fe,h)=>{"use strict";h.d(fe,{w:()=>b});var i=h(9417),e=h(4438),y=h(177),p=h(8698),w=h(1780);function C(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.SloEndpoints")))}function m(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.AcsEndpoints")))}function d(k,N){1&k&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ArsEndpoints")))}function f(k,N){1&k&&(e.j41(0,"option",13),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Post")))}function I(k,N){1&k&&(e.j41(0,"option",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Redirect")))}function O(k,N){1&k&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Artifact")))}function P(k,N){1&k&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&k&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.Soap")))}let b=(()=>{class k{constructor(G){this.fb=G}hosted(){}ngOnInit(){const G=[i.k0.pattern("^https?://.*$")],R=[];"ACSEndpoint"===this.data.endpointType&&(G.push(i.k0.required),R.push(i.k0.required)),this.endpointForm=this.fb.group({location:["",G],index:[0,[i.k0.min(0),i.k0.max(99)]],binding:["ARSEndpoint"===this.data.endpointType?"urn:oasis:names:tc:SAML:2.0:bindings:SOAP":"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",R]}),this.registerBindingValidation()}ngOnDestroy(){void 0!==this.valueChangesSub&&this.valueChangesSub.unsubscribe()}registerBindingValidation(){const G=this.endpointForm.get("location"),R=this.endpointForm.get("binding");this.valueChangesSub=G.valueChanges.subscribe(j=>{R.setValidators(j.length>0?i.k0.required:null),R.updateValueAndValidity()})}getStepSummary(){if(""!==this.endpointForm.get("location").value)return new Map([[this.data.endpointType,[`${this.endpointForm.get("location").value} - ${this.endpointForm.get("index").value} - ${this.endpointForm.get("binding").value}`]]])}getStepDTO(){if(""!==this.endpointForm.get("location").value){let G,R;switch(this.data.endpointType){case"SLOEndpoint":G="SLOBindingType",R="SLOEndpointIndex";break;case"ACSEndpoint":G="ACSBindingType",R="ACSEndpointIndex";break;default:G="ARSBindingType",R="ARSEndpointIndex"}const j=null==this.endpointForm.get("index").value?0:this.endpointForm.get("index").value;return{[this.data.endpointType]:this.endpointForm.get("location").value,[G]:this.endpointForm.get("binding").value,[R]:j}}}canNext(){return this.endpointForm.valid}static{this.\u0275fac=function(R){return new(R||k)(e.rXU(i.ze))}}static{this.\u0275cmp=e.VBU({type:k,selectors:[["app-endpoints"]],decls:16,vars:18,consts:[[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["id","EndpointUrl","type","url","name","EndpointUrl","formControlName","location",1,"tw-form-control"],[1,"tw-form-select"],["id","EndpointBinding","formControlName","binding",1,"tw-form-control"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact",4,"ngIf"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP",4,"ngIf"],[3,"id","label","help","isLast"],["id","EndpointIndex","type","number","name","EndpointIndex","min","0","formControlName","index",1,"tw-form-control","tw-max-w-48"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"],["value","urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"],["value","urn:oasis:names:tc:SAML:2.0:bindings:SOAP"]],template:function(R,j){1&R&&(e.j41(0,"div",0),e.DNE(1,C,3,3,"p",1)(2,m,3,3,"p",1)(3,d,3,3,"p",1),e.k0s(),e.j41(4,"form",2)(5,"app-form-row",3),e.nrm(6,"input",4),e.k0s(),e.j41(7,"app-form-row",3)(8,"div",5)(9,"select",6),e.DNE(10,f,3,3,"option",7)(11,I,3,3,"option",8)(12,O,3,3,"option",9)(13,P,3,3,"option",10),e.k0s()()(),e.j41(14,"app-form-row",11),e.nrm(15,"input",12),e.k0s()()),2&R&&(e.R7$(),e.Y8G("ngIf","SLOEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("ngIf","ACSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("formGroup",j.endpointForm),e.R7$(),e.Y8G("id","EndpointUrl")("label","Clients.Endpoint")("help","SLOEndpoint"==j.data.endpointType?"Clients.SloEndpointHelp":"ACSEndpoint"==j.data.endpointType?"Clients.AcsEndpointHelp":"Clients.ArsEndpointHelp"),e.R7$(2),e.Y8G("id","EndpointBinding")("label","Clients.BindingType")("help","Clients.BindingTypeHelp"),e.R7$(3),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"!=j.data.endpointType),e.R7$(),e.Y8G("ngIf","ARSEndpoint"==j.data.endpointType),e.R7$(),e.Y8G("id","EndpointIndex")("label","Clients.Saml.Index")("help","Clients.IndexHelp")("isLast",!0))},dependencies:[y.bT,i.qT,i.xH,i.y7,i.me,i.Q0,i.wz,i.BC,i.cb,i.VZ,i.j4,i.JD,p.Y,w.D9],encapsulation:2})}}return k})()},2653:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>e});var i=h(4438);let e=(()=>{class y{constructor(){this.assignedIdentityResources=[],this.assignedProtectedResources=[]}static{this.\u0275fac=function(C){return new(C||y)}}static{this.\u0275prov=i.jDH({token:y,factory:y.\u0275fac,providedIn:"root"})}}return y})()},9947:(nt,fe,h)=>{"use strict";h.d(fe,{a:()=>$});var i=h(9417),e=h(177),y=h(1780),p=h(8400),w=h(1683),C=h(4179),m=h(2571),d=h(5826),f=h(7175),I=h(5847),O=h(779),P=h(534),b=h(6193),M=h(75),k=h(8389),N=h(2653),G=h(7677),R=h(5667),j=h(3843),U=h(4438);let $=(()=>{class ne{static{this.\u0275fac=function(J){return new(J||ne)}}static{this.\u0275mod=U.$C({type:ne})}static{this.\u0275inj=U.G2t({providers:[N.f,d.o,I.a,b.V],imports:[e.MD,i.YN,i.X1,p.qP,y.h,P.Ss,w.Y,O.Q_,C.z,m.A,f.c,M.U,k.w,G.N,R.g,j.G]})}}return ne})()},316:(nt,fe,h)=>{"use strict";function i(e){const y=e.value;if(null==y)return{validEmail:!1};if(y.indexOf(" ")>-1)return{validEmail:!1};let p=!1;for(let w=0;w<y.length;w++)if("@"===e.value[w]){if(p||0===w||w===y.length-1)return{validEmail:!1};p=!0}return p?null:{validEmail:!1}}h.d(fe,{D:()=>i})},517:(nt,fe,h)=>{"use strict";var i=h(345),e=h(4438),p=h(9417),w=h(1626),C=h(9969);function d(s){return new e.wOt(3e3,!1)}function jt(s){switch(s.length){case 0:return new C.sf;case 1:return s[0];default:return new C.ui(s)}}function Dt(s,g,n=new Map,a=new Map){const l=[],T=[];let q=-1,Te=null;if(g.forEach(Ze=>{const _t=Ze.get("offset"),$t=_t==q,un=$t&&Te||new Map;Ze.forEach((Sn,Tn)=>{let Fn=Tn,On=Sn;if("offset"!==Tn)switch(Fn=s.normalizePropertyName(Fn,l),On){case C.FX:On=n.get(Tn);break;case C.kp:On=a.get(Tn);break;default:On=s.normalizeStyleValue(Tn,Fn,On,l)}un.set(Fn,On)}),$t||T.push(un),Te=un,q=_t}),l.length)throw function Ae(s){return new e.wOt(3502,!1)}();return T}function wt(s,g,n,a){switch(g){case"start":s.onStart(()=>a(n&&z(n,"start",s)));break;case"done":s.onDone(()=>a(n&&z(n,"done",s)));break;case"destroy":s.onDestroy(()=>a(n&&z(n,"destroy",s)))}}function z(s,g,n){const T=Y(s.element,s.triggerName,s.fromState,s.toState,g||s.phaseName,n.totalTime??s.totalTime,!!n.disabled),q=s._data;return null!=q&&(T._data=q),T}function Y(s,g,n,a,l="",T=0,q){return{element:s,triggerName:g,fromState:n,toState:a,phaseName:l,totalTime:T,disabled:!!q}}function Z(s,g,n){let a=s.get(g);return a||s.set(g,a=n),a}function Ce(s){const g=s.indexOf(":");return[s.substring(1,g),s.slice(g+1)]}const we=typeof document>"u"?null:document.documentElement;function at(s){const g=s.parentNode||s.host||null;return g===we?null:g}let ot=null,Ft=!1;function on(s,g){for(;g;){if(g===s)return!0;g=at(g)}return!1}function Pt(s,g,n){if(n)return Array.from(s.querySelectorAll(g));const a=s.querySelector(g);return a?[a]:[]}let je=(()=>{class s{validateStyleProperty(n){return function mt(s){ot||(ot=function Kt(){return typeof document<"u"?document.body:null}()||{},Ft=!!ot.style&&"WebkitAppearance"in ot.style);let g=!0;return ot.style&&!function Be(s){return"ebkit"==s.substring(1,6)}(s)&&(g=s in ot.style,!g&&Ft&&(g="Webkit"+s.charAt(0).toUpperCase()+s.slice(1)in ot.style)),g}(n)}matchesElement(n,a){return!1}containsElement(n,a){return on(n,a)}getParentElement(n){return at(n)}query(n,a,l){return Pt(n,a,l)}computeStyle(n,a,l){return l||""}animate(n,a,l,T,q,Te=[],Ze){return new C.sf(l,T)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class ce{static{this.NOOP=new je}}class X{}const Ve=1e3,Bt="ng-enter",cn="ng-leave",hn="ng-trigger",Mn=".ng-trigger",kn="ng-animating",Bn=".ng-animating";function It(s){if("number"==typeof s)return s;const g=s.match(/^(-?[\.\d]+)(m?s)/);return!g||g.length<2?0:Rn(parseFloat(g[1]),g[2])}function Rn(s,g){return"s"===g?s*Ve:s}function Ht(s,g,n){return s.hasOwnProperty("duration")?s:function lt(s,g,n){let l,T=0,q="";if("string"==typeof s){const Te=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return g.push(d()),{duration:0,delay:0,easing:""};l=Rn(parseFloat(Te[1]),Te[2]);const Ze=Te[3];null!=Ze&&(T=Rn(parseFloat(Ze),Te[4]));const _t=Te[5];_t&&(q=_t)}else l=s;if(!n){let Te=!1,Ze=g.length;l<0&&(g.push(function f(){return new e.wOt(3100,!1)}()),Te=!0),T<0&&(g.push(function I(){return new e.wOt(3101,!1)}()),Te=!0),Te&&g.splice(Ze,0,d())}return{duration:l,delay:T,easing:q}}(s,g,n)}function Ot(s,g,n){g.forEach((a,l)=>{const T=ht(l);n&&!n.has(l)&&n.set(l,s.style[T]),s.style[T]=a})}function tn(s,g){g.forEach((n,a)=>{const l=ht(a);s.style[l]=""})}function In(s){return Array.isArray(s)?1==s.length?s[0]:(0,C.K2)(s):s}const fn=new RegExp("{{\\s*(.+?)\\s*}}","g");function hi(s){let g=[];if("string"==typeof s){let n;for(;n=fn.exec(s);)g.push(n[1]);fn.lastIndex=0}return g}function Hn(s,g,n){const a=`${s}`,l=a.replace(fn,(T,q)=>{let Te=g[q];return null==Te&&(n.push(function P(s){return new e.wOt(3003,!1)}()),Te=""),Te.toString()});return l==a?s:l}const Mt=/-+([a-z0-9])/g;function ht(s){return s.replace(Mt,(...g)=>g[1].toUpperCase())}function bn(s,g,n){switch(g.type){case C.If.Trigger:return s.visitTrigger(g,n);case C.If.State:return s.visitState(g,n);case C.If.Transition:return s.visitTransition(g,n);case C.If.Sequence:return s.visitSequence(g,n);case C.If.Group:return s.visitGroup(g,n);case C.If.Animate:return s.visitAnimate(g,n);case C.If.Keyframes:return s.visitKeyframes(g,n);case C.If.Style:return s.visitStyle(g,n);case C.If.Reference:return s.visitReference(g,n);case C.If.AnimateChild:return s.visitAnimateChild(g,n);case C.If.AnimateRef:return s.visitAnimateRef(g,n);case C.If.Query:return s.visitQuery(g,n);case C.If.Stagger:return s.visitStagger(g,n);default:throw function b(s){return new e.wOt(3004,!1)}()}}function yn(s,g){return window.getComputedStyle(s)[g]}const Jn=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class An extends X{normalizePropertyName(g,n){return ht(g)}normalizeStyleValue(g,n,a,l){let T="";const q=a.toString().trim();if(Jn.has(n)&&0!==a&&"0"!==a)if("number"==typeof a)T="px";else{const Te=a.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&l.push(function M(s,g){return new e.wOt(3005,!1)}())}return q+T}}const Ti="*";const Ii=new Set(["true","1"]),et=new Set(["false","0"]);function At(s,g){const n=Ii.has(s)||et.has(s),a=Ii.has(g)||et.has(g);return(l,T)=>{let q=s==Ti||s==l,Te=g==Ti||g==T;return!q&&n&&"boolean"==typeof l&&(q=l?Ii.has(s):et.has(s)),!Te&&a&&"boolean"==typeof T&&(Te=T?Ii.has(g):et.has(g)),q&&Te}}const zt=new RegExp("s*:selfs*,?","g");function ct(s,g,n,a){return new Xe(s).build(g,n,a)}class Xe{constructor(g){this._driver=g}build(g,n,a){const l=new _e(n);return this._resetContextStyleTimingState(l),bn(this,In(g),l)}_resetContextStyleTimingState(g){g.currentQuerySelector="",g.collectedStyles=new Map,g.collectedStyles.set("",new Map),g.currentTime=0}visitTrigger(g,n){let a=n.queryCount=0,l=n.depCount=0;const T=[],q=[];return"@"==g.name.charAt(0)&&n.errors.push(function k(){return new e.wOt(3006,!1)}()),g.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(n),Te.type==C.If.State){const Ze=Te,_t=Ze.name;_t.toString().split(/\s*,\s*/).forEach($t=>{Ze.name=$t,T.push(this.visitState(Ze,n))}),Ze.name=_t}else if(Te.type==C.If.Transition){const Ze=this.visitTransition(Te,n);a+=Ze.queryCount,l+=Ze.depCount,q.push(Ze)}else n.errors.push(function N(){return new e.wOt(3007,!1)}())}),{type:C.If.Trigger,name:g.name,states:T,transitions:q,queryCount:a,depCount:l,options:null}}visitState(g,n){const a=this.visitStyle(g.styles,n),l=g.options&&g.options.params||null;if(a.containsDynamicStyles){const T=new Set,q=l||{};a.styles.forEach(Te=>{Te instanceof Map&&Te.forEach(Ze=>{hi(Ze).forEach(_t=>{q.hasOwnProperty(_t)||T.add(_t)})})}),T.size&&n.errors.push(function G(s,g){return new e.wOt(3008,!1)}(0,T.values()))}return{type:C.If.State,name:g.name,style:a,options:l?{params:l}:null}}visitTransition(g,n){n.queryCount=0,n.depCount=0;const a=bn(this,In(g.animation),n),l=function gi(s,g){const n=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(a=>function Hi(s,g,n){if(":"==s[0]){const Ze=function $i(s,g){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,a)=>parseFloat(a)>parseFloat(n);case":decrement":return(n,a)=>parseFloat(a)<parseFloat(n);default:return g.push(function re(s){return new e.wOt(3016,!1)}()),"* => *"}}(s,n);if("function"==typeof Ze)return void g.push(Ze);s=Ze}const a=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==a||a.length<4)return n.push(function E(s){return new e.wOt(3015,!1)}()),g;const l=a[1],T=a[2],q=a[3];g.push(At(l,q)),"<"==T[0]&&(l!=Ti||q!=Ti)&&g.push(At(q,l))}(a,n,g)):n.push(s),n}(g.expr,n.errors);return{type:C.If.Transition,matchers:l,animation:a,queryCount:n.queryCount,depCount:n.depCount,options:ft(g.options)}}visitSequence(g,n){return{type:C.If.Sequence,steps:g.steps.map(a=>bn(this,a,n)),options:ft(g.options)}}visitGroup(g,n){const a=n.currentTime;let l=0;const T=g.steps.map(q=>{n.currentTime=a;const Te=bn(this,q,n);return l=Math.max(l,n.currentTime),Te});return n.currentTime=l,{type:C.If.Group,steps:T,options:ft(g.options)}}visitAnimate(g,n){const a=function ye(s,g){if(s.hasOwnProperty("duration"))return s;if("number"==typeof s)return ze(Ht(s,g).duration,0,"");const n=s;if(n.split(/\s+/).some(T=>"{"==T.charAt(0)&&"{"==T.charAt(1))){const T=ze(0,0,"");return T.dynamic=!0,T.strValue=n,T}const l=Ht(n,g);return ze(l.duration,l.delay,l.easing)}(g.timings,n.errors);n.currentAnimateTimings=a;let l,T=g.styles?g.styles:(0,C.iF)({});if(T.type==C.If.Keyframes)l=this.visitKeyframes(T,n);else{let q=g.styles,Te=!1;if(!q){Te=!0;const _t={};a.easing&&(_t.easing=a.easing),q=(0,C.iF)(_t)}n.currentTime+=a.duration+a.delay;const Ze=this.visitStyle(q,n);Ze.isEmptyStep=Te,l=Ze}return n.currentAnimateTimings=null,{type:C.If.Animate,timings:a,style:l,options:null}}visitStyle(g,n){const a=this._makeStyleAst(g,n);return this._validateStyleAst(a,n),a}_makeStyleAst(g,n){const a=[],l=Array.isArray(g.styles)?g.styles:[g.styles];for(let Te of l)"string"==typeof Te?Te===C.kp?a.push(Te):n.errors.push(new e.wOt(3002,!1)):a.push(new Map(Object.entries(Te)));let T=!1,q=null;return a.forEach(Te=>{if(Te instanceof Map&&(Te.has("easing")&&(q=Te.get("easing"),Te.delete("easing")),!T))for(let Ze of Te.values())if(Ze.toString().indexOf("{{")>=0){T=!0;break}}),{type:C.If.Style,styles:a,easing:q,offset:g.offset,containsDynamicStyles:T,options:null}}_validateStyleAst(g,n){const a=n.currentAnimateTimings;let l=n.currentTime,T=n.currentTime;a&&T>0&&(T-=a.duration+a.delay),g.styles.forEach(q=>{"string"!=typeof q&&q.forEach((Te,Ze)=>{const _t=n.collectedStyles.get(n.currentQuerySelector),$t=_t.get(Ze);let un=!0;$t&&(T!=l&&T>=$t.startTime&&l<=$t.endTime&&(n.errors.push(function U(s,g,n,a,l){return new e.wOt(3010,!1)}()),un=!1),T=$t.startTime),un&&_t.set(Ze,{startTime:T,endTime:l}),n.options&&function Un(s,g,n){const a=g.params||{},l=hi(s);l.length&&l.forEach(T=>{a.hasOwnProperty(T)||n.push(function O(s){return new e.wOt(3001,!1)}())})}(Te,n.options,n.errors)})})}visitKeyframes(g,n){const a={type:C.If.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function $(){return new e.wOt(3011,!1)}()),a;let T=0;const q=[];let Te=!1,Ze=!1,_t=0;const $t=g.steps.map(Si=>{const Ei=this._makeStyleAst(Si,n);let Qi=null!=Ei.offset?Ei.offset:function De(s){if("string"==typeof s)return null;let g=null;if(Array.isArray(s))s.forEach(n=>{if(n instanceof Map&&n.has("offset")){const a=n;g=parseFloat(a.get("offset")),a.delete("offset")}});else if(s instanceof Map&&s.has("offset")){const n=s;g=parseFloat(n.get("offset")),n.delete("offset")}return g}(Ei.styles),bi=0;return null!=Qi&&(T++,bi=Ei.offset=Qi),Ze=Ze||bi<0||bi>1,Te=Te||bi<_t,_t=bi,q.push(bi),Ei});Ze&&n.errors.push(function ne(){return new e.wOt(3012,!1)}()),Te&&n.errors.push(function se(){return new e.wOt(3200,!1)}());const un=g.steps.length;let Sn=0;T>0&&T<un?n.errors.push(function L(){return new e.wOt(3202,!1)}()):0==T&&(Sn=1/(un-1));const Tn=un-1,Fn=n.currentTime,On=n.currentAnimateTimings,oi=On.duration;return $t.forEach((Si,Ei)=>{const Qi=Sn>0?Ei==Tn?1:Sn*Ei:q[Ei],bi=Qi*oi;n.currentTime=Fn+On.delay+bi,On.duration=bi,this._validateStyleAst(Si,n),Si.offset=Qi,a.styles.push(Si)}),a}visitReference(g,n){return{type:C.If.Reference,animation:bn(this,In(g.animation),n),options:ft(g.options)}}visitAnimateChild(g,n){return n.depCount++,{type:C.If.AnimateChild,options:ft(g.options)}}visitAnimateRef(g,n){return{type:C.If.AnimateRef,animation:this.visitReference(g.animation,n),options:ft(g.options)}}visitQuery(g,n){const a=n.currentQuerySelector,l=g.options||{};n.queryCount++,n.currentQuery=g;const[T,q]=function Zt(s){const g=!!s.split(/\s*,\s*/).find(n=>":self"==n);return g&&(s=s.replace(zt,"")),s=s.replace(/@\*/g,Mn).replace(/@\w+/g,n=>Mn+"-"+n.slice(1)).replace(/:animating/g,Bn),[s,g]}(g.selector);n.currentQuerySelector=a.length?a+" "+T:T,Z(n.collectedStyles,n.currentQuerySelector,new Map);const Te=bn(this,In(g.animation),n);return n.currentQuery=null,n.currentQuerySelector=a,{type:C.If.Query,selector:T,limit:l.limit||0,optional:!!l.optional,includeSelf:q,animation:Te,originalSelector:g.selector,options:ft(g.options)}}visitStagger(g,n){n.currentQuery||n.errors.push(function J(){return new e.wOt(3013,!1)}());const a="full"===g.timings?{duration:0,delay:0,easing:"full"}:Ht(g.timings,n.errors,!0);return{type:C.If.Stagger,animation:bn(this,In(g.animation),n),timings:a,options:null}}}class _e{constructor(g){this.errors=g,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ft(s){return s?(s={...s}).params&&(s.params=function ut(s){return s?{...s}:null}(s.params)):s={},s}function ze(s,g,n){return{duration:s,delay:g,easing:n}}function Tt(s,g,n,a,l,T,q=null,Te=!1){return{type:1,element:s,keyframes:g,preStyleProps:n,postStyleProps:a,duration:l,delay:T,totalTime:l+T,easing:q,subTimeline:Te}}class vt{constructor(){this._map=new Map}get(g){return this._map.get(g)||[]}append(g,n){let a=this._map.get(g);a||this._map.set(g,a=[]),a.push(...n)}has(g){return this._map.has(g)}clear(){this._map.clear()}}const ai=new RegExp(":enter","g"),ri=new RegExp(":leave","g");function Ui(s,g,n,a,l,T=new Map,q=new Map,Te,Ze,_t=[]){return(new hr).buildKeyframes(s,g,n,a,l,T,q,Te,Ze,_t)}class hr{buildKeyframes(g,n,a,l,T,q,Te,Ze,_t,$t=[]){_t=_t||new vt;const un=new li(g,n,_t,l,T,$t,[]);un.options=Ze;const Sn=Ze.delay?It(Ze.delay):0;un.currentTimeline.delayNextStep(Sn),un.currentTimeline.setStyles([q],null,un.errors,Ze),bn(this,a,un);const Tn=un.timelines.filter(Fn=>Fn.containsAnimation());if(Tn.length&&Te.size){let Fn;for(let On=Tn.length-1;On>=0;On--){const oi=Tn[On];if(oi.element===n){Fn=oi;break}}Fn&&!Fn.allowOnlyTimelineStyles()&&Fn.setStyles([Te],null,un.errors,Ze)}return Tn.length?Tn.map(Fn=>Fn.buildKeyframes()):[Tt(n,[],[],[],0,Sn,"",!1)]}visitTrigger(g,n){}visitState(g,n){}visitTransition(g,n){}visitAnimateChild(g,n){const a=n.subInstructions.get(n.element);if(a){const l=n.createSubContext(g.options),T=n.currentTimeline.currentTime,q=this._visitSubInstructions(a,l,l.options);T!=q&&n.transformIntoNewTimeline(q)}n.previousNode=g}visitAnimateRef(g,n){const a=n.createSubContext(g.options);a.transformIntoNewTimeline(),this._applyAnimationRefDelays([g.options,g.animation.options],n,a),this.visitReference(g.animation,a),n.transformIntoNewTimeline(a.currentTimeline.currentTime),n.previousNode=g}_applyAnimationRefDelays(g,n,a){for(const l of g){const T=l?.delay;if(T){const q="number"==typeof T?T:It(Hn(T,l?.params??{},n.errors));a.delayNextStep(q)}}}_visitSubInstructions(g,n,a){let T=n.currentTimeline.currentTime;const q=null!=a.duration?It(a.duration):null,Te=null!=a.delay?It(a.delay):null;return 0!==q&&g.forEach(Ze=>{const _t=n.appendInstructionToTimeline(Ze,q,Te);T=Math.max(T,_t.duration+_t.delay)}),T}visitReference(g,n){n.updateOptions(g.options,!0),bn(this,g.animation,n),n.previousNode=g}visitSequence(g,n){const a=n.subContextCount;let l=n;const T=g.options;if(T&&(T.params||T.delay)&&(l=n.createSubContext(T),l.transformIntoNewTimeline(),null!=T.delay)){l.previousNode.type==C.If.Style&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Wn);const q=It(T.delay);l.delayNextStep(q)}g.steps.length&&(g.steps.forEach(q=>bn(this,q,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>a&&l.transformIntoNewTimeline()),n.previousNode=g}visitGroup(g,n){const a=[];let l=n.currentTimeline.currentTime;const T=g.options&&g.options.delay?It(g.options.delay):0;g.steps.forEach(q=>{const Te=n.createSubContext(g.options);T&&Te.delayNextStep(T),bn(this,q,Te),l=Math.max(l,Te.currentTimeline.currentTime),a.push(Te.currentTimeline)}),a.forEach(q=>n.currentTimeline.mergeTimelineCollectedStyles(q)),n.transformIntoNewTimeline(l),n.previousNode=g}_visitTiming(g,n){if(g.dynamic){const a=g.strValue;return Ht(n.params?Hn(a,n.params,n.errors):a,n.errors)}return{duration:g.duration,delay:g.delay,easing:g.easing}}visitAnimate(g,n){const a=n.currentAnimateTimings=this._visitTiming(g.timings,n),l=n.currentTimeline;a.delay&&(n.incrementTime(a.delay),l.snapshotCurrentStyles());const T=g.style;T.type==C.If.Keyframes?this.visitKeyframes(T,n):(n.incrementTime(a.duration),this.visitStyle(T,n),l.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=g}visitStyle(g,n){const a=n.currentTimeline,l=n.currentAnimateTimings;!l&&a.hasCurrentStyleProperties()&&a.forwardFrame();const T=l&&l.easing||g.easing;g.isEmptyStep?a.applyEmptyStep(T):a.setStyles(g.styles,T,n.errors,n.options),n.previousNode=g}visitKeyframes(g,n){const a=n.currentAnimateTimings,l=n.currentTimeline.duration,T=a.duration,Te=n.createSubContext().currentTimeline;Te.easing=a.easing,g.styles.forEach(Ze=>{Te.forwardTime((Ze.offset||0)*T),Te.setStyles(Ze.styles,Ze.easing,n.errors,n.options),Te.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(Te),n.transformIntoNewTimeline(l+T),n.previousNode=g}visitQuery(g,n){const a=n.currentTimeline.currentTime,l=g.options||{},T=l.delay?It(l.delay):0;T&&(n.previousNode.type===C.If.Style||0==a&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Wn);let q=a;const Te=n.invokeQuery(g.selector,g.originalSelector,g.limit,g.includeSelf,!!l.optional,n.errors);n.currentQueryTotal=Te.length;let Ze=null;Te.forEach((_t,$t)=>{n.currentQueryIndex=$t;const un=n.createSubContext(g.options,_t);T&&un.delayNextStep(T),_t===n.element&&(Ze=un.currentTimeline),bn(this,g.animation,un),un.currentTimeline.applyStylesToKeyframe(),q=Math.max(q,un.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(q),Ze&&(n.currentTimeline.mergeTimelineCollectedStyles(Ze),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=g}visitStagger(g,n){const a=n.parentContext,l=n.currentTimeline,T=g.timings,q=Math.abs(T.duration),Te=q*(n.currentQueryTotal-1);let Ze=q*n.currentQueryIndex;switch(T.duration<0?"reverse":T.easing){case"reverse":Ze=Te-Ze;break;case"full":Ze=a.currentStaggerTime}const $t=n.currentTimeline;Ze&&$t.delayNextStep(Ze);const un=$t.currentTime;bn(this,g.animation,n),n.previousNode=g,a.currentStaggerTime=l.currentTime-un+(l.startTime-a.currentTimeline.startTime)}}const Wn={};class li{constructor(g,n,a,l,T,q,Te,Ze){this._driver=g,this.element=n,this.subInstructions=a,this._enterClassName=l,this._leaveClassName=T,this.errors=q,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ze||new lr(this._driver,n,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(g,n){if(!g)return;const a=g;let l=this.options;null!=a.duration&&(l.duration=It(a.duration)),null!=a.delay&&(l.delay=It(a.delay));const T=a.params;if(T){let q=l.params;q||(q=this.options.params={}),Object.keys(T).forEach(Te=>{(!n||!q.hasOwnProperty(Te))&&(q[Te]=Hn(T[Te],q,this.errors))})}}_copyOptions(){const g={};if(this.options){const n=this.options.params;if(n){const a=g.params={};Object.keys(n).forEach(l=>{a[l]=n[l]})}}return g}createSubContext(g=null,n,a){const l=n||this.element,T=new li(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,a||0));return T.previousNode=this.previousNode,T.currentAnimateTimings=this.currentAnimateTimings,T.options=this._copyOptions(),T.updateOptions(g),T.currentQueryIndex=this.currentQueryIndex,T.currentQueryTotal=this.currentQueryTotal,T.parentContext=this,this.subContextCount++,T}transformIntoNewTimeline(g){return this.previousNode=Wn,this.currentTimeline=this.currentTimeline.fork(this.element,g),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(g,n,a){const l={duration:n??g.duration,delay:this.currentTimeline.currentTime+(a??0)+g.delay,easing:""},T=new xi(this._driver,g.element,g.keyframes,g.preStyleProps,g.postStyleProps,l,g.stretchStartingKeyframe);return this.timelines.push(T),l}incrementTime(g){this.currentTimeline.forwardTime(this.currentTimeline.duration+g)}delayNextStep(g){g>0&&this.currentTimeline.delayNextStep(g)}invokeQuery(g,n,a,l,T,q){let Te=[];if(l&&Te.push(this.element),g.length>0){g=(g=g.replace(ai,"."+this._enterClassName)).replace(ri,"."+this._leaveClassName);let _t=this._driver.query(this.element,g,1!=a);0!==a&&(_t=a<0?_t.slice(_t.length+a,_t.length):_t.slice(0,a)),Te.push(..._t)}return!T&&0==Te.length&&q.push(function te(s){return new e.wOt(3014,!1)}()),Te}}class lr{constructor(g,n,a,l){this._driver=g,this.element=n,this.startTime=a,this._elementTimelineStylesLookup=l,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(g){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+g),n&&this.snapshotCurrentStyles()):this.startTime+=g}fork(g,n){return this.applyStylesToKeyframe(),new lr(this._driver,g,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(g){this.applyStylesToKeyframe(),this.duration=g,this._loadKeyframe()}_updateStyle(g,n){this._localTimelineStyles.set(g,n),this._globalTimelineStyles.set(g,n),this._styleSummary.set(g,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(g){g&&this._previousKeyframe.set("easing",g);for(let[n,a]of this._globalTimelineStyles)this._backFill.set(n,a||C.kp),this._currentKeyframe.set(n,C.kp);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(g,n,a,l){n&&this._previousKeyframe.set("easing",n);const T=l&&l.params||{},q=function Ys(s,g){const n=new Map;let a;return s.forEach(l=>{if("*"===l){a??=g.keys();for(let T of a)n.set(T,C.kp)}else for(let[T,q]of l)n.set(T,q)}),n}(g,this._globalTimelineStyles);for(let[Te,Ze]of q){const _t=Hn(Ze,T,a);this._pendingStyles.set(Te,_t),this._localTimelineStyles.has(Te)||this._backFill.set(Te,this._globalTimelineStyles.get(Te)??C.kp),this._updateStyle(Te,_t)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((g,n)=>{this._currentKeyframe.set(n,g)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((g,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,g)}))}snapshotCurrentStyles(){for(let[g,n]of this._localTimelineStyles)this._pendingStyles.set(g,n),this._updateStyle(g,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const g=[];for(let n in this._currentKeyframe)g.push(n);return g}mergeTimelineCollectedStyles(g){g._styleSummary.forEach((n,a)=>{const l=this._styleSummary.get(a);(!l||n.time>l.time)&&this._updateStyle(a,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const g=new Set,n=new Set,a=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((Te,Ze)=>{const _t=new Map([...this._backFill,...Te]);_t.forEach(($t,un)=>{$t===C.FX?g.add(un):$t===C.kp&&n.add(un)}),a||_t.set("offset",Ze/this.duration),l.push(_t)});const T=[...g.values()],q=[...n.values()];if(a){const Te=l[0],Ze=new Map(Te);Te.set("offset",0),Ze.set("offset",1),l=[Te,Ze]}return Tt(this.element,l,T,q,this.duration,this.startTime,this.easing,!1)}}class xi extends lr{constructor(g,n,a,l,T,q,Te=!1){super(g,n,q.delay),this.keyframes=a,this.preStyleProps=l,this.postStyleProps=T,this._stretchStartingKeyframe=Te,this.timings={duration:q.duration,delay:q.delay,easing:q.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let g=this.keyframes,{delay:n,duration:a,easing:l}=this.timings;if(this._stretchStartingKeyframe&&n){const T=[],q=a+n,Te=n/q,Ze=new Map(g[0]);Ze.set("offset",0),T.push(Ze);const _t=new Map(g[0]);_t.set("offset",Mr(Te)),T.push(_t);const $t=g.length-1;for(let un=1;un<=$t;un++){let Sn=new Map(g[un]);const Tn=Sn.get("offset");Sn.set("offset",Mr((n+Tn*a)/q)),T.push(Sn)}a=q,n=0,l="",g=T}return Tt(this.element,g,this.preStyleProps,this.postStyleProps,a,n,l,!0)}}function Mr(s,g=3){const n=Math.pow(10,g-1);return Math.round(s*n)/n}function gs(s,g,n,a,l,T,q,Te,Ze,_t,$t,un,Sn){return{type:0,element:s,triggerName:g,isRemovalTransition:l,fromState:n,fromStyles:T,toState:a,toStyles:q,timelines:Te,queriedElements:Ze,preStyleProps:_t,postStyleProps:$t,totalTime:un,errors:Sn}}const Bs={};class _i{constructor(g,n,a){this._triggerName=g,this.ast=n,this._stateStyles=a}match(g,n,a,l){return function vs(s,g,n,a,l){return s.some(T=>T(g,n,a,l))}(this.ast.matchers,g,n,a,l)}buildStyles(g,n,a){let l=this._stateStyles.get("*");return void 0!==g&&(l=this._stateStyles.get(g?.toString())||l),l?l.buildStyles(n,a):new Map}build(g,n,a,l,T,q,Te,Ze,_t,$t){const un=[],Sn=this.ast.options&&this.ast.options.params||Bs,Fn=this.buildStyles(a,Te&&Te.params||Bs,un),On=Ze&&Ze.params||Bs,oi=this.buildStyles(l,On,un),Si=new Set,Ei=new Map,Qi=new Map,bi="void"===l,ir={params:wr(On,Sn),delay:this.ast.options?.delay},zi=$t?[]:Ui(g,n,this.ast.animation,T,q,Fn,oi,ir,_t,un);let Zi=0;return zi.forEach(qi=>{Zi=Math.max(qi.duration+qi.delay,Zi)}),un.length?gs(n,this._triggerName,a,l,bi,Fn,oi,[],[],Ei,Qi,Zi,un):(zi.forEach(qi=>{const us=qi.element,ds=Z(Ei,us,new Set);qi.preStyleProps.forEach(Ps=>ds.add(Ps));const go=Z(Qi,us,new Set);qi.postStyleProps.forEach(Ps=>go.add(Ps)),us!==n&&Si.add(us)}),gs(n,this._triggerName,a,l,bi,Fn,oi,zi,[...Si.values()],Ei,Qi,Zi))}}function wr(s,g){const n={...g};return Object.entries(s).forEach(([a,l])=>{null!=l&&(n[a]=l)}),n}class Ls{constructor(g,n,a){this.styles=g,this.defaultParams=n,this.normalizer=a}buildStyles(g,n){const a=new Map,l=wr(g,this.defaultParams);return this.styles.styles.forEach(T=>{"string"!=typeof T&&T.forEach((q,Te)=>{q&&(q=Hn(q,l,n));const Ze=this.normalizer.normalizePropertyName(Te,n);q=this.normalizer.normalizeStyleValue(Te,Ze,q,n),a.set(Te,q)})}),a}}class yr{constructor(g,n,a){this.name=g,this.ast=n,this._normalizer=a,this.transitionFactories=[],this.states=new Map,n.states.forEach(l=>{this.states.set(l.name,new Ls(l.style,l.options&&l.options.params||{},a))}),Xs(this.states,"true","1"),Xs(this.states,"false","0"),n.transitions.forEach(l=>{this.transitionFactories.push(new _i(g,l,this.states))}),this.fallbackTransition=function Ni(s,g,n){return new _i(s,{type:C.If.Transition,animation:{type:C.If.Sequence,steps:[],options:null},matchers:[(q,Te)=>!0],options:null,queryCount:0,depCount:0},g)}(g,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(g,n,a,l){return this.transitionFactories.find(q=>q.match(g,n,a,l))||null}matchStyles(g,n,a){return this.fallbackTransition.buildStyles(g,n,a)}}function Xs(s,g,n){s.has(g)?s.has(n)||s.set(n,s.get(g)):s.has(n)&&s.set(g,s.get(n))}const ui=new vt;class Jo{constructor(g,n,a){this.bodyNode=g,this._driver=n,this._normalizer=a,this._animations=new Map,this._playersById=new Map,this.players=[]}register(g,n){const a=[],T=ct(this._driver,n,a,[]);if(a.length)throw function xe(s){return new e.wOt(3503,!1)}();this._animations.set(g,T)}_buildPlayer(g,n,a){const l=g.element,T=Dt(this._normalizer,g.keyframes,n,a);return this._driver.animate(l,T,g.duration,g.delay,g.easing,[],!0)}create(g,n,a={}){const l=[],T=this._animations.get(g);let q;const Te=new Map;if(T?(q=Ui(this._driver,n,T,Bt,cn,new Map,new Map,a,ui,l),q.forEach($t=>{const un=Z(Te,$t.element,new Map);$t.postStyleProps.forEach(Sn=>un.set(Sn,null))})):(l.push(function Qe(){return new e.wOt(3300,!1)}()),q=[]),l.length)throw function Ee(s){return new e.wOt(3504,!1)}();Te.forEach(($t,un)=>{$t.forEach((Sn,Tn)=>{$t.set(Tn,this._driver.computeStyle(un,Tn,C.kp))})});const _t=jt(q.map($t=>{const un=Te.get($t.element);return this._buildPlayer($t,new Map,un)}));return this._playersById.set(g,_t),_t.onDestroy(()=>this.destroy(g)),this.players.push(_t),_t}destroy(g){const n=this._getPlayer(g);n.destroy(),this._playersById.delete(g);const a=this.players.indexOf(n);a>=0&&this.players.splice(a,1)}_getPlayer(g){const n=this._playersById.get(g);if(!n)throw function be(s){return new e.wOt(3301,!1)}();return n}listen(g,n,a,l){const T=Y(n,"","","");return wt(this._getPlayer(g),a,T,l),()=>{}}command(g,n,a,l){if("register"==a)return void this.register(g,l[0]);if("create"==a)return void this.create(g,n,l[0]||{});const T=this._getPlayer(g);switch(a){case"play":T.play();break;case"pause":T.pause();break;case"reset":T.reset();break;case"restart":T.restart();break;case"finish":T.finish();break;case"init":T.init();break;case"setPosition":T.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(g)}}}const $n="ng-animate-queued",mr="ng-animate-disabled",Vr=[],er={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kn="__ng_removed";class Wr{get params(){return this.options.params}constructor(g,n=""){this.namespaceId=n;const a=g&&g.hasOwnProperty("value");if(this.value=function _r(s){return s??null}(a?g.value:g),a){const{value:T,...q}=g;this.options=q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(g){const n=g.params;if(n){const a=this.options.params;Object.keys(n).forEach(l=>{null==a[l]&&(a[l]=n[l])})}}}const cr="void",kr=new Wr(cr);class is{constructor(g,n,a){this.id=g,this.hostElement=n,this._engine=a,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+g,nr(n,this._hostClassName)}listen(g,n,a,l){if(!this._triggers.has(n))throw function le(s,g){return new e.wOt(3302,!1)}();if(null==a||0==a.length)throw function Pe(s){return new e.wOt(3303,!1)}();if(!function ss(s){return"start"==s||"done"==s}(a))throw function Ie(s,g){return new e.wOt(3400,!1)}();const T=Z(this._elementListeners,g,[]),q={name:n,phase:a,callback:l};T.push(q);const Te=Z(this._engine.statesByElement,g,new Map);return Te.has(n)||(nr(g,hn),nr(g,hn+"-"+n),Te.set(n,kr)),()=>{this._engine.afterFlush(()=>{const Ze=T.indexOf(q);Ze>=0&&T.splice(Ze,1),this._triggers.has(n)||Te.delete(n)})}}register(g,n){return!this._triggers.has(g)&&(this._triggers.set(g,n),!0)}_getTrigger(g){const n=this._triggers.get(g);if(!n)throw function st(s){return new e.wOt(3401,!1)}();return n}trigger(g,n,a,l=!0){const T=this._getTrigger(n),q=new wo(this.id,n,g);let Te=this._engine.statesByElement.get(g);Te||(nr(g,hn),nr(g,hn+"-"+n),this._engine.statesByElement.set(g,Te=new Map));let Ze=Te.get(n);const _t=new Wr(a,this.id);if(!(a&&a.hasOwnProperty("value"))&&Ze&&_t.absorbOptions(Ze.options),Te.set(n,_t),Ze||(Ze=kr),_t.value!==cr&&Ze.value===_t.value){if(!function ao(s,g){const n=Object.keys(s),a=Object.keys(g);if(n.length!=a.length)return!1;for(let l=0;l<n.length;l++){const T=n[l];if(!g.hasOwnProperty(T)||s[T]!==g[T])return!1}return!0}(Ze.params,_t.params)){const On=[],oi=T.matchStyles(Ze.value,Ze.params,On),Si=T.matchStyles(_t.value,_t.params,On);On.length?this._engine.reportError(On):this._engine.afterFlush(()=>{tn(g,oi),Ot(g,Si)})}return}const Sn=Z(this._engine.playersByElement,g,[]);Sn.forEach(On=>{On.namespaceId==this.id&&On.triggerName==n&&On.queued&&On.destroy()});let Tn=T.matchTransition(Ze.value,_t.value,g,_t.params),Fn=!1;if(!Tn){if(!l)return;Tn=T.fallbackTransition,Fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:n,transition:Tn,fromState:Ze,toState:_t,player:q,isFallbackTransition:Fn}),Fn||(nr(g,$n),q.onStart(()=>{qr(g,$n)})),q.onDone(()=>{let On=this.players.indexOf(q);On>=0&&this.players.splice(On,1);const oi=this._engine.playersByElement.get(g);if(oi){let Si=oi.indexOf(q);Si>=0&&oi.splice(Si,1)}}),this.players.push(q),Sn.push(q),q}deregister(g){this._triggers.delete(g),this._engine.statesByElement.forEach(n=>n.delete(g)),this._elementListeners.forEach((n,a)=>{this._elementListeners.set(a,n.filter(l=>l.name!=g))})}clearElementCache(g){this._engine.statesByElement.delete(g),this._elementListeners.delete(g);const n=this._engine.playersByElement.get(g);n&&(n.forEach(a=>a.destroy()),this._engine.playersByElement.delete(g))}_signalRemovalForInnerTriggers(g,n){const a=this._engine.driver.query(g,Mn,!0);a.forEach(l=>{if(l[Kn])return;const T=this._engine.fetchNamespacesByElement(l);T.size?T.forEach(q=>q.triggerLeaveAnimation(l,n,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>a.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(g,n,a,l){const T=this._engine.statesByElement.get(g),q=new Map;if(T){const Te=[];if(T.forEach((Ze,_t)=>{if(q.set(_t,Ze.value),this._triggers.has(_t)){const $t=this.trigger(g,_t,cr,l);$t&&Te.push($t)}}),Te.length)return this._engine.markElementAsRemoved(this.id,g,!0,n,q),a&&jt(Te).onDone(()=>this._engine.processLeaveNode(g)),!0}return!1}prepareLeaveAnimationListeners(g){const n=this._elementListeners.get(g),a=this._engine.statesByElement.get(g);if(n&&a){const l=new Set;n.forEach(T=>{const q=T.name;if(l.has(q))return;l.add(q);const Ze=this._triggers.get(q).fallbackTransition,_t=a.get(q)||kr,$t=new Wr(cr),un=new wo(this.id,q,g);this._engine.totalQueuedPlayers++,this._queue.push({element:g,triggerName:q,transition:Ze,fromState:_t,toState:$t,player:un,isFallbackTransition:!0})})}}removeNode(g,n){const a=this._engine;if(g.childElementCount&&this._signalRemovalForInnerTriggers(g,n),this.triggerLeaveAnimation(g,n,!0))return;let l=!1;if(a.totalAnimations){const T=a.players.length?a.playersByQueriedElement.get(g):[];if(T&&T.length)l=!0;else{let q=g;for(;q=q.parentNode;)if(a.statesByElement.get(q)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(g),l)a.markElementAsRemoved(this.id,g,!1,n);else{const T=g[Kn];(!T||T===er)&&(a.afterFlush(()=>this.clearElementCache(g)),a.destroyInnerAnimations(g),a._onRemovalComplete(g,n))}}insertNode(g,n){nr(g,this._hostClassName)}drainQueuedTransitions(g){const n=[];return this._queue.forEach(a=>{const l=a.player;if(l.destroyed)return;const T=a.element,q=this._elementListeners.get(T);q&&q.forEach(Te=>{if(Te.name==a.triggerName){const Ze=Y(T,a.triggerName,a.fromState.value,a.toState.value);Ze._data=g,wt(a.player,Te.phase,Ze,Te.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):n.push(a)}),this._queue=[],n.sort((a,l)=>{const T=a.transition.ast.depCount,q=l.transition.ast.depCount;return 0==T||0==q?T-q:this._engine.driver.containsElement(a.element,l.element)?1:-1})}destroy(g){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,g)}}class so{_onRemovalComplete(g,n){this.onRemovalComplete(g,n)}constructor(g,n,a,l){this.bodyNode=g,this.driver=n,this._normalizer=a,this.scheduler=l,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(T,q)=>{}}get queuedPlayers(){const g=[];return this._namespaceList.forEach(n=>{n.players.forEach(a=>{a.queued&&g.push(a)})}),g}createNamespace(g,n){const a=new is(g,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(a,n):(this.newHostElements.set(n,a),this.collectEnterElement(n)),this._namespaceLookup[g]=a}_balanceNamespaceList(g,n){const a=this._namespaceList,l=this.namespacesByHostElement;if(a.length-1>=0){let q=!1,Te=this.driver.getParentElement(n);for(;Te;){const Ze=l.get(Te);if(Ze){const _t=a.indexOf(Ze);a.splice(_t+1,0,g),q=!0;break}Te=this.driver.getParentElement(Te)}q||a.unshift(g)}else a.push(g);return l.set(n,g),g}register(g,n){let a=this._namespaceLookup[g];return a||(a=this.createNamespace(g,n)),a}registerTrigger(g,n,a){let l=this._namespaceLookup[g];l&&l.register(n,a)&&this.totalAnimations++}destroy(g,n){g&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const a=this._fetchNamespace(g);this.namespacesByHostElement.delete(a.hostElement);const l=this._namespaceList.indexOf(a);l>=0&&this._namespaceList.splice(l,1),a.destroy(n),delete this._namespaceLookup[g]}))}_fetchNamespace(g){return this._namespaceLookup[g]}fetchNamespacesByElement(g){const n=new Set,a=this.statesByElement.get(g);if(a)for(let l of a.values())if(l.namespaceId){const T=this._fetchNamespace(l.namespaceId);T&&n.add(T)}return n}trigger(g,n,a,l){if(rs(n)){const T=this._fetchNamespace(g);if(T)return T.trigger(n,a,l),!0}return!1}insertNode(g,n,a,l){if(!rs(n))return;const T=n[Kn];if(T&&T.setForRemoval){T.setForRemoval=!1,T.setForMove=!0;const q=this.collectedLeaveElements.indexOf(n);q>=0&&this.collectedLeaveElements.splice(q,1)}if(g){const q=this._fetchNamespace(g);q&&q.insertNode(n,a)}l&&this.collectEnterElement(n)}collectEnterElement(g){this.collectedEnterElements.push(g)}markElementAsDisabled(g,n){n?this.disabledNodes.has(g)||(this.disabledNodes.add(g),nr(g,mr)):this.disabledNodes.has(g)&&(this.disabledNodes.delete(g),qr(g,mr))}removeNode(g,n,a){if(rs(n)){this.scheduler?.notify();const l=g?this._fetchNamespace(g):null;l?l.removeNode(n,a):this.markElementAsRemoved(g,n,!1,a);const T=this.namespacesByHostElement.get(n);T&&T.id!==g&&T.removeNode(n,a)}else this._onRemovalComplete(n,a)}markElementAsRemoved(g,n,a,l,T){this.collectedLeaveElements.push(n),n[Kn]={namespaceId:g,setForRemoval:l,hasAnimation:a,removedBeforeQueried:!1,previousTriggersValues:T}}listen(g,n,a,l,T){return rs(n)?this._fetchNamespace(g).listen(n,a,l,T):()=>{}}_buildInstruction(g,n,a,l,T){return g.transition.build(this.driver,g.element,g.fromState.value,g.toState.value,a,l,g.fromState.options,g.toState.options,n,T)}destroyInnerAnimations(g){let n=this.driver.query(g,Mn,!0);n.forEach(a=>this.destroyActiveAnimationsForElement(a)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(g,Bn,!0),n.forEach(a=>this.finishActiveQueriedAnimationOnElement(a)))}destroyActiveAnimationsForElement(g){const n=this.playersByElement.get(g);n&&n.forEach(a=>{a.queued?a.markedForDestroy=!0:a.destroy()})}finishActiveQueriedAnimationOnElement(g){const n=this.playersByQueriedElement.get(g);n&&n.forEach(a=>a.finish())}whenRenderingDone(){return new Promise(g=>{if(this.players.length)return jt(this.players).onDone(()=>g());g()})}processLeaveNode(g){const n=g[Kn];if(n&&n.setForRemoval){if(g[Kn]=er,n.namespaceId){this.destroyInnerAnimations(g);const a=this._fetchNamespace(n.namespaceId);a&&a.clearElementCache(g)}this._onRemovalComplete(g,n.setForRemoval)}g.classList?.contains(mr)&&this.markElementAsDisabled(g,!1),this.driver.query(g,".ng-animate-disabled",!0).forEach(a=>{this.markElementAsDisabled(a,!1)})}flush(g=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((a,l)=>this._balanceNamespaceList(a,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let a=0;a<this.collectedEnterElements.length;a++)nr(this.collectedEnterElements[a],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const a=[];try{n=this._flushAnimations(a,g)}finally{for(let l=0;l<a.length;l++)a[l]()}}else for(let a=0;a<this.collectedLeaveElements.length;a++)this.processLeaveNode(this.collectedLeaveElements[a]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(a=>a()),this._flushFns=[],this._whenQuietFns.length){const a=this._whenQuietFns;this._whenQuietFns=[],n.length?jt(n).onDone(()=>{a.forEach(l=>l())}):a.forEach(l=>l())}}reportError(g){throw function Oe(s){return new e.wOt(3402,!1)}()}_flushAnimations(g,n){const a=new vt,l=[],T=new Map,q=[],Te=new Map,Ze=new Map,_t=new Map,$t=new Set;this.disabledNodes.forEach(ei=>{$t.add(ei);const pi=this.driver.query(ei,".ng-animate-queued",!0);for(let Mi=0;Mi<pi.length;Mi++)$t.add(pi[Mi])});const un=this.bodyNode,Sn=Array.from(this.statesByElement.keys()),Tn=vo(Sn,this.collectedEnterElements),Fn=new Map;let On=0;Tn.forEach((ei,pi)=>{const Mi=Bt+On++;Fn.set(pi,Mi),ei.forEach(rr=>nr(rr,Mi))});const oi=[],Si=new Set,Ei=new Set;for(let ei=0;ei<this.collectedLeaveElements.length;ei++){const pi=this.collectedLeaveElements[ei],Mi=pi[Kn];Mi&&Mi.setForRemoval&&(oi.push(pi),Si.add(pi),Mi.hasAnimation?this.driver.query(pi,".ng-star-inserted",!0).forEach(rr=>Si.add(rr)):Ei.add(pi))}const Qi=new Map,bi=vo(Sn,Array.from(Si));bi.forEach((ei,pi)=>{const Mi=cn+On++;Qi.set(pi,Mi),ei.forEach(rr=>nr(rr,Mi))}),g.push(()=>{Tn.forEach((ei,pi)=>{const Mi=Fn.get(pi);ei.forEach(rr=>qr(rr,Mi))}),bi.forEach((ei,pi)=>{const Mi=Qi.get(pi);ei.forEach(rr=>qr(rr,Mi))}),oi.forEach(ei=>{this.processLeaveNode(ei)})});const ir=[],zi=[];for(let ei=this._namespaceList.length-1;ei>=0;ei--)this._namespaceList[ei].drainQueuedTransitions(n).forEach(Mi=>{const rr=Mi.player,Vs=Mi.element;if(ir.push(rr),this.collectedEnterElements.length){const ms=Vs[Kn];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(Mi.triggerName)){const Fo=ms.previousTriggersValues.get(Mi.triggerName),Po=this.statesByElement.get(Mi.element);if(Po&&Po.has(Mi.triggerName)){const Hu=Po.get(Mi.triggerName);Hu.value=Fo,Po.set(Mi.triggerName,Hu)}}return void rr.destroy()}}const Da=!un||!this.driver.containsElement(un,Vs),ro=Qi.get(Vs),ua=Fn.get(Vs),Pr=this._buildInstruction(Mi,a,ua,ro,Da);if(Pr.errors&&Pr.errors.length)return void zi.push(Pr);if(Da)return rr.onStart(()=>tn(Vs,Pr.fromStyles)),rr.onDestroy(()=>Ot(Vs,Pr.toStyles)),void l.push(rr);if(Mi.isFallbackTransition)return rr.onStart(()=>tn(Vs,Pr.fromStyles)),rr.onDestroy(()=>Ot(Vs,Pr.toStyles)),void l.push(rr);const dl=[];Pr.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||dl.push(ms)}),Pr.timelines=dl,a.append(Vs,Pr.timelines),q.push({instruction:Pr,player:rr,element:Vs}),Pr.queriedElements.forEach(ms=>Z(Te,ms,[]).push(rr)),Pr.preStyleProps.forEach((ms,Fo)=>{if(ms.size){let Po=Ze.get(Fo);Po||Ze.set(Fo,Po=new Set),ms.forEach((Hu,zs)=>Po.add(zs))}}),Pr.postStyleProps.forEach((ms,Fo)=>{let Po=_t.get(Fo);Po||_t.set(Fo,Po=new Set),ms.forEach((Hu,zs)=>Po.add(zs))})});if(zi.length){const ei=[];zi.forEach(pi=>{ei.push(function Ye(s,g){return new e.wOt(3505,!1)}())}),ir.forEach(pi=>pi.destroy()),this.reportError(ei)}const Zi=new Map,qi=new Map;q.forEach(ei=>{const pi=ei.element;a.has(pi)&&(qi.set(pi,pi),this._beforeAnimationBuild(ei.player.namespaceId,ei.instruction,Zi))}),l.forEach(ei=>{const pi=ei.element;this._getPreviousPlayers(pi,!1,ei.namespaceId,ei.triggerName,null).forEach(rr=>{Z(Zi,pi,[]).push(rr),rr.destroy()})});const us=oi.filter(ei=>Mo(ei,Ze,_t)),ds=new Map;Zr(ds,this.driver,Ei,_t,C.kp).forEach(ei=>{Mo(ei,Ze,_t)&&us.push(ei)});const Ps=new Map;Tn.forEach((ei,pi)=>{Zr(Ps,this.driver,new Set(ei),Ze,C.FX)}),us.forEach(ei=>{const pi=ds.get(ei),Mi=Ps.get(ei);ds.set(ei,new Map([...pi?.entries()??[],...Mi?.entries()??[]]))});const io=[],cl=[],ul={};q.forEach(ei=>{const{element:pi,player:Mi,instruction:rr}=ei;if(a.has(pi)){if($t.has(pi))return Mi.onDestroy(()=>Ot(pi,rr.toStyles)),Mi.disabled=!0,Mi.overrideTotalTime(rr.totalTime),void l.push(Mi);let Vs=ul;if(qi.size>1){let ro=pi;const ua=[];for(;ro=ro.parentNode;){const Pr=qi.get(ro);if(Pr){Vs=Pr;break}ua.push(ro)}ua.forEach(Pr=>qi.set(Pr,Vs))}const Da=this._buildAnimation(Mi.namespaceId,rr,Zi,T,Ps,ds);if(Mi.setRealPlayer(Da),Vs===ul)io.push(Mi);else{const ro=this.playersByElement.get(Vs);ro&&ro.length&&(Mi.parentPlayer=jt(ro)),l.push(Mi)}}else tn(pi,rr.fromStyles),Mi.onDestroy(()=>Ot(pi,rr.toStyles)),cl.push(Mi),$t.has(pi)&&l.push(Mi)}),cl.forEach(ei=>{const pi=T.get(ei.element);if(pi&&pi.length){const Mi=jt(pi);ei.setRealPlayer(Mi)}}),l.forEach(ei=>{ei.parentPlayer?ei.syncPlayerEvents(ei.parentPlayer):ei.destroy()});for(let ei=0;ei<oi.length;ei++){const pi=oi[ei],Mi=pi[Kn];if(qr(pi,cn),Mi&&Mi.hasAnimation)continue;let rr=[];if(Te.size){let Da=Te.get(pi);Da&&Da.length&&rr.push(...Da);let ro=this.driver.query(pi,Bn,!0);for(let ua=0;ua<ro.length;ua++){let Pr=Te.get(ro[ua]);Pr&&Pr.length&&rr.push(...Pr)}}const Vs=rr.filter(Da=>!Da.destroyed);Vs.length?Bo(this,pi,Vs):this.processLeaveNode(pi)}return oi.length=0,io.forEach(ei=>{this.players.push(ei),ei.onDone(()=>{ei.destroy();const pi=this.players.indexOf(ei);this.players.splice(pi,1)}),ei.play()}),io}afterFlush(g){this._flushFns.push(g)}afterFlushAnimationsDone(g){this._whenQuietFns.push(g)}_getPreviousPlayers(g,n,a,l,T){let q=[];if(n){const Te=this.playersByQueriedElement.get(g);Te&&(q=Te)}else{const Te=this.playersByElement.get(g);if(Te){const Ze=!T||T==cr;Te.forEach(_t=>{_t.queued||!Ze&&_t.triggerName!=l||q.push(_t)})}}return(a||l)&&(q=q.filter(Te=>!(a&&a!=Te.namespaceId||l&&l!=Te.triggerName))),q}_beforeAnimationBuild(g,n,a){const T=n.element,q=n.isRemovalTransition?void 0:g,Te=n.isRemovalTransition?void 0:n.triggerName;for(const Ze of n.timelines){const _t=Ze.element,$t=_t!==T,un=Z(a,_t,[]);this._getPreviousPlayers(_t,$t,q,Te,n.toState).forEach(Tn=>{const Fn=Tn.getRealPlayer();Fn.beforeDestroy&&Fn.beforeDestroy(),Tn.destroy(),un.push(Tn)})}tn(T,n.fromStyles)}_buildAnimation(g,n,a,l,T,q){const Te=n.triggerName,Ze=n.element,_t=[],$t=new Set,un=new Set,Sn=n.timelines.map(Fn=>{const On=Fn.element;$t.add(On);const oi=On[Kn];if(oi&&oi.removedBeforeQueried)return new C.sf(Fn.duration,Fn.delay);const Si=On!==Ze,Ei=function Qo(s){const g=[];return oo(s,g),g}((a.get(On)||Vr).map(Zi=>Zi.getRealPlayer())).filter(Zi=>!!Zi.element&&Zi.element===On),Qi=T.get(On),bi=q.get(On),ir=Dt(this._normalizer,Fn.keyframes,Qi,bi),zi=this._buildPlayer(Fn,ir,Ei);if(Fn.subTimeline&&l&&un.add(On),Si){const Zi=new wo(g,Te,On);Zi.setRealPlayer(zi),_t.push(Zi)}return zi});_t.forEach(Fn=>{Z(this.playersByQueriedElement,Fn.element,[]).push(Fn),Fn.onDone(()=>function Ts(s,g,n){let a=s.get(g);if(a){if(a.length){const l=a.indexOf(n);a.splice(l,1)}0==a.length&&s.delete(g)}return a}(this.playersByQueriedElement,Fn.element,Fn))}),$t.forEach(Fn=>nr(Fn,kn));const Tn=jt(Sn);return Tn.onDestroy(()=>{$t.forEach(Fn=>qr(Fn,kn)),Ot(Ze,n.toStyles)}),un.forEach(Fn=>{Z(l,Fn,[]).push(Tn)}),Tn}_buildPlayer(g,n,a){return n.length>0?this.driver.animate(g.element,n,g.duration,g.delay,g.easing,a):new C.sf(g.duration,g.delay)}}class wo{constructor(g,n,a){this.namespaceId=g,this.triggerName=n,this.element=a,this._player=new C.sf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(g){this._containsRealPlayer||(this._player=g,this._queuedCallbacks.forEach((n,a)=>{n.forEach(l=>wt(g,a,void 0,l))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(g.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(g){this.totalTime=g}syncPlayerEvents(g){const n=this._player;n.triggerCallback&&g.onStart(()=>n.triggerCallback("start")),g.onDone(()=>this.finish()),g.onDestroy(()=>this.destroy())}_queueEvent(g,n){Z(this._queuedCallbacks,g,[]).push(n)}onDone(g){this.queued&&this._queueEvent("done",g),this._player.onDone(g)}onStart(g){this.queued&&this._queueEvent("start",g),this._player.onStart(g)}onDestroy(g){this.queued&&this._queueEvent("destroy",g),this._player.onDestroy(g)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(g){this.queued||this._player.setPosition(g)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(g){const n=this._player;n.triggerCallback&&n.triggerCallback(g)}}function rs(s){return s&&1===s.nodeType}function Aa(s,g){const n=s.style.display;return s.style.display=g??"none",n}function Zr(s,g,n,a,l){const T=[];n.forEach(Ze=>T.push(Aa(Ze)));const q=[];a.forEach((Ze,_t)=>{const $t=new Map;Ze.forEach(un=>{const Sn=g.computeStyle(_t,un,l);$t.set(un,Sn),(!Sn||0==Sn.length)&&(_t[Kn]=tr,q.push(_t))}),s.set(_t,$t)});let Te=0;return n.forEach(Ze=>Aa(Ze,T[Te++])),q}function vo(s,g){const n=new Map;if(s.forEach(Te=>n.set(Te,[])),0==g.length)return n;const l=new Set(g),T=new Map;function q(Te){if(!Te)return 1;let Ze=T.get(Te);if(Ze)return Ze;const _t=Te.parentNode;return Ze=n.has(_t)?_t:l.has(_t)?1:q(_t),T.set(Te,Ze),Ze}return g.forEach(Te=>{const Ze=q(Te);1!==Ze&&n.get(Ze).push(Te)}),n}function nr(s,g){s.classList?.add(g)}function qr(s,g){s.classList?.remove(g)}function Bo(s,g,n){jt(n).onDone(()=>s.processLeaveNode(g))}function oo(s,g){for(let n=0;n<s.length;n++){const a=s[n];a instanceof C.ui?oo(a.players,g):g.push(a)}}function Mo(s,g,n){const a=n.get(s);if(!a)return!1;let l=g.get(s);return l?a.forEach(T=>l.add(T)):g.set(s,a),n.delete(s),!0}class Is{constructor(g,n,a,l){this._driver=n,this._normalizer=a,this._triggerCache={},this.onRemovalComplete=(T,q)=>{},this._transitionEngine=new so(g.body,n,a,l),this._timelineEngine=new Jo(g.body,n,a),this._transitionEngine.onRemovalComplete=(T,q)=>this.onRemovalComplete(T,q)}registerTrigger(g,n,a,l,T){const q=g+"-"+l;let Te=this._triggerCache[q];if(!Te){const Ze=[],$t=ct(this._driver,T,Ze,[]);if(Ze.length)throw function Ne(s,g){return new e.wOt(3404,!1)}();Te=function vr(s,g,n){return new yr(s,g,n)}(l,$t,this._normalizer),this._triggerCache[q]=Te}this._transitionEngine.registerTrigger(n,l,Te)}register(g,n){this._transitionEngine.register(g,n)}destroy(g,n){this._transitionEngine.destroy(g,n)}onInsert(g,n,a,l){this._transitionEngine.insertNode(g,n,a,l)}onRemove(g,n,a){this._transitionEngine.removeNode(g,n,a)}disableAnimations(g,n){this._transitionEngine.markElementAsDisabled(g,n)}process(g,n,a,l){if("@"==a.charAt(0)){const[T,q]=Ce(a);this._timelineEngine.command(T,n,q,l)}else this._transitionEngine.trigger(g,n,a,l)}listen(g,n,a,l,T){if("@"==a.charAt(0)){const[q,Te]=Ce(a);return this._timelineEngine.listen(q,n,Te,T)}return this._transitionEngine.listen(g,n,a,l,T)}flush(g=-1){this._transitionEngine.flush(g)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(g){this._transitionEngine.afterFlushAnimationsDone(g)}}class sr{static{this.initialStylesByElement=new WeakMap}constructor(g,n,a){this._element=g,this._startStyles=n,this._endStyles=a,this._state=0;let l=sr.initialStylesByElement.get(g);l||sr.initialStylesByElement.set(g,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ot(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ot(this._element,this._initialStyles),this._endStyles&&(Ot(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(sr.initialStylesByElement.delete(this._element),this._startStyles&&(tn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(tn(this._element,this._endStyles),this._endStyles=null),Ot(this._element,this._initialStyles),this._state=3)}}function Or(s){let g=null;return s.forEach((n,a)=>{(function os(s){return"display"===s||"position"===s})(a)&&(g=g||new Map,g.set(a,n))}),g}class lo{constructor(g,n,a,l){this.element=g,this.keyframes=n,this.options=a,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=a.duration,this._delay=a.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(g=>g()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const g=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,g,this.options),this._finalKeyframe=g.length?g[g.length-1]:new Map;const n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(g){const n=[];return g.forEach(a=>{n.push(Object.fromEntries(a))}),n}_triggerWebAnimation(g,n,a){return g.animate(this._convertKeyframesToObject(n),a)}onStart(g){this._originalOnStartFns.push(g),this._onStartFns.push(g)}onDone(g){this._originalOnDoneFns.push(g),this._onDoneFns.push(g)}onDestroy(g){this._onDestroyFns.push(g)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(g=>g()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(g=>g()),this._onDestroyFns=[])}setPosition(g){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=g*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const g=new Map;this.hasStarted()&&this._finalKeyframe.forEach((a,l)=>{"offset"!==l&&g.set(l,this._finished?a:yn(this.element,l))}),this.currentSnapshot=g}triggerCallback(g){const n="start"===g?this._onStartFns:this._onDoneFns;n.forEach(a=>a()),n.length=0}}class Ra{validateStyleProperty(g){return!0}validateAnimatableStyleProperty(g){return!0}matchesElement(g,n){return!1}containsElement(g,n){return on(g,n)}getParentElement(g){return at(g)}query(g,n,a){return Pt(g,n,a)}computeStyle(g,n,a){return yn(g,n)}animate(g,n,a,l,T,q=[]){const Ze={duration:a,delay:l,fill:0==l?"both":"forwards"};T&&(Ze.easing=T);const _t=new Map,$t=q.filter(Tn=>Tn instanceof lo);(function Gt(s,g){return 0===s||0===g})(a,l)&&$t.forEach(Tn=>{Tn.currentSnapshot.forEach((Fn,On)=>_t.set(On,Fn))});let un=function Ct(s){return s.length?s[0]instanceof Map?s:s.map(g=>new Map(Object.entries(g))):[]}(n).map(Tn=>new Map(Tn));un=function sn(s,g,n){if(n.size&&g.length){let a=g[0],l=[];if(n.forEach((T,q)=>{a.has(q)||l.push(q),a.set(q,T)}),l.length)for(let T=1;T<g.length;T++){let q=g[T];l.forEach(Te=>q.set(Te,yn(s,Te)))}}return g}(g,un,_t);const Sn=function Nr(s,g){let n=null,a=null;return Array.isArray(g)&&g.length?(n=Or(g[0]),g.length>1&&(a=Or(g[g.length-1]))):g instanceof Map&&(n=Or(g)),n||a?new sr(s,n,a):null}(g,un);return new lo(g,un,Ze,Sn)}}const $s="@.disabled";class gr{constructor(g,n,a,l){this.namespaceId=g,this.delegate=n,this.engine=a,this._onDestroy=l,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(g){this.delegate.destroyNode?.(g)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(g,n){return this.delegate.createElement(g,n)}createComment(g){return this.delegate.createComment(g)}createText(g){return this.delegate.createText(g)}appendChild(g,n){this.delegate.appendChild(g,n),this.engine.onInsert(this.namespaceId,n,g,!1)}insertBefore(g,n,a,l=!0){this.delegate.insertBefore(g,n,a),this.engine.onInsert(this.namespaceId,n,g,l)}removeChild(g,n,a){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(g,n){return this.delegate.selectRootElement(g,n)}parentNode(g){return this.delegate.parentNode(g)}nextSibling(g){return this.delegate.nextSibling(g)}setAttribute(g,n,a,l){this.delegate.setAttribute(g,n,a,l)}removeAttribute(g,n,a){this.delegate.removeAttribute(g,n,a)}addClass(g,n){this.delegate.addClass(g,n)}removeClass(g,n){this.delegate.removeClass(g,n)}setStyle(g,n,a,l){this.delegate.setStyle(g,n,a,l)}removeStyle(g,n,a){this.delegate.removeStyle(g,n,a)}setProperty(g,n,a){"@"==n.charAt(0)&&n==$s?this.disableAnimations(g,!!a):this.delegate.setProperty(g,n,a)}setValue(g,n){this.delegate.setValue(g,n)}listen(g,n,a){return this.delegate.listen(g,n,a)}disableAnimations(g,n){this.engine.disableAnimations(g,n)}}class Gs extends gr{constructor(g,n,a,l,T){super(n,a,l,T),this.factory=g,this.namespaceId=n}setProperty(g,n,a){"@"==n.charAt(0)?"."==n.charAt(1)&&n==$s?this.disableAnimations(g,a=void 0===a||!!a):this.engine.process(this.namespaceId,g,n.slice(1),a):this.delegate.setProperty(g,n,a)}listen(g,n,a){if("@"==n.charAt(0)){const l=function Br(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(g);let T=n.slice(1),q="";return"@"!=T.charAt(0)&&([T,q]=function jr(s){const g=s.indexOf(".");return[s.substring(0,g),s.slice(g+1)]}(T)),this.engine.listen(this.namespaceId,l,T,q,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,a,Te)})}return this.delegate.listen(g,n,a)}}class zr{constructor(g,n,a){this.delegate=g,this.engine=n,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(l,T)=>{const q=T?.parentNode(l);q&&T.removeChild(q,l)}}createRenderer(g,n){const l=this.delegate.createRenderer(g,n);if(!g||!n?.data?.animation){const _t=this._rendererCache;let $t=_t.get(l);return $t||($t=new gr("",l,this.engine,()=>_t.delete(l)),_t.set(l,$t)),$t}const T=n.id,q=n.id+"-"+this._currentId;this._currentId++,this.engine.register(q,g);const Te=_t=>{Array.isArray(_t)?_t.forEach(Te):this.engine.registerTrigger(T,q,g,_t.name,_t)};return n.data.animation.forEach(Te),new Gs(this,q,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(g,n,a){if(g>=0&&g<this._microtaskId)return void this._zone.run(()=>n(a));const l=this._animationCallbacksBuffer;0==l.length&&queueMicrotask(()=>{this._zone.run(()=>{l.forEach(T=>{const[q,Te]=T;q(Te)}),this._animationCallbacksBuffer=[]})}),l.push([n,a])}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}var vn=h(177);let ys=(()=>{class s extends Is{constructor(n,a,l){super(n,a,l,(0,e.WQX)(e.An2,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(vn.qQ),e.KVO(ce),e.KVO(X))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const he=[{provide:X,useFactory:function ke(){return new An}},{provide:Is,useClass:ys},{provide:e._9s,useFactory:function Ue(s,g,n){return new zr(s,g,n)},deps:[i.B7,Is,e.SKi]}],qe=[{provide:ce,useFactory:()=>new Ra},{provide:e.bc$,useValue:"BrowserAnimations"},...he],Lt=[{provide:ce,useClass:je},{provide:e.bc$,useValue:"NoopAnimations"},...he];let Yn=(()=>{class s{static withConfig(n){return{ngModule:s,providers:n.disableAnimations?Lt:qe}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:qe,imports:[i.Bb]})}}return s})();var Zn=h(5794),Re=h(534),Je=h(4304),Et=h(3816),xt=h(779),Ut=h(9838),St=h(1583),pn=h(2892),en=h(3178),qn=h(4446),Nn=h(8416),Gn=h(1594);const Lr="9.0.0";var Ai=h(7468),As=h(6648);let da=(()=>{class s{static{this.DocsLink="documentation/index.html"}static{this.EnablingDynamicAuth="documentation/DynamicAuthentication/Enabling_Dynamic_Authentication.html"}static{this.AdvOthDynamicAuth="documentation/DynamicAuthentication/Editing_a_Oidc_Dynamic_Provider.html#advanced-tab-other"}static{this.ApiDocsLink="swagger"}static{this.SupportLink="mailto:support@identityserver.com?subject=AdminUI"}}return s})();var Zo=h(1339),$r=h(7883),ki=h(6801),zn=h(7005),es=h(6888);class Rs{constructor(){this.rss=new Tr,this.rss.channel=new hl,this.rss.channel.item=new Array}}class Tr{}class hl{}class Gi{}var xo=h(1108),Ma=h(4549),Cn=h(1780),Ms=h(7384);const qo=(s,g)=>({"tw-bg-white":s,"tw-bg-grey-100":g});function Us(s,g){1&s&&(e.j41(0,"div",6),e.nrm(1,"app-simple-loader"),e.k0s())}function xa(s,g){if(1&s&&(e.j41(0,"li",8)(1,"a",9)(2,"h3",10),e.EFF(3),e.k0s(),e.j41(4,"span",11),e.EFF(5),e.k0s(),e.j41(6,"p",12),e.EFF(7),e.k0s()()()),2&s){const n=g.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("href",a.domSanitizer.bypassSecurityTrustUrl(n.link),e.B4B),e.R7$(2),e.JRh(n.title),e.R7$(2),e.JRh(n.pubDate),e.R7$(2),e.JRh(n.description)}}function ea(s,g){if(1&s&&(e.j41(0,"ul"),e.DNE(1,xa,8,4,"li",7),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngForOf",null==n.dto?null:n.dto.rss.channel.item)}}let Vl=(()=>{class s{constructor(n,a,l){this.http=n,this.domSanitizer=a,this.translate=l,this.rssURL="https://www.identityserver.com/rss",this.versionNumber="",this.altTheme=!1,this.errorEntry=new Gi}ngOnInit(){this.isLoading=!0,this.http.get(this.rssURL,{headers:new w.Lr({Accept:"application/xml"}),responseType:"text"}).subscribe(n=>{this.dto=(new xo).xml2js(n),Object.setPrototypeOf(this.dto,Rs.prototype),this.dto.rss.channel.item.forEach(a=>{a.pubDate=this.formatDate(a.pubDate)}),this.isLoading=!1},n=>{this.errorEntry.title=this.translate.instant("Errors.RssUnavailable"),this.dto=new Rs,this.dto.rss.channel.item.push(this.errorEntry),this.isLoading=!1})}formatDate(n){return n?Ma.c9.fromHTTP(n).toFormat("DD"):""}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(w.Qq),e.rXU(i.up),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-rss-feed"]],inputs:{altTheme:"altTheme"},decls:9,vars:9,consts:[["id","rssFeed"],[1,"tw-flex","tw-items-center","tw-text-lg","tw-font-semibold","tw-mb-4"],["aria-hidden","true",1,"fas","fa-rss","tw-text-sm","tw-text-orange-500","tw-mr-2"],[1,"tw-border","tw-border-grey-200","tw-shadow-inner","tw-h-72","tw-p-4","tw-overflow-y-auto","tw-relative","scrollbars",3,"ngClass"],["class","tw-flex tw-items-center tw-justify-center tw-absolute tw-inset-0",4,"ngIf"],[4,"ngIf"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-absolute","tw-inset-0"],["class","tw-border-b tw-border-grey-200 tw-mb-5 tw-pb-5 last:tw-mb-0 last:tw-pb-0 last:tw-border-0",4,"ngFor","ngForOf"],[1,"tw-border-b","tw-border-grey-200","tw-mb-5","tw-pb-5","last:tw-mb-0","last:tw-pb-0","last:tw-border-0"],["target","_blank",1,"tw-block",3,"href"],[1,"tw-text-base"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-font-normal","tw-mt-1"],[1,"tw-text-sm","tw-text-grey-800","tw-font-normal","tw-mt-2"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h2",1),e.nrm(2,"span",2),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",3),e.DNE(7,Us,2,0,"div",4)(8,ea,2,1,"ul",5),e.k0s()()),2&a&&(e.R7$(4),e.JRh(e.bMT(5,4,"LandingPage.LatestNews")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,qo,!l.altTheme,l.altTheme)),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[vn.YU,vn.Sq,vn.bT,Ms.d,Cn.D9],encapsulation:2})}}return s})();function ta(s,g){1&s&&e.nrm(0,"span",27)}let fl=(()=>{class s{get LinkConstants(){return da}constructor(n,a,l,T,q,Te,Ze){this.authService=n,this.securityService=a,this.titleService=l,this.healthCheckService=T,this.localizeRouter=q,this.router=Te,this.loginTrackingService=Ze,this.loginAllowed=!1,this.startLogin=!1,this.versionNumber="",this.titleService.setTitle(`${Ut.$9.SITE_TITLE}`),this.versionNumber=Lr;const _t=new Date;this.appCopyright=2017!==_t.getFullYear()?"2017 - "+_t.getFullYear():"2017"}ngOnInit(){this.startLogin=!1;const n=this.healthCheckService.idsHealthCheckComplete.pipe((0,Gn.$)()),a=this.healthCheckService.uiHealthCheckComplete.pipe((0,Gn.$)());(0,Ai.p)([n,a]).subscribe(()=>{this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)})}canLogin(){this.healthCheckService.idsReady&&this.healthCheckService.uiReady&&(this.loginAllowed=!0)}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}start(){const n=this.localizeRouter.translateRoute("/home");return this.startLogin=!0,(0,As.H)(this.router.navigate([n]))}login(){this.loginTrackingService.startLogin(),this.authService.login()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Zo.u),e.rXU($r.i),e.rXU(i.hE),e.rXU(ki.M),e.rXU(zn.QG),e.rXU(St.Ix),e.rXU(es.W))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-landing-page"]],decls:49,vars:28,consts:[[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],[1,"tw-font-semibold","tw-mt-3"],[1,"tw-text-sm","tw-mt-2"],["href","mailto:sales@identityserver.com?subject=AdminUI",1,"tw-text-blue-500","tw-font-semibold","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-mt-4"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-green-400 tw-text-xs tw-ml-3","aria-hidden","true",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank","rel","noopener",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],[1,"tw-flex","tw-items-center"],[1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl","md:tw-mt-8","lg:tw-mt-10"],["altTheme","true"],["id","copyright",1,"tw-text-center","tw-mt-6","md:tw-mt-8","lg:tw-mt-10"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com","target","_blank","rel","noopener",1,"tw-inline-block","tw-text-white-50","hover:tw-text-white"],["src","assets/img/rsk-logo.png","alt","Rock Solid Knowledge","aria-hidden","true",1,"tw-block","tw-w-40","tw-mx-auto"],[1,"tw-block","tw-text-xs","tw-mt-2"],["aria-hidden","true",1,"fad","fa-spinner-third","fa-spin","tw-text-green-400","tw-text-xs","tw-ml-3"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"div",1),e.k0s(),e.j41(2,"div",2)(3,"header",3),e.nrm(4,"img",4),e.j41(5,"span",5),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"h2",8),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"p",9),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"p",10),e.EFF(16),e.nI1(17,"translate"),e.j41(18,"a",11),e.EFF(19," sales@identityserver.com "),e.k0s()(),e.j41(20,"div",12)(21,"button",13),e.bIt("click",function(){return l.login()}),e.EFF(22),e.nI1(23,"translate"),e.k0s(),e.DNE(24,ta,1,0,"span",14),e.k0s(),e.j41(25,"ul",15)(26,"li",16)(27,"a",17),e.EFF(28),e.nI1(29,"translate"),e.k0s(),e.j41(30,"span",18),e.EFF(31,"\u2022"),e.k0s()(),e.j41(32,"li",16)(33,"a",17),e.EFF(34),e.nI1(35,"translate"),e.k0s(),e.j41(36,"span",18),e.EFF(37,"\u2022"),e.k0s()(),e.j41(38,"li",19)(39,"a",20),e.EFF(40),e.nI1(41,"translate"),e.k0s()()()(),e.j41(42,"div",21),e.nrm(43,"app-rss-feed",22),e.k0s(),e.j41(44,"footer",23)(45,"a",24),e.nrm(46,"img",25),e.j41(47,"span",26),e.EFF(48),e.k0s()()()()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(4),e.SpI("",e.bMT(11,14,"LandingPage.Welcome")," AdminUI"),e.R7$(3),e.JRh(e.bMT(14,16,"LandingPage.IntroParagraph1")),e.R7$(3),e.SpI(" ",e.bMT(17,18,"LandingPage.IntroParagraph2")," "),e.R7$(5),e.Y8G("disabled",!l.loginAllowed||l.startLogin),e.R7$(),e.SpI(" ",e.bMT(23,20,"Nav.Login")," "),e.R7$(2),e.Y8G("ngIf",l.startLogin),e.R7$(3),e.FS9("href",l.LinkConstants.ApiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(29,22,"LandingPage.APIDocs")," "),e.R7$(5),e.FS9("href",l.LinkConstants.DocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(35,24,"Common.Documentation")," "),e.R7$(5),e.FS9("href",l.LinkConstants.SupportLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,26,"Nav.Support")," "),e.R7$(8),e.SpI("\xa9 ",l.appCopyright,""))},dependencies:[vn.bT,Vl,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var fs=h(2972);let Ga=(()=>{class s{constructor(n,a,l){this.authService=n,this.securityService=a,this.appComponentViewService=l}ngOnInit(){this.authService.isAuthenticatedCheck().subscribe(n=>{this.authService.user=n.username,this.authService.isAuthenticated=n.isAuthenticated,n.isAuthenticated?this.appComponentViewService.successAuth():this.appComponentViewService.failAuth(),this.securityService.onAuthorizationResultComplete(n)})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Zo.u),e.rXU($r.i),e.rXU(fs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-auth"]],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})(),jl=(()=>{class s{constructor(n){this.translate=n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ForbiddenTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ForbiddenDescription")))},dependencies:[Cn.D9],encapsulation:2})}}return s})(),Lo=(()=>{class s{constructor(n){this.translate=n}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.NotFoundTitle")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.NotFoundDescription")))},dependencies:[Cn.D9],encapsulation:2})}}return s})();var So=h(8284);let Ha=(()=>{class s{constructor(n,a){this.route=n,this.translate=a}ngOnInit(){const n=this.route.snapshot.paramMap.get("resource");this.resourceTypeString=n in So.v?n:"Resource"}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:6,consts:[[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"p"),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()()),2&a&&(e.R7$(5),e.JRh(e.bMT(6,2,"Errors.ResourceNotFoundDescription")),e.R7$(3),e.JRh(e.bMT(9,4,"Errors.ResourceNotFoundDescription")))},dependencies:[Cn.D9],encapsulation:2})}}return s})();function ka(s,g){1&s&&(e.j41(0,"p",6),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnableToCompilePolicy")))}function Wa(s,g){1&s&&(e.j41(0,"p",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Errors.UnauthenticatedDescription")))}let Ka=(()=>{class s{constructor(n){this.isEnforcerCompilationError=!1,this.getNavigationState(n)}getNavigationState(n){const a=n.getCurrentNavigation();if(null!=a&&null!=a.extras.state){const l=a.extras.state;l.enforcer&&(this.isEnforcerCompilationError=l.enforcer)}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:5,consts:[["normalError",""],[1,"tw-p-4"],[1,"tw-container","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["id","ContactAdmin",4,"ngIf","ngIfElse"],["id","ContactAdmin"],["id","UnauthDescription"]],template:function(a,l){if(1&a&&(e.j41(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,ka,3,3,"p",5)(8,Wa,3,3,"ng-template",null,0,e.C5r),e.k0s()()()()),2&a){const T=e.sdS(9);e.R7$(5),e.JRh(e.bMT(6,3,"Errors.UnauthenticatedTitle")),e.R7$(2),e.Y8G("ngIf",l.isEnforcerCompilationError)("ngIfElse",T)}},dependencies:[vn.bT,Cn.D9],encapsulation:2})}}return s})();var bs=h(4589);const Ir=(s,g)=>({title:s,link:g,icon:"fad fa-file fa-swap-opacity"}),yo=(s,g)=>({title:s,link:g,icon:"fad fa-file-code fa-swap-opacity"}),xs=(s,g)=>({title:s,link:g,icon:"fad fa-envelope fa-swap-opacity"}),Js=(s,g)=>({"tw-pill":s,"tw-pill-info":g});function Uo(s,g){if(1&s&&(e.j41(0,"li",16)(1,"span",17),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"span",19),e.EFF(5),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Index.LicensedTo")),e.R7$(3),e.SpI(" ",n.securityService.organisation," ")}}function Eo(s,g){if(1&s&&(e.j41(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13)(4,"ul",14),e.DNE(5,Uo,6,4,"li",15),e.j41(6,"li",16)(7,"span",17),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"span",18),e.EFF(11),e.k0s()()()()()()()),2&s){const n=e.XpG();e.R7$(5),e.Y8G("ngIf",n.securityService.organisation),e.R7$(3),e.JRh(e.bMT(9,4,"Index.LicenseType")),e.R7$(2),e.Y8G("ngClass",e.l_i(6,Js,n.isNonProd(),!n.isNonProd())),e.R7$(),e.SpI(" ",n.securityService.licenseType," ")}}function Yr(s,g){1&s&&e.eu8(0)}function ps(s,g){1&s&&e.eu8(0)}function za(s,g){1&s&&e.eu8(0)}function ha(s,g){if(1&s&&(e.j41(0,"li",20)(1,"a",21),e.nrm(2,"span",22),e.j41(3,"span",23),e.EFF(4),e.k0s()()()),2&s){const n=g.title,a=g.link,l=g.icon;e.R7$(),e.Y8G("href",a,e.B4B),e.R7$(),e.ZvI("",l," fa-fw tw-shrink-0 tw-opacity-75 tw-mr-3 sm:tw-block sm:tw-mr-0 sm:tw-text-2xl md:tw-text-3xl"),e.R7$(2),e.JRh(n)}}let co=(()=>{class s{get LinkConstants(){return da}constructor(n,a){this.titleService=n,this.securityService=a,this.titleService.setTitle(`Home - ${Ut.$9.SITE_TITLE}`)}ngOnInit(){}ngAfterViewInit(){document.dispatchEvent(new Event("appready"))}isDemo(){return this.securityService.licenseType===bs.G.Demo}isNonProd(){return this.securityService.licenseType!==bs.G.Production}isLegacy(){return"Legacy"===this.securityService.organisation}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU($r.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-index"]],decls:18,vars:25,consts:[["commonDocsButton",""],[1,"sr-only"],["class","tw-bg-grey-200 tw-border-b tw-border-grey-300 tw--mt-5 tw--mx-4 tw-mb-6 tw-px-4",4,"ngIf"],[1,"tw-container","tw-text-left","tw-mx-auto","tw-mb-4"],[1,"tw-max-w-2xl","tw-mx-auto"],[1,"tw--ml-2","tw--mt-2","md:tw--ml-4","md:tw--mt-4"],[1,"tw-flex","tw-flex-wrap"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-bg-white","tw-mt-6","tw-p-6","tw-max-w-2xl","tw-mx-auto","tw-shadow","tw-rounded"],["altTheme","true"],[1,"tw-bg-grey-200","tw-border-b","tw-border-grey-300","tw--mt-5","tw--mx-4","tw-mb-6","tw-px-4"],[1,"tw-py-4"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"tw--mt-4","tw--ml-4"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-justify-between","tw-text-xs","tw-text-grey-700","lg:tw-justify-end"],["class","tw-pt-4 tw-pl-4",4,"ngIf"],[1,"tw-pt-4","tw-pl-4"],[1,"tw-mr-2"],[3,"ngClass"],[1,"tw-pill"],[1,"tw-w-full","tw-pt-2","tw-pl-2","sm:tw-w-1/3","md:tw-pt-4","md:tw-pl-4"],["target","_blank",1,"tw-btn","tw-justify-start","tw-py-4","tw-w-full","sm:tw-flex-col",3,"href"],["aria-hidden","true"],[1,"tw-truncate","sm:tw-block","sm:tw-mt-3","sm:tw-text-sm","md:tw-text-base"]],template:function(a,l){if(1&a&&(e.j41(0,"h1",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Eo,12,9,"div",2),e.j41(4,"div",3)(5,"div",4)(6,"div",5)(7,"ul",6),e.DNE(8,Yr,1,0,"ng-container",7),e.nI1(9,"translate"),e.DNE(10,ps,1,0,"ng-container",7),e.nI1(11,"translate"),e.DNE(12,za,1,0,"ng-container",7),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"div",8),e.nrm(15,"app-rss-feed",9),e.k0s()(),e.DNE(16,ha,5,5,"ng-template",null,0,e.C5r)),2&a){const T=e.sdS(17);e.R7$(),e.JRh(e.bMT(2,8,"Common.AppName")),e.R7$(2),e.Y8G("ngIf",!l.isLegacy()),e.R7$(5),e.Y8G("ngTemplateOutlet",T)("ngTemplateOutletContext",e.l_i(16,Ir,e.bMT(9,10,"Common.Documentation"),l.LinkConstants.DocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",T)("ngTemplateOutletContext",e.l_i(19,yo,e.bMT(11,12,"LandingPage.APIDocs"),l.LinkConstants.ApiDocsLink)),e.R7$(2),e.Y8G("ngTemplateOutlet",T)("ngTemplateOutletContext",e.l_i(22,xs,e.bMT(13,14,"Nav.Support"),l.LinkConstants.SupportLink))}},dependencies:[vn.YU,vn.bT,vn.T3,Vl,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ks=h(316),Ci=h(7263),Cs=h(5602),ee=h(5424),We=h(526),ue=h(8698),Fe=h(6536);const Rt=["requiredClaimsForm"];function mn(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",7)(1,"div",10)(2,"h2",11),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"p",12),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"p",13),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"div",14)(12,"span",15)(13,"button",16),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.signOutAndRedirectToLogin())}),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,4,"Notifications.Success")),e.R7$(3),e.SpI(" ",e.bMT(7,6,"InitialAdminCreation.SuccessMessage")," "),e.R7$(3),e.SpI(" ",e.bMT(10,8,"InitialAdminCreation.LoginMessage")," "),e.R7$(5),e.SpI(" ",e.bMT(15,10,"Nav.Login")," "))}function En(s,g){1&s&&(e.j41(0,"span",40),e.EFF(1,"Passwords must match"),e.k0s())}function ti(s,g){1&s&&(e.j41(0,"ul",41)(1,"li"),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"li"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"li"),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"li"),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"li"),e.EFF(14),e.nI1(15,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,5,"Users.Password.Requirements.1")),e.R7$(3),e.JRh(e.bMT(6,7,"Users.Password.Requirements.2")),e.R7$(3),e.JRh(e.bMT(9,9,"Users.Password.Requirements.3")),e.R7$(3),e.JRh(e.bMT(12,11,"Users.Password.Requirements.4")),e.R7$(3),e.JRh(e.bMT(15,13,"Users.Password.Requirements.5")))}function fr(s,g){if(1&s){const n=e.RV6();e.j41(0,"input",50),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG().$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.k0s()}if(2&s){const n=e.XpG(),a=n.$implicit;e.Mz_("id","claim-",n.index,""),e.R50("ngModel",a.value)}}function or(s,g){if(1&s){const n=e.RV6();e.j41(0,"input",51),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG().$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.k0s()}if(2&s){const n=e.XpG(),a=n.$implicit;e.Mz_("id","claim-",n.index,""),e.R50("ngModel",a.value)}}function Yi(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",52)(1,"select",53),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG().$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.j41(2,"option",54),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"option",55),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(2),e.JRh(e.bMT(4,5,"Common.True")),e.R7$(3),e.JRh(e.bMT(7,7,"Common.False"))}}function Vi(s,g){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"app-date-time",58),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2).$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const n=e.XpG(2),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value)}}function si(s,g){if(1&s){const n=e.RV6();e.qex(0),e.j41(1,"app-date-time",59),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2).$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.k0s(),e.bVm()}if(2&s){const n=e.XpG(2),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.Y8G("displayType","date")}}function Xi(s,g){if(1&s&&(e.j41(0,"div",56),e.DNE(1,Vi,2,3,"ng-container",57)(2,si,2,4,"ng-container",57),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","birthdate"!=n.name),e.R7$(),e.Y8G("ngIf","birthdate"==n.name)}}function ur(s,g){if(1&s&&(e.j41(0,"option",62),e.EFF(1),e.k0s()),2&s){const n=g.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(n)}}function pe(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",52)(1,"select",60),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG().$implicit;return e.DH7(T.value,l)||(T.value=l),e.Njj(l)}),e.DNE(2,ur,2,2,"option",61),e.k0s()()}if(2&s){const n=e.XpG(),a=n.$implicit,l=n.index;e.R7$(),e.Mz_("id","claim-",l,""),e.R50("ngModel",a.value),e.R7$(),e.Y8G("ngForOf",a.allowedValues)}}function F(s,g){if(1&s&&(e.j41(0,"span",63),e.EFF(1),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",n.failureMessage," ")}}function de(s,g){if(1&s&&(e.j41(0,"app-form-row",44),e.DNE(1,fr,1,3,"input",45)(2,or,1,3,"input",46)(3,Yi,8,9,"div",47)(4,Xi,3,2,"div",48)(5,pe,3,4,"div",47)(6,F,2,1,"span",49),e.k0s()),2&s){const n=g.$implicit,a=g.index,l=e.XpG(3);e.Y8G("id","claim-"+a)("label",n.name)("help","DateTime"==n.format?"Common.Dates.UTCWarning":"")("isLast",a===l.displayClaims.length-1),e.R7$(),e.Y8G("ngIf","String"==n.format),e.R7$(),e.Y8G("ngIf","Int"==n.format),e.R7$(),e.Y8G("ngIf","Boolean"==n.format),e.R7$(),e.Y8G("ngIf","DateTime"==n.format),e.R7$(),e.Y8G("ngIf","Enum"==n.format),e.R7$(),e.Y8G("ngIf",null!=n.failureMessage)}}function Me(s,g){if(1&s&&(e.j41(0,"div",42),e.DNE(1,de,7,10,"app-form-row",43),e.k0s()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngForOf",n.displayClaims)}}function rt(s,g){1&s&&e.nrm(0,"span",64)}function Nt(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",10)(1,"h2",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"div"),e.nrm(5,"hr",17)(6,"p",18)(7,"p",19),e.nI1(8,"translate"),e.j41(9,"p",18),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.nrm(12,"hr",17),e.j41(13,"form",20)(14,"app-form-row",21),e.nrm(15,"input",22),e.k0s(),e.j41(16,"app-form-row",21),e.nrm(17,"input",23),e.k0s(),e.j41(18,"app-form-row",21),e.nrm(19,"input",24),e.k0s(),e.j41(20,"app-form-row",21),e.nrm(21,"input",25),e.k0s(),e.j41(22,"app-form-row",21),e.nrm(23,"input",26),e.k0s(),e.j41(24,"app-form-row",21),e.nrm(25,"input",27),e.DNE(26,En,2,0,"span",28)(27,ti,16,15,"ul",29),e.k0s()(),e.j41(28,"form",null,0),e.DNE(30,Me,2,1,"div",30),e.k0s(),e.j41(31,"div",14)(32,"span",15)(33,"button",31),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addUser())}),e.EFF(34),e.nI1(35,"translate"),e.DNE(36,rt,1,0,"span",32),e.k0s()()()(),e.j41(37,"ul",33)(38,"li",34)(39,"a",35),e.EFF(40),e.nI1(41,"translate"),e.k0s(),e.j41(42,"span",36),e.EFF(43,"\u2022"),e.k0s()(),e.j41(44,"li",34)(45,"a",37),e.EFF(46),e.nI1(47,"translate"),e.k0s(),e.j41(48,"span",36),e.EFF(49,"\u2022"),e.k0s()(),e.j41(50,"li",38)(51,"a",39),e.EFF(52),e.nI1(53,"translate"),e.k0s()()()()}if(2&s){const n=e.sdS(29),a=e.XpG();e.R7$(2),e.JRh(e.bMT(3,26,"LandingPage.AdminCreation")),e.R7$(5),e.Y8G("innerHTML",e.bMT(8,28,"InitialAdminCreation.PermissionsInfoMessage"),e.npT),e.R7$(3),e.SpI(" ",e.bMT(11,30,"InitialAdminCreation.PasswordHashMessage")," "),e.R7$(3),e.Y8G("formGroup",a.addUserForm),e.R7$(),e.Y8G("id","FirstName")("label","Users.FirstName"),e.R7$(2),e.Y8G("id","LastName")("label","Users.LastName"),e.R7$(2),e.Y8G("id","Username")("label","Users.Username"),e.R7$(2),e.Y8G("id","Email")("label","Users.Email"),e.R7$(2),e.Y8G("id","Password")("label","Users.Password.Title"),e.R7$(2),e.Y8G("id","Password")("label","UserDetails.Confirm Password"),e.R7$(2),e.Y8G("ngIf",a.addUserForm.hasError("notSame")),e.R7$(),e.Y8G("ngIf",a.addUserForm.get("password").hasError("pattern")),e.R7$(3),e.Y8G("ngIf",a.displayClaims.length>0),e.R7$(3),e.Y8G("disabled",!a.addUserForm.valid||!n.form.valid||a.inFlight),e.R7$(),e.SpI(" ",e.bMT(35,32,"Common.Save")," "),e.R7$(2),e.Y8G("ngIf",a.inFlight),e.R7$(3),e.FS9("href",a.apiDocsLink,e.B4B),e.R7$(),e.SpI(" ",e.bMT(41,34,"LandingPage.APIDocs")," "),e.R7$(6),e.SpI(" ",e.bMT(47,36,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(53,38,"Nav.Support")," ")}}let Vt=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t){this.authService=n,this.titleService=a,this.toastr=l,this.fb=T,this.userService=q,this.errorService=Te,this.claimTypesService=Ze,this.appComponentViewService=_t,this.versionNumber="",this.createdAdmin=!1,this.displayClaims=[],this.checkPasswords=un=>un.get("password").value===un.get("confirmPassword").value?null:{notSame:!0},this.titleService.setTitle(`${Ut.$9.SITE_TITLE}`),this.versionNumber=Lr;const $t=new Date;this.appCopyright=2017!==$t.getFullYear()?"2017 - "+$t.getFullYear():"2017"}ngOnInit(){this.appComponentViewService.startInitialAdminCreation(),this.createForms(),this.claimTypesService.getClaimTypes(null,null).subscribe(n=>{this.claimTypes=n;for(const l of this.claimTypes)l.required&&this.displayClaims.push({claimTypeId:l.id,format:l.valueType,name:l.name,value:null,failureMessage:l.ruleValidationFailureDescription,allowedValues:l.allowedValues})},n=>{this.errorService.handleError(n)})}addUser(){let n;n=JSON.parse(JSON.stringify(this.addUserForm.value)),Object.assign(n,{claims:[]});for(const a of this.displayClaims){if(null===a.value)continue;let l=a.value;"DateTime"===a.format&&(l=a.value),"Int"===a.format&&(l=l.toString()),n.claims.push({claimTypeId:a.claimTypeId,value:l,type:a.name})}this.inFlight=!0,this.userService.addInitialAdministrator(n).subscribe(()=>{this.inFlight=!1,this.createdAdmin=!0},a=>{this.inFlight=!1,this.errorService.handleError(a)})}signOutAndRedirectToLogin(){this.authService.logoff()}createForms(){this.addUserForm=this.fb.group({username:["",[p.k0.required,(0,Ci.Zt)()]],email:["",ks.D],firstName:["",p.k0.required],lastName:["",p.k0.required],password:["",p.k0.pattern("^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$")],confirmPassword:[""]},{validators:this.checkPasswords})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Zo.u),e.rXU(i.hE),e.rXU(Zn.tw),e.rXU(p.ze),e.rXU(Cs.D),e.rXU(ee.I),e.rXU(We.X),e.rXU(fs.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-initial-admin-creation"]],viewQuery:function(a,l){if(1&a&&e.GBs(Rt,5),2&a){let T;e.mGM(T=e.lsd())&&(l.requiredClaimsForm=T.first)}},decls:10,vars:3,consts:[["requiredClaimsForm","ngForm"],[1,"tw-fixed","tw-inset-0","tw-z-10"],[1,"tw-bg-primary-500","tw-absolute","tw-inset-0",2,"background-image","url(assets/img/pattern.png)"],[1,"tw--mt-5","tw-mx-auto","tw--mb-10","tw-relative","tw-z-20"],[1,"tw-flex","tw-items-center","tw-h-16","tw-mb-4"],["src","assets/img/logo-persimmon.png","alt","AdminUI",1,"tw-h-8"],[1,"tw-text-sm","tw-font-semibold","tw-text-white-75","tw-ml-auto"],[1,"tw-px-6"],["class","tw-px-6",4,"ngIf"],["class","tw-bg-white tw-p-6 tw--mx-6 tw-shadow tw-rounded md:tw-mx-auto md:tw-max-w-2xl",4,"ngIf"],[1,"tw-bg-white","tw-p-6","tw--mx-6","tw-shadow","tw-rounded","md:tw-mx-auto","md:tw-max-w-2xl"],[1,"tw-text-xl","tw-font-semibold","md:tw-text-2xl"],["role","alert",1,"tw-alert-success","tw-mb-4","tw-mt-4"],[1,"tw-text-sm","tw-mt-2"],[1,"tw-mt-4"],[1,"xs:tw-mr-3"],["id","loginBtn",1,"tw-btn","tw-btn-success",3,"click"],[1,"tw-mt-5","tw-mt-5"],[1,"tw-font-semibold","tw-mt-5"],[1,"tw-mt-5",3,"innerHTML"],["autocomplete","off",1,"form","tw-mt-5",3,"formGroup"],[3,"id","label"],["id","FirstName","type","text","name","FirstName","formControlName","firstName","required","",1,"tw-form-control"],["id","LastName","type","text","name","LastName","formControlName","lastName","required","",1,"tw-form-control"],["id","Username","type","text","name","username","formControlName","username","required","",1,"tw-form-control"],["id","Email","type","email","name","email","formControlName","email","required","",1,"tw-form-control"],["id","Password","type","password","name","Password","formControlName","password","aria-labelledby","PasswordHelp","required","",1,"tw-form-control"],["id","ConfirmPassword","type","password","name","ConfirmPassword","formControlName","confirmPassword","required","",1,"tw-form-control"],["class","tw-form-text-danger",4,"ngIf"],["id","PasswordHelp","class","tw-form-text-danger",4,"ngIf"],["id","claimsForm",4,"ngIf"],["type","submit","id","addUserSubmit",1,"tw-btn-success",3,"click","disabled"],["class","fad fa-spinner-third fa-spin tw-text-secondary-500 tw-mr-2 tw-ml-2",4,"ngIf"],[1,"tw-flex","tw-flex-wrap","tw-items-center","tw-border-t","tw-border-grey-200","tw-text-sm","tw--mx-6","tw--mb-2","tw-mt-6","tw-pt-4","tw-px-6"],[1,"tw-flex","tw-items-center","tw-mr-3"],["target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out",3,"href"],["aria-hidden","true",1,"tw-ml-3","tw-opacity-50"],["href","documentation/index.html","target","_blank",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-flex","tw-items-center"],["href","mailto:support@identityserver.com?subject=AdminUI",1,"tw-inline-block","tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],[1,"tw-form-text-danger"],["id","PasswordHelp",1,"tw-form-text-danger"],["id","claimsForm"],[3,"id","label","help","isLast",4,"ngFor","ngForOf"],[3,"id","label","help","isLast"],["class","tw-form-control","type","text","name","string","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-control","type","number","name","number","required","",3,"id","ngModel","ngModelChange",4,"ngIf"],["class","tw-form-select",4,"ngIf"],["class","tw-w-full sm:tw-max-w-2xl",4,"ngIf"],["class","tw-form-text",4,"ngIf"],["type","text","name","string","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["type","number","name","number","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[1,"tw-form-select"],["name","boolean","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],["value","true"],["value","false"],[1,"tw-w-full","sm:tw-max-w-2xl"],[4,"ngIf"],["name","claimValue","required","",3,"ngModelChange","id","ngModel"],["name","claimValue","required","",3,"ngModelChange","id","ngModel","displayType"],["name","enum","required","",1,"tw-form-control",3,"ngModelChange","id","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"tw-form-text"],[1,"fad","fa-spinner-third","fa-spin","tw-text-secondary-500","tw-mr-2","tw-ml-2"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"div",2),e.k0s(),e.j41(2,"div",3)(3,"header",4),e.nrm(4,"img",5),e.j41(5,"span",6),e.EFF(6),e.k0s()(),e.j41(7,"div",7),e.DNE(8,mn,16,12,"div",8)(9,Nt,54,40,"div",9),e.k0s()()),2&a&&(e.R7$(6),e.SpI("v",l.versionNumber,""),e.R7$(2),e.Y8G("ngIf",l.createdAdmin),e.R7$(),e.Y8G("ngIf",!l.createdAdmin))},dependencies:[vn.Sq,vn.bT,p.qT,p.xH,p.y7,p.me,p.Q0,p.wz,p.BC,p.cb,p.YS,p.vS,p.cV,p.j4,p.JD,ue.Y,Fe.Z,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var nn=h(3680),an=h(6719),wn=h(251);const ni=(s,g)=>({title:s,link:g}),jn=s=>[s];function br(s,g){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function vi(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Gr(s,g){if(1&s&&(e.qex(0,5),e.DNE(1,br,3,3,"span",6)(2,vi,3,3,"span",7),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isPolicyRole()),e.R7$(),e.Y8G("ngIf",n.role.reserved)}}let Dr=(()=>{class s{constructor(n,a,l,T){this.activatedRoute=n,this.errorService=a,this.router=l,this.securityService=T}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(ee.I),e.rXU(St.Ix),e.rXU($r.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:17,consts:[[3,"title","crumbs","hasTabs"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","editRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Gr,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(15,jn,e.l_i(12,ni,e.bMT(1,8,"Nav.Roles"),e.bMT(2,10,"/roles"))))("hasTabs",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[vn.bT,St.n3,nn.z,an.G,wn.v,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ws=h(9957),Wi=h(6303),ls=h(3519),ko=h(7499),fa=h(6728),_o=h(6406),ts=h(8762),Vo=h(7778),Ri=h(4692);const Na=s=>[s];function na(s,g){1&s&&e.nrm(0,"input",12)}function jo(s,g){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const n=e.XpG();e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(4,Na,e.bMT(1,2,n.role.name)))}}function $l(s,g){1&s&&e.nrm(0,"textarea",14)}function Ya(s,g){if(1&s&&(e.nrm(0,"app-readonly",13),e.nI1(1,"readOnlyValue")),2&s){const n=e.XpG();e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(4,Na,e.bMT(1,2,n.role.description)))}}let Ss=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T,q,Te,Ze,_t,$t,un,Sn){this.rolesService=n,this.route=a,this.securityService=l,this.router=T,this.fb=q,this.titleService=Te,this.toastr=Ze,this.dialogService=_t,this.translate=$t,this.localize=un,this.errorService=Sn}ngOnInit(){this.getCachedRoleSubscription=this.rolesService.getCachedRole().subscribe(n=>{this.role=n,this.buildForms(),this.initialData=JSON.stringify(n);const a=this.translate.instant("Roles.Role")+" "+this.role.name+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a)})}ngOnDestroy(){this.getCachedRoleSubscription.unsubscribe()}updateRole(){this.role=Object.assign({id:this.role.id},this.editRoleForm.value),this.role.name=this.role.name.trim(),this.rolesService.updateRole(this.role).subscribe(()=>{this.rolesService.setCachedRole(this.role);const n=this.translate.instant("Notifications.Saving Success Title"),a=this.translate.instant("Notifications.Saving Success Message");this.toastr.success(a,n)},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,a)&ws.I.Toast)!==ws.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}deleteRole(){this.rolesService.deleteRole(this.role).subscribe(n=>{const a=this.localize.translateRoute("/roles");this.router.navigate([a]),this.toastr.success(this.translate.instant("Roles.RoleRemoved"),this.translate.instant("Common.Delete.Deleted"))},n=>{if(401===n.status)this.toastr.warning(this.translate.instant("Roles.DeleteUnauthorized"),this.translate.instant("Notifications.Unauthorized"));else{const a={toastBody:this.translate.instant("Notifications.Saving Error Title"),toastTitle:this.translate.instant("Notifications.Saving Error Message")};(this.errorService.handleError(n,a)&ws.I.Toast)!==ws.I.Toast&&this.toastr.error(a.toastBody,a.toastTitle)}})}buildForms(){this.editRoleForm=this.fb.group({name:[{value:this.role.name,disabled:this.isControlDisabled()}],description:[{value:this.role.description,disabled:this.isControlDisabled()}]})}isControlDisabled(){return this.allowedToEditRole()||this.role.reserved}canDeactivate(){return!!this.editRoleForm.pristine||(this.dialogService.confirm(),this.dialogService.eventStream)}allowedToEditRole(){return!this.securityService.allView&&this.isPolicyRole()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ls.P),e.rXU(St.nX),e.rXU($r.i),e.rXU(St.Ix),e.rXU(p.ze),e.rXU(i.hE),e.rXU(Zn.tw),e.rXU(ko.o),e.rXU(Cn.c$),e.rXU(zn.QG),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-details"]],decls:19,vars:21,consts:[["deleteRoleModal",""],["id","editRoleDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup"],[3,"id","label","help"],["type","text","class","tw-form-control","id","addRoleName","formControlName","name",4,"ngIf"],["class","tw-h-full",3,"fieldType","values",4,"ngIf"],[3,"id","label","isLast"],["class","tw-form-control","rows","2","id","addRoleDescription","formControlName","description",4,"ngIf"],["id","updateRoleBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","showModal","data-toggle","modal","type","button",1,"tw-btn-danger","tw-mb-3",3,"click","disabled"],[3,"delete","modalId","resourceName"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[1,"tw-h-full",3,"fieldType","values"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1)(1,"form",2)(2,"app-form-row",3),e.DNE(3,na,1,0,"input",4)(4,jo,2,6,"app-readonly",5),e.k0s(),e.j41(5,"app-form-row",6),e.DNE(6,$l,1,0,"textarea",7)(7,Ya,2,6,"app-readonly",5),e.k0s()()(),e.j41(8,"app-button-bar")(9,"button",8),e.bIt("click",function(){return e.eBV(T),e.Njj(l.updateRole())}),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.qex(12,9),e.j41(13,"button",10),e.bIt("click",function(){e.eBV(T);const Te=e.sdS(17);return e.Njj(Te.show())}),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(16,"app-delete-confirmation-modal",11,0),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.deleteRole())}),e.k0s(),e.nrm(18,"app-can-deactivate")}2&a&&(e.R7$(),e.Y8G("formGroup",l.editRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(),e.Y8G("ngIf",!l.isControlDisabled()),e.R7$(),e.Y8G("ngIf",l.isControlDisabled()),e.R7$(2),e.Y8G("disabled",!l.editRoleForm.dirty&&l.editRoleForm.valid||l.allowedToEditRole()||l.role.reserved),e.R7$(),e.SpI(" ",e.bMT(11,17,"Common.Save")," "),e.R7$(3),e.Y8G("disabled",l.isControlDisabled()),e.R7$(),e.SpI(" ",e.bMT(15,19,"Common.Delete.Title")," "),e.R7$(2),e.Y8G("modalId","deleteRoleModal")("resourceName",l.role.name))},dependencies:[vn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,fa.E,_o.z,ue.Y,ts.O,Vo.w,Ri.u,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Ar=h(1413),wi=h(6354),ns=h(1716),Xa=h(9172),ia=h(1397),ra=h(1986),uo=h(4313),Ja=h(7156),pl=h(7294),Le=h(8114),u=function(s){return s.Remove="Remove",s.Add="Add",s}(u||{}),_=h(1068);const A=["roleManagerUsers"],W=()=>({animated:!1,backdrop:"static"}),ae=(s,g,n,a)=>({id:"usersAddingSummary",title:s,data:g,label:n,empty:a}),ve=(s,g,n,a)=>({id:"usersRemovingSummary",title:s,data:g,label:n,empty:a});function Ge(s,g){1&s&&(e.nrm(0,"app-simple-loader",19),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Roles.SavingPleaseWait"))}function D(s,g){if(1&s){const n=e.RV6();e.j41(0,"li",38)(1,"label",39)(2,"input",40),e.bIt("change",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.toggleIfInRole(l))}),e.k0s(),e.j41(3,"div",41)(4,"span",42),e.EFF(5),e.k0s(),e.j41(6,"span",43),e.EFF(7),e.k0s()()()()}if(2&s){const n=g.$implicit,a=e.XpG(3);e.R7$(2),e.Y8G("checked",a.checkChecked(n)),e.R7$(3),e.JRh(n.userName),e.R7$(2),e.JRh(n.email)}}function V(s,g){if(1&s&&(e.j41(0,"div",35)(1,"ul",36),e.DNE(2,D,8,3,"li",37),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(2),e.Y8G("ngForOf",n.users)}}function B(s,g){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NotSelected")," "))}function Q(s,g){1&s&&(e.j41(0,"p",44),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.NoResults")," "))}function ge(s,g){1&s&&e.nrm(0,"app-simple-loader")}function $e(s,g){1&s&&e.eu8(0)}function bt(s,g){1&s&&e.eu8(0)}function ln(s,g){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",20),e.nrm(2,"p",21),e.k0s(),e.j41(3,"div",22)(4,"h2",23),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",24)(8,"label",25)(9,"span",9),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"input",26),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG();return e.DH7(T.searchTerm,l)||(T.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.search(l))}),e.k0s()()(),e.j41(13,"div",27)(14,"div",28),e.DNE(15,V,3,1,"div",29)(16,B,3,3,"p",30)(17,Q,3,3,"p",30)(18,ge,1,0,"app-simple-loader",12),e.k0s(),e.j41(19,"div",31)(20,"div",32),e.DNE(21,$e,1,0,"ng-container",33),e.nI1(22,"translate"),e.nI1(23,"translate"),e.nI1(24,"translate"),e.k0s(),e.j41(25,"div",34),e.DNE(26,bt,1,0,"ng-container",33),e.nI1(27,"translate"),e.nI1(28,"translate"),e.nI1(29,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG(),a=e.sdS(17);e.R7$(2),e.Y8G("innerHtml",n.summaryText,e.npT),e.R7$(3),e.JRh(e.bMT(6,12,"Roles.SearchAllUsers")),e.R7$(5),e.JRh(e.bMT(11,14,"Roles.SearchUsers")),e.R7$(2),e.R50("ngModel",n.searchTerm),e.R7$(3),e.Y8G("ngIf",!n.isLoading&&n.hasSearched&&n.users.length>0),e.R7$(),e.Y8G("ngIf",!n.isLoading&&!n.hasSearched&&n.users.length<1),e.R7$(),e.Y8G("ngIf",!n.isLoading&&n.hasSearched&&n.users.length<1),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(3),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(28,ae,e.bMT(22,16,"Roles.Adding"),n.usersAdding,e.bMT(23,18,"Roles.CancelAdding"),e.bMT(24,20,"Roles.NoUsersAdding"))),e.R7$(5),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.ziG(33,ve,e.bMT(27,22,"Roles.Removing"),n.usersRemoving,e.bMT(28,24,"Roles.CancelRemoving"),e.bMT(29,26,"Roles.NoUsersRemoving")))}}function rn(s,g){if(1&s&&(e.j41(0,"p",44),e.EFF(1),e.k0s()),2&s){const n=e.XpG().empty;e.R7$(),e.JRh(n)}}function Ln(s,g){if(1&s){const n=e.RV6();e.j41(0,"li",52)(1,"button",53),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.toggleIfInRole(l))}),e.j41(2,"div",54),e.nrm(3,"span",55),e.j41(4,"span",56),e.EFF(5),e.k0s()()()()}if(2&s){const n=g.$implicit,a=e.XpG(2).label;e.R7$(),e.BMQ("aria-label",a+" "+n.userName),e.R7$(4),e.JRh(n.userName)}}function Oi(s,g){if(1&s&&(e.j41(0,"div",49)(1,"ul",50),e.DNE(2,Ln,6,2,"li",51),e.k0s()()),2&s){const n=e.XpG(),a=n.id,l=n.data;e.R7$(),e.FS9("id",a),e.R7$(),e.Y8G("ngForOf",l)}}function Fi(s,g){if(1&s&&(e.j41(0,"h2",45),e.EFF(1),e.j41(2,"span",46),e.EFF(3),e.k0s()(),e.j41(4,"div",47),e.DNE(5,rn,2,1,"p",30)(6,Oi,3,2,"div",48),e.k0s()),2&s){const n=g.title,a=g.data;e.R7$(),e.SpI(" ",n," "),e.R7$(2),e.SpI("(",a.length,")"),e.R7$(2),e.Y8G("ngIf",a.length<1),e.R7$(),e.Y8G("ngIf",a.length>0)}}let dr=(()=>{class s extends uo.if{constructor(n,a,l,T,q){super(T,q,!1),this.userService=n,this.rolesService=a,this.translateService=l,this.onSubmitted=new e.bkB,this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=new Array,this.usersAdding=[],this.usersRemoving=[],this.usersInRole=[]}ngOnInit(){this.summaryText=this.translateService.instant("Roles.AddRemoveUsersFromRole").replace("{0}",this.role.name),this.roleManagerUsers.onShow.subscribe(()=>{this.reset()}),this.searchSource.pipe((0,ns.h)(this.enterKeySource)).subscribe(()=>{this.isLoading=!0,this.userService.getLightweightUsersAndIfInRole(this.role.id,"active",this.searchTerm,1,50).subscribe(q=>{this.users=q.results;const Te=[...this.users.filter(Ze=>Ze.isInRole),...this.usersInRole];this.usersInRole=_.Am(Te,!1,Ze=>Ze.subject),this.isLoading=!1,this.hasSearched=!0},q=>{this.isLoading=!1})})}mapSearchTerm(n){return{searchTerm:n}}reset(){this.isLoading=!1,this.isSaving=!1,this.hasSearched=!1,this.users=[],this.usersAdding=[],this.usersRemoving=[],this.searchTerm="",this.searchTermStream.next("")}hide(){this.roleManagerUsers.hide()}show(){this.roleManagerUsers.show()}toggleIfInRole(n){if(n.isInRole){const a=_.SL(this.usersRemoving,l=>l.subject===n.subject);a>-1?(this.usersRemoving.splice(a,1),this.usersInRole.push(n)):(this.usersRemoving.push(n),this.usersInRole.splice(this.usersInRole.indexOf(n),1))}else{const a=_.SL(this.usersAdding,l=>l.subject===n.subject);a>-1?(this.usersAdding.splice(a,1),this.usersInRole.splice(this.usersInRole.indexOf(n),1)):(this.usersAdding.push(n),this.usersInRole.push(n))}}checkChecked(n){let a;return n.isInRole?(a=_.I6(this.usersRemoving,l=>l.subject===n.subject),void 0===a):(a=_.I6(this.usersAdding,l=>l.subject===n.subject),void 0!==a)}addOrRemoveUsers(){const n=[];this.isSaving=!0,n.push(...this.usersAdding.map(a=>({username:a.userName,subject:a.subject,addOrRemove:u.Add}))),n.push(...this.usersRemoving.map(a=>({username:a.userName,subject:a.subject,addOrRemove:u.Remove}))),this.rolesService.addAndRemoveUsers(this.role.id,n).subscribe(()=>{this.hide(),this.onSubmitted.emit(),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success"))},a=>{this.isSaving=!1,401===a.status?this.toastr.warning(this.translate.instant("Roles.UpdateUnauthorized"),this.translate.instant("Notifications.Unauthorized")):this.toastr.warning(this.translate.instant("Roles.UpdateBadRequest"),this.translate.instant("Notifications.Failed"))})}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Cs.D),e.rXU(ls.P),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-manageusers"]],viewQuery:function(a,l){if(1&a&&e.GBs(A,7),2&a){let T;e.mGM(T=e.lsd())&&(l.roleManagerUsers=T.first)}},inputs:{role:"role"},outputs:{onSubmitted:"onSubmitted"},features:[e.Vt3],decls:28,vars:19,consts:[["roleManagerUsers","bs-modal"],["commonSummaryGroup",""],["bsModal","","id","roleManagerUsers","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"text",4,"ngIf"],[4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","manageUserSubmit","type","submit",1,"tw-btn-success",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms"],[3,"innerHtml"],[1,"tw-mb-4","md:tw-w-1/2","tw-pr-3"],[1,"tw-text-sm","tw-font-semibold","tw-mb-3"],[1,"tw-relative"],["for","roleUserSearch",1,"far","fa-search","tw-flex","tw-items-center","tw-justify-center","tw-text-grey-700","tw-m-0","tw-text-xs","tw-absolute","tw-inset-y-0","tw-w-10"],["id","roleUserSearch","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-form-control","tw-pl-8",3,"ngModelChange","keyup","ngModel"],[1,"md:tw-flex","md:tw-min-h-64","md:tw-max-h-popups-short"],[1,"tw-mb-6","md:tw-mb-0","md:tw-pr-3","md:tw-w-1/2"],["class","tw-max-h-48 tw-overflow-x-none tw-overflow-y-auto scrollbars md:tw-max-h-full md:tw-h-full",4,"ngIf"],["class","tw-italic tw-text-xs tw-text-grey-700",4,"ngIf"],[1,"md:tw-pl-3","md:tw-w-1/2"],[1,"tw-pb-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"tw-pt-3","md:tw-flex","md:tw-flex-col","md:tw-max-h-1/2"],[1,"tw-max-h-48","tw-overflow-x-none","tw-overflow-y-auto","scrollbars","md:tw-max-h-full","md:tw-h-full"],["id","usersInRoleTable"],["class","tw-border-t-2 tw-border-grey-100 first:tw-border-t-0",4,"ngFor","ngForOf"],[1,"tw-border-t-2","tw-border-grey-100","first:tw-border-t-0"],[1,"tw-flex","tw-items-start","tw-bg-white","tw-normal-case","tw-text-sm","tw-m-0","tw-px-4","tw-py-3","tw-cursor-pointer"],["type","checkbox",1,"tw-shrink-0","tw-block","tw-mt-1","tw-mr-2",3,"change","checked"],[1,"tw-w-full","tw-truncate"],[1,"tw-block","tw-truncate"],[1,"tw-block","tw-text-xs","tw-text-grey-600","tw-mt-1","tw-truncate"],[1,"tw-italic","tw-text-xs","tw-text-grey-700"],[1,"tw-text-sm","tw-font-semibold","tw-mb-2"],[1,"tw-text-xs","tw-text-grey-700"],[1,"tw-overflow-x-none","tw-overflow-y-auto","scrollbars"],["class","tw--mt-2 tw--ml-2",4,"ngIf"],[1,"tw--mt-2","tw--ml-2"],[1,"tw-flex","tw-flex-wrap","tw-items-center",3,"id"],["class","tw-pl-2 tw-pt-2",4,"ngFor","ngForOf"],[1,"tw-pl-2","tw-pt-2"],[1,"tw-pill","hover:tw-bg-red-500","group","hover:tw-text-white",3,"click"],[1,"tw-flex","tw-items-center","tw-text-left","tw-truncate"],["aria-hidden","true",1,"fas","fa-times","tw-text-red-500","tw-mr-2","tw-shrink-0","group-hover:tw-text-white"],["aria-hidden","true",1,"tw-block","tw-truncate"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",2,0)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h5",6),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",7),e.bIt("click",function(){return e.eBV(T),e.Njj(l.hide())}),e.nrm(9,"span",8),e.j41(10,"span",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",10),e.DNE(14,Ge,2,3,"app-simple-loader",11)(15,ln,30,38,"div",12)(16,Fi,7,4,"ng-template",null,1,e.C5r),e.k0s(),e.nrm(18,"div",13),e.j41(19,"div",14)(20,"div",15)(21,"div",16)(22,"button",17),e.bIt("click",function(){return e.eBV(T),e.Njj(l.addOrRemoveUsers())}),e.EFF(23),e.nI1(24,"translate"),e.k0s()(),e.j41(25,"button",18),e.bIt("click",function(){return e.eBV(T),e.Njj(l.hide())}),e.EFF(26),e.nI1(27,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(18,W)),e.R7$(6),e.JRh(e.bMT(7,10,"Roles.RoleUserManagement")),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(3),e.JRh(e.bMT(12,12,"Common.Close")),e.R7$(3),e.Y8G("ngIf",l.isSaving),e.R7$(),e.Y8G("ngIf",!l.isSaving),e.R7$(7),e.Y8G("disabled",l.isSaving||l.usersAdding.length<1&&l.usersRemoving.length<1),e.R7$(),e.SpI(" ",e.bMT(24,14,"Common.Save")," "),e.R7$(2),e.Y8G("disabled",l.isSaving),e.R7$(),e.JRh(e.bMT(27,16,"Common.Close")))},dependencies:[vn.Sq,vn.bT,vn.T3,p.me,p.BC,p.YS,p.xh,p.tU,p.vS,xt.hZ,Ms.d,Cn.D9],encapsulation:2})}}return s})();function Hs(s,g){if(1&s){const n=e.RV6();e.qex(0,20),e.j41(1,"div",21)(2,"label",22),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"select",23),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2);return e.DH7(T.pageSize,l)||(T.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(6,"option",24),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"option",25),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"option",26),e.EFF(13),e.nI1(14,"translate"),e.k0s()()(),e.bVm()}if(2&s){const n=e.XpG(2);e.R7$(3),e.Lme("",n.pageSize," ",e.bMT(4,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(8,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(11,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(14,12,"Nav.PerPage"),"")}}function Ns(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.ManageUsers")," "))}function Oa(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Roles.AddUsers")," "))}function Gl(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.DNE(1,Hs,15,14,"ng-container",17),e.qex(2,18),e.j41(3,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(11);return e.Njj(l.show())}),e.DNE(4,Ns,3,3,"span",9)(5,Oa,3,3,"span",9),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.Y8G("ngIf",n.users&&n.users.length>0),e.R7$(),e.Y8G("ngIf",n.users&&n.users.length<1)}}function Qs(s,g){1&s&&e.nrm(0,"app-simple-loader")}function Hl(s,g){1&s&&(e.j41(0,"div",27)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.NoUsersFound")))}function Xf(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr")(1,"td",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.goToUser(l))}),e.j41(2,"b",35),e.EFF(3),e.k0s()(),e.j41(4,"td",36),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.goToUser(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",36),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.goToUser(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",37),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.removeUser(l))}),e.j41(9,"button",38),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2),q=e.sdS(17);return T.removeUser(l),e.Njj(q.show())}),e.nrm(10,"span",39),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit;e.R7$(3),e.JRh(n.username),e.R7$(2),e.SpI(" ",n.firstName," "),e.R7$(2),e.SpI(" ",n.lastName," "),e.R7$(5),e.JRh(e.bMT(13,4,"Common.Remove.Title"))}}function Qa(s,g){if(1&s&&(e.j41(0,"table",28)(1,"thead")(2,"tr")(3,"th",29),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",30),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",30),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",31)(13,"span",7),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()(),e.j41(16,"tbody",32),e.DNE(17,Xf,14,6,"tr",33),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,5,"Users.Username")),e.R7$(3),e.JRh(e.bMT(8,7,"Users.FirstName")),e.R7$(3),e.JRh(e.bMT(11,9,"Users.LastName")),e.R7$(4),e.JRh(e.bMT(15,11,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.users)}}function Xr(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-pager",40),e.bIt("onGoToPage",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let Fa=(()=>{class s extends uo.if{constructor(n,a,l,T,q,Te,Ze){super(q,a,!0),this.rolesService=n,this.localize=l,this.router=T,this.errorService=Te,this.userService=Ze,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.userToRemove=null,this.removeSummaryTranslation="",this.removeSummary="",this.page=1,this.pageSize=25,this.removeSummaryTranslation=a.instant("Roles.AreYouSureRemove")}ngOnInit(){this.isLoading=!0,this.rolesService.getCachedRole().pipe((0,Gn.$)()).subscribe(n=>{this.role=n,this.removeSummaryTranslation=this.removeSummaryTranslation.replace("{1}",this.role.name);const a=this.pageStream.pipe((0,wi.T)(q=>(this.page=q,{searchTerm:this.searchTerm,page:q,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,wi.T)(q=>(this.pageSize=q,{searchTerm:this.searchTerm,page:this.page,pageSize:q})));a.pipe((0,ns.h)(l),(0,ns.h)(this.searchSource),(0,ns.h)(this.enterKeySource),(0,Xa.Z)({searchTerm:this.searchTerm,page:this.page,pageSize:this.pageSize}),(0,ia.Z)(q=>(this.isLoading=!0,this.rolesService.getUsersInRole(n.id,q.page,q.pageSize,q.searchTerm).pipe((0,ra.c)(200))))).subscribe(q=>{this.pagedResult=q,this.users=q.results,this.isLoading=!1},q=>{this.errorService.handleError(q),this.isLoading=!1})})}mapSearchTerm(n){return this.searchTerm=n,{searchTerm:this.searchTerm,page:1,pageSize:this.pageSize}}onSubmit(n){this.pageStream.next(1)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}goToUser(n){const a=[this.localize.translateRoute("/users"),n.subject,"roles"];this.router.navigate(a)}removeUser(n){this.removeSummary=this.removeSummaryTranslation.replace("{0}",n.username),this.userToRemove=n}delete(){this.isLoading=!0,this.userService.deleteUserRoles(this.userToRemove.subject,[this.role.name]).subscribe(n=>{let a=this.users&&1===this.users.length&&this.page>1?this.page-1:this.page;a<1&&(a=1),this.goToPage(a),this.toastr.success(this.translate.instant("Roles.Success"),this.translate.instant("Notifications.Success")),this.userToRemove=null},n=>{this.isLoading=!1,401===n.status&&this.toastr.warning(this.translate.instant("Roles.UnassignUnauthorized"),this.translate.instant("Notifications.Unauthorized")),this.userToRemove=null})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ls.P),e.rXU(Cn.c$),e.rXU(zn.QG),e.rXU(St.Ix),e.rXU(Zn.tw),e.rXU(ee.I),e.rXU(Cs.D))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-role-users"]],features:[e.Vt3],decls:20,vars:17,consts:[["manageUsersModal",""],["removeUserModal",""],[1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchRole","type","search","minlength","2","maxlength","25","required","","autocomplete","off",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel"],[4,"ngIf"],["id","manageUsersModal",3,"onSubmitted","role"],["class","tw-alert","role","alert",4,"ngIf"],["id","roleUsersTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText","cancelText"],["body",""],[3,"innerHtml"],["left","",4,"ngIf"],["right",""],["id","manageUsersButton",1,"tw-btn-success",3,"click"],["left",""],[1,"tw-form-select","tw-w-auto"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],["id","roleUsersTable",1,"datatable","selectable","hover"],[1,"sm:tw-w-1/3","md:tw-w-1/2"],[1,"tw-hidden","sm:tw-table-cell"],[1,"tw-w-1"],["id","usersInRoleTable"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","sm:tw-table-cell",3,"click"],[3,"click"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),e.nrm(4,"span",6),e.j41(5,"span",7),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",8),e.mxI("ngModelChange",function(Te){return e.eBV(T),e.DH7(l.searchTerm,Te)||(l.searchTerm=Te),e.Njj(Te)}),e.bIt("keyup",function(Te){return e.eBV(T),e.Njj(l.search(Te))}),e.k0s()()(),e.DNE(9,Gl,6,3,"app-action-bar",9),e.j41(10,"app-role-manageusers",10,0),e.bIt("onSubmitted",function(Te){return e.eBV(T),e.Njj(l.onSubmit(Te))}),e.k0s(),e.DNE(12,Qs,1,0,"app-simple-loader",9)(13,Hl,4,3,"div",11)(14,Qa,18,13,"table",12)(15,Xr,1,3,"app-pager",13),e.k0s(),e.j41(16,"app-confirmation-modal",14,1),e.bIt("confirm",function(){return e.eBV(T),e.Njj(l.delete())}),e.qex(18,15),e.nrm(19,"p",16),e.bVm(),e.k0s()}2&a&&(e.R7$(6),e.JRh(e.bMT(7,15,"Common.Search")),e.R7$(2),e.R50("ngModel",l.searchTerm),e.R7$(),e.Y8G("ngIf",!l.isLoading),e.R7$(),e.Y8G("role",l.role),e.R7$(2),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&0==l.users.length&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.users&&l.users.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading),e.R7$(),e.Y8G("modalId","removeUserModal")("type","danger")("buttonType","danger")("title","Common.Remove.Confirm")("okText","Common.Remove.Title")("cancelText","Common.Remove.No"),e.R7$(3),e.Y8G("innerHtml",l.removeSummary,e.npT))},dependencies:[vn.Sq,vn.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.YS,p.xh,p.tU,p.vS,Ja.B,pl.n,Ms.d,Le.B,dr,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var ml=h(152),gl=h(3294),pa=h(8412),$o=h(2510);class Wl{constructor(){this.selected=!1}}const Xu=["addRoleModal"],vl=()=>({animated:!1,backdrop:"static"});let Ju=(()=>{class s{constructor(n,a,l,T,q,Te){this.rolesService=n,this.errorService=a,this.translate=l,this.router=T,this.fb=q,this.toastr=Te,this.added=new e.bkB}keydown(n){"Enter"===n.key&&this.addRoleForm.valid&&this.addRole()}ngOnInit(){this.addRoleForm=this.fb.group({name:["",p.k0.required],description:["",p.k0.maxLength(1e3)]})}addAnotherRole(){this.addAnother=!0,this.addRole()}addRole(){let n=new Wl;n=this.addRoleForm.value,n.name=n.name.trim(),this.rolesService.addRole(n).subscribe(a=>{this.addAnother||this.hide(),this.addAnother=!1,this.addRoleForm.reset(),this.toastr.success(this.translate.instant("Roles.Role")+" "+n.name+" "+this.translate.instant("Common.Created"),this.translate.instant("Roles.RoleCreated")),this.added.emit(!0)},a=>{this.errorService.handleError(a)})}hide(){this.addRoleModal.hide()}show(){this.addRoleModal.show(),this.addRoleForm.reset()}ngOnDestroy(){this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ls.P),e.rXU(ee.I),e.rXU(Cn.c$),e.rXU(St.Ix),e.rXU(p.ze),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-add-role"]],viewQuery:function(a,l){if(1&a&&e.GBs(Xu,7),2&a){let T;e.mGM(T=e.lsd())&&(l.addRoleModal=T.first)}},hostBindings:function(a,l){1&a&&e.bIt("keydown",function(q){return l.keydown(q)},!1,e.EBC)},outputs:{added:"added"},decls:33,vars:26,consts:[["addRoleModal","bs-modal"],["bsModal","","id","addRoleModal","tabindex","-1","role","dialog","aria-hidden","true",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars"],[3,"formGroup"],[3,"id","label","help"],["type","text","id","addRoleName","formControlName","name",1,"tw-form-control"],[3,"id","label","isLast"],["rows","2","id","addRoleDescription","formControlName","description",1,"tw-form-control"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["type","submit","id","addRoleSubmit",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],[1,"tw-hidden","xs:tw-inline"],["type","button","id","addRoleReSubmit",1,"tw-btn",3,"click","disabled"],[1,"tw-btn-link","tw--mr-4",3,"click"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(T),e.Njj(l.hide())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9)(14,"form",10)(15,"app-form-row",11),e.nrm(16,"input",12),e.k0s(),e.j41(17,"app-form-row",13),e.nrm(18,"textarea",14),e.k0s()()(),e.nrm(19,"div",15),e.j41(20,"div",16)(21,"div",17)(22,"div",18)(23,"button",19),e.bIt("click",function(){return e.eBV(T),l.addRole(),e.Njj(l.hide())}),e.EFF(24),e.nI1(25,"translate"),e.k0s(),e.j41(26,"span",20)(27,"button",21),e.bIt("click",function(){return e.eBV(T),e.Njj(l.addAnotherRole())}),e.EFF(28),e.nI1(29,"translate"),e.k0s()()(),e.j41(30,"button",22),e.bIt("click",function(){return e.eBV(T),e.Njj(l.hide())}),e.EFF(31),e.nI1(32,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(25,vl)),e.R7$(6),e.JRh(e.bMT(7,15,"Roles.NewRole")),e.R7$(5),e.JRh(e.bMT(12,17,"Common.Close")),e.R7$(3),e.Y8G("formGroup",l.addRoleForm),e.R7$(),e.Y8G("id","addRoleName")("label","Common.Name")("help","Roles.TrimWhitespaceHelp"),e.R7$(2),e.Y8G("id","addRoleDescription")("label","Common.Description")("isLast",!0),e.R7$(6),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(25,19,"Common.Save")),e.R7$(3),e.Y8G("disabled",!l.addRoleForm.valid),e.R7$(),e.JRh(e.bMT(29,21,"Common.SaveAndAdd")),e.R7$(3),e.JRh(e.bMT(32,23,"Common.Cancel")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,xt.hZ,ue.Y,Cn.D9],encapsulation:2})}}return s})();const ph=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function Cr(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.j41(2,"button",10),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(3);return e.Njj(l.show())}),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.bVm(),e.k0s()}2&s&&(e.R7$(3),e.SpI(" ",e.bMT(4,1,"Roles.AddRole")," "))}function Jf(s,g){1&s&&e.nrm(0,"app-simple-loader")}function Qu(s,g){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Roles.NoRolesFound")))}function Go(s,g){1&s&&e.nrm(0,"span",23)}function H_(s,g){1&s&&e.nrm(0,"span",24)}function Zu(s,g){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Uc(s,g){1&s&&(e.j41(0,"span",37),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function ma(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",25)(1,"td",26),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.j41(2,"b",27),e.EFF(3),e.k0s()(),e.j41(4,"td",28),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",29),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.DNE(7,Zu,3,3,"span",30),e.k0s(),e.j41(8,"td",31),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.DNE(9,Uc,3,3,"span",32),e.k0s(),e.j41(10,"td",33),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditRole(l))}),e.nrm(12,"span",35),e.j41(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(n.name),e.R7$(2),e.SpI(" ",n.description," "),e.R7$(2),e.Y8G("ngIf",a.isPolicyRole(n)),e.R7$(2),e.Y8G("ngIf",n.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(8,ph,!a.isUserManagerReadOnly,a.isUserManagerReadOnly)),e.R7$(2),e.JRh(e.bMT(15,6,"Common.Edit"))}}function W_(s,g){if(1&s){const n=e.RV6();e.j41(0,"table",12)(1,"thead")(2,"tr")(3,"th",13),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.sort())}),e.j41(4,"span",14),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,Go,1,0,"span",15)(8,H_,1,0,"span",16),e.k0s(),e.j41(9,"th",17),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",18)(13,"span",19),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",20)(17,"span",19),e.EFF(18),e.nI1(19,"translate"),e.k0s()(),e.j41(20,"th",21)(21,"span",19),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"tbody"),e.DNE(25,ma,16,11,"tr",22),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(5),e.JRh(e.bMT(6,8,"Common.Name")),e.R7$(2),e.Y8G("ngIf",n.sortIcon),e.R7$(),e.Y8G("ngIf",!n.sortIcon),e.R7$(2),e.SpI(" ",e.bMT(11,10,"Common.Description")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Policy")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(23,16,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.roles)}}function Qf(s,g){if(1&s&&e.nrm(0,"app-pager",38),2&s){const n=e.XpG();e.Y8G("totalResults",null==n.roles?null:n.roles.length)}}let K_=(()=>{class s{constructor(n,a,l,T,q,Te,Ze){this.rolesService=n,this.securityService=a,this.translate=l,this.router=T,this.titleService=q,this.localize=Te,this.errorService=Ze,this.roleListLength=0,this.sortCriteria="-name",this.term="",this.searchTermStream=new Ar.B,this.sortStream=new Ar.B}ngOnInit(){const n=this.translate.instant("Nav.Roles")+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(n),this.isLoading=!0;const a=this.sortStream.pipe((0,wi.T)(q=>({search:this.term,sort:q})));this.searchTermStream.pipe((0,ml.B)(300),(0,gl.F)(),(0,wi.T)(q=>(this.term=q,{search:q,sort:this.sortCriteria}))).pipe((0,pa.X)(a),(0,Xa.Z)({search:this.term,sort:this.sortCriteria}),(0,ia.Z)(q=>this.rolesService.getRoles(q.search,q.sort))).subscribe({next:q=>{this.roles=q,this.isLoading=!1},error:q=>{this.errorService.handleError(q),this.isLoading=!1}})}search(n){this.searchTermStream.next(n)}update(){this.sortStream.next(this.sortCriteria)}sort(){this.sortCriteria=this.sortCriteria.startsWith("-")?"name":"-name",this.sortStream.next(this.sortCriteria),this.sortIcon=!this.sortIcon}viewOrEditRole(n){this.isUserManagerReadOnly?this.viewRole(n):this.editRole(n)}editRole(n){const a=[this.localize.translateRoute("/roles"),n.id];this.router.navigate(a)}viewRole(n){const a=[this.localize.translateRoute("/roles/view"),n.id];this.router.navigate(a)}allowedToEditRole(n){return!this.securityService.allView&&this.isPolicyRole(n)}isPolicyRole(n){const a=this.securityService.policyClaims;for(let l=0;l<a.length;l++)if("role"===a[l].type&&a[l].value===n.name)return!0;return!1}get isUserManagerReadOnly(){return(0,Ci.zG)(this.securityService.userPermissions)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ls.P),e.rXU($r.i),e.rXU(Cn.c$),e.rXU(St.Ix),e.rXU(i.hE),e.rXU(zn.QG),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:12,vars:11,consts:[["addRoleModal",""],[3,"title"],[3,"added"],["id","rolesList",1,"tw-container","mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["id","rolesTable","class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["right",""],[1,"tw-btn-success",3,"click"],["role","alert",1,"tw-alert"],["id","rolesTable",1,"datatable","selectable","hover"],["id","sortName",1,"tw-max-w-0","tw-cursor-pointer","lg:tw-w-1/3",3,"click"],[1,"tw-mr-2"],["class","fas fa-caret-down","aria-hidden","true",4,"ngIf"],["class","fas fa-caret-up","aria-hidden","true",4,"ngIf"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1","tw-hidden","sm:tw-table-cell"],[1,"sr-only"],[1,"tw-w-1","tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],["class","group",4,"ngFor","ngForOf"],["aria-hidden","true",1,"fas","fa-caret-down"],["aria-hidden","true",1,"fas","fa-caret-up"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-text-blue-500"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[1,"tw-hidden","sm:tw-table-cell",3,"click"],["class","tw-pill-warning",4,"ngIf"],[1,"tw-hidden","md:tw-table-cell",3,"click"],["class","tw-pill",4,"ngIf"],[3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill-warning"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(a,l){if(1&a){const T=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.j41(2,"app-add-role",2,0),e.bIt("added",function(){return e.eBV(T),e.Njj(l.update())}),e.k0s(),e.j41(4,"div",3)(5,"app-search",4),e.nI1(6,"translate"),e.bIt("onSearch",function(Te){return e.eBV(T),e.Njj(l.search(Te))}),e.k0s(),e.DNE(7,Cr,5,3,"app-action-bar",5)(8,Jf,1,0,"app-simple-loader",5)(9,Qu,4,3,"div",6)(10,W_,26,18,"table",7)(11,Qf,1,1,"app-pager",8),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Nav.Roles")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Roles.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isUserManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.roles||l.roles.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.roles&&l.roles.length>0&&!l.isLoading))},dependencies:[vn.YU,vn.Sq,vn.bT,nn.z,Ja.B,pl.n,$o.S,Ms.d,Ju,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const yl=(s,g)=>({title:s,link:g}),Lg=s=>[s];function z_(s,g){1&s&&(e.j41(0,"span",8),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function Ug(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function Zf(s,g){if(1&s&&(e.qex(0,5),e.DNE(1,z_,3,3,"span",6)(2,Ug,3,3,"span",7),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.isPolicyRole()),e.R7$(),e.Y8G("ngIf",n.role.reserved)}}let qf=(()=>{class s{constructor(n,a,l,T){this.activatedRoute=n,this.errorService=a,this.router=l,this.securityService=T}ngOnInit(){this.roleDataSubscription=this.activatedRoute.data.subscribe(n=>{this.role=n.role},n=>{this.errorService.handleError(n)})}ngOnDestroy(){this.roleDataSubscription.unsubscribe()}isPolicyRole(){const n=this.securityService.policyClaims;for(let a=0;a<n.length;a++)if("role"===n[a].type&&n[a].value===this.role.name)return!0;return!1}mobRoute(n){this.router.navigate([n],{relativeTo:this.activatedRoute})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.nX),e.rXU(ee.I),e.rXU(St.Ix),e.rXU($r.i))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:10,vars:18,consts:[[3,"title","crumbs","hasTabs","isReadOnly"],["badge","",4,"ngIf"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewRole"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["class","tw-pill tw-mr-2",4,"ngIf"],[1,"tw-pill-warning","tw-mr-2"],[1,"tw-pill","tw-mr-2"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.DNE(3,Zf,3,2,"ng-container",1),e.qex(4,2),e.j41(5,"app-custom-tabs"),e.nrm(6,"app-custom-tab",3)(7,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(8,"div",4),e.nrm(9,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.role.name)("crumbs",e.eq3(16,Lg,e.l_i(13,yl,e.bMT(1,9,"Nav.Roles"),e.bMT(2,11,"/roles"))))("hasTabs",!0)("isReadOnly",!0),e.R7$(3),e.Y8G("ngIf",l.isPolicyRole()||l.role.reserved),e.R7$(3),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Users")("tabValue","users"))},dependencies:[vn.bT,St.n3,nn.z,an.G,wn.v,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Es=h(9196);const Vc=()=>["active"];function ep(s,g){1&s&&(e.j41(0,"option",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.AccessPolicy")))}function dc(s,g){1&s&&(e.j41(0,"option",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Keys")))}function Li(s,g){1&s&&(e.j41(0,"li",17)(1,"button",18),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Vc)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.AccessPolicy")))}function Vg(s,g){1&s&&(e.j41(0,"li",19)(1,"button",20),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(),e.Y8G("routerLinkActive",e.lJ4(4,Vc)),e.R7$(),e.JRh(e.bMT(3,2,"Nav.Keys")))}let xT=(()=>{class s{constructor(n,a,l){this.titleService=n,this.translate=a,this.configService=l,this.targetIdentityServer4=!1,this.hideAccessPolicy=!1}ngOnInit(){this.configService.getConfig().pipe((0,Gn.$)()).subscribe(n=>{this.targetIdentityServer4=n.targetIdentityServer4,this.hideAccessPolicy=n.featureFlagOptions.enforcerAuthorizationEnabled}),this.titleService.setTitle(this.translate.instant("Settings.Title")+` - ${Ut.$9.SITE_TITLE}`)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-settings"]],decls:26,vars:25,consts:[[3,"title","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu","disabled","",1,"tw-form-control"],["value","details"],["value","Access Policy",4,"ngIf"],["value","Keys",4,"ngIf"],["value","Webhooks"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],["class","tabs__item","id","acessPolicyTab",4,"ngIf"],[1,"tabs__item"],["routerLink","webhooks","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__item","id","keysTab",4,"ngIf"],["value","Access Policy"],["value","Keys"],["id","acessPolicyTab",1,"tabs__item"],["routerLink","accesspolicy","role","tab","aria-selected","false",1,"tabs__link","active",3,"routerLinkActive"],["id","keysTab",1,"tabs__item"],["routerLink","keys","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.qex(2,1),e.j41(3,"div",2)(4,"label",3),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"div",4)(8,"select",5)(9,"option",6),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.DNE(12,ep,3,3,"option",7)(13,dc,3,3,"option",8),e.j41(14,"option",9),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()(),e.j41(17,"ul",10),e.nI1(18,"translate"),e.DNE(19,Li,4,5,"li",11),e.j41(20,"li",12)(21,"button",13),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.DNE(24,Vg,4,5,"li",14),e.k0s(),e.bVm(),e.k0s(),e.nrm(25,"router-outlet")),2&a&&(e.Y8G("title",e.bMT(1,12,"Nav.Settings"))("hasTabs",!0),e.R7$(5),e.JRh(e.bMT(6,14,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(11,16,"Nav.SubMenu"),"..."),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(),e.Y8G("ngIf",!l.targetIdentityServer4),e.R7$(2),e.JRh(e.bMT(16,18,"Nav.Webhooks")),e.R7$(2),e.BMQ("aria-label",e.bMT(18,20,"Nav.SubMenu")),e.R7$(2),e.Y8G("ngIf",!l.hideAccessPolicy),e.R7$(2),e.Y8G("routerLinkActive",e.lJ4(24,Vc)),e.R7$(),e.JRh(e.bMT(23,22,"Nav.Webhooks")),e.R7$(2),e.Y8G("ngIf",!l.targetIdentityServer4))},dependencies:[St.n3,St.Wk,St.wQ,vn.bT,p.xH,p.y7,nn.z,Cn.D9],encapsulation:2})}}return s})();var Y_=h(5517);let X_=(()=>{class s{constructor(n,a,l){this.router=n,this.config=a,this.localizeRouter=l}canActivate(n,a){return this.config.getConfig().pipe((0,Gn.$)(),(0,wi.T)(l=>{if("accesspolicy"!=n.firstChild.routeConfig.path||!l.featureFlagOptions.enforcerAuthorizationEnabled)return!0;{const T=this.localizeRouter.translateRoute("/settings/webhooks");this.router.navigate([T])}}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO(Es.w),e.KVO(zn.QG))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var qu=h(6199);const jg=[{path:"",component:fl},{path:"initial-admin-creation",component:Vt,canActivate:[pn.h],data:{permissions:[en.a[en.a.All]]}},{path:"home",component:co,canActivate:[pn.h,qn._]},{path:"settings",component:xT,loadChildren:()=>Promise.resolve().then(h.bind(h,2509)).then(s=>s.SettingsModule),canActivate:[pn.h,qn._,X_],canDeactivate:[Nn.M],data:{permissions:[en.a[en.a.All]]}},{path:"users",loadChildren:()=>Promise.resolve().then(h.bind(h,7101)).then(s=>s.UsersModule),canActivate:[pn.h,qn._]},{path:"roles",component:K_,canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.UserManager],en.a[en.a.UserManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}},{path:"roles/:Id",component:Dr,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ss,canDeactivate:[Nn.M]},{path:"users",component:Fa,canDeactivate:[Nn.M]}],resolve:{role:qu.v},canDeactivate:[Nn.M],canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.UserManager],en.a[en.a.All]]}},{path:"roles/view/:Id",component:qf,loadChildren:()=>h.e(907).then(h.bind(h,5907)).then(s=>s.ViewRolesModule),resolve:{role:qu.v},canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.UserManager],en.a[en.a.UserManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}},{path:"claim-types",loadChildren:()=>Promise.resolve().then(h.bind(h,3730)).then(s=>s.ClaimTypesModule),canActivate:[pn.h,qn._]},{path:"starter-mode",loadChildren:()=>Promise.resolve().then(h.bind(h,9624)).then(s=>s.StarterModeModule),canActivate:[pn.h,Y_.H]},{path:"unauthorized",component:Ka},{path:"forbidden",component:jl},{path:"auth",component:Ga,data:{skipRouteLocalization:!0}},{path:"resourcenotfound",component:Ha,canActivate:[pn.h,qn._]},{path:"**",component:Lo,canActivate:[pn.h,qn._]}];var ho=h(6026),ji=h(9988),ed=h(9564);let jc=(()=>{class s{constructor(n,a){this.http=n,this.actionUrl="Scopes",this.headers=a.setHeaders()}get(n,a,l){let T=new w.Nl;return n&&(T=T.append("page",n)),a&&(T=T.append("pageSize",a)),(0,Ci.gP)(l)||(T=T.append("name",l)),this.http.get(this.actionUrl,{headers:this.headers,params:T})}createScope(n){return this.http.post(this.actionUrl,n,{headers:this.headers})}getScope(n){return this.http.get(`${this.actionUrl}/${n}`,{headers:this.headers})}updateScope(n){return this.http.put(`${this.actionUrl}/${n.id}`,n,{headers:this.headers})}deleteScope(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(w.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var mh=h(7957),fi=h(7329),_n=h(8575);function ar(){return p.k0.pattern(/^[\d\w-]*$/)}var hc=h(803),Ur=h(2292);function Gg(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function td(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",9)(1,"app-pill-list",10),e.bIt("onDelete",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.removeResource(l))}),e.k0s()()}if(2&s){const n=e.XpG();e.R7$(),e.Y8G("values",n.resources)}}let _l=(()=>{class s{constructor(n,a,l){this.fb=n,this.toastrService=a,this.translateService=l,this.resources=[]}ngOnInit(){this.resourcesForm=this.fb.group({newResource:["",[p.k0.required,ar()]]})}addResource(){var n=this.resourcesForm.get("newResource").value;if(""!==n)if(n.indexOf(" ")>=0){const a=this.translateService.instant("Scopes.Resources.CannotHaveSpaces");this.toastrService.error(a)}else if(this.resources.includes(n)){const a=this.translateService.instant("Scopes.Resources.AlreadyAdded");this.toastrService.error(a)}else this.resources.includes(n)||this.resources.push(n),this.resourcesForm.get("newResource").setValue("");else this.toastrService.error(this.translateService.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(n){this.resources.splice(n,1)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const n={};return n.resources=this.resources,n}toSummaryMap(){const n=new Map;return n.set("resources",this.resources),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Zn.tw),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-resources-step"]],inputs:{data:"data"},decls:14,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-resource-input","formControlName","newResource","type","text","name","New Resource","left","",1,"tw-form-control",3,"placeholder"],["id","addResourceButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6 tw-border tw-border-grey-300 tw-px-2 tw-pt-1 tw-pb-2",4,"ngIf"],[1,"tw-mt-6","tw-border","tw-border-grey-300","tw-px-2","tw-pt-1","tw-pb-2"],[3,"onDelete","values"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Gg,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(T),e.Njj(l.addResource())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.DNE(13,td,2,1,"div",8)}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"Scopes.Wizard.ResourcesStep"),e.npT),e.R7$(4),e.Y8G("formGroup",l.resourcesForm),e.R7$(),e.Y8G("id","NewResource")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,10,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(12,12,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.resources.length>0))},dependencies:[vn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,hc.f,Ur.L,vn.P9,Cn.D9],encapsulation:2})}}return s})();function tp(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}let np=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.scopeDetailsForm=this.fb.group({name:["",[p.k0.required,ar()]],displayName:["",[p.k0.required]],description:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.scopeDetailsForm.invalid}hosted(){}toStepDto(){const n={};return n.name=this.scopeDetailsForm.get("name").value,n.displayName=this.scopeDetailsForm.get("displayName").value,n.description=this.scopeDetailsForm.get("description").value,n}toSummaryMap(){const n=new Map;return n.set("name",[this.scopeDetailsForm.get("name").value]),n.set("displayName",[this.scopeDetailsForm.get("displayName").value]),n.set("description",[this.scopeDetailsForm.get("description").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-details-step"]],inputs:{data:"data"},decls:12,vars:14,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Name","id","Name","formControlName","name","required","",1,"tw-form-control"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,tp,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4),e.nrm(7,"input",5),e.k0s(),e.j41(8,"app-form-row",4),e.nrm(9,"input",6),e.k0s(),e.j41(10,"app-form-row",7),e.nrm(11,"textarea",8),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,12,"Scopes.Wizard.EnterBasicDetails"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopeDetailsForm),e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help"),e.R7$(2),e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,vn.P9,Cn.D9],encapsulation:2})}}return s})();class J_ extends mh.p{constructor(){super(),this.nameComponentMap.set(ji.$.AddOpenIddictScope,[new fi.W(np,{stepName:"ScopeDetailsStepComponent"}),new fi.W(_l,{stepName:"ResourcesStepComponent"})]),this.nameTitleMap.set(ji.$.AddOpenIddictScope,new _n.J("Scopes.Wizard.Setup","Scopes.Wizard.Title"))}}var Hg=h(2420),gh=h(1715);function Ho(s,g){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function Dl(s,g){}function Wg(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Za(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function Al(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function Q_(s,g){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let Kg=(()=>{class s extends Hg.P{constructor(n,a,l,T){super(n,a,l),this.errorService=n,this.toastr=a,this.translate=l,this.scopeService=T,this.wizardProvider=new J_,this.wizardName=ji.$.AddOpenIddictScope}submit(){const n=this.getWizardDto();this.scopeService.createScope(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${n.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated")),this.hideWizard()},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(jc))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scope-wizard-host"]],features:[e.Jv_([]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Ho,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Dl,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Wg,3,4,"button",12)(17,Za,3,3,"button",13)(18,Al,3,3,"button",14)(19,Q_,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let T;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(T=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==T?T:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[vn.bT,gh.t,Cn.D9],encapsulation:2})}}return s})();const Z_=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function q_(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-scope-wizard-host",8),e.bIt("wizardCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("hide",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("wizardName",n.wizardType)}}function ip(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",13)(1,"label",14),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",15),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2);return e.DH7(T.pageSize,l)||(T.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",16),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",17),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",18),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(2);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function rp(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,9),e.DNE(2,ip,14,14,"div",10),e.bVm(),e.qex(3,11),e.j41(4,"button",12),e.bIt("click",function(){e.eBV(n);const l=e.XpG(),T=e.sdS(3);return e.Njj(l.showWizard(T))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function sp(s,g){1&s&&e.nrm(0,"app-simple-loader")}function vh(s,g){1&s&&(e.j41(0,"div",19)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Scopes.NoneFound")))}function eb(s,g){1&s&&(e.j41(0,"span",36),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function zg(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",28)(1,"td",29),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",30),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.EFF(5),e.k0s(),e.j41(6,"td",31),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.DNE(9,eb,3,3,"span",33),e.k0s(),e.j41(10,"td",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.j41(11,"button",34),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.viewOrEditScope(l))}),e.nrm(12,"span",35),e.j41(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit,a=e.XpG(2);e.R7$(2),e.AVh("tw-text-blue-500",!n.reserved),e.R7$(),e.JRh(n.displayName),e.R7$(2),e.SpI(" ",n.name," "),e.R7$(2),e.SpI(" ",n.description," "),e.R7$(2),e.Y8G("ngIf",n.reserved),e.R7$(3),e.Y8G("ngClass",e.l_i(10,Z_,!a.isIdentityServerManagerReadOnly&&!n.reserved,a.isIdentityServerManagerReadOnly||n.reserved)),e.R7$(2),e.JRh(e.bMT(15,8,"Common.Edit"))}}function op(s,g){if(1&s&&(e.j41(0,"table",20)(1,"thead")(2,"tr")(3,"th",21),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",22),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",23),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",24)(13,"span",25),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",24)(17,"span",25),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody",26),e.DNE(21,zg,16,13,"tr",27),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Common.DisplayName")),e.R7$(3),e.JRh(e.bMT(8,8,"Common.Name")),e.R7$(3),e.JRh(e.bMT(11,10,"Common.Description")),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.pagedResult.results)}}function Yg(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-pager",37),e.bIt("onGoToPage",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}let ap=(()=>{class s extends uo.if{constructor(n,a,l,T,q,Te,Ze,_t,$t){super(Ze,Te,!0),this.openiddictScopeService=n,this.router=a,this.errorService=l,this.localize=T,this.titleService=q,this.translate=Te,this.securityService=_t,this.modalService=$t,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.wizardType=ji.$.AddOpenIddictScope,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,this.page=1,{searchTerm:n,page:this.page,pageSize:this.pageSize}}ngOnInit(){this.titleService.setTitle(this.translate.instant("Nav.Scopes")+` - ${Ut.$9.SITE_TITLE}`);const n=this.pageStream.pipe((0,wi.T)(T=>(this.page=T,{searchTerm:this.term,page:T,pageSize:this.pageSize}))),a=this.pageSizeStream.pipe((0,wi.T)(T=>(this.pageSize=T,{searchTerm:this.term,page:this.page,pageSize:T})));n.pipe((0,pa.X)(a),(0,pa.X)(this.searchSource),(0,pa.X)(this.enterKeySource),(0,Xa.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ia.Z)(T=>(this.isLoading=!0,this.openiddictScopeService.get(T.page,T.pageSize,T.searchTerm).pipe((0,ra.c)(200))))).subscribe({next:T=>{this.pagedResult=T,this.isLoading=!1},error:T=>{this.errorService.handleError(T),this.isLoading=!1}})}searchScope(n){this.searchTermStream.next(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditScope(n){this.isInReadOnlyMode||n.reserved?this.viewScope(n):this.editScope(n)}viewScope(n){const a=this.localize.translateRoute("/scopes/view");this.router.navigate([a,n.id])}editScope(n){const a=this.localize.translateRoute("/scopes");this.router.navigate([a,n.id])}get isInReadOnlyMode(){return(0,Ci.ci)(this.securityService.userPermissions)}get isIdentityServerManagerReadOnly(){return(0,Ci.ci)(this.securityService.userPermissions)}refreshList(){this.ngOnInit()}showWizard(n){this.modalService.show(n,{id:ho.R.Id,ariaLabelledBy:ho.R.TileId,ariaDescribedby:ho.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ho.R.Id)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(jc),e.rXU(St.Ix),e.rXU(ee.I),e.rXU(zn.QG),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU($r.i),e.rXU(xt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:12,vars:11,consts:[["scopeWizardModal",""],[3,"title"],["id","scopesList",1,"tw-container","tw-mx-auto"],[3,"onSearch","placeholder"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],[3,"wizardCancel","hide","finish","wizardName"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"md:tw-1/4"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","scopesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const T=e.RV6();e.nrm(0,"app-title-bar",1),e.nI1(1,"translate"),e.DNE(2,q_,1,1,"ng-template",null,0,e.C5r),e.j41(4,"div",2)(5,"app-search",3),e.nI1(6,"translate"),e.bIt("onSearch",function(Te){return e.eBV(T),e.Njj(l.searchScope(Te))}),e.k0s(),e.DNE(7,rp,7,4,"app-action-bar",4)(8,sp,1,0,"app-simple-loader",4)(9,vh,4,3,"div",5)(10,op,22,16,"table",6)(11,Yg,1,3,"app-pager",7),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,7,"Scopes.Title")),e.R7$(5),e.Y8G("placeholder",e.bMT(6,9,"Scopes.SearchPlaceholder")),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isInReadOnlyMode),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",(!l.pagedResult||l.pagedResult.results.length<=0)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",l.pagedResult&&l.pagedResult.results.length>0&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.pagedResult?null:l.pagedResult.results.length)>0&&!l.isLoading))},dependencies:[vn.YU,vn.Sq,vn.bT,p.xH,p.y7,p.wz,p.BC,p.vS,pl.n,$o.S,nn.z,Ms.d,Ja.B,Kg,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const lp=[...jg,{path:"applications",loadChildren:()=>h.e(488).then(h.bind(h,4488)).then(s=>s.ApplicationsModule),canActivate:[pn.h,qn._]},{path:"scopes",component:ap,canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}}];let nb=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forRoot(lp,{scrollPositionRestoration:"enabled"}),St.iI]})}}return s})();var Os=h(1683),bl=h(2771);let cs=(()=>{class s{constructor(){this.cachedClaimTypes=new bl.m(1),this.cachedClaimTypes$=this.cachedClaimTypes.asObservable()}setClaimTypes(n){this.cachedClaimTypes.next(n)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var $c=h(8455),cp=h(2571),Jg=h(4179),fc=h(983),Pa=h(9437),up=h(8261);let nd=(()=>{class s{constructor(n,a){this.identityResourceService=n,this.errorService=a}resolve(n,a){const l=n.paramMap.get("Id");return this.identityResourceService.getResource(l).pipe((0,wi.T)(T=>(T&&this.identityResourceService.getCachedIdentityResource().next(T),T)),(0,Pa.W)((T,q)=>(404===T.status?this.errorService.resourceNotFound(So.v.identityResource):this.errorService.handleError(T),(0,fc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(up.A),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ga=h(5893);let ib=(()=>{class s{constructor(n,a){this.protectedResourceService=n,this.errorService=a}resolve(n,a){const l=n.paramMap.get("Id");return this.protectedResourceService.getResource(l).pipe((0,wi.T)(T=>(T&&this.protectedResourceService.getCachedProtectedResource().next(T),T)),(0,Pa.W)((T,q)=>(404===T.status?this.errorService.resourceNotFound(So.v.protectedResource):this.errorService.handleError(T),(0,fc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(ga.x),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Gc=h(7415),Kl=h(367),zl=h(5731),pc=h(4193),id=h(3665),Yl=h(7175),rd=h(1993),va=h(8389),Hc=h(9945),Qg=h(6843),Wc=h(7677),Xl=h(4367);let rb=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[nd,ib,cs],imports:[vn.MD,St.iI,Cn.h,p.YN,Os.Y,p.X1,Et.jr,Re.Ss,Jg.z,cp.A,$c.p,Je.h6,xt.Q_,Gc.P,zn.XE,Kl.m,zl.i,pc.c,id.t,Yl.c,rd.E,va.w,Hc.f,Qg.l,Wc.N,Xl.N]})}}return s})();var sd=h(2261),Kc=h(9398),Zg=h(3577);let od=(()=>{class s{constructor(n,a,l){this.clientService=n,this.clientCachingService=a,this.errorService=l}resolve(n,a){const l=n.paramMap.get("Id");return this.clientService.getClient(l).pipe((0,wi.T)(T=>(this.clientCachingService.unsavedCache.next(T),T)),(0,Pa.W)(T=>(404===T.status?this.errorService.resourceNotFound(So.v.client):this.errorService.handleError(T),(0,fc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Kc._),e.KVO(Zg.e),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var zc=h(3384),qg=h(4442),mc=h(9686);let ad=(()=>{class s{constructor(n){this.fileDownloader=n,this.actionUrl="clients/export"}exportAllClients(){this.fileDownloader.buildForm(this.actionUrl).submitForm()}exportSelectedClients(n){const a=this.actionUrl+"/specified",l=new Map;l.set("clientIds",n.join(",")),this.fileDownloader.buildFormWithCustomInputs(a,l).submitForm()}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(mc.D))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ld=h(8556),e0=h(2036),dp=h(9475),cd=h(8251),yh=h(6599),Ba=h(9947),hp=h(6366),Yc=h(5691),Wo=h(7673),ud=h(8173),pr=h(6701),Rl=function(s){return s.Client="Client",s.WsFed="WsFed",s.Saml="Saml",s}(Rl||{}),sb=h(9156),Jl=h(3853),gc=h(3497),ya=h(9550),fp=h(2467);const ob=["cloneClientModal"],_h=["addClaimTypeModal"],vc=()=>({backdrop:"static",keyboard:"false"});function ab(s,g){if(1&s&&(e.j41(0,"div",25)(1,"div"),e.EFF(2),e.k0s()()),2&s){const n=e.XpG();e.R7$(2),e.JRh(n.errorCode)}}function t0(s,g){if(1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",27),e.k0s()()),2&s){const n=e.XpG();e.Y8G("id","cloneSecrets")("label","Clients.Clone.CloneSecrets")("help","Clients.Clone.CloneSecretsDescription")("isLast",n.clientType!==n.clientTypes.Saml),e.R7$(),e.Y8G("id","cloneSecrets")}}function n0(s,g){1&s&&(e.j41(0,"app-form-row",16)(1,"app-form-toggle",26),e.nrm(2,"input",28),e.k0s()()),2&s&&(e.Y8G("id","cloneCerts")("label","Clients.Clone.CloneCerts")("help","Clients.Clone.CloneCertsDescription")("isLast",!0),e.R7$(),e.Y8G("id","cloneSecrets"))}let Xc=(()=>{class s{constructor(n,a,l,T,q){this.clientsService=n,this.fb=a,this.localize=l,this.router=T,this.translate=q,this.clientTypeKey=gc.E.Default,this.clientTypes=pr.s,this.errorCode=""}ngOnInit(){this.newClientForm=this.fb.group({clientId:["",p.k0.required],clientName:["",p.k0.required],cloneSecrets:[!1],cloneCerts:[!1]}),this.clientType===this.clientTypes.Saml?this.clientTypeKey=gc.E.Saml:this.clientType===this.clientTypes.WsFed&&(this.clientTypeKey=gc.E.WsFed)}cloneClient(){const n=this.newClientForm.getRawValue();this.clientsService.cloneClient(this.client.id,n).subscribe(a=>{const l=a.headers.get("location");if(l){this.clearForm();const T=l.lastIndexOf("/"),q=l.substring(T+1),Te=[this.localize.translateRoute("/clients"),q];this.router.navigate(Te)}},a=>{this.errorCode=this.translate.instant(400===a.status?`Errors.CloneClientError.${a.error.errorCode}`:"Errors.CloneClientError.Default")})}show(){this.cloneClientModal.show(),this.setupForm()}setupForm(){const n=this.translate.instant("Clients.Clone.CopyOf").replace("{0}",this.client.clientName);this.newClientForm.patchValue({clientId:(0,Ci.Nl)(),clientName:n,cloneSecrets:!1,cloneCerts:!1})}clearForm(){this.cloneClientModal.hide(),this.errorCode="",this.newClientForm.reset()}setRandomID(){this.newClientForm.patchValue({clientId:(0,Ci.Nl)()})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Kc._),e.rXU(p.ze),e.rXU(zn.QG),e.rXU(St.Ix),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-clone-client"]],viewQuery:function(a,l){if(1&a&&(e.GBs(ob,7),e.GBs(_h,7)),2&a){let T;e.mGM(T=e.lsd())&&(l.cloneClientModal=T.first),e.mGM(T=e.lsd())&&(l.addClaimTypeModal=T.first)}},inputs:{client:"client",clientType:"clientType"},decls:38,vars:31,consts:[["cloneClientModal","bs-modal"],["bsModal","","id","cloneClientModal","role","dialog","aria-hidden","true","tabindex","-1",1,"modal",3,"config"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-body","scrollbars",3,"formGroup"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","cloneClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],[1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[3,"id","label","help","isLast"],["id","cloneClientName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[3,"id","label","help","isLast",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","confirmCloneBtn",1,"tw-btn-success",3,"click","disabled"],["id","closeCloneModal",1,"tw-btn-link","tw--mr-4",3,"click"],[1,"tw-alert-danger","tw-mb-6"],[3,"id"],["id","cloneSecrets","type","checkbox","name","cloneSecrets","formControlName","cloneSecrets",1,"tw-form-switch__input"],["id","cloneCerts","type","checkbox","name","cloneCerts","formControlName","cloneCerts",1,"tw-form-switch__input"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",6),e.bIt("click",function(){return e.eBV(T),e.Njj(l.clearForm())}),e.nrm(9,"span",7),e.j41(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.j41(13,"div",9),e.DNE(14,ab,3,1,"div",10),e.j41(15,"app-form-row",11),e.nI1(16,"keyToString"),e.j41(17,"div",12),e.nrm(18,"input",13),e.j41(19,"button",14),e.bIt("click",function(){return e.eBV(T),e.Njj(l.setRandomID())}),e.nrm(20,"span",15),e.j41(21,"span",8),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()(),e.j41(24,"app-form-row",16),e.nrm(25,"input",17),e.k0s(),e.DNE(26,t0,3,5,"app-form-row",18)(27,n0,3,5,"app-form-row",18),e.k0s(),e.nrm(28,"div",19),e.j41(29,"div",20)(30,"div",21)(31,"div",22)(32,"button",23),e.bIt("click",function(){return e.eBV(T),e.Njj(l.cloneClient())}),e.EFF(33),e.nI1(34,"translate"),e.k0s()(),e.j41(35,"button",24),e.bIt("click",function(){return e.eBV(T),e.Njj(l.clearForm())}),e.EFF(36),e.nI1(37,"translate"),e.k0s()()()()()()}2&a&&(e.Y8G("config",e.lJ4(30,vc)),e.R7$(6),e.JRh(e.bMT(7,18,"Clients.Clone.Title")),e.R7$(5),e.JRh(e.bMT(12,20,"Common.Close")),e.R7$(2),e.Y8G("formGroup",l.newClientForm),e.R7$(),e.Y8G("ngIf",""!=l.errorCode),e.R7$(),e.Y8G("id","cloneClientId")("label",e.bMT(16,22,l.clientTypeKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(23,24,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","cloneClientName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp")("isLast",0===l.client.clientSecrets.length&&l.clientType!==l.clientTypes.Saml),e.R7$(2),e.Y8G("ngIf",0!==l.client.clientSecrets.length),e.R7$(),e.Y8G("ngIf",l.clientType===l.clientTypes.Saml),e.R7$(5),e.Y8G("disabled",!l.newClientForm.valid),e.R7$(),e.SpI(" ",e.bMT(34,26,"Common.Save")," "),e.R7$(3),e.JRh(e.bMT(37,28,"Common.Cancel")))},dependencies:[vn.bT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m,xt.hZ,Cn.D9,fp.C],encapsulation:2})}}return s})();const Jc=(s,g)=>({title:s,link:g}),fo=s=>[s];function lb(s,g){1&s&&(e.j41(0,"option",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function r0(s,g){1&s&&(e.j41(0,"option",30),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function pp(s,g){1&s&&(e.j41(0,"option",31),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function cb(s,g){1&s&&(e.j41(0,"option",32),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function s0(s,g){1&s&&(e.j41(0,"option",33),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function bh(s,g){1&s&&(e.j41(0,"span",34),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function ub(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function o0(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function mp(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function Ch(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function a0(s,g){1&s&&e.nrm(0,"app-custom-tab",19),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}let db=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t,$t,un,Sn,Tn,Fn,On,oi,Si){this.clientsService=n,this.clientCachingService=a,this.relyingPartyCachingService=l,this.serviceProviderCachingService=T,this.samlClientService=q,this.wsFedClientService=Te,this.clientViewService=Ze,this.titleService=_t,this.translate=$t,this.errorService=un,this.router=Sn,this.route=Tn,this.toastr=Fn,this.localize=On,this.dialogService=oi,this.licenseService=Si}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(n=>{this.client=n;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()}),this.relyingPartyCachingService.unsavedCache$.subscribe(n=>{this.checkSubmitEnabled()}),this.serviceProviderCachingService.unsavedCache$.subscribe(n=>{this.checkSubmitEnabled()}),this.licenseService.getLicenseInfo().pipe((0,Gn.$)()).subscribe({next:n=>{this.licenseInfo=n}})}checkSubmitEnabled(){const n=[...Array.from(this.clientCachingService.componentDirtyValidMap.values()),...Array.from(this.relyingPartyCachingService.componentDirtyValidMap.values()),...Array.from(this.serviceProviderCachingService.componentDirtyValidMap.values())];this.submitDisabled=0===n.length||n.some(a=>!a.isValid)}ngOnDestroy(){this.clientSubscription.unsubscribe()}deleteClient(n){this.clientsService.deleteClient(n).subscribe(a=>{const l=this.localize.translateRoute("/clients");this.router.navigate([l]),this.toastr.success(this.client.clientName+" "+this.translate.instant("Common.Delete.Deleted"),this.translate.instant("Clients.Deleted"))},a=>{const l={toastBody:this.translate.instant("Notifications.Delete Error Title"),toastTitle:this.translate.instant("Notifications.Delete User Message")};(this.errorService.handleError(a,l)&ws.I.Toast)!==ws.I.Toast&&this.toastr.error(l.toastBody,l.toastTitle)})}saveClient(){const n=this.buildStreamArray();(0,Ai.p)(n).subscribe(a=>{a.some(T=>T instanceof w.yz)?this.handleError(a):this.handleSave(a),this.checkSubmitEnabled()},a=>{this.errorService.handleError(a)})}buildStreamArray(){const n=[];return this.clientCachingService.componentDirtyValidMap.size>0&&n.push(this.clientsService.updateClient(this.client).pipe((0,wi.T)(()=>Rl.Client),(0,Pa.W)(a=>(0,Wo.of)(a)))),this.client.clientType===pr.s.WsFed&&this.relyingPartyCachingService.componentDirtyValidMap.size>0?this.relyingPartyCachingService.unsavedCache$.pipe((0,Gn.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ci.Li)(a.claimMappings),n.push(this.wsFedClientService.updateRelyingParty(this.client.id,l).pipe((0,wi.T)(()=>Rl.WsFed),(0,Pa.W)(T=>(0,Wo.of)(T))))}):this.client.clientType===pr.s.Saml&&this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.unsavedCache$.pipe((0,Gn.$)()).subscribe(a=>{const l=JSON.parse(JSON.stringify(a));l.claimMappings=(0,Ci.Li)(a.claimMappings),n.push(this.samlClientService.updateServiceProvider(this.client.id,l).pipe((0,wi.T)(()=>Rl.Saml),(0,Pa.W)(T=>(0,Wo.of)(T))))}),n}handleSave(n){n.forEach(a=>{switch(a){case Rl.WsFed:this.relyingPartyCachingService.onSave();break;case Rl.Saml:this.serviceProviderCachingService.onClientSave();break;case Rl.Client:this.clientCachingService.onClientSave()}}),this.toastr.success(this.translate.instant("Clients.UpdatedClient"),this.translate.instant("Notifications.Saving Success Title"))}handleError(n){const a=n.filter(l=>l instanceof w.yz);a.length===n.length?this.errorService.handleError(a[0]):400===a[0].status?(this.toastr.warning(this.translate.instant("Only some parts updated"),this.translate.instant("Partial Update Warning")),this.handleSave(_.R9(n,a))):this.errorService.handleError(a[0])}canDeactivate(){return!(this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&(this.clientCachingService.componentDirtyValidMap.size>0&&this.clientCachingService.componentDirtyValidMap.clear(),this.relyingPartyCachingService.componentDirtyValidMap.size>0&&this.relyingPartyCachingService.componentDirtyValidMap.clear(),this.serviceProviderCachingService.componentDirtyValidMap.size>0&&this.serviceProviderCachingService.componentDirtyValidMap.clear())}),this.dialogService.eventStream)}isCloneDisabled(){return this.clientCachingService.componentDirtyValidMap.size>0||this.relyingPartyCachingService.componentDirtyValidMap.size>0||this.serviceProviderCachingService.componentDirtyValidMap.size>0}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Kc._),e.rXU(Zg.e),e.rXU(hp.z),e.rXU(Yc.d),e.rXU(sb.s),e.rXU(e0.c),e.rXU(ud.q),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(ee.I),e.rXU(St.Ix),e.rXU(St.nX),e.rXU(Zn.tw),e.rXU(zn.QG),e.rXU(ko.o),e.rXU(Jl.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client"]],features:[e.Jv_([ud.q])],decls:61,vars:65,consts:[["cloneClientModal",""],["deleteClientModal",""],[3,"title","crumbs","hasButton","hasTabs"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["id","editClient",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["id","cloneBtn","type","button","data-toggle","modal",1,"tw-hidden","tw-btn","tw-mr-3","tw-mb-3","xs:tw-inline-flex",3,"click","disabled"],["right",""],["type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"client","clientType"],[3,"delete","resourceName"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"app-title-bar",2),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,3),e.j41(4,"div",4)(5,"label",5),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",6)(9,"select",7),e.bIt("change",function(Te){return e.eBV(T),e.Njj(l.mobRoute(Te.target.value))}),e.j41(10,"option",8),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",8),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,lb,3,3,"option",9)(17,r0,3,3,"option",10)(18,pp,3,3,"option",11)(19,cb,3,3,"option",12),e.j41(20,"option",13),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,s0,3,3,"option",14),e.j41(24,"option",15),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",16),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,bh,3,3,"span",17),e.k0s()()()(),e.j41(31,"app-custom-tabs",18),e.nrm(32,"app-custom-tab",19),e.DNE(33,ub,1,2,"app-custom-tab",20)(34,o0,1,2,"app-custom-tab",20)(35,mp,1,2,"app-custom-tab",20)(36,Ch,1,2,"app-custom-tab",20),e.nrm(37,"app-custom-tab",19),e.DNE(38,a0,1,2,"app-custom-tab",20),e.nrm(39,"app-custom-tab",19)(40,"app-custom-tab",21),e.k0s(),e.bVm(),e.k0s(),e.j41(41,"div",22),e.nrm(42,"router-outlet"),e.k0s(),e.j41(43,"app-button-bar")(44,"button",23),e.bIt("click",function(){return e.eBV(T),e.Njj(l.saveClient())}),e.j41(45,"span"),e.EFF(46),e.nI1(47,"translate"),e.k0s()(),e.j41(48,"button",24),e.bIt("click",function(){e.eBV(T);const Te=e.sdS(57);return e.Njj(Te.show())}),e.j41(49,"span"),e.EFF(50),e.nI1(51,"translate"),e.k0s()(),e.qex(52,25),e.j41(53,"button",26),e.bIt("click",function(){e.eBV(T);const Te=e.sdS(59);return e.Njj(Te.show())}),e.EFF(54),e.nI1(55,"translate"),e.k0s(),e.bVm(),e.k0s(),e.nrm(56,"app-clone-client",27,0),e.j41(58,"app-delete-confirmation-modal",28,1),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.deleteClient(l.client.id))}),e.k0s(),e.nrm(60,"app-can-deactivate")}if(2&a){let T,q;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(63,fo,e.l_i(60,Jc,e.bMT(1,38,"Nav.Clients"),e.bMT(2,40,"/clients"))))("hasButton",!0)("hasTabs",!0),e.R7$(6),e.JRh(e.bMT(7,42,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,44,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,46,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,48,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,50,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,52,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(T=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==T&&T),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(q=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==q&&q),e.R7$(4),e.Y8G("disabled",l.submitDisabled),e.R7$(2),e.JRh(e.bMT(47,54,"Common.SaveAll")),e.R7$(2),e.Y8G("disabled",l.isCloneDisabled()),e.R7$(2),e.JRh(e.bMT(51,56,"Clients.Clone.Label")),e.R7$(4),e.JRh(e.bMT(55,58,"Common.Delete.Title")),e.R7$(2),e.Y8G("client",l.client)("clientType",l.client.clientType),e.R7$(2),e.Y8G("resourceName",l.client.clientName)}},dependencies:[St.n3,vn.bT,p.xH,p.y7,an.G,wn.v,nn.z,fa.E,_o.z,Vo.w,Xc,Cn.D9,zn.tl],encapsulation:2})}}return s})();h(78),h(6772),h(1927);class l0{constructor(g){this.id=g.id,this.clientId=g.clientId,this.clientName=g.clientName,this.description=g.description,this.enabled=g.enabled,this.selected=!1,this.nonEditable=g.nonEditable,this.clientType=g.clientType}}var fb=h(6976),PT=h(4595),wh=h(1744),gp=h(1138),Ko=h(2858),BT=h(7212);class c0 extends wh.$R{set selected(g){this.isSelectable&&(this._selected=g)}get selected(){return this._selected}get isSelectable(){return this.resourceState!==wh.jD.Duplicate&&this.resourceType===wh.ot.Client}constructor(g,n=!0){super(),this._selected=!1,this.conflictedByDependencies=!1,this.secretsAction=gp.r.DoNotSet,this.certificateAction=Ko.AU.DoNotSet,this.identifier=g.identifier,this.resourceType=g.resourceType,this.resourceState=g.resourceState,this.displayType=g.displayType,this.displayName=g.displayName,this.conflicts=g.conflicts,this.dependantClients=g.dependantClients,this.hadSecrets=g.hadSecrets,this.hadCertificates=g.hadCertificates,this.existingHasSecrets=g.existingHasSecrets,this.existingHasCertificates=g.existingHasCertificates,this.selected=n,this.certificates=new BT.D}}var LT=h(9113),vp=h(5826),Ml=h(5088),u0=h(7629),yc=h(6193);function pb(s,g){if(1&s&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressComplete+"%"),e.BMQ("aria-valuenow",n.progressComplete)}}function mb(s,g){}let yp=(()=>{class s{constructor(n){this.viewContainerRef=n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(e.c1b))}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","appImportStepHost",""]]})}}return s})(),UT=(()=>{class s{constructor(n){this.importWizardController=n,this.finish=new e.bkB,this.warning=new e.bkB,this.components=new Map,this.progressComplete=5,this.progressStepString="",this.disableButtons=!1,this.hideProgressBar=!1}ngOnInit(){this.moveSubscription=this.importWizardController.move.subscribe(n=>{n?this.finish.emit():this.importWizardController.areStepsRemaning()&&(this.displayNext(),this.progressStepString=this.getStepsProgressForCurrentStep())}),this.importWizardController.setupInitialStep(),this.displayNext()}displayNext(){this.wizardHost.viewContainerRef.detach();const n=this.importWizardController.getCurrentStep();let a;if(n.component===Ko.zI){const l=this.components.get(n);this.wizardHost.viewContainerRef.detach(),a=l??this.wizardHost.viewContainerRef.createComponent(n.component)}else a=this.wizardHost.viewContainerRef.createComponent(n.component);this.wizardHost.viewContainerRef.detach(),this.wizardHost.viewContainerRef.insert(a.hostView),a.instance.data=n.data,a.instance.importWizardController=this.importWizardController,this.title=n.stepTitle,this.components.set(n,a),this.updateProgressBar(),this.hideProgressBar=a.instance.isWarningModal||a.instance.hideProgressBar,this.warning.emit(a.instance.isWarningModal)}closeButton(){const n=this.importWizardController.getCurrentStep();n.component!==Ml.E?this.importWizardController.cancel():this.components.get(n).instance.goNext()}getStepsProgressForCurrentStep(){const n=this.importWizardController.getCurrentStep();if(n.component===gp.u||n.component===Ko.zI){const a=this.importWizardController.stepsCompleted.filter(T=>T.component===n.component).length,l=a+this.importWizardController.stepsAhead.filter(T=>T.component===n.component).length;return 1===l?"":"("+(a+1)+"/"+l+")"}return""}disableCloseButton(){return this.importWizardController.disableCloseButton}updateProgressBar(){this.importWizardController.stepsCompleted.length>0?1===this.importWizardController.stepsAhead.length?this.progressComplete=100:this.importWizardController.getCurrentStep().component!==u0.oG&&(this.progressComplete=(this.importWizardController.stepsCompleted.length+1)/(this.importWizardController.stepsAhead.length+this.importWizardController.stepsCompleted.length)*100):this.progressComplete=5}ngOnDestroy(){this.importWizardController.clear(),this.components.forEach(n=>{n.destroy()}),this.components.clear(),this.moveSubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(yc.V))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard-host"]],viewQuery:function(a,l){if(1&a&&e.GBs(yp,7),2&a){let T;e.mGM(T=e.lsd())&&(l.wizardHost=T.first)}},outputs:{finish:"finish",warning:"warning"},decls:12,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],["class","modal-progress",4,"ngIf"],["appImportStepHost",""],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.closeButton()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,pb,2,3,"div",5),e.j41(10,"div"),e.DNE(11,mb,0,0,"ng-template",6),e.k0s()),2&a&&(e.R7$(2),e.Lme("",e.bMT(3,5,l.title)," ",l.progressStepString,""),e.R7$(2),e.Y8G("disabled",l.disableCloseButton()),e.R7$(3),e.JRh(e.bMT(8,7,"Common.Close")),e.R7$(2),e.Y8G("ngIf",!l.hideProgressBar))},dependencies:[vn.bT,yp,Cn.D9],encapsulation:2})}}return s})();function VT(s,g){1&s&&(e.nrm(0,"app-simple-loader",17),e.nI1(1,"translate")),2&s&&e.Y8G("text",e.bMT(1,1,"Clients.Import.Wizard.Setup.CheckImportPleaseWait"))}function jT(s,g){if(1&s&&(e.j41(0,"div",23)(1,"div"),e.EFF(2),e.k0s()()),2&s){const n=e.XpG(3);e.R7$(2),e.JRh(n.errorCode)}}function $T(s,g){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",18)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,jT,3,1,"div",19),e.j41(6,"app-form-row",20)(7,"div",21)(8,"input",22,1),e.bIt("change",function(l){e.eBV(n);const T=e.XpG(2);return e.Njj(T.handleFileInput(l.target.files))}),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(3),e.JRh(e.bMT(4,6,"Clients.Import.Wizard.Setup.Summary")),e.R7$(2),e.Y8G("ngIf",""!=n.errorCode),e.R7$(),e.Y8G("id","fileInput")("label","Clients.Import.Wizard.Setup.ChooseFile")("help","Clients.Import.Wizard.Setup.ChooseFileHelp")("isLast",!0)}}function GT(s,g){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"div",3)(2,"h5",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hide())}),e.nrm(7,"span",6),e.k0s()(),e.j41(8,"div",7),e.nrm(9,"div",8,0),e.k0s(),e.j41(11,"div",9),e.DNE(12,VT,2,3,"app-simple-loader",10)(13,$T,11,8,"div",2),e.k0s(),e.nrm(14,"div",11),e.j41(15,"div",12)(16,"div",13)(17,"div",14)(18,"button",15),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.startImport())}),e.EFF(19),e.nI1(20,"translate"),e.k0s()(),e.j41(21,"button",16),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hide())}),e.EFF(22),e.nI1(23,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("id",n.titleId),e.R7$(),e.JRh(e.bMT(4,10,"Clients.Import.Wizard.Setup.Title")),e.R7$(2),e.Y8G("disabled",n.disableButtons),e.BMQ("aria-label",e.bMT(6,12,"Common.Close")),e.R7$(7),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading),e.R7$(5),e.Y8G("disabled",n.disableButtons||null==n.fileToUpload),e.R7$(),e.SpI(" ",e.bMT(20,14,"Common.Start")," "),e.R7$(2),e.Y8G("disabled",n.disableButtons),e.R7$(),e.SpI(" ",e.bMT(23,16,"Common.Cancel")," ")}}function gb(s,g){if(1&s){const n=e.RV6();e.j41(0,"div")(1,"app-import-wizard-host",24),e.bIt("warning",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.onWarning(l))})("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.onFinish())}),e.k0s()()}}let Qc=(()=>{class s{constructor(n,a,l,T){this.translate=n,this.clientImportService=a,this.importWizardService=l,this.modalService=T,this.finish=new e.bkB,this.titleId=ho.R.TileId,this.wizardTypes=ji.$,this.isLoading=!1,this.fileToUpload=null,this.isWarningModal=!1,this.storage=sessionStorage,this.importWizardService.resetImport.subscribe(q=>{this.reset(),null!=q&&(this.errorCode=q)})}ngOnInit(){this.reset()}onCancel(){this.hide()}onFinish(){this.finish.emit(),this.hide()}onWarning(n){this.isWarningModal=n}hide(){this.reset(),this.modalService.hide(ho.R.Id)}handleFileInput(n){this.fileToUpload=n.item(0)}reset(){this.isLoading=!1,this.disableButtons=!1,this.showWizard=!1,this.fileToUpload=null,this.errorCode="",this.isWarningModal=!1}startImport(){null!=this.fileToUpload&&this.validateImport()}validateImport(){if(this.isLoading=!0,this.disableButtons=!0,"application/json"!==this.fileToUpload.type)return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidFile"));this.fileToUpload.text().then(n=>{this.clientImportService.validateImportFile(n).subscribe(a=>{try{JSON.parse(n)}catch{return this.reset(),void(this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.InvalidData"))}this.storeFileInStorage(n);const l=a.importResources.map(T=>new c0(T));this.importWizardService.cache.next(l),this.isLoading=!1,this.showWizard=!0},a=>{if(400===a.status){this.reset();const l=a.error;this.errorCode=this.translate.instant(`Errors.${l.errorCode}`),"ValidateImportError.WrongVersion"===l.errorCode&&(this.errorCode=this.errorCode.replace("{0}",l.replacementArgs[0]),this.errorCode=this.errorCode.replace("{1}",l.replacementArgs[1]))}else this.reset(),this.errorCode=this.translate.instant("Clients.Import.Wizard.Setup.Errors.Default")})})}storeFileInStorage(n){this.storage.setItem("importFile",n)}ngOnDestroy(){this.reset(),this.hide()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Cn.c$),e.rXU(LT.qJ),e.rXU(vp.o),e.rXU(xt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-import-wizard"]],outputs:{finish:"finish"},decls:2,vars:2,consts:[["progressBar",""],["fileInput","","selectedFile",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click","disabled"],["aria-hidden","true",1,"fas","fa-times"],[1,"modal-progress"],["role","progressbar",1,"modal-progress-bar",2,"width","2%"],[1,"modal-body"],[3,"text",4,"ngIf"],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["id","importNext",1,"tw-btn-success",3,"click","disabled"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click","disabled"],[3,"text"],[1,"cms","tw-mb-6"],["class","tw-alert-danger tw-mb-6",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".json",1,"tw-form-file","tw-max-w-full",3,"change"],[1,"tw-alert-danger","tw-mb-6"],[3,"warning","finish"]],template:function(a,l){1&a&&e.DNE(0,GT,24,18,"div",2)(1,gb,2,0,"div",2),2&a&&(e.Y8G("ngIf",!l.showWizard),e.R7$(),e.Y8G("ngIf",l.showWizard))},dependencies:[vn.bT,Ms.d,ue.Y,UT,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class Ql{constructor(g){this.clientType=g}}class Zl{constructor(g){this.clientType=g}}let _c=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.callbackUrlForm=this.fb.group({callbackUrl:["",p.k0.required]})}getStepSummary(){const n=new Map;return n.set("callbackUrl",[this.callbackUrlForm.get("callbackUrl").value]),(this.data.clientType===pr.s.BrowserBased||this.data.clientType===pr.s.LegacyClientSide)&&(this.corsUrl=""===this.callbackUrlForm.get("callbackUrl").value?"":(0,Ci.kI)(this.callbackUrlForm.get("callbackUrl").value),n.set("corsurl",[this.corsUrl])),n}getStepDTO(){const n=this.getStepSummary(),a={};return n.forEach((l,T)=>{"corsurl"===T&&(T="allowedCorsOrigins"),"callbackUrl"===T&&(T="redirectUris"),a[T]=l}),a}canNext(){return this.callbackUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-callback-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","CallbackUrl","id","CallbackUrl","formControlName","callbackUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.CallbackURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.callbackUrlForm),e.R7$(),e.Y8G("id","CallbackUrl")("label","Common.CallbackURL")("help","Clients.RedirectURLDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();class _a{constructor(g,n=gc.E.Default){this.clientType=g,this.clientIdKey=n}}function Cl(s,g){1&s&&(e.j41(0,"div")(1,"app-form-row",2),e.nrm(2,"input",13),e.k0s(),e.j41(3,"app-form-row",2),e.nrm(4,"input",14),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","Domain")("label","Common.DisplayURL")("help","Clients.DisplayURLHelp"),e.R7$(2),e.Y8G("id","LogoUrl")("label","Common.LogoURL")("help","Clients.LogoURLHelp"))}function vb(s,g){1&s&&(e.j41(0,"app-form-row",10)(1,"app-form-toggle",15),e.nrm(2,"input",16),e.k0s()()),2&s&&(e.Y8G("id","requireConsent")("label","Clients.RequireConsent.Title")("help","Clients.RequireConsent.Help")("isLast",!0),e.R7$(),e.Y8G("id","requireConsent"))}let ba=(()=>{class s{constructor(n){this.fb=n,this.desFocus=!1,this.hasExtraFields=!1}hosted(){}ngOnInit(){this.descriptionForm=this.fb.group({clientType:[this.data.clientType],clientId:["",[p.k0.required,p.k0.maxLength(100),p.k0.pattern(/^\S*$/)]],clientName:["",[p.k0.required,p.k0.maxLength(50)]],description:["",p.k0.maxLength(1e3)]}),this.hasExtraFields=this.data.clientType===pr.s.Native||this.data.clientType===pr.s.NativePKCE||this.data.clientType===pr.s.BrowserBased||this.data.clientType===pr.s.LegacyClientSide||this.data.clientType===pr.s.ServerSide||this.data.clientType===pr.s.ServerSidePKCE,this.clientIdKey=this.data.clientIdKey,this.hasExtraFields&&(this.descriptionForm.addControl("clientUri",new p.hs("",p.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("logoUri",new p.hs("",p.k0.pattern("^https?://.*$"))),this.descriptionForm.addControl("requireConsent",new p.hs(!0)))}setRandomID(){this.descriptionForm.patchValue({clientId:(0,Ci.Nl)()})}canNext(){return this.descriptionForm.valid}getStepSummary(){const n=new Map;for(const a in this.descriptionForm.value)this.descriptionForm.value.hasOwnProperty(a)&&n.set("clientId"===a?this.clientIdKey:a,[this.descriptionForm.value[a]]);return n.delete("clientType"),n}getStepDTO(){const n=this.descriptionForm.value;return this.hasExtraFields&&(""===this.descriptionForm.controls.clientUri.value&&(n.clientUri=null),""===this.descriptionForm.controls.logoUri.value&&(n.logoUri=null)),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],inputs:{data:"data"},decls:20,vars:21,consts:[[1,"cms","tw-mb-6"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","ClientId","id","ClientId","formControlName","clientId",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","genRandomIdBtn",1,"tw-btn","tw-rounded-l-none",3,"click"],["aria-hidden","true",1,"far","fa-random"],[1,"sr-only"],["id","DisplayName","type","text","name","DisplayName","formControlName","clientName",1,"tw-form-control"],[4,"ngIf"],[3,"id","label","help","isLast"],["id","Description","name","Description","formControlName","description",1,"tw-form-control",3,"blur","focus"],[3,"id","label","help","isLast",4,"ngIf"],["id","Domain","type","text","name","Domain","formControlName","clientUri",1,"tw-form-control"],["type","text","name","LogoUrl","id","LogoUrl","formControlName","logoUri",1,"tw-form-control"],[3,"id"],["id","requireConsent","type","checkbox","formControlName","requireConsent","name","requireConsent",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.j41(4,"div",1)(5,"app-form-row",2),e.nI1(6,"keyToString"),e.j41(7,"div",3),e.nrm(8,"input",4),e.j41(9,"button",5),e.bIt("click",function(){return l.setRandomID()}),e.nrm(10,"span",6),e.j41(11,"span",7),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()(),e.j41(14,"app-form-row",2),e.nrm(15,"input",8),e.k0s(),e.DNE(16,Cl,5,6,"div",9),e.j41(17,"app-form-row",10)(18,"textarea",11),e.bIt("blur",function(){return l.desFocus=!l.desFocus})("focus",function(){return l.desFocus=!l.desFocus}),e.k0s()(),e.DNE(19,vb,3,5,"app-form-row",12),e.k0s()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,15,"Clients.EnterBasicDetails")),e.R7$(2),e.Y8G("formGroup",l.descriptionForm),e.R7$(),e.Y8G("id","ClientId")("label",e.bMT(6,17,l.clientIdKey))("help","Clients.IDHelp"),e.R7$(7),e.JRh(e.bMT(13,19,"Common.GenerateRandom")),e.R7$(2),e.Y8G("id","DisplayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields),e.R7$(),e.Y8G("id","Description")("label","Common.Description")("help","Clients.DescriptionHelp")("isLast",!l.hasExtraFields),e.R7$(2),e.Y8G("ngIf",l.hasExtraFields))},dependencies:[vn.bT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m,Cn.D9,fp.C],encapsulation:2})}}return s})();var xl=h(9767),yb=h(9764);const d0=["secretPicker"];let bc=(()=>{class s{constructor(){this.secrets=[],this.filePickerClosed=!0}getStepSummary(){const n=new Map;return n.set("secrets",this.secrets.map(a=>a.type)),n}getStepDTO(){return{clientSecrets:this.secretPicker.clientSecrets}}canNext(){return this.filePickerClosed}hosted(){this.secretPicker.resetState()}ngOnInit(){this.secretPicker.secretsAddStream.subscribe(n=>{this.secretPicker.clientSecrets.push(n)}),this.secretPicker.secretsRemoveStream.subscribe(n=>{this.secretPicker.clientSecrets.splice(this.secretPicker.clientSecrets.indexOf(n),1)})}filePickerStateChanged(n){this.filePickerClosed=!n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-picker"]],viewQuery:function(a,l){if(1&a&&e.GBs(d0,7),2&a){let T;e.mGM(T=e.lsd())&&(l.secretPicker=T.first)}},decls:5,vars:6,consts:[["secretPicker",""],[1,"tw-mb-4"],[3,"filepickerDisplayed","clientSecrets","nonModelCertPicker","showCreatedColumn"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"p",1),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-secret-picker",2,0),e.bIt("filepickerDisplayed",function(Te){return e.eBV(T),e.Njj(l.filePickerStateChanged(Te))}),e.k0s()}2&a&&(e.R7$(),e.JRh(e.bMT(2,4,"Clients.NativeApp.Secrets")),e.R7$(2),e.Y8G("clientSecrets",l.secrets)("nonModelCertPicker",!0)("showCreatedColumn",!1))},dependencies:[yb.s,Cn.D9],encapsulation:2,data:{animation:[(0,xl.Ws)()]}})}}return s})();var Zc=h(5313);let Cc=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.logoutUrlForm=this.fb.group({logoutUrl:["",p.k0.pattern("^https?://.*$")]})}getStepSummary(){const n="logoutUrl",a=new Map,l=this.logoutUrlForm.value[n];return(0,Ci.gP)(l)||a.set(n,[l]),a}getStepDTO(){const n=this.logoutUrlForm.value.logoutUrl;return(0,Ci.gP)(n)?{postLogoutRedirectUris:[]}:{postLogoutRedirectUris:[n]}}canNext(){return this.logoutUrlForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-logout-url"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","url","name","LogoutUrl","id","LogoutUrl","formControlName","logoutUrl",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"Clients.PostLogoutURL"),e.npT),e.R7$(2),e.Y8G("formGroup",l.logoutUrlForm),e.R7$(),e.Y8G("id","LogoutUrl")("label","Common.LogoutURL")("help","Clients.LogoutURLDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})(),_p=(()=>{class s{constructor(n){this.fb=n}hosted(){}ngOnInit(){this.cibaConfigForm=this.fb.group({cibaLifetime:["",p.k0.required],pollingInterval:["",p.k0.required]})}getStepSummary(){const n=new Map;return n.set("cibaLifetime",[this.cibaConfigForm.get("cibaLifetime").value]),n.set("pollingInterval",[this.cibaConfigForm.get("pollingInterval").value]),this.data.clientType===pr.s.CIBAMachine&&(this.cibaLifetime=""===this.cibaConfigForm.get("cibaLifetime").value?"":this.cibaConfigForm.get("cibaLifetime").value,this.pollingInterval=""===this.cibaConfigForm.get("pollingInterval").value?"":this.cibaConfigForm.get("pollingInterval").value,n.set("cibaLifetime",[this.cibaLifetime.toString()]),n.set("pollingInterval",[this.pollingInterval.toString()])),n}getStepDTO(){const n=this.getStepSummary(),a={};return n.forEach((l,T)=>{"cibaLifetime"===T&&(T="cibaLifetime"),"pollingInterval"===T&&(T="pollingInterval"),a[T]=l[0]}),a}canNext(){return this.cibaConfigForm.valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-ciba-configuration"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","number","name","CIBALifetime","id","CIBALifetime","formControlName","cibaLifetime",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","number","name","PollingInterval","id","PollingInterval","formControlName","pollingInterval",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"Clients.CIBAConfiguration"),e.npT),e.R7$(2),e.Y8G("formGroup",l.cibaConfigForm),e.R7$(),e.Y8G("id","CIBALifetime")("label","Common.CIBALifetime")("help","Clients.CIBALifetimeDescription"),e.R7$(2),e.Y8G("id","PollingInterval")("label","Common.PollingInterval")("help","Clients.CIBAPollingIntervalDescription")("isLast",!0))},dependencies:[p.qT,p.me,p.Q0,p.BC,p.cb,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();const _b=["commonPicker"];let h0=(()=>{class s{constructor(n,a){this.wizardResourceService=a,this.resourceType=n}hosted(){}ngOnInit(){}getStepSummary(){const a=("protectedResources"===this.resourceType?this.wizardResourceService.assignedProtectedResources:this.wizardResourceService.assignedIdentityResources).map(l=>l.name);return new Map([[this.resourceType,a]])}getStepDTO(){return{allowedScopes:[...this.wizardResourceService.assignedIdentityResources.concat(this.wizardResourceService.assignedProtectedResources).map(l=>l.name)]}}canNext(){return this.wizardResourceService.assignedIdentityResources.length>0||this.wizardResourceService.assignedProtectedResources.length>0}static{this.\u0275fac=function(a){e.QTQ()}}static{this.\u0275dir=e.FsC({type:s,viewQuery:function(a,l){if(1&a&&e.GBs(_b,7),2&a){let T;e.mGM(T=e.lsd())&&(l.commonPicker=T.first)}}})}}return s})();var f0=h(2653),Sh=h(4354);function bb(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function Cb(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let Fs=(()=>{class s extends h0{constructor(n,a){super("identityResources",a),this.identityResourceService=n,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.identityResourceService.getIdentityResources().subscribe(n=>{const a=n.find(l=>"openid"===l.name);a&&(n.splice(n.indexOf(a),1),this.assignedResources=[a],this.wizardResourceService.assignedIdentityResources=this.assignedResources),this.resources=n})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(n=>{this.resources=(0,Ci.Yt)(this.resources.slice(),n);const a=this.assignedResources.slice();this.assignedResources=a.concat(n),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(n=>{const a=this.resources;this.assignedResources=(0,Ci.Yt)(this.assignedResources.slice(),n),this.resources=a.concat(n),this.wizardResourceService.assignedIdentityResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(up.A),e.rXU(f0.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-identity-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,bb,3,3,"p",2)(2,Cb,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[vn.bT,Sh.f,Cn.D9],encapsulation:2})}}return s})();function bp(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.ProtectedResourcesAccess")))}function p0(s,g){1&s&&(e.j41(0,"p"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.IdentityResourcesAccess")))}let qa=(()=>{class s extends h0{constructor(n,a){super("protectedResources",a),this.protectedResourceService=n,this.wizardResourceService=a,this.resources=[],this.assignedResources=[]}ngOnInit(){this.protectedResourceService.getProtectedResources().subscribe(n=>{const a=[];n.forEach(l=>{l.scopes.forEach(T=>{a.find(q=>q.name==T.name)||a.push(T)})}),this.resources=a})}ngAfterViewInit(){this.commonPicker.assignedStream.subscribe(n=>{this.resources=(0,Ci.Yt)(this.resources.slice(),n);const a=this.assignedResources.slice();this.assignedResources=a.concat(n),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.availableCount=0}),this.commonPicker.unAssignedStream.subscribe(n=>{const a=this.resources;this.assignedResources=(0,Ci.Yt)(this.assignedResources.slice(),n),this.resources=a.concat(n),this.wizardResourceService.assignedProtectedResources=this.assignedResources,this.commonPicker.assignedCount=0})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ga.x),e.rXU(f0.f))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["wizard-protected-resource-picker"]],features:[e.Vt3],decls:5,vars:4,consts:[["commonPicker",""],[1,"cms","tw-mb-6"],[4,"ngIf"],[3,"assignedInput","availableInput"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,bp,3,3,"p",2)(2,p0,3,3,"p",2),e.k0s(),e.nrm(3,"app-common-picker",3,0)),2&a&&(e.R7$(),e.Y8G("ngIf","protectedResources"==l.resourceType),e.R7$(),e.Y8G("ngIf","identityResources"==l.resourceType),e.R7$(),e.Y8G("assignedInput",l.assignedResources)("availableInput",l.resources))},dependencies:[vn.bT,Sh.f,Cn.D9],encapsulation:2})}}return s})();var No=h(7301),dd=h(1410);class m0 extends mh.p{constructor(){super(),this.nameComponentMap.set(ji.$.Home,[new fi.W(No.l,dd.y.Duende)]),this.nameComponentMap.set(ji.$.SinglePageApplication,[new fi.W(ba,new _a(pr.s.BrowserBased)),new fi.W(_c,new Zl(pr.s.BrowserBased)),new fi.W(Cc,new Ql(pr.s.BrowserBased)),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameComponentMap.set(ji.$.LegacySinglePageApplication,[new fi.W(ba,new _a(pr.s.LegacyClientSide)),new fi.W(_c,new Zl(pr.s.LegacyClientSide)),new fi.W(Cc,new Ql(pr.s.LegacyClientSide)),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameComponentMap.set(ji.$.SamlApplication,[new fi.W(ba,new _a(pr.s.Saml,gc.E.Saml)),new fi.W(Zc.w,{endpointType:"ACSEndpoint"}),new fi.W(Zc.w,{endpointType:"SLOEndpoint"}),new fi.W(Zc.w,{endpointType:"ARSEndpoint"}),new fi.W(Fs)]),this.nameComponentMap.set(ji.$.WsFedApplication,[new fi.W(ba,new _a(pr.s.WsFed,gc.E.WsFed)),new fi.W(_c,new Zl(pr.s.WsFed)),new fi.W(Fs)]),this.nameComponentMap.set(ji.$.DeviceApplication,[new fi.W(ba,new _a(pr.s.Device)),new fi.W(qa,{}),new fi.W(Fs,{})]),this.nameComponentMap.set(ji.$.RobotApplication,[new fi.W(ba,new _a(pr.s.Machine)),new fi.W(qa,{}),new fi.W(bc,{})]),this.nameComponentMap.set(ji.$.CIBARobotApplication,[new fi.W(ba,new _a(pr.s.CIBAMachine)),new fi.W(Fs,{}),new fi.W(qa,{}),new fi.W(bc,{}),new fi.W(_p,{})]),this.nameComponentMap.set(ji.$.NativeApplication,[new fi.W(ba,new _a(pr.s.Native)),new fi.W(_c,new Zl(pr.s.Native)),new fi.W(bc,{}),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameComponentMap.set(ji.$.PKCENativeApplication,[new fi.W(ba,new _a(pr.s.NativePKCE)),new fi.W(_c,new Zl(pr.s.NativePKCE)),new fi.W(bc,{}),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameComponentMap.set(ji.$.WebApplication,[new fi.W(ba,new _a(pr.s.ServerSide)),new fi.W(_c,new Zl(pr.s.ServerSide)),new fi.W(Cc,new Ql(pr.s.ServerSide)),new fi.W(bc,{}),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameComponentMap.set(ji.$.PKCEWebApplication,[new fi.W(ba,new _a(pr.s.ServerSidePKCE)),new fi.W(_c,new Zl(pr.s.ServerSidePKCE)),new fi.W(Cc,new Ql(pr.s.ServerSidePKCE)),new fi.W(bc,{}),new fi.W(Fs,{}),new fi.W(qa,{})]),this.nameTitleMap.set(ji.$.Home,new _n.J("Clients.Home.Title","")),this.nameTitleMap.set(ji.$.SinglePageApplication,new _n.J("Clients.SPA.Setup","Clients.SPA.Title")),this.nameTitleMap.set(ji.$.LegacySinglePageApplication,new _n.J("Clients.LegacySPA.Setup","Clients.LegacySPA.Title")),this.nameTitleMap.set(ji.$.DeviceApplication,new _n.J("Clients.DeviceFlow.Setup","Clients.DeviceFlow.Title")),this.nameTitleMap.set(ji.$.RobotApplication,new _n.J("Clients.MachineToMachine.Setup","Clients.MachineToMachine.Title")),this.nameTitleMap.set(ji.$.CIBARobotApplication,new _n.J("Clients.CIBAMachineToMachine.Setup","Clients.CIBAMachineToMachine.Title")),this.nameTitleMap.set(ji.$.NativeApplication,new _n.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(ji.$.PKCENativeApplication,new _n.J("Clients.NativeApp.Setup","Clients.NativeApp.Title")),this.nameTitleMap.set(ji.$.WebApplication,new _n.J("Clients.WebApp.Setup","Clients.WebApp.Title")),this.nameTitleMap.set(ji.$.PKCEWebApplication,new _n.J("Clients.WebApp.Setup","Clients.PKCEWebApp.Title")),this.nameTitleMap.set(ji.$.SamlApplication,new _n.J("Clients.Saml.Setup","Clients.Saml.Title")),this.nameTitleMap.set(ji.$.WsFedApplication,new _n.J("Clients.WsFed.Setup","Clients.WsFed.Title"))}getWizard(g){return this.nameComponentMap.get(g)}getWizardTitle(g){return this.nameTitleMap.get(g)}}function g0(s,g){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function wb(s,g){}function v0(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Sb(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function y0(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function Eb(s,g){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let _0=(()=>{class s extends Hg.P{constructor(n,a,l,T){super(a,l,T),this.clientsService=n,this.wizardProvider=new m0,this.wizardName=ji.$.Home}submit(){const n=this.getWizardDto();this.clientsService.addClient(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(this.translate.instant("Common.Created")+": "+n.clientName,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Kc._),e.rXU(ee.I),e.rXU(Zn.tw),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-wizard-host"]],features:[e.Jv_([Kc._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,g0,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,wb,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,v0,3,4,"button",12)(17,Sb,3,3,"button",13)(18,y0,3,3,"button",14)(19,Eb,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let T;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(T=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==T?T:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[vn.bT,gh.t,Cn.D9],encapsulation:2})}}return s})();const Tb=(s,g)=>({"tw-alert":s,"tw-alert-warning":g}),Ib=s=>({limit:s,type:"client applications",href:"https://www.identityserver.com/products/adminui/order-now?index=2&name=Enterprise"}),Db=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function Ab(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-client-wizard-host",12,0),e.bIt("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.onFinish())})("hide",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())})("wizardCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.hideWizard())}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("displayUpgradeIcon",n.licenseInfo.isStarterLicense())}}function b0(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-import-wizard",13,1),e.bIt("finish",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.reload())}),e.k0s()}}function C0(s,g){if(1&s&&(e.j41(0,"div",14),e.nrm(1,"span",15),e.nI1(2,"translate"),e.k0s()),2&s){const n=e.XpG();e.Y8G("ngClass",e.l_i(5,Tb,n.limitReached,n.overLimit)),e.R7$(),e.Y8G("innerHTML",e.i5U(2,2,"Common.QuotaLimit",e.eq3(8,Ib,n.licenseInfo.maxClients)),e.npT)}}function w0(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",22)(1,"label",23),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",24),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2);return e.DH7(T.pageSize,l)||(T.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",26),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",27),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(2);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function Eh(s,g){1&s&&(e.j41(0,"span",31)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function S0(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",28),e.nI1(1,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2),T=e.sdS(5);return e.Njj(l.showWizard(T,!0))}),e.j41(2,"span")(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.nrm(6,"span",29),e.k0s(),e.DNE(7,Eh,5,3,"span",30),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("tooltip",e.bMT(1,3,"Clients.Import.Import")),e.R7$(4),e.JRh(e.bMT(5,5,"Clients.Import.ImportClients")),e.R7$(3),e.Y8G("ngIf",n.licenseInfo.isStarterLicense())}}function E0(s,g){if(1&s&&(e.j41(0,"span",37),e.EFF(1),e.k0s()),2&s){const n=e.XpG(3);e.R7$(),e.JRh(n.clientSelectedCount)}}function T0(s,g){1&s&&(e.j41(0,"span",38)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",32),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function I0(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.exportClients())}),e.j41(1,"span")(2,"span",9),e.EFF(3),e.k0s(),e.nrm(4,"span",34),e.DNE(5,E0,2,1,"span",35),e.k0s(),e.DNE(6,T0,5,3,"span",36),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("tooltip",n.currentExportTooltip),e.R7$(3),e.JRh(n.currentExportText),e.R7$(2),e.Y8G("ngIf",n.shouldDisplayCount),e.R7$(),e.Y8G("ngIf",n.licenseInfo.isStarterLicense())}}function Rb(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,16),e.DNE(2,w0,14,14,"div",17),e.bVm(),e.qex(3,18),e.j41(4,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG(),T=e.sdS(3);return e.Njj(l.showWizard(T,l.limitReached))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.DNE(7,S0,8,7,"button",20)(8,I0,7,4,"button",21),e.bVm(),e.k0s()}if(2&s){const n=e.XpG();e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(2),e.Y8G("disabled",n.limitReached),e.R7$(),e.SpI(" ",e.bMT(6,5,"Clients.Add")," "),e.R7$(2),e.Y8G("ngIf",n.canImportExport),e.R7$(),e.Y8G("ngIf",n.canImportExport)}}function Mb(s,g){1&s&&e.nrm(0,"app-simple-loader")}function xb(s,g){1&s&&(e.j41(0,"div",42)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Clients.None")))}function kb(s,g){if(1&s){const n=e.RV6();e.j41(0,"th",49)(1,"label",50)(2,"input",51),e.bIt("change",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.toggleAllClients())}),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(3);return e.DH7(T.allClientsSelected,l)||(T.allClientsSelected=l),e.Njj(l)}),e.k0s()()()}if(2&s){const n=e.XpG(3);e.R7$(2),e.R50("ngModel",n.allClientsSelected)}}function D0(s,g){if(1&s){const n=e.RV6();e.j41(0,"label",65)(1,"input",66),e.bIt("change",function(){e.eBV(n);const l=e.XpG(5);return e.Njj(l.areAllClientsSelected())}),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2).$implicit;return e.DH7(T.selected,l)||(T.selected=l),e.Njj(l)}),e.k0s()()}if(2&s){const n=e.XpG(2).$implicit;e.FS9("for",n.id),e.R7$(),e.FS9("id",n.id),e.R50("ngModel",n.selected)}}function HT(s,g){if(1&s&&(e.j41(0,"td",63),e.DNE(1,D0,2,3,"label",64),e.k0s()),2&s){const n=e.XpG().$implicit,a=e.XpG(3);e.R7$(),e.Y8G("ngIf",!a.isClientReadOnly(n))}}function A0(s,g){1&s&&(e.j41(0,"span",67)(1,"span",9),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function Nb(s,g){1&s&&(e.j41(0,"span",68),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function Ob(s,g){1&s&&(e.j41(0,"span",69),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function WT(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Edit")))}function Fb(s,g){1&s&&(e.j41(0,"span",9),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.View")))}function R0(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",52),e.DNE(1,HT,2,1,"td",53),e.j41(2,"td",54),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.viewOrEditClient(l))}),e.DNE(3,A0,4,3,"span",55),e.j41(4,"b"),e.EFF(5),e.k0s()(),e.j41(6,"td",56),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.viewOrEditClient(l))}),e.EFF(7),e.k0s(),e.j41(8,"td",57),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.viewOrEditClient(l))}),e.DNE(9,Nb,3,3,"span",58)(10,Ob,3,3,"span",59),e.k0s(),e.j41(11,"td",57),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.viewOrEditClient(l))}),e.j41(12,"button",60),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.viewOrEditClient(l))}),e.nrm(13,"span",61),e.DNE(14,WT,3,3,"span",62)(15,Fb,3,3,"span",62),e.k0s()()()}if(2&s){const n=g.$implicit,a=e.XpG(3);e.AVh("inactive",!n.enabled||a.isClientReadOnly(n)),e.FS9("id",n.clientName),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=n&&n.nonEditable)),e.R7$(),e.SpI(" ",null==n?null:n.clientName," "),e.R7$(2),e.SpI(" ",null==n?null:n.description," "),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.Y8G("ngIf",null==n?null:n.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(14,Db,!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(n),a.isIdentityServerManagerReadOnly||a.isClientReadOnly(n))),e.R7$(),e.Y8G("ngIf",!a.isIdentityServerManagerReadOnly&&!a.isClientReadOnly(n)),e.R7$(),e.Y8G("ngIf",a.isIdentityServerManagerReadOnly||a.isClientReadOnly(n))}}function Cp(s,g){if(1&s&&(e.j41(0,"table",43)(1,"thead")(2,"tr"),e.DNE(3,kb,3,1,"th",44),e.j41(4,"th",45),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.j41(7,"th",46),e.EFF(8),e.nI1(9,"translate"),e.k0s(),e.j41(10,"th",47)(11,"span",9),e.EFF(12),e.nI1(13,"translate"),e.k0s()(),e.j41(14,"th",47)(15,"span",9),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.j41(18,"tbody"),e.DNE(19,R0,16,17,"tr",48),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(3),e.Y8G("ngIf",!n.isIdentityServerManagerReadOnly),e.R7$(2),e.JRh(e.bMT(6,6,"Common.Name")),e.R7$(3),e.JRh(e.bMT(9,8,"Common.Description")),e.R7$(4),e.JRh(e.bMT(13,10,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(17,12,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.allClients)}}function Pb(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-pager",70),e.bIt("onGoToPage",function(l){e.eBV(n);const T=e.XpG(2);return e.Njj(T.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}function ql(s,g){if(1&s&&(e.qex(0),e.DNE(1,xb,4,3,"div",39)(2,Cp,20,14,"table",40)(3,Pb,1,3,"app-pager",41),e.bVm()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",(null==n.allClients?null:n.allClients.length)<1),e.R7$(),e.Y8G("ngIf",(null==n.allClients?null:n.allClients.length)>0),e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading)}}let M0=(()=>{class s extends uo.if{get limitReached(){return this.licenseInfo?.clientLimitReached??!1}get overLimit(){return this.licenseInfo?.overClientLimit??!1}constructor(n,a,l,T,q,Te,Ze,_t,$t,un,Sn,Tn){super(_t,q,!0),this.router=n,this.errorService=a,this.titleService=l,this.clientsService=T,this.translate=q,this.localize=Te,this.exportService=Ze,this.securityService=$t,this.modalService=un,this.localizeRouter=Sn,this.licenseService=Tn,this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.allClients=[],this.allClientsSelected=!1,this.clientSelectedCount=0,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1,this.canImportExport=!1,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,{searchTerm:n,page:1,pageSize:this.pageSize}}ngOnInit(){const n=this.translate.instant("Nav.Clients")+" - "+Ut.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(n),this.canImportExport=this.securityService.allView;const a=this.pageStream.pipe((0,wi.T)(q=>(this.page=q,{searchTerm:this.term,page:q,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,wi.T)(q=>(this.pageSize=q,{searchTerm:this.term,page:this.page,pageSize:q})));a.pipe((0,pa.X)(l),(0,pa.X)(this.searchSource),(0,pa.X)(this.enterKeySource),(0,Xa.Z)({searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ia.Z)(q=>(this.isLoading=!0,this.clientsService.getClients(q.searchTerm,q.page,q.pageSize).pipe((0,ra.c)(200))))).subscribe({next:q=>{this.pagedResult=q,this.allClients=this.pagedResult.results.map(Te=>new l0(Te)).sort((Te,Ze)=>Number(Ze.nonEditable)-Number(Te.nonEditable)),this.isLoading=!1},error:q=>{this.errorService.handleError(q),this.isLoading=!1}}),this.licenseService.getLicenseInfo().pipe((0,Gn.$)()).subscribe(q=>{this.licenseInfo=q})}checkStarterMode(){if(this.licenseInfo.isStarterLicense()){const n=this.localizeRouter.translateRoute("/starter-mode/teaser");this.router.navigate([n],{queryParams:{feature:fb.p.ImportExportClients}})}return this.licenseInfo.isStarterLicense()}showWizard(n,a=!1){a&&this.checkStarterMode()||this.modalService.show(n,{id:ho.R.Id,ariaLabelledBy:ho.R.TileId,ariaDescribedby:ho.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ho.R.Id)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditClient(n){this.isIdentityServerManagerReadOnly||this.isClientReadOnly(n)?this.viewClient(n):this.editClient(n)}viewClient(n){const a=this.localize.translateRoute("/clients/view");this.router.navigate([a,n.id])}editClient(n){const a=this.localize.translateRoute("/clients");this.router.navigate([a,n.id])}exportClients(){if(!this.checkStarterMode())if(0===this.clientSelectedCount)this.exportService.exportAllClients();else{const n=this.allClients.filter(a=>a.selected).map(a=>a.clientId);this.exportService.exportSelectedClients(n)}}areAllClientsSelected(){this.allClientsSelected=this.allClients.every(n=>n.selected||n.nonEditable),this.clientSelectedCount=this.allClients.filter(n=>n.selected&&!n.nonEditable).length,0===this.clientSelectedCount?(this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.shouldDisplayCount=!1):(this.shouldDisplayCount=this.allClients.filter(n=>!n.nonEditable).length!==this.clientSelectedCount,this.currentExportText=`${this.translate.instant("Clients.Export.ExportSelectedClients")} (${this.clientSelectedCount})`,this.currentExportTooltip=this.translate.instant("Clients.Export.ExportSelected"))}toggleAllClients(){let n=!0;this.allClients.forEach(a=>{!a.nonEditable&&!a.selected&&(n=!1)}),this.allClients.forEach(a=>{a.nonEditable||(a.selected=!n)}),this.shouldDisplayCount=!1,this.clientSelectedCount=n?0:this.allClients.filter(a=>!a.nonEditable).length,this.currentExportText=this.translate.instant("Clients.Export.ExportAllClients"),this.currentExportTooltip=this.translate.instant("Clients.Export.ExportAll"),this.allClientsSelected=!n}get isIdentityServerManagerReadOnly(){return(0,Ci.ci)(this.securityService.userPermissions)}handleInternalServerError(){this.toastr.error(this.translate.instant("Clients.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}isClientReadOnly(n){const a=PT.I.RestrictedClientTypes.includes(n.clientType);return n.nonEditable||this.overLimit||a&&this.licenseInfo.isStarterLicense()}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(ee.I),e.rXU(i.hE),e.rXU(Kc._),e.rXU(Cn.c$),e.rXU(zn.QG),e.rXU(ad),e.rXU(Zn.tw),e.rXU($r.i),e.rXU(xt.I8),e.rXU(zn.QG),e.rXU(Jl.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:20,vars:14,consts:[["addClientModal",""],["importWizardModal",""],[3,"title"],["id","clientsList",1,"tw-container","tw-mx-auto"],["id","quotaLimitAlert","role","alert","class","tw-mb-4",3,"ngClass",4,"ngIf"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","searchUserName",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],[1,"sr-only"],["id","searchTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],[4,"ngIf"],[3,"finish","hide","wizardCancel","displayUpgradeIcon"],["id","importWizardModal",3,"finish"],["id","quotaLimitAlert","role","alert",1,"tw-mb-4",3,"ngClass"],[3,"innerHTML"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addClientBtn",1,"tw-btn-success",3,"click","disabled"],["id","importButton","class","tw-btn-white tw-ml-3","container","body",3,"tooltip","click",4,"ngIf"],["id","exportButton","class","tw-btn-white tw-ml-3 tw-relative","container","body",3,"tooltip","click",4,"ngIf"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","importButton","container","body",1,"tw-btn-white","tw-ml-3",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-from-bottom"],["id","importUpgradeSymbol",4,"ngIf"],["id","importUpgradeSymbol"],["aria-hidden","true",1,"tw-text-secondary-500","far","fa-arrow-alt-circle-up","tw-absolute"],["id","exportButton","container","body",1,"tw-btn-white","tw-ml-3","tw-relative",3,"click","tooltip"],["aria-hidden","true",1,"fad","fa-arrow-to-bottom"],["class","ml-2",4,"ngIf"],["id","exportUpgradeSymbol",4,"ngIf"],[1,"ml-2"],["id","exportUpgradeSymbol"],["id","clientsNone","class","tw-alert","role","alert",4,"ngIf"],["id","clientsTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","clientsNone","role","alert",1,"tw-alert"],["id","clientsTable",1,"datatable","selectable","hover"],["class","toggle tw-w-1",4,"ngIf"],[1,"lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group clientRow",3,"id","inactive",4,"ngFor","ngForOf"],[1,"toggle","tw-w-1"],["for","toggleAllClients",1,"toggle-label"],["id","toggleAllClients","type","checkbox",1,"tw-block","tw-cursor-pointer",3,"change","ngModelChange","ngModel"],[1,"group","clientRow",3,"id"],["class","toggle",4,"ngIf"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["class","sr-only",4,"ngIf"],[1,"toggle"],["class","toggle-label",3,"for",4,"ngIf"],[1,"toggle-label",3,"for"],["type","checkbox",1,"tw-block","tw-cursor-pointer","checkbox",3,"change","ngModelChange","id","ngModel"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){if(1&a){const T=e.RV6();e.nrm(0,"app-title-bar",2),e.nI1(1,"translate"),e.DNE(2,Ab,2,1,"ng-template",null,0,e.C5r)(4,b0,2,0,"ng-template",null,1,e.C5r),e.j41(6,"div",3),e.DNE(7,C0,3,10,"div",4),e.j41(8,"div",5)(9,"div",6)(10,"label",7),e.nrm(11,"span",8),e.j41(12,"span",9),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"input",10),e.nI1(16,"translate"),e.mxI("ngModelChange",function(Te){return e.eBV(T),e.DH7(l.searchTerm,Te)||(l.searchTerm=Te),e.Njj(Te)}),e.bIt("keyup",function(Te){return e.eBV(T),e.Njj(l.search(Te))}),e.k0s()()(),e.DNE(17,Rb,9,7,"app-action-bar",11)(18,Mb,1,0,"app-simple-loader",11)(19,ql,4,3,"ng-container",11),e.k0s()}2&a&&(e.Y8G("title",e.bMT(1,8,"Nav.Clients")),e.R7$(7),e.Y8G("ngIf",l.limitReached),e.R7$(6),e.JRh(e.bMT(14,10,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(16,12,"Clients.SearchPlaceholder")),e.R50("ngModel",l.searchTerm),e.R7$(2),e.Y8G("ngIf",!l.isLoading&&!l.isIdentityServerManagerReadOnly),e.R7$(),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",!l.isLoading))},dependencies:[vn.YU,vn.Sq,vn.bT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.vS,Re.dg,nn.z,Ja.B,pl.n,Ms.d,Qc,_0,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Bb=(s,g)=>({title:s,link:g}),x0=s=>[s];function wp(s,g){1&s&&(e.j41(0,"option",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Saml")))}function KT(s,g){1&s&&(e.j41(0,"option",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.RelyingParty.Heading")))}function Lb(s,g){1&s&&(e.j41(0,"option",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Clients.URLS.Title")))}function Ub(s,g){1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Secrets")))}function Vb(s,g){1&s&&(e.j41(0,"option",27),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.CIBA")))}function jb(s,g){1&s&&(e.j41(0,"span",28),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" - ",e.bMT(2,1,"StarterMode.RequiresUpgrade")," "))}function zT(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Nav.Saml")("tabValue","saml")}function YT(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.RelyingParty.Heading")("tabValue","wsfed")}function Th(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Clients.URLS.Title")("tabValue","applicationurls")}function $b(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.Secrets")("tabValue","secrets")}function Sp(s,g){1&s&&e.nrm(0,"app-custom-tab",17),2&s&&e.Y8G("tabTitle","Common.CIBA")("tabValue","ciba")}function Ep(s,g){1&s&&(e.j41(0,"span",29),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}let qc=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t){this.clientCachingService=n,this.clientViewService=a,this.titleService=l,this.translate=T,this.errorService=q,this.licenseService=Te,this.router=Ze,this.route=_t}ngOnInit(){this.clientSubscription=this.clientCachingService.unsavedCache$.subscribe(n=>{this.client=n;const a=this.translate.instant("Clients.Title")+" "+this.client.clientName+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a)}),this.licenseService.getLicenseInfo().pipe().subscribe({next:n=>this.licenseInfo=n})}ngOnDestroy(){this.clientSubscription.unsubscribe()}mobRoute(n){this.router.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Zg.e),e.rXU(ud.q),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(ee.I),e.rXU(Jl.X),e.rXU(St.Ix),e.rXU(St.nX))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-client"]],features:[e.Jv_([ud.q])],decls:45,vars:54,consts:[[3,"title","crumbs","hasButton","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","saml",4,"ngIf"],["value","wsfed",4,"ngIf"],["value","applicationurls",4,"ngIf"],["value","secrets",4,"ngIf"],["value","resources"],["value","ciba",4,"ngIf"],["value","advanced"],["value","clientaudits"],["id","upgradeSymbol",4,"ngIf"],[1,"tw-hidden","md:tw-flex"],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue","restrictedStarter"],["badge",""],["class","tw-pill-warning tw-mr-2",4,"ngIf"],["id","viewClient",1,"tw-container","tw-mx-auto"],["value","saml"],["value","wsfed"],["value","applicationurls"],["value","secrets"],["value","ciba"],["id","upgradeSymbol"],[1,"tw-pill-warning","tw-mr-2"]],template:function(a,l){if(1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(q){return l.mobRoute(q.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"option",6),e.EFF(14),e.nI1(15,"translate"),e.k0s(),e.DNE(16,wp,3,3,"option",7)(17,KT,3,3,"option",8)(18,Lb,3,3,"option",9)(19,Ub,3,3,"option",10),e.j41(20,"option",11),e.EFF(21),e.nI1(22,"translate"),e.k0s(),e.DNE(23,Vb,3,3,"option",12),e.j41(24,"option",13),e.EFF(25),e.nI1(26,"translate"),e.k0s(),e.j41(27,"option",14),e.EFF(28),e.nI1(29,"translate"),e.DNE(30,jb,3,3,"span",15),e.k0s()()()(),e.j41(31,"app-custom-tabs",16),e.nrm(32,"app-custom-tab",17),e.DNE(33,zT,1,2,"app-custom-tab",18)(34,YT,1,2,"app-custom-tab",18)(35,Th,1,2,"app-custom-tab",18)(36,$b,1,2,"app-custom-tab",18),e.nrm(37,"app-custom-tab",17),e.DNE(38,Sp,1,2,"app-custom-tab",18),e.nrm(39,"app-custom-tab",17)(40,"app-custom-tab",19),e.k0s(),e.bVm(),e.qex(41,20),e.DNE(42,Ep,3,3,"span",21),e.bVm(),e.k0s(),e.j41(43,"div",22),e.nrm(44,"router-outlet"),e.k0s()),2&a){let T,q;e.Y8G("title",l.client.clientName)("crumbs",e.eq3(52,x0,e.l_i(49,Bb,e.bMT(1,33,"Nav.Clients"),e.bMT(2,35,"/clients"))))("hasButton",!0)("hasTabs",!0)("isReadOnly",!0)("isReserved",l.client.nonEditable),e.R7$(6),e.JRh(e.bMT(7,37,"Nav.SubMenu")),e.R7$(5),e.SpI("",e.bMT(12,39,"Nav.SubMenu"),"..."),e.R7$(3),e.JRh(e.bMT(15,41,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(2),e.JRh(e.bMT(22,43,"Nav.Resources")),e.R7$(2),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(2),e.JRh(e.bMT(26,45,"Common.Advanced")),e.R7$(3),e.SpI(" ",e.bMT(29,47,"Nav.Audits")," "),e.R7$(2),e.Y8G("ngIf",null!==(T=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==T&&T),e.R7$(2),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.clientViewService.saml.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.wsFed.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.applicationUrls.display),e.R7$(),e.Y8G("ngIf",l.clientViewService.secrets.display),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("ngIf",l.clientViewService.ciba.display),e.R7$(),e.Y8G("tabTitle","Common.Advanced")("tabValue","advanced"),e.R7$(),e.Y8G("tabTitle","Nav.Audits")("tabValue","clientaudits")("restrictedStarter",null!==(q=null==l.licenseInfo?null:l.licenseInfo.isStarterLicense())&&void 0!==q&&q),e.R7$(2),e.Y8G("ngIf",!l.client.enabled)}},dependencies:[St.n3,vn.bT,nn.z,an.G,wn.v,Cn.D9,zn.tl],encapsulation:2})}}return s})();var hd=h(8853);const eu=[{path:"clients",component:M0,canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}},{path:"clients/:Id",component:db,loadChildren:()=>Promise.all([h.e(861),h.e(419),h.e(76),h.e(600)]).then(h.bind(h,6600)).then(s=>s.EditClientModule),canDeactivate:[Nn.M],resolve:{client:od},canActivate:[pn.h,qn._,hd.a],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.All]]}},{path:"clients/view/:Id",component:qc,loadChildren:()=>Promise.all([h.e(861),h.e(419),h.e(908)]).then(h.bind(h,4908)).then(s=>s.ViewClientModule),resolve:{client:od},canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}}];let Ih=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forChild(eu),zn.XE.forChild(eu),St.iI]})}}return s})();var tu=h(1466),Tp=h(5667);let Ip=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[od,zc.R,tu.z,e0.c,hp.z,Yc.d,ld.S,qg._,ad,sd.V],imports:[Ih,vn.MD,St.iI,p.YN,Os.Y,p.X1,Re.Ss,xt.Q_,Cn.h,zn.XE,dp.F,Ba.a,Kl.m,zl.i,pc.c,id.t,Yl.c,rd.E,cd.h,va.w,Xl.N,yh.Y,Tp.g]})}}return s})();var fd=h(4811),Gb=h(8939);class Dp extends zn.xq{constructor(g,n,a,l,T="assets/locales.json"){super(g,n,a),this.http=l,this.path=T}load(g){return new Promise(n=>{this.http.get(`${this.path}`).subscribe(a=>{this.locales=a.locales,this.prefix=a.prefix||"",this.escapePrefix=a.escapePrefix||"",this.init(g).then(n)})})}}var nu=h(7773),N0=h(6807),Dh=h(967),iu=h(1985),Oo=h(6977),To=h(3726),Hb=h(1584),P0=h(8750),Wb=h(2326),ru=h(4360);function B0(...s){return 1===(s=(0,Wb.K)(s)).length?(0,P0.Tg)(s[0]):new iu.c(function Ah(s){return g=>{let n=[];for(let a=0;n&&!g.closed&&a<s.length;a++)n.push((0,P0.Tg)(s[a]).subscribe((0,ru._)(g,l=>{if(n){for(let T=0;T<n.length;T++)T!==a&&n[T].unsubscribe();n=null}g.next(l)})))}}(s))}h(7786);var Kb=h(9326);function Rh(...s){const g=(0,Kb.ms)(s),n=(0,Wb.K)(s);return n.length?new iu.c(a=>{let l=n.map(()=>[]),T=n.map(()=>!1);a.add(()=>{l=T=null});for(let q=0;!a.closed&&q<n.length;q++)(0,P0.Tg)(n[q]).subscribe((0,ru._)(a,Te=>{if(l[q].push(Te),l.every(Ze=>Ze.length)){const Ze=l.map(_t=>_t.shift());a.next(g?g(...Ze):Ze),l.some((_t,$t)=>!_t.length&&T[$t])&&a.complete()}},()=>{T[q]=!0,!l[q].length&&a.complete()}));return()=>{l=T=null}}):fc.w}var Rp=h(8793),sa=h(5964),tl=h(6697),Mp=h(8141),xh=h(3993),su=h(5558),ou={left:"right",right:"left",bottom:"top",top:"bottom"};function kh(s){return s.replace(/left|right|bottom|top/g,function(g){return ou[g]})}function wl(s){return s.split("-")[0]}var QT={start:"end",end:"start"};function md(s){return s.replace(/start|end/g,function(g){return QT[g]})}var zo="top",La="bottom",Ua="right",oa="left",kl="auto",gd=[zo,La,Ua,oa],au="start",vd="end",L0="viewport",Ca="popper",U0=gd.reduce(function(s,g){return s.concat([g+"-"+au,g+"-"+vd])},[]),V0=[].concat(gd,[kl]).reduce(function(s,g){return s.concat([g,g+"-"+au,g+"-"+vd])},[]),Nh=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Ws(s){if(null==s)return window;if("[object Window]"!==s.toString()){var g=s.ownerDocument;return g&&g.defaultView||window}return s}function nl(s){return s instanceof Ws(s).Element||s instanceof Element}function wa(s){return s instanceof Ws(s).HTMLElement||s instanceof HTMLElement}function Oh(s){return!(typeof ShadowRoot>"u")&&(s instanceof Ws(s).ShadowRoot||s instanceof ShadowRoot)}function Nl(s){return((nl(s)?s.ownerDocument:s.document)||window.document).documentElement}var cu=Math.max,kp=Math.min,yd=Math.round;function _d(){var s=navigator.userAgentData;return null!=s&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(g){return g.brand+"/"+g.version}).join(" "):navigator.userAgent}function Fh(){return!/^((?!chrome|android).)*safari/i.test(_d())}function bd(s,g,n){void 0===g&&(g=!1),void 0===n&&(n=!1);var a=s.getBoundingClientRect(),l=1,T=1;g&&wa(s)&&(l=s.offsetWidth>0&&yd(a.width)/s.offsetWidth||1,T=s.offsetHeight>0&&yd(a.height)/s.offsetHeight||1);var Te=(nl(s)?Ws(s):window).visualViewport,Ze=!Fh()&&n,_t=(a.left+(Ze&&Te?Te.offsetLeft:0))/l,$t=(a.top+(Ze&&Te?Te.offsetTop:0))/T,un=a.width/l,Sn=a.height/T;return{width:un,height:Sn,top:$t,right:_t+un,bottom:$t+Sn,left:_t,x:_t,y:$t}}function $0(s){var g=Ws(s);return{scrollLeft:g.pageXOffset,scrollTop:g.pageYOffset}}function Ph(s){return bd(Nl(s)).left+$0(s).scrollLeft}function Ol(s){return Ws(s).getComputedStyle(s)}function Sl(s){return s?(s.nodeName||"").toLowerCase():null}function Bh(s){return"html"===Sl(s)?s:s.assignedSlot||s.parentNode||(Oh(s)?s.host:null)||Nl(s)}function Lh(s){var g=Ol(s);return/auto|scroll|overlay|hidden/.test(g.overflow+g.overflowY+g.overflowX)}function Np(s){return["html","body","#document"].indexOf(Sl(s))>=0?s.ownerDocument.body:wa(s)&&Lh(s)?s:Np(Bh(s))}function Cd(s,g){var n;void 0===g&&(g=[]);var a=Np(s),l=a===(null==(n=s.ownerDocument)?void 0:n.body),T=Ws(a),q=l?[T].concat(T.visualViewport||[],Lh(a)?a:[]):a,Te=g.concat(q);return l?Te:Te.concat(Cd(Bh(q)))}function rC(s){return["table","td","th"].indexOf(Sl(s))>=0}function Op(s){return wa(s)&&"fixed"!==Ol(s).position?s.offsetParent:null}function uu(s){for(var g=Ws(s),n=Op(s);n&&rC(n)&&"static"===Ol(n).position;)n=Op(n);return n&&("html"===Sl(n)||"body"===Sl(n)&&"static"===Ol(n).position)?g:n||function Uh(s){var g=/firefox/i.test(_d());if(/Trident/i.test(_d())&&wa(s)&&"fixed"===Ol(s).position)return null;var l=Bh(s);for(Oh(l)&&(l=l.host);wa(l)&&["html","body"].indexOf(Sl(l))<0;){var T=Ol(l);if("none"!==T.transform||"none"!==T.perspective||"paint"===T.contain||-1!==["transform","perspective"].indexOf(T.willChange)||g&&"filter"===T.willChange||g&&T.filter&&"none"!==T.filter)return l;l=l.parentNode}return null}(s)||g}function Vh(s,g){var n=g.getRootNode&&g.getRootNode();if(s.contains(g))return!0;if(n&&Oh(n)){var a=g;do{if(a&&s.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function Fp(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function Pp(s,g,n){return g===L0?Fp(function nC(s,g){var n=Ws(s),a=Nl(s),l=n.visualViewport,T=a.clientWidth,q=a.clientHeight,Te=0,Ze=0;if(l){T=l.width,q=l.height;var _t=Fh();(_t||!_t&&"fixed"===g)&&(Te=l.offsetLeft,Ze=l.offsetTop)}return{width:T,height:q,x:Te+Ph(s),y:Ze}}(s,n)):nl(g)?function wc(s,g){var n=bd(s,!1,"fixed"===g);return n.top=n.top+s.clientTop,n.left=n.left+s.clientLeft,n.bottom=n.top+s.clientHeight,n.right=n.left+s.clientWidth,n.width=s.clientWidth,n.height=s.clientHeight,n.x=n.left,n.y=n.top,n}(g,n):Fp(function iC(s){var g,n=Nl(s),a=$0(s),l=null==(g=s.ownerDocument)?void 0:g.body,T=cu(n.scrollWidth,n.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),q=cu(n.scrollHeight,n.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),Te=-a.scrollLeft+Ph(s),Ze=-a.scrollTop;return"rtl"===Ol(l||n).direction&&(Te+=cu(n.clientWidth,l?l.clientWidth:0)-T),{width:T,height:q,x:Te,y:Ze}}(Nl(s)))}function Sc(s){return s.split("-")[1]}function Lp(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function G0(s){var Ze,g=s.reference,n=s.element,a=s.placement,l=a?wl(a):null,T=a?Sc(a):null,q=g.x+g.width/2-n.width/2,Te=g.y+g.height/2-n.height/2;switch(l){case zo:Ze={x:q,y:g.y-n.height};break;case La:Ze={x:q,y:g.y+g.height};break;case Ua:Ze={x:g.x+g.width,y:Te};break;case oa:Ze={x:g.x-n.width,y:Te};break;default:Ze={x:g.x,y:g.y}}var _t=l?Lp(l):null;if(null!=_t){var $t="y"===_t?"height":"width";switch(T){case au:Ze[_t]=Ze[_t]-(g[$t]/2-n[$t]/2);break;case vd:Ze[_t]=Ze[_t]+(g[$t]/2-n[$t]/2)}}return Ze}function W0(s){return Object.assign({},{top:0,right:0,bottom:0,left:0},s)}function Up(s,g){return g.reduce(function(n,a){return n[a]=s,n},{})}function K0(s,g){void 0===g&&(g={});var a=g.placement,l=void 0===a?s.placement:a,T=g.strategy,q=void 0===T?s.strategy:T,Te=g.boundary,Ze=void 0===Te?"clippingParents":Te,_t=g.rootBoundary,$t=void 0===_t?L0:_t,un=g.elementContext,Sn=void 0===un?Ca:un,Tn=g.altBoundary,Fn=void 0!==Tn&&Tn,On=g.padding,oi=void 0===On?0:On,Si=W0("number"!=typeof oi?oi:Up(oi,gd)),Qi=s.rects.popper,bi=s.elements[Fn?Sn===Ca?"reference":Ca:Sn],ir=function Bp(s,g,n,a){var l="clippingParents"===g?function sC(s){var g=Cd(Bh(s)),a=["absolute","fixed"].indexOf(Ol(s).position)>=0&&wa(s)?uu(s):s;return nl(a)?g.filter(function(l){return nl(l)&&Vh(l,a)&&"body"!==Sl(l)}):[]}(s):[].concat(g),T=[].concat(l,[n]),Te=T.reduce(function(Ze,_t){var $t=Pp(s,_t,a);return Ze.top=cu($t.top,Ze.top),Ze.right=kp($t.right,Ze.right),Ze.bottom=kp($t.bottom,Ze.bottom),Ze.left=cu($t.left,Ze.left),Ze},Pp(s,T[0],a));return Te.width=Te.right-Te.left,Te.height=Te.bottom-Te.top,Te.x=Te.left,Te.y=Te.top,Te}(nl(bi)?bi:bi.contextElement||Nl(s.elements.popper),Ze,$t,q),zi=bd(s.elements.reference),Zi=G0({reference:zi,element:Qi,strategy:"absolute",placement:l}),qi=Fp(Object.assign({},Qi,Zi)),us=Sn===Ca?qi:zi,ds={top:ir.top-us.top+Si.top,bottom:us.bottom-ir.bottom+Si.bottom,left:ir.left-us.left+Si.left,right:us.right-ir.right+Si.right},go=s.modifiersData.offset;if(Sn===Ca&&go){var Ps=go[l];Object.keys(ds).forEach(function(io){var cl=[Ua,La].indexOf(io)>=0?1:-1,ul=[zo,La].indexOf(io)>=0?"y":"x";ds[io]+=Ps[ul]*cl})}return ds}const aC={name:"flip",enabled:!0,phase:"main",fn:function oC(s){var g=s.state,n=s.options,a=s.name;if(!g.modifiersData[a]._skip){for(var l=n.mainAxis,T=void 0===l||l,q=n.altAxis,Te=void 0===q||q,Ze=n.fallbackPlacements,_t=n.padding,$t=n.boundary,un=n.rootBoundary,Sn=n.altBoundary,Tn=n.flipVariations,Fn=void 0===Tn||Tn,On=n.allowedAutoPlacements,oi=g.options.placement,Si=wl(oi),Qi=Ze||(Si!==oi&&Fn?function wd(s){if(wl(s)===kl)return[];var g=kh(s);return[md(s),g,md(g)]}(oi):[kh(oi)]),bi=[oi].concat(Qi).reduce(function(Pr,dl){return Pr.concat(wl(dl)===kl?function ZT(s,g){void 0===g&&(g={});var l=g.boundary,T=g.rootBoundary,q=g.padding,Te=g.flipVariations,Ze=g.allowedAutoPlacements,_t=void 0===Ze?V0:Ze,$t=Sc(g.placement),un=$t?Te?U0:U0.filter(function(Fn){return Sc(Fn)===$t}):gd,Sn=un.filter(function(Fn){return _t.indexOf(Fn)>=0});0===Sn.length&&(Sn=un);var Tn=Sn.reduce(function(Fn,On){return Fn[On]=K0(s,{placement:On,boundary:l,rootBoundary:T,padding:q})[wl(On)],Fn},{});return Object.keys(Tn).sort(function(Fn,On){return Tn[Fn]-Tn[On]})}(g,{placement:dl,boundary:$t,rootBoundary:un,padding:_t,flipVariations:Fn,allowedAutoPlacements:On}):dl)},[]),ir=g.rects.reference,zi=g.rects.popper,Zi=new Map,qi=!0,us=bi[0],ds=0;ds<bi.length;ds++){var go=bi[ds],Ps=wl(go),io=Sc(go)===au,cl=[zo,La].indexOf(Ps)>=0,ul=cl?"width":"height",ei=K0(g,{placement:go,boundary:$t,rootBoundary:un,altBoundary:Sn,padding:_t}),pi=cl?io?Ua:oa:io?La:zo;ir[ul]>zi[ul]&&(pi=kh(pi));var Mi=kh(pi),rr=[];if(T&&rr.push(ei[Ps]<=0),Te&&rr.push(ei[pi]<=0,ei[Mi]<=0),rr.every(function(Pr){return Pr})){us=go,qi=!1;break}Zi.set(go,rr)}if(qi)for(var Da=function(dl){var Bc=bi.find(function(ms){var Fo=Zi.get(ms);if(Fo)return Fo.slice(0,dl).every(function(Po){return Po})});if(Bc)return us=Bc,"break"},ro=Fn?3:1;ro>0&&"break"!==Da(ro);ro--);g.placement!==us&&(g.modifiersData[a]._skip=!0,g.placement=us,g.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function du(s,g,n){return cu(s,kp(g,n))}function Vp(s){var g=bd(s),n=s.offsetWidth,a=s.offsetHeight;return Math.abs(g.width-n)<=1&&(n=g.width),Math.abs(g.height-a)<=1&&(a=g.height),{x:s.offsetLeft,y:s.offsetTop,width:n,height:a}}const dC={name:"preventOverflow",enabled:!0,phase:"main",fn:function uC(s){var g=s.state,n=s.options,a=s.name,l=n.mainAxis,T=void 0===l||l,q=n.altAxis,Te=void 0!==q&&q,Sn=n.tether,Tn=void 0===Sn||Sn,Fn=n.tetherOffset,On=void 0===Fn?0:Fn,oi=K0(g,{boundary:n.boundary,rootBoundary:n.rootBoundary,padding:n.padding,altBoundary:n.altBoundary}),Si=wl(g.placement),Ei=Sc(g.placement),Qi=!Ei,bi=Lp(Si),ir=function lC(s){return"x"===s?"y":"x"}(bi),zi=g.modifiersData.popperOffsets,Zi=g.rects.reference,qi=g.rects.popper,us="function"==typeof On?On(Object.assign({},g.rects,{placement:g.placement})):On,ds="number"==typeof us?{mainAxis:us,altAxis:us}:Object.assign({mainAxis:0,altAxis:0},us),go=g.modifiersData.offset?g.modifiersData.offset[g.placement]:null,Ps={x:0,y:0};if(zi){if(T){var io,cl="y"===bi?zo:oa,ul="y"===bi?La:Ua,ei="y"===bi?"height":"width",pi=zi[bi],Mi=pi+oi[cl],rr=pi-oi[ul],Vs=Tn?-qi[ei]/2:0,Da=Ei===au?Zi[ei]:qi[ei],ro=Ei===au?-qi[ei]:-Zi[ei],ua=g.elements.arrow,Pr=Tn&&ua?Vp(ua):{width:0,height:0},dl=g.modifiersData["arrow#persistent"]?g.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Bc=dl[cl],ms=dl[ul],Fo=du(0,Zi[ei],Pr[ei]),Po=Qi?Zi[ei]/2-Vs-Fo-Bc-ds.mainAxis:Da-Fo-Bc-ds.mainAxis,Hu=Qi?-Zi[ei]/2+Vs+Fo+ms+ds.mainAxis:ro+Fo+ms+ds.mainAxis,zs=g.elements.arrow&&uu(g.elements.arrow),Wu=zs?"y"===bi?zs.clientTop||0:zs.clientLeft||0:0,R_=null!=(io=go?.[bi])?io:0,ND=pi+Hu-R_,dT=du(Tn?kp(Mi,pi+Po-R_-Wu):Mi,pi,Tn?cu(rr,ND):rr);zi[bi]=dT,Ps[bi]=dT-pi}if(Te){var Ku,Lc=zi[ir],dh="y"===ir?"height":"width",M_=Lc+oi["x"===bi?zo:oa],x_=Lc-oi["x"===bi?La:Ua],Ng=-1!==[zo,oa].indexOf(Si),Wf=null!=(Ku=go?.[ir])?Ku:0,Og=Ng?M_:Lc-Zi[dh]-qi[dh]-Wf+ds.altAxis,k_=Ng?Lc+Zi[dh]+qi[dh]-Wf-ds.altAxis:x_,hh=Tn&&Ng?function cC(s,g,n){var a=du(s,g,n);return a>n?n:a}(Og,Lc,k_):du(Tn?Og:M_,Lc,Tn?k_:x_);zi[ir]=hh,Ps[ir]=hh-Lc}g.modifiersData[a]=Ps}},requiresIfExists:["offset"]},qT={name:"arrow",enabled:!0,phase:"main",fn:function fC(s){var g,n=s.state,a=s.name,l=s.options,T=n.elements.arrow,q=n.modifiersData.popperOffsets,Te=wl(n.placement),Ze=Lp(Te),$t=[oa,Ua].indexOf(Te)>=0?"height":"width";if(T&&q){var un=function(g,n){return W0("number"!=typeof(g="function"==typeof g?g(Object.assign({},n.rects,{placement:n.placement})):g)?g:Up(g,gd))}(l.padding,n),Sn=Vp(T),Tn="y"===Ze?zo:oa,Fn="y"===Ze?La:Ua,On=n.rects.reference[$t]+n.rects.reference[Ze]-q[Ze]-n.rects.popper[$t],oi=q[Ze]-n.rects.reference[Ze],Si=uu(T),Ei=Si?"y"===Ze?Si.clientHeight||0:Si.clientWidth||0:0,zi=Ei/2-Sn[$t]/2+(On/2-oi/2),Zi=du(un[Tn],zi,Ei-Sn[$t]-un[Fn]);n.modifiersData[a]=((g={})[Ze]=Zi,g.centerOffset=Zi-zi,g)}},effect:function jp(s){var g=s.state,a=s.options.element,l=void 0===a?"[data-popper-arrow]":a;null!=l&&("string"==typeof l&&!(l=g.elements.popper.querySelector(l))||Vh(g.elements.popper,l)&&(g.elements.arrow=l))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nI(s,g,n){void 0===n&&(n=!1);var a=wa(g),l=wa(g)&&function tI(s){var g=s.getBoundingClientRect(),n=yd(g.width)/s.offsetWidth||1,a=yd(g.height)/s.offsetHeight||1;return 1!==n||1!==a}(g),T=Nl(g),q=bd(s,l,n),Te={scrollLeft:0,scrollTop:0},Ze={x:0,y:0};return(a||!a&&!n)&&(("body"!==Sl(g)||Lh(T))&&(Te=function $p(s){return s!==Ws(s)&&wa(s)?function eI(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}(s):$0(s)}(g)),wa(g)?((Ze=bd(g,!0)).x+=g.clientLeft,Ze.y+=g.clientTop):T&&(Ze.x=Ph(T))),{x:q.left+Te.scrollLeft-Ze.x,y:q.top+Te.scrollTop-Ze.y,width:q.width,height:q.height}}function iI(s){var g=new Map,n=new Set,a=[];function l(T){n.add(T.name),[].concat(T.requires||[],T.requiresIfExists||[]).forEach(function(Te){if(!n.has(Te)){var Ze=g.get(Te);Ze&&l(Ze)}}),a.push(T)}return s.forEach(function(T){g.set(T.name,T)}),s.forEach(function(T){n.has(T.name)||l(T)}),a}function sI(s){var g;return function(){return g||(g=new Promise(function(n){Promise.resolve().then(function(){g=void 0,n(s())})})),g}}var Sd={placement:"bottom",modifiers:[],strategy:"absolute"};function Ed(){for(var s=arguments.length,g=new Array(s),n=0;n<s;n++)g[n]=arguments[n];return!g.some(function(a){return!(a&&"function"==typeof a.getBoundingClientRect)})}function Gp(s){void 0===s&&(s={});var n=s.defaultModifiers,a=void 0===n?[]:n,l=s.defaultOptions,T=void 0===l?Sd:l;return function(Te,Ze,_t){void 0===_t&&(_t=T);var $t={placement:"bottom",orderedModifiers:[],options:Object.assign({},Sd,T),modifiersData:{},elements:{reference:Te,popper:Ze},attributes:{},styles:{}},un=[],Sn=!1,Tn={state:$t,setOptions:function(Si){var Ei="function"==typeof Si?Si($t.options):Si;On(),$t.options=Object.assign({},T,$t.options,Ei),$t.scrollParents={reference:nl(Te)?Cd(Te):Te.contextElement?Cd(Te.contextElement):[],popper:Cd(Ze)};var Qi=function rI(s){var g=iI(s);return Nh.reduce(function(n,a){return n.concat(g.filter(function(l){return l.phase===a}))},[])}(function pC(s){var g=s.reduce(function(n,a){var l=n[a.name];return n[a.name]=l?Object.assign({},l,a,{options:Object.assign({},l.options,a.options),data:Object.assign({},l.data,a.data)}):a,n},{});return Object.keys(g).map(function(n){return g[n]})}([].concat(a,$t.options.modifiers)));return $t.orderedModifiers=Qi.filter(function(bi){return bi.enabled}),function Fn(){$t.orderedModifiers.forEach(function(oi){var Ei=oi.options,bi=oi.effect;if("function"==typeof bi){var ir=bi({state:$t,name:oi.name,instance:Tn,options:void 0===Ei?{}:Ei});un.push(ir||function(){})}})}(),Tn.update()},forceUpdate:function(){if(!Sn){var Si=$t.elements,Ei=Si.reference,Qi=Si.popper;if(Ed(Ei,Qi)){$t.rects={reference:nI(Ei,uu(Qi),"fixed"===$t.options.strategy),popper:Vp(Qi)},$t.reset=!1,$t.placement=$t.options.placement,$t.orderedModifiers.forEach(function(ds){return $t.modifiersData[ds.name]=Object.assign({},ds.data)});for(var bi=0;bi<$t.orderedModifiers.length;bi++)if(!0!==$t.reset){var ir=$t.orderedModifiers[bi],zi=ir.fn,Zi=ir.options;"function"==typeof zi&&($t=zi({state:$t,options:void 0===Zi?{}:Zi,name:ir.name,instance:Tn})||$t)}else $t.reset=!1,bi=-1}}},update:sI(function(){return new Promise(function(oi){Tn.forceUpdate(),oi($t)})}),destroy:function(){On(),Sn=!0}};if(!Ed(Te,Ze))return Tn;function On(){un.forEach(function(oi){return oi()}),un=[]}return Tn.setOptions(_t).then(function(oi){!Sn&&_t.onFirstUpdate&&_t.onFirstUpdate(oi)}),Tn}}var Td={passive:!0};const Y0={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function z0(s){var g=s.state,n=s.instance,a=s.options,l=a.scroll,T=void 0===l||l,q=a.resize,Te=void 0===q||q,Ze=Ws(g.elements.popper),_t=[].concat(g.scrollParents.reference,g.scrollParents.popper);return T&&_t.forEach(function($t){$t.addEventListener("scroll",n.update,Td)}),Te&&Ze.addEventListener("resize",n.update,Td),function(){T&&_t.forEach(function($t){$t.removeEventListener("scroll",n.update,Td)}),Te&&Ze.removeEventListener("resize",n.update,Td)}},data:{}},hu={name:"popperOffsets",enabled:!0,phase:"read",fn:function X0(s){var g=s.state;g.modifiersData[s.name]=G0({reference:g.rects.reference,element:g.rects.popper,strategy:"absolute",placement:g.placement})},data:{}};var Sa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Hp(s){var g,n=s.popper,a=s.popperRect,l=s.placement,T=s.variation,q=s.offsets,Te=s.position,Ze=s.gpuAcceleration,_t=s.adaptive,$t=s.roundOffsets,un=s.isFixed,Sn=q.x,Tn=void 0===Sn?0:Sn,Fn=q.y,On=void 0===Fn?0:Fn,oi="function"==typeof $t?$t({x:Tn,y:On}):{x:Tn,y:On};Tn=oi.x,On=oi.y;var Si=q.hasOwnProperty("x"),Ei=q.hasOwnProperty("y"),Qi=oa,bi=zo,ir=window;if(_t){var zi=uu(n),Zi="clientHeight",qi="clientWidth";zi===Ws(n)&&"static"!==Ol(zi=Nl(n)).position&&"absolute"===Te&&(Zi="scrollHeight",qi="scrollWidth"),(l===zo||(l===oa||l===Ua)&&T===vd)&&(bi=La,On-=(un&&zi===ir&&ir.visualViewport?ir.visualViewport.height:zi[Zi])-a.height,On*=Ze?1:-1),l!==oa&&(l!==zo&&l!==La||T!==vd)||(Qi=Ua,Tn-=(un&&zi===ir&&ir.visualViewport?ir.visualViewport.width:zi[qi])-a.width,Tn*=Ze?1:-1)}var io,go=Object.assign({position:Te},_t&&Sa),Ps=!0===$t?function ec(s,g){var a=s.y,l=g.devicePixelRatio||1;return{x:yd(s.x*l)/l||0,y:yd(a*l)/l||0}}({x:Tn,y:On},Ws(n)):{x:Tn,y:On};return Tn=Ps.x,On=Ps.y,Object.assign({},go,Ze?((io={})[bi]=Ei?"0":"",io[Qi]=Si?"0":"",io.transform=(ir.devicePixelRatio||1)<=1?"translate("+Tn+"px, "+On+"px)":"translate3d("+Tn+"px, "+On+"px, 0)",io):((g={})[bi]=Ei?On+"px":"",g[Qi]=Si?Tn+"px":"",g.transform="",g))}const gC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function oI(s){var g=s.state,n=s.options,a=n.gpuAcceleration,l=void 0===a||a,T=n.adaptive,q=void 0===T||T,Te=n.roundOffsets,Ze=void 0===Te||Te,_t={placement:wl(g.placement),variation:Sc(g.placement),popper:g.elements.popper,popperRect:g.rects.popper,gpuAcceleration:l,isFixed:"fixed"===g.options.strategy};null!=g.modifiersData.popperOffsets&&(g.styles.popper=Object.assign({},g.styles.popper,Hp(Object.assign({},_t,{offsets:g.modifiersData.popperOffsets,position:g.options.strategy,adaptive:q,roundOffsets:Ze})))),null!=g.modifiersData.arrow&&(g.styles.arrow=Object.assign({},g.styles.arrow,Hp(Object.assign({},_t,{offsets:g.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Ze})))),g.attributes.popper=Object.assign({},g.attributes.popper,{"data-popper-placement":g.placement})},data:{}};var J0=[Y0,hu,gC,{name:"applyStyles",enabled:!0,phase:"write",fn:function aI(s){var g=s.state;Object.keys(g.elements).forEach(function(n){var a=g.styles[n]||{},l=g.attributes[n]||{},T=g.elements[n];!wa(T)||!Sl(T)||(Object.assign(T.style,a),Object.keys(l).forEach(function(q){var Te=l[q];!1===Te?T.removeAttribute(q):T.setAttribute(q,!0===Te?"":Te)}))})},effect:function lI(s){var g=s.state,n={popper:{position:g.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(g.elements.popper.style,n.popper),g.styles=n,g.elements.arrow&&Object.assign(g.elements.arrow.style,n.arrow),function(){Object.keys(g.elements).forEach(function(a){var l=g.elements[a],T=g.attributes[a]||{},Te=Object.keys(g.styles.hasOwnProperty(a)?g.styles[a]:n[a]).reduce(function(Ze,_t){return Ze[_t]="",Ze},{});!wa(l)||!Sl(l)||(Object.assign(l.style,Te),Object.keys(T).forEach(function(Ze){l.removeAttribute(Ze)}))})}},requires:["computeStyles"]}],cI=Gp({defaultModifiers:J0});const Kp={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function Wp(s){var g=s.state,a=s.name,l=s.options.offset,T=void 0===l?[0,0]:l,q=V0.reduce(function($t,un){return $t[un]=function jh(s,g,n){var a=wl(s),l=[oa,zo].indexOf(a)>=0?-1:1,T="function"==typeof n?n(Object.assign({},g,{placement:s})):n,q=T[0],Te=T[1];return q=q||0,Te=(Te||0)*l,[oa,Ua].indexOf(a)>=0?{x:Te,y:q}:{x:q,y:Te}}(un,g.rects,T),$t},{}),Te=q[g.placement],_t=Te.y;null!=g.modifiersData.popperOffsets&&(g.modifiersData.popperOffsets.x+=Te.x,g.modifiersData.popperOffsets.y+=_t),g.modifiersData[a]=q}},yC=["*"],Zp=["dialog"],S1={animation:!0,transitionTimerDelayMs:5};let Ta=(()=>{class s{constructor(){this.animation=S1.animation}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();function Fl(s){return"string"==typeof s}function tc(s){return null!=s}function la(s){return(s||document.body).getBoundingClientRect()}function zh(s=document){const g=s?.activeElement;return g?g.shadowRoot?zh(g.shadowRoot):g:null}const XC=()=>{},{transitionTimerDelayMs:xd}=S1,mu=new Map,Io=(s,g,n,a)=>{let l=a.context||{};const T=mu.get(g);if(T)switch(a.runningTransition){case"continue":return fc.w;case"stop":s.run(()=>T.transition$.complete()),l=Object.assign(T.context,l),mu.delete(g)}const q=n(g,a.animation,l)||XC;if(!a.animation||"none"===window.getComputedStyle(g).transitionProperty)return s.run(()=>q()),(0,Wo.of)(void 0).pipe(function YC(s){return g=>new iu.c(n=>g.subscribe({next:q=>s.run(()=>n.next(q)),error:q=>s.run(()=>n.error(q)),complete:()=>s.run(()=>n.complete())}))}(s));const Te=new Ar.B,Ze=new Ar.B,_t=Te.pipe(function Mh(...s){return g=>(0,Rp.x)(g,(0,Wo.of)(...s))}(!0));mu.set(g,{transition$:Te,complete:()=>{Ze.next(),Ze.complete()},context:l});const $t=function KC(s){const{transitionDelay:g,transitionDuration:n}=window.getComputedStyle(s);return 1e3*(parseFloat(g)+parseFloat(n))}(g);return s.runOutsideAngular(()=>{const un=(0,To.R)(g,"transitionend").pipe((0,Oo.Q)(_t),(0,sa.p)(({target:Tn})=>Tn===g));B0((0,Hb.O)($t+xd).pipe((0,Oo.Q)(_t)),un,Ze).pipe((0,Oo.Q)(_t)).subscribe(()=>{mu.delete(g),s.run(()=>{q(),Te.next(),Te.complete()})})}),Te.asObservable()};let M1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),pm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),qC=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),N1=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();var Fr=function(s){return s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown",s}(Fr||{});const sf=(s,g)=>!!g&&g.some(n=>n.contains(s)),wm=(s,g)=>!g||null!=function dm(s,g){return!g||typeof s.closest>"u"?null:s.closest(g)}(s,g),ow=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const U1=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function V1(s){const g=Array.from(s.querySelectorAll(U1)).filter(n=>-1!==n.tabIndex);return[g[0],g[g.length-1]]}let af=(()=>{class s{constructor(){this._element=(0,e.WQX)(vn.qQ).documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();const lw=/\s+/,j1=/  +/gi,cw={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},xI=/^left/,uw=/^right/,Bd=/^start/,G1=/^end/;function H1({placement:s,baseClass:g},n){let a=Array.isArray(s)?s:s.split(lw),T=a.findIndex(_t=>"auto"===_t);T>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(_t){null==a.find($t=>-1!==$t.search("^"+_t))&&a.splice(T++,1,_t)});const q=a.map(_t=>function $1(s,g){const[n,a]=cw[s];return g&&a||n}(_t,n.isRTL()));return{placement:q.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!g,phase:"write",fn({state:_t}){const $t=new RegExp(g+"(-[a-z]+)*","gi"),un=_t.elements.popper,Sn=_t.placement;let Tn=un.className;Tn=Tn.replace($t,""),Tn+=` ${function dw(s,g){let[n,a]=g.split("-");const l=n.replace(xI,"start").replace(uw,"end");let T=[l];if(a){let q=a;("left"===n||"right"===n)&&(q=q.replace(Bd,"top").replace(G1,"bottom")),T.push(`${l}-${q}`)}return s&&(T=T.map(q=>`${s}-${q}`)),T.join(" ")}(g,Sn)}`,Tn=Tn.trim().replace(j1," "),un.className=Tn}},aC,dC,qT,{enabled:!0,name:"flip",options:{fallbackPlacements:q}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function W1(s){return s}new Date(1882,10,12),new Date(2174,10,25);let Fm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),ov=(()=>{class s{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.container=null}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),pf=(()=>{class s{constructor(){this._disabled=!1,this.nativeElement=(0,e.WQX)(e.aKT).nativeElement,this.tabindex=0}set disabled(n){this._disabled=""===n||!0===n}get disabled(){return this._disabled}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(a,l){2&a&&(e.Mr5("tabIndex",l.disabled?-1:l.tabindex),e.AVh("disabled",l.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return s})(),av=(()=>{class s{constructor(){this.item=(0,e.WQX)(pf)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["button","ngbDropdownItem",""]],hostVars:1,hostBindings:function(a,l){2&a&&e.Mr5("disabled",l.item.disabled)},standalone:!0})}}return s})(),Pm=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(bu),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(a,l,T){if(1&a&&e.wni(T,pf,4),2&a){let q;e.mGM(q=e.lsd())&&(l.menuItems=q)}},hostVars:4,hostBindings:function(a,l){1&a&&e.bIt("keydown.ArrowUp",function(q){return l.dropdown.onKeyDown(q)})("keydown.ArrowDown",function(q){return l.dropdown.onKeyDown(q)})("keydown.Home",function(q){return l.dropdown.onKeyDown(q)})("keydown.End",function(q){return l.dropdown.onKeyDown(q)})("keydown.Enter",function(q){return l.dropdown.onKeyDown(q)})("keydown.Space",function(q){return l.dropdown.onKeyDown(q)})("keydown.Tab",function(q){return l.dropdown.onKeyDown(q)})("keydown.Shift.Tab",function(q){return l.dropdown.onKeyDown(q)}),2&a&&e.AVh("dropdown-menu",!0)("show",l.dropdown.isOpen())},standalone:!0})}}return s})(),Gd=(()=>{class s{constructor(){this.dropdown=(0,e.WQX)(bu),this.nativeElement=(0,e.WQX)(e.aKT).nativeElement}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0})}}return s})(),Bm=(()=>{class s extends Gd{static{this.\u0275fac=(()=>{let n;return function(l){return(n||(n=e.xGo(s)))(l||s)}})()}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(a,l){1&a&&e.bIt("click",function(){return l.dropdown.toggle()})("keydown.ArrowUp",function(q){return l.dropdown.onKeyDown(q)})("keydown.ArrowDown",function(q){return l.dropdown.onKeyDown(q)})("keydown.Home",function(q){return l.dropdown.onKeyDown(q)})("keydown.End",function(q){return l.dropdown.onKeyDown(q)})("keydown.Tab",function(q){return l.dropdown.onKeyDown(q)})("keydown.Shift.Tab",function(q){return l.dropdown.onKeyDown(q)}),2&a&&(e.BMQ("aria-expanded",l.dropdown.isOpen()),e.AVh("show",l.dropdown.isOpen()))},standalone:!0,features:[e.Jv_([{provide:Gd,useExisting:(0,e.Rfq)(()=>s)}]),e.Vt3]})}}return s})(),bu=(()=>{class s{constructor(){this._changeDetector=(0,e.WQX)(e.gRc),this._config=(0,e.WQX)(ov),this._document=(0,e.WQX)(vn.qQ),this._ngZone=(0,e.WQX)(e.SKi),this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._destroyCloseHandlers$=new Ar.B,this._bodyContainer=null,this._positioning=function lf(){const s=(0,e.WQX)(af);let g=null;return{createPopper(n){if(!g){let l=(n.updatePopperOptions||W1)(H1(n,s));g=cI(n.hostElement,n.targetElement,l)}},update(){g&&g.update()},setOptions(n){if(g){let l=(n.updatePopperOptions||W1)(H1(n,s));g.setOptions(l)}},destroy(){g&&(g.destroy(),g=null)}}}(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new e.bkB}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe((0,tl.s)(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(n){if(n.container&&this._open&&this._applyContainer(this.container),n.placement&&!n.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),n.dropdownClass){const{currentValue:a,previousValue:l}=n.dropdownClass;this._applyCustomDropdownClass(a,l)}n.autoClose&&this._open&&(this.autoClose=n.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:n=>this.popperOptions(function K1(s){return g=>(g.modifiers.push(Kp,{name:"offset",options:{offset:()=>s}}),g)}([0,2])(n))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Sm(s,g,n,a,l,T,q,Te){n&&s.runOutsideAngular((s=>ow?()=>setTimeout(()=>s(),100):s)(()=>{const _t=(0,To.R)(g,"keydown").pipe((0,Oo.Q)(l),(0,sa.p)(Sn=>Sn.which===Fr.Escape),(0,Mp.M)(Sn=>Sn.preventDefault())),$t=(0,To.R)(g,"mousedown").pipe((0,wi.T)(Sn=>{const Tn=Sn.target;return 2!==Sn.button&&!sf(Tn,q)&&("inside"===n?sf(Tn,T)&&wm(Tn,Te):"outside"===n?!sf(Tn,T):wm(Tn,Te)||!sf(Tn,T))}),(0,Oo.Q)(l)),un=(0,To.R)(g,"mouseup").pipe((0,xh.E)($t),(0,sa.p)(([Sn,Tn])=>Tn),(0,ra.c)(0),(0,Oo.Q)(l));B0([_t.pipe((0,wi.T)(Sn=>0)),un.pipe((0,wi.T)(Sn=>1))]).subscribe(Sn=>s.run(()=>a(Sn)))}))}(this._ngZone,this._document,this.autoClose,n=>{this.close(),0===n&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(n){const a=n.which,l=this._getMenuElements();let T=-1,q=null;const Te=this._isEventFromToggle(n);if(!Te&&l.length&&l.forEach((Ze,_t)=>{Ze.contains(n.target)&&(q=Ze),Ze===zh(this._document)&&(T=_t)}),a!==Fr.Space&&a!==Fr.Enter){if(a!==Fr.Tab){if(Te||q){if(this.open(),l.length){switch(a){case Fr.ArrowDown:T=Math.min(T+1,l.length-1);break;case Fr.ArrowUp:if(this._isDropup()&&-1===T){T=l.length-1;break}T=Math.max(T-1,0);break;case Fr.Home:T=0;break;case Fr.End:T=l.length-1}l[T].focus()}n.preventDefault()}}else if(n.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===n.target)return void("body"!==this.container||n.shiftKey?n.shiftKey&&this.close():(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")));if("body"===this.container){const Ze=this._menu.nativeElement.querySelectorAll(U1);n.shiftKey&&n.target===Ze[0]?(this._anchor.nativeElement.focus(),n.preventDefault()):!n.shiftKey&&n.target===Ze[Ze.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else(0,To.R)(n.target,"focusout").pipe((0,tl.s)(1)).subscribe(({relatedTarget:Ze})=>{this._nativeElement.contains(Ze)||this.close()})}}else q&&(!0===this.autoClose||"inside"===this.autoClose)&&(0,To.R)(q,"click").pipe((0,tl.s)(1)).subscribe(()=>this.close())}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(n){return this._anchor.nativeElement.contains(n.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:n})=>!n).map(({nativeElement:n})=>n):[]}_positionMenu(){const n=this._menu;this.isOpen()&&n&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(n){return Array.isArray(n)?n[0]:n.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(n=null){if(this._resetContainer(),"body"===n){const a=this._menu.nativeElement,l=this._bodyContainer=this._bodyContainer||this._document.createElement("div");l.style.position="absolute",a.style.position="static",l.style.zIndex="1055",l.appendChild(a),this._document.body.appendChild(l)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(n,a){const l="body"===this.container?this._bodyContainer:this._nativeElement;l&&(a&&l.classList.remove(a),n&&l.classList.add(n))}_applyPlacementClasses(n){if(this._menu){n||(n=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),"static"===this.display?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");const a=-1!==n.search("^top")?"dropup":"dropdown";this._nativeElement.classList.add(a),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(a))}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275dir=e.FsC({type:s,selectors:[["","ngbDropdown",""]],contentQueries:function(a,l,T){if(1&a&&(e.wni(T,Pm,5),e.wni(T,Gd,5)),2&a){let q;e.mGM(q=e.lsd())&&(l._menu=q.first),e.mGM(q=e.lsd())&&(l._anchor=q.first)}},hostVars:2,hostBindings:function(a,l){2&a&&e.AVh("show",l.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[e.Mj6.None,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[e.OA$]})}}return s})(),Hd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),lv=(()=>{class s{constructor(){this._ngbConfig=(0,e.WQX)(Ta),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();class sc{constructor(g,n,a){this.nodes=g,this.viewRef=n,this.componentRef=a}}let JI=(()=>{class s{constructor(){this._document=(0,e.WQX)(vn.qQ)}hide(){const n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),a=this._document.body,l=a.style,{overflow:T,paddingRight:q}=l;if(n>0){const Te=parseFloat(window.getComputedStyle(a).paddingRight);l.paddingRight=`${Te+n}px`}return l.overflow="hidden",()=>{n>0&&(l.paddingRight=q),l.overflow=T}}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),QI=(()=>{class s{constructor(){this._nativeElement=(0,e.WQX)(e.aKT).nativeElement,this._zone=(0,e.WQX)(e.SKi)}ngOnInit(){this._zone.onStable.asObservable().pipe((0,tl.s)(1)).subscribe(()=>{Io(this._zone,this._nativeElement,(n,a)=>{a&&la(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Io(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(a,l){2&a&&(e.HbH("modal-backdrop"+(l.backdropClass?" "+l.backdropClass:"")),e.AVh("show",!l.animation)("fade",l.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[e.aNF],decls:0,vars:0,template:function(a,l){},encapsulation:2})}}return s})();class Nw{update(g){}close(g){}dismiss(g){}}const ZI=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],qI=["animation","backdropClass"];class eD{_applyWindowOptions(g,n){ZI.forEach(a=>{tc(n[a])&&(g[a]=n[a])})}_applyBackdropOptions(g,n){qI.forEach(a=>{tc(n[a])&&(g[a]=n[a])})}update(g){this._applyWindowOptions(this._windowCmptRef.instance,g),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,g)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe((0,Oo.Q)(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe((0,Oo.Q)(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(g,n,a,l){this._windowCmptRef=g,this._contentRef=n,this._backdropCmptRef=a,this._beforeDismiss=l,this._closed=new Ar.B,this._dismissed=new Ar.B,this._hidden=new Ar.B,g.instance.dismissEvent.subscribe(T=>{this.dismiss(T)}),this.result=new Promise((T,q)=>{this._resolve=T,this._reject=q}),this.result.then(null,()=>{})}close(g){this._windowCmptRef&&(this._closed.next(g),this._resolve(g),this._removeModalElements())}_dismiss(g){this._dismissed.next(g),this._reject(g),this._removeModalElements()}dismiss(g){if(this._windowCmptRef)if(this._beforeDismiss){const n=this._beforeDismiss();!function lm(s){return s&&s.then}(n)?!1!==n&&this._dismiss(g):n.then(a=>{!1!==a&&this._dismiss(g)},()=>{})}else this._dismiss(g)}_removeModalElements(){const g=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Wo.of)(void 0);g.subscribe(()=>{const{nativeElement:a}=this._windowCmptRef.location;a.parentNode.removeChild(a),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:a}=this._backdropCmptRef.location;a.parentNode.removeChild(a),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Rh(g,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var cv=function(s){return s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC",s}(cv||{});let tD=(()=>{class s{constructor(){this._document=(0,e.WQX)(vn.qQ),this._elRef=(0,e.WQX)(e.aKT),this._zone=(0,e.WQX)(e.SKi),this._closed$=new Ar.B,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.bkB,this.shown=new Ar.B,this.hidden=new Ar.B}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Fl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,tl.s)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:n}=this._elRef,a={animation:this.animation,runningTransition:"stop"},q=Rh(Io(this._zone,n,()=>n.classList.remove("show"),a),Io(this._zone,this._dialogEl.nativeElement,()=>{},a));return q.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),q}_show(){const n={animation:this.animation,runningTransition:"continue"};Rh(Io(this._zone,this._elRef.nativeElement,(T,q)=>{q&&la(T),T.classList.add("show")},n),Io(this._zone,this._dialogEl.nativeElement,()=>{},n)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{(0,To.R)(n,"keydown").pipe((0,Oo.Q)(this._closed$),(0,sa.p)(l=>l.which===Fr.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(cv.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let a=!1;(0,To.R)(this._dialogEl.nativeElement,"mousedown").pipe((0,Oo.Q)(this._closed$),(0,Mp.M)(()=>a=!1),(0,su.n)(()=>(0,To.R)(n,"mouseup").pipe((0,Oo.Q)(this._closed$),(0,tl.s)(1))),(0,sa.p)(({target:l})=>n===l)).subscribe(()=>{a=!0}),(0,To.R)(n,"click").pipe((0,Oo.Q)(this._closed$)).subscribe(({target:l})=>{n===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!a&&this._zone.run(()=>this.dismiss(cv.BACKDROP_CLICK))),a=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){const a=n.querySelector("[ngbAutofocus]"),l=V1(n)[0];(a||l||n).focus()}}_restoreFocus(){const n=this._document.body,a=this._elWithFocus;let l;l=a&&a.focus&&n.contains(a)?a:n,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Io(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(a,l){if(1&a&&e.GBs(Zp,7),2&a){let T;e.mGM(T=e.lsd())&&(l._dialogEl=T.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(a,l){2&a&&(e.BMQ("aria-modal",!0)("aria-labelledby",l.ariaLabelledBy)("aria-describedby",l.ariaDescribedBy),e.HbH("modal d-block"+(l.windowClass?" "+l.windowClass:"")),e.AVh("fade",l.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[e.aNF],ngContentSelectors:yC,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(a,l){1&a&&(e.NAR(),e.j41(0,"div",1,0)(2,"div",2),e.SdG(3),e.k0s()()),2&a&&e.HbH("modal-dialog"+(l.size?" modal-"+l.size:"")+(l.centered?" modal-dialog-centered":"")+l.fullscreenClass+(l.scrollable?" modal-dialog-scrollable":"")+(l.modalDialogClass?" "+l.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return s})(),uv=(()=>{class s{constructor(){this._applicationRef=(0,e.WQX)(e.o8S),this._injector=(0,e.WQX)(e.zZn),this._environmentInjector=(0,e.WQX)(e.uvJ),this._document=(0,e.WQX)(vn.qQ),this._scrollBar=(0,e.WQX)(JI),this._activeWindowCmptHasChanged=new Ar.B,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new e.bkB;const n=(0,e.WQX)(e.SKi);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const a=this._windowCmpts[this._windowCmpts.length-1];((s,g,n,a=!1)=>{s.runOutsideAngular(()=>{const l=(0,To.R)(g,"focusin").pipe((0,Oo.Q)(n),(0,wi.T)(T=>T.target));(0,To.R)(g,"keydown").pipe((0,Oo.Q)(n),(0,sa.p)(T=>T.which===Fr.Tab),(0,xh.E)(l)).subscribe(([T,q])=>{const[Te,Ze]=V1(g);(q===Te||q===g)&&T.shiftKey&&(Ze.focus(),T.preventDefault()),q===Ze&&!T.shiftKey&&(Te.focus(),T.preventDefault())}),a&&(0,To.R)(g,"click").pipe((0,Oo.Q)(n),(0,xh.E)(l),(0,wi.T)(T=>T[1])).subscribe(T=>T.focus())})})(n,a.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(a.location.nativeElement)}})}_restoreScrollBar(){const n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,a,l){const T=l.container instanceof HTMLElement?l.container:tc(l.container)?this._document.querySelector(l.container):this._document.body;if(!T)throw new Error(`The specified modal container "${l.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const q=new Nw,Te=(n=l.injector||n).get(e.uvJ,null)||this._environmentInjector,Ze=this._getContentRef(n,Te,a,q,l);let _t=!1!==l.backdrop?this._attachBackdrop(T):void 0,$t=this._attachWindowComponent(T,Ze.nodes),un=new eD($t,Ze,_t,l.beforeDismiss);return this._registerModalRef(un),this._registerWindowCmpt($t),un.hidden.pipe((0,tl.s)(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),q.close=Sn=>{un.close(Sn)},q.dismiss=Sn=>{un.dismiss(Sn)},q.update=Sn=>{un.update(Sn)},un.update(l),1===this._modalRefs.length&&this._document.body.classList.add("modal-open"),_t&&_t.instance&&_t.changeDetectorRef.detectChanges(),$t.changeDetectorRef.detectChanges(),un}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(a=>a.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let a=(0,e.a0P)(QI,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(a.hostView),n.appendChild(a.location.nativeElement),a}_attachWindowComponent(n,a){let l=(0,e.a0P)(tD,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:a});return this._applicationRef.attachView(l.hostView),n.appendChild(l.location.nativeElement),l}_getContentRef(n,a,l,T,q){return l?l instanceof e.C4Q?this._createFromTemplateRef(l,T):Fl(l)?this._createFromString(l):this._createFromComponent(n,a,l,T,q):new sc([])}_createFromTemplateRef(n,a){const T=n.createEmbeddedView({$implicit:a,close(q){a.close(q)},dismiss(q){a.dismiss(q)}});return this._applicationRef.attachView(T),new sc([T.rootNodes],T)}_createFromString(n){const a=this._document.createTextNode(`${n}`);return new sc([[a]])}_createFromComponent(n,a,l,T,q){const Te=e.zZn.create({providers:[{provide:Nw,useValue:T}],parent:n}),Ze=(0,e.a0P)(l,{environmentInjector:a,elementInjector:Te}),_t=Ze.location.nativeElement;return q.scrollable&&_t.classList.add("component-host-scrollable"),this._applicationRef.attachView(Ze.hostView),new sc([[_t]],Ze.hostView,Ze)}_setAriaHidden(n){const a=n.parentElement;a&&n!==this._document.body&&(Array.from(a.children).forEach(l=>{l!==n&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(a))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,a)=>{n?a.setAttribute("aria-hidden",n):a.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){const a=()=>{const l=this._modalRefs.indexOf(n);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(a,a)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{const a=this._windowCmpts.indexOf(n);a>-1&&(this._windowCmpts.splice(a,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),dv=(()=>{class s{constructor(){this._injector=(0,e.WQX)(e.zZn),this._modalStack=(0,e.WQX)(uv),this._config=(0,e.WQX)(lv)}open(n,a={}){const l={...this._config,animation:this._config.animation,...a};return this._modalStack.open(this._injector,n,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Ow=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[dv]})}}return s})(),Vw=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),vv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),_v=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Hm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),bv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Wm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Yd=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Su=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Tu=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();new e.nKC("live announcer delay",{providedIn:"root",factory:()=>100});let Iv=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})(),Xm=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({})}}return s})();const yf=[M1,pm,qC,N1,Fm,Hd,Ow,Vw,Xm,vv,_v,Hm,bv,Wm,Yd,Su,Tu,Iv];let _f=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[yf,M1,pm,qC,N1,Fm,Hd,Ow,Vw,Xm,vv,_v,Hm,bv,Wm,Yd,Su,Tu,Iv]})}}return s})(),Dv=(()=>{class s{intercept(n,a){if(n.url.startsWith("https://"))return a.handle(n);const l=(0,Ci.$_)(),T=n.clone({url:`${l}${n.url}`});return a.handle(T)}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();class bf{constructor(g,n="/assets/i18n/",a=".json"){this.http=g,this.prefix=n,this.suffix=a}getTranslation(g){return this.http.get(`${this.prefix}${g}${this.suffix}`)}}var oc=h(3431),qw=h(9625);let Yo=(()=>{class s{constructor(){let n=new qw.UAParser,a=n.getBrowser(),l=n.getOS();this.browserName=a.name,this.browserVersion=a.major,this.browserVersionToInt=parseInt(a.major),this.operatingSystem=l.name,this.operatingSystemVersion=l.version}validBrowser(){switch(this.browserName){case rl.InternetExplorer:return this.verifyInternetExplorer();case rl.Edge:return this.verifyEdge();case rl.Firefox:return this.verifyFirefox();case rl.Chrome:return this.verifyChrome();case rl.Safari:case rl.MobileSafari:return this.verifySafari();case rl.Opera:case rl.OperaMobile:return this.verifyOpera();case rl.SamsungInternet:return this.verifySamsungInternet()}return!1}verifyInternetExplorer(){return this.browserVersion.startsWith("11")&&this.operatingSystem==Qd.Windows&&this.operatingSystemVersion.startsWith("10")}verifyEdge(){return this.browserVersionToInt>=16}verifyFirefox(){return this.operatingSystem==Qd.Android||this.operatingSystem==Qd.ApplePhone?this.browserVersionToInt>=92:this.browserVersionToInt>=60}verifyChrome(){return this.operatingSystem==Qd.Android||this.operatingSystem==Qd.ApplePhone?this.browserVersionToInt>=93:this.browserVersionToInt>=51}verifySafari(){const n=parseFloat(this.operatingSystemVersion);return this.browserName==rl.MobileSafari?this.browserVersionToInt>=12:this.browserVersionToInt>14||this.browserVersionToInt>=12&&n>=10.14}verifyOpera(){return this.browserName==rl.OperaMobile?this.browserVersionToInt>12:this.browserVersionToInt>=39}verifySamsungInternet(){return this.browserVersionToInt>=5}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})(),rl=(()=>{class s{static{this.InternetExplorer="IE"}static{this.Edge="Edge"}static{this.Firefox="Firefox"}static{this.Chrome="Chrome"}static{this.Safari="Safari"}static{this.MobileSafari="Mobile Safari"}static{this.Opera="Opera"}static{this.OperaMobile="Opera Mobi"}static{this.SamsungInternet="Samsung Internet"}}return s})(),Qd=(()=>{class s{static{this.Windows="Windows"}static{this.Android="Android"}static{this.ApplePhone="iOS"}}return s})();var Cf=h(5060),Jm=h(8810);let Qm=(()=>{class s{static{this.EnforcerCompilationError=599}static{this.ExpiredTokenRedirect=413}}return s})(),eS=(()=>{class s{constructor(n,a,l,T){this.router=n,this.localizeRouterService=a,this.appComponentViewService=l,this.securityService=T}intercept(n,a){return a.handle(n).pipe((0,Pa.W)(l=>{if(l.status===Qm.ExpiredTokenRedirect)return this.securityService.startLogin(),Cf.t;if(l.status===Qm.EnforcerCompilationError){this.appComponentViewService.failedEnforcerCompilation();const T=this.localizeRouterService.translateRoute("/unauthorized");return document.dispatchEvent(new Event("appready")),this.router.navigate([T],{state:{enforcer:!0}}),Cf.t}return(0,Jm.$)(()=>l)}))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO(zn.QG),e.KVO(fs.X),e.KVO($r.i))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var tS=h(3488),wf=h(8400),Sf=h(7275),Zd=h(275),Ef=h(1957),kc=h(4412);let Ji=(()=>{class s{constructor(){this.unsavedCache=new kc.t(null),this.unsavedCache$=this.unsavedCache.asObservable(),this.savedCache=new kc.t(null),this.savedCache$=this.savedCache.asObservable(),this.componentDirtyValidMap=new Map}onSave(){this.componentDirtyValidMap.clear()}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),ac=(()=>{class s{constructor(n,a){this.http=n,this.actionUrl="DynamicAuthentication",this.headers=a.setHeaders()}get(n,a,l,T){let q=new w.Nl;return(0,Ci.gP)(n)||(q=q.append("scheme",n)),a&&(q=q.append("page",a)),l&&(q=q.append("pageSize",l)),(0,Ci.gP)(T)||(q=q.append("filters",T)),this.http.get(this.actionUrl,{headers:this.headers,params:q})}createDynamicAuth(n){return this.http.post(this.actionUrl,n,{headers:this.headers})}getDynamicAuth(n){return this.http.get(`${this.actionUrl}/${n}`,{headers:this.headers})}updateDynamicAuth(n){return this.http.put(`${this.actionUrl}/${n.scheme}`,n,{headers:this.headers})}deleteDynamicAuth(n){return this.http.delete(`${this.actionUrl}/${n}`,{headers:this.headers})}replaceSigningCert(n,a,l){return this.http.put(`${this.actionUrl}/${n}/saml/sp/signing-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeSigningCert(n){return this.http.delete(`${this.actionUrl}/${n}/saml/sp/signing-certificate`,{headers:this.headers})}replaceEncryptionCert(n,a,l){return this.http.put(`${this.actionUrl}/${n}/saml/sp/encryption-certificate`,{certBase64:a,certPassword:l},{headers:this.headers})}removeEncryptionCert(n){return this.http.delete(`${this.actionUrl}/${n}/saml/sp/encryption-certificate`,{headers:this.headers})}schemaHealthy(){return this.http.get(`${this.actionUrl}/validate`,{headers:this.headers}).pipe((0,wi.T)(a=>a.isValid??!1))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(w.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var s,Hr=function(s){return s[s.OIDC=0]="OIDC",s[s.SAML=1]="SAML",s}(Hr||{});function Tf(s){return{...s,type:Hr[s.type]}}function Rv(s){return{...s,type:Hr[s.type]}}function bo(s){return JSON.parse(s)}function Do(s){return JSON.parse(s)}(s=Hr||(Hr={})).fromWizardType=function g(n){switch(n){case ji.$.AddOidcDynamicAuth:return s.OIDC;case ji.$.AddSamlDynamicAuth:return s.SAML}};let If=(()=>{class s{constructor(n,a,l){this.dynamicAuthService=n,this.changeCachingService=a,this.errorService=l}resolve(n,a){return this.dynamicAuthService.getDynamicAuth(n.params.Scheme).pipe((0,wi.T)(T=>{let q;return T&&(q=Tf(T),this.changeCachingService.unsavedCache.next(q)),q}),(0,Pa.W)((T,q)=>(404===T.status?this.errorService.resourceNotFound(So.v.dynamicAuth):this.errorService.handleError(T),(0,fc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(ac),e.KVO(Ji),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var Mv=h(9568),Nc=function(s){return s[s.Query=0]="Query",s[s.FormPost=1]="FormPost",s[s.Fragment=2]="Fragment",s}(Nc||{}),qm=function(s){return s.OIDC="oidc",s.SAML="saml2p",s.Enabled="enabled",s.Disabled="disabled",s}(qm||{}),sl=function(s){return s.AuthCode="AuthCode",s.AuthCodePlusPkce="AuthCodePlusPkce",s}(sl||{});class Ks{static{this.DiscoveryDocumentPath="/.well-known/openid-configuration"}static{this.DiscoveryDocCachingDuration=6e4}static{this.FlowTypes=[sl.AuthCode,sl.AuthCodePlusPkce]}static{this.RequiredScopes=["openid"]}static{this.ScopeOptions=[...Ks.RequiredScopes,"profile","email"]}static{this.MaxScopeLength=100}static{this.SignInSchemeOptions=[{name:"DynamicAuth.SignInScheme.IdSExternalLogin.Name",value:"Idsrv.External",help:"DynamicAuth.SignInScheme.IdSExternalLogin.Help"},{name:"DynamicAuth.SignInScheme.AspNetExternalLogin.Name",value:"Identity.External",help:"DynamicAuth.SignInScheme.AspNetExternalLogin.Help"}]}static{this.SignInSchemeCodeFrag='services.AddAuthentication("local-cookie")\n    .AddCookie("local-cookie")\n\t.AddCookie("other-cookie");'}static{this.SamlSignInSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignInScheme = "MyIdentityScheme"; \n            });'}static{this.SamlSignOutSchemeCodeFrag='services.AddIdentityServer(...)\n            .AddSamlDynamicProvider(options => {\n                options.SignOutScheme = "MyIdentityScheme";\n            });'}static{this.AdminUIOidcDiscoveryDocumentEndpoint="DynamicAuthentication/DiscDoc"}static{this.AdminUISamlMetadataEndpoint="DynamicAuthentication/SAML/ValidateMetadataAddr"}static AllowRemoveScope(g){return!this.RequiredScopes.includes(g)}static{this.ResponseModeMap=new Map([["query",Nc.Query],["form_post",Nc.FormPost],["fragment",Nc.Fragment]])}static{this.ResponseModeKey=g=>[...Ks.ResponseModeMap.entries()].filter(({1:a})=>a===g).map(([a])=>a)[0]}}let Iu=(()=>{class s{get cacheTimeout(){return Ks.DiscoveryDocCachingDuration}constructor(n,a){this.http=n,this.cacheTime=0,this.discoveryDoc=new bl.m(1),this.headers=a.setHeaders()}getDiscoveryDocument(n,a=!1){this.actionUrl=Ks.AdminUIOidcDiscoveryDocumentEndpoint;const l=Date.now()-this.cacheTime>=this.cacheTimeout;if(!a&&(!n||this.previousAuthority===n&&!l&&this.discoveryDoc))return this.discoveryDoc.asObservable();let T=new w.Nl;return T=T.append("authority",n),this.http.get(this.actionUrl,{headers:this.headers,params:T}).pipe((0,Mv.t)(1),(0,wi.T)(q=>(this.previousAuthority=n,this.cacheTime=Date.now(),this.discoveryDoc.next(q),q)),(0,Pa.W)(q=>(this.previousAuthority=n,this.cacheTime=Date.now(),this.discoveryDoc.next(null),(0,Wo.of)(null))))}isValid(n){return this.getDiscoveryDocument(n,!0).pipe((0,wi.T)(a=>!(!a||!a.issuer)))}supportedScopes(n){return this.getDiscoveryDocument(n).pipe((0,wi.T)(a=>a?.scopes_supported??Ks.ScopeOptions))}validateMetadataUrl(n){this.actionUrl=Ks.AdminUISamlMetadataEndpoint;let a=new w.Nl;return a=a.append("metadataUrl",n),this.http.get(this.actionUrl,{headers:this.headers,params:a}).pipe((0,Mv.t)(1),(0,wi.T)(l=>!0),(0,Pa.W)(l=>(0,Wo.of)(!1)))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(w.Qq),e.KVO(ed.m))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();var ja=h(978);let eg=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.clientSecretForm=this.fb.group({clientSecret:[""]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.clientSecretForm.invalid}hosted(){}toStepDto(){const n={};return n.clientSecret=this.clientSecretForm.get("clientSecret").value,n}toSummaryMap(){const n=new Map;return n.set("clientSecret",[this.clientSecretForm.get("clientSecret").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-client-secret-step"]],inputs:{data:"data"},decls:6,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],["type","text","name","ClientSecret","id","ClientSecret","formControlName","clientSecret",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.OIDC.ClientSecretStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.clientSecretForm),e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();var tg=h(5568);function Ul(){return p.k0.pattern(/^([/]{1}[\w-]{0,}){1,}$/)}function sS(s){if((0,Ci.hX)(s.value))return{invalidUri:"Errors.ValidateAbsoluteUri.NullOrUndefined"};let g=(0,tg.parse)(s.value);return(0,Ci.gP)(g.query)&&(0,Ci.gP)(g.fragment)?"absolute"!==g.reference?{invalidUri:"Errors.ValidateAbsoluteUri.MustBeAbsolute"}:(0,Ci.gP)(g.error)?null:{invalidUri:g.error}:{invalidUri:"Errors.ValidateAbsoluteUri.MustNotContainQueryFragmeant"}}function oS(s,g){1&s&&(e.j41(0,"app-form-row",3),e.nrm(1,"input",11),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function aS(s,g){if(1&s&&(e.j41(0,"option",12),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=g.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+n))}}let lS=(()=>{class s{constructor(n,a,l,T,q){this.fb=n,this.configService=a,this.translate=l,this.providerValidator=T,this.toastr=q,this.failedToContactAuthority=!1,this.allowedFlows=Ks.FlowTypes}ngOnInit(){this.configServiceSub=this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}}),this.buildForm()}ngOnDestroy(){this.configServiceSub.unsubscribe()}tryReachAuthority(){var n=this.connectionForm.get("authority").value;this.providerValidator.isValid(n).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}buildForm(){let n={authority:["https://",[p.k0.required,p.k0.pattern("^https://.{1,}$")]],clientId:["",p.k0.required]};this.isRskDynamicAuth&&(n.callbackPath=["/oidc-scheme",[p.k0.required,Ul()]]),n.flow=[sl.AuthCodePlusPkce,[p.k0.required]],this.connectionForm=this.fb.group(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.connectionForm.invalid}hosted(){}toStepDto(){const n={};return n.authority=this.connectionForm.get("authority").value,n.clientId=this.connectionForm.get("clientId").value,this.isRskDynamicAuth&&(n.callbackPath=this.connectionForm.get("callbackPath").value),n.flow=this.connectionForm.get("flow").value,n}toSummaryMap(){const n=new Map;return n.set("authority",[this.connectionForm.get("authority").value]),n.set("idpClientId",[this.connectionForm.get("clientId").value]),this.isRskDynamicAuth&&n.set("callbackPath",[this.connectionForm.get("callbackPath").value]),n.set("flow",[this.translate.instant("DynamicAuth.Flows."+this.connectionForm.get("flow").value)]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Es.w),e.rXU(Cn.c$),e.rXU(Iu),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-connection-step"]],inputs:{data:"data"},decls:13,vars:16,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[3,"id","label","help","isLast"],[1,"tw-form-select"],["id","Flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"input",4),e.bIt("focusout",function(){return l.tryReachAuthority()}),e.k0s()(),e.j41(6,"app-form-row",3),e.nrm(7,"input",5),e.k0s(),e.DNE(8,oS,2,3,"app-form-row",6),e.j41(9,"app-form-row",7)(10,"div",8)(11,"select",9),e.DNE(12,aS,3,4,"option",10),e.k0s()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ConnectionStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.connectionForm),e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help")("isLast",!0),e.R7$(3),e.Y8G("ngForOf",l.allowedFlows))},dependencies:[vn.Sq,vn.bT,p.qT,p.xH,p.y7,p.me,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();function cS(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function uS(s,g){1&s&&(e.j41(0,"div",16)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function dS(s,g){1&s&&(e.j41(0,"span",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function hS(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",21),e.bIt("click",function(){e.eBV(n);const l=e.XpG().$implicit,T=e.XpG(2);return e.Njj(T.removeScope(l))}),e.nrm(1,"span",22),e.j41(2,"span",13),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}if(2&s){const n=e.XpG().$implicit;e.Y8G("id","btnRemove"+n),e.R7$(3),e.JRh(e.bMT(4,2,"Common.Remove.Title"))}}function fS(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",17)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,dS,3,3,"span",18),e.k0s(),e.j41(6,"td"),e.DNE(7,hS,5,4,"button",19),e.k0s()()),2&s){const n=g.$implicit,a=e.XpG(2);e.R7$(3),e.JRh(n),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(n)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(n))}}function pS(s,g){if(1&s&&(e.j41(0,"div",9),e.DNE(1,uS,4,3,"div",10),e.j41(2,"table",11)(3,"thead")(4,"th",12)(5,"span",13),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"th",14)(9,"span",13),e.EFF(10),e.nI1(11,"translate"),e.k0s()(),e.j41(12,"th",14)(13,"span",13),e.EFF(14),e.nI1(15,"translate"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,fS,8,3,"tr",15),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",n.scopes.length<=0),e.R7$(5),e.JRh(e.bMT(7,6,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(11,8,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(15,10,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.scopes)}}let mS=(()=>{class s{constructor(n,a,l,T){this.toastrService=n,this.translateService=a,this.fb=l,this.providerValidator=T,this.scopes=[...Ks.RequiredScopes],this.maxScopeLength=Ks.MaxScopeLength}ngOnInit(){this.scopesForm=this.fb.group({newScope:[""]}),this.options=new iu.c(n=>{let a=this.scopesForm.get("newScope").value;n.next(a)}).pipe((0,su.n)(n=>this.providerValidator.supportedScopes().pipe((0,wi.T)(a=>this.filterScopes(n,a)))))}filterScopes(n,a){const l=!n;return a.filter(T=>!this.scopes.includes(T)&&(l||T.includes(n)))}addScope(){var n=this.scopesForm.get("newScope").value;if(""!==n)if(this.scopes.includes(n)){const a=this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded");this.toastrService.error(a)}else if(n.indexOf(" ")>=0){const a=this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces");this.toastrService.error(a)}else this.scopes.push(n);else this.toastrService.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(n){const a=this.scopes.indexOf(n);if(-1!==a)this.scopes.splice(a,1);else{const l=this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope");this.toastrService.error(l)}}allowRemoveScope(n){return Ks.AllowRemoveScope(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!0}hosted(){}toStepDto(){const n={};return n.scopes=this.scopes,n}toSummaryMap(){const n=new Map;return n.set("scopes",this.scopes),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(p.ze),e.rXU(Iu))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-scopes-step"]],inputs:{data:"data"},decls:14,vars:20,consts:[["customItemTemplate",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],["class","tw-mt-6",3,"id",4,"ngIf"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],[1,"datatable"],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],["role","alert",1,"tw-alert"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500",3,"id","click",4,"ngIf"],[1,"tw-pill"],[1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click","id"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.DNE(3,cS,3,5,"ng-template",null,0,e.C5r),e.j41(5,"form",3)(6,"app-form-row",4)(7,"app-row-bar",5),e.nrm(8,"input",6),e.nI1(9,"translate"),e.j41(10,"button",7),e.bIt("click",function(){return e.eBV(T),e.Njj(l.addScope())}),e.EFF(11),e.nI1(12,"translate"),e.k0s()()(),e.DNE(13,pS,18,12,"div",8),e.k0s()}if(2&a){const T=e.sdS(4);e.R7$(),e.Y8G("innerHTML",e.bMT(2,14,"DynamicAuth.Wizard.OIDC.ScopesStep.Title"),e.npT),e.R7$(4),e.Y8G("formGroup",l.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(9,16,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",l.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",T)("typeaheadMinLength",0)("maxlength",l.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(12,18,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.scopes.length>0)}},dependencies:[vn.Sq,vn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,wf.Xi,ue.Y,hc.f,vn.P9,Cn.D9],encapsulation:2})}}return s})(),xv=(()=>{class s{constructor(n){this.fb=n}ngOnInit(){this.nameRoleForm=this.fb.group({scheme:["",[p.k0.required,ar()]],displayName:["",[p.k0.required]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.nameRoleForm.invalid}hosted(){}toStepDto(){const n={};return n.scheme=this.nameRoleForm.get("scheme").value,n.displayName=this.nameRoleForm.get("displayName").value,n}toSummaryMap(){const n=new Map;return n.set("scheme",[this.nameRoleForm.get("scheme").value]),n.set("displayName",[this.nameRoleForm.get("displayName").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-name-role-step"]],inputs:{data:"data"},decls:8,vars:11,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","Scheme","id","Scheme","formControlName","scheme","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,9,"DynamicAuth.Wizard.NameRoleStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.nameRoleForm),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")("isLast",!0))},dependencies:[p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();function gS(s,g){if(1&s&&(e.j41(0,"span",10),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,n.help)," ")}}function vS(s,g){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.DNE(6,gS,3,3,"span",9),e.k0s()),2&s){const n=g.$implicit,a=g.index,l=e.XpG();e.R7$(),e.FCK("for","",l.id,"-item-",a,""),e.R7$(),e.FCK("id","",l.id,"-item-",a,""),e.Y8G("value",n.value),e.R7$(2),e.JRh(e.bMT(5,9,n.name)),e.R7$(2),e.Y8G("ngIf",n.help)}}function yS(s,g){if(1&s&&(e.j41(0,"li",5)(1,"label",6),e.nrm(2,"input",7),e.j41(3,"span",8),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s()()()),2&s){const n=e.XpG();e.R7$(),e.Mz_("for","",n.id,"-item-custom"),e.R7$(),e.Mz_("id","",n.id,"-item-custom"),e.Y8G("value",n.customRadioValue),e.R7$(2),e.Lme("",e.bMT(5,7,"Common.Custom")," ",e.bMT(6,9,n.label),"")}}function kv(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-form-row",11)(1,"input",12),e.nI1(2,"translate"),e.bIt("ngModelChange",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.valueChanged.emit(l))}),e.k0s()()}if(2&s){const n=e.XpG();e.Mz_("id","",n.id,"-custom"),e.Y8G("label","Common.Custom")("isLast",n.isLast),e.R7$(),e.Mz_("id","",n.id,"-item-value"),e.FS9("placeholder",e.bMT(2,8,n.placeholder)),e.Y8G("ngModel",n.value)}}let Nv=(()=>{class s{constructor(n){this.fb=n,this.listItems=[],this.allowCustom=!1,this.valueChanged=new e.bkB,this.customRadioValue="CUSTOM_VALUE"}ngOnInit(){const n=this.listItems.some(a=>a.value===this.value)?this.value:this.customRadioValue;this.radioForm=this.fb.group({radioVal:[n]}),this.radioForm.get("radioVal").valueChanges.subscribe(a=>{this.valueChanged.emit(a===this.customRadioValue?"":a)})}showCustom(){return this.radioForm.get("radioVal").value===this.customRadioValue}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-radio-list-input"]],inputs:{id:"id",label:"label",help:"help",listItems:"listItems",placeholder:"placeholder",allowCustom:"allowCustom",isLast:"isLast",value:"value"},outputs:{valueChanged:"valueChanged"},decls:6,vars:14,consts:[[3,"id","label","help","isLast","formGroup"],["role","group",1,"tw-form-checks",3,"id"],["class","tw-form-checks__item",4,"ngFor","ngForOf"],["class","tw-form-checks__item",4,"ngIf"],[3,"id","label","isLast",4,"ngIf"],[1,"tw-form-checks__item"],[1,"tw-form-checks__label",3,"for"],["type","radio","formControlName","radioVal",1,"tw-form-checks__input",3,"id","value"],[1,"tw-form-label"],["class","tw-form-label-help",4,"ngIf"],[1,"tw-form-label-help"],[3,"id","label","isLast"],["type","text","name","value",1,"tw-form-control",3,"ngModelChange","id","ngModel","placeholder"]],template:function(a,l){1&a&&(e.j41(0,"app-form-row",0)(1,"ul",1),e.nI1(2,"translate"),e.DNE(3,vS,7,11,"li",2)(4,yS,7,11,"li",3),e.k0s()(),e.DNE(5,kv,3,10,"app-form-row",4)),2&a&&(e.Mz_("id","",l.id,"-options"),e.Y8G("label",l.label)("help",l.help)("isLast",!l.showCustom()&&l.isLast)("formGroup",l.radioForm),e.R7$(),e.Mz_("id","",l.id,"-options-list"),e.BMQ("aria-label",e.bMT(2,12,l.label)),e.R7$(2),e.Y8G("ngForOf",l.listItems),e.R7$(),e.Y8G("ngIf",l.allowCustom),e.R7$(),e.Y8G("ngIf",l.showCustom()))},dependencies:[p.me,p.Fm,p.BC,p.cb,p.vS,p.j4,p.JD,vn.Sq,vn.bT,ue.Y,Cn.D9],encapsulation:2})}}return s})();function lc(s,g){if(1&s&&(e.j41(0,"app-form-row",7)(1,"app-form-toggle",8),e.nrm(2,"input",9),e.k0s()()),2&s){const n=e.XpG(2);e.Y8G("id","DifferentScheme")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help")("isLast",!n.diffSignOut),e.R7$(),e.Y8G("id","DifferentScheme")("isTraffic",!0)("isAlt",!1)}}function _S(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-radio-list-input",10),e.bIt("valueChanged",function(l){e.eBV(n);const T=e.XpG(2);return e.Njj(T.signInSchemeForm.get("outScheme").setValue(l))}),e.k0s()}if(2&s){const n=e.XpG(2);e.Y8G("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help")("listItems",n.options)("allowCustom",!0)("value",n.signInSchemeForm.get("outScheme").value)("isLast",!0)}}function Ov(s,g){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-radio-list-input",4),e.bIt("valueChanged",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.signInSchemeForm.get("scheme").setValue(l))}),e.k0s(),e.DNE(2,lc,3,7,"app-form-row",5)(3,_S,1,6,"app-radio-list-input",6),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.signInSchemeForm),e.R7$(),e.Y8G("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help")("listItems",n.options)("allowCustom",!0)("value",n.signInSchemeForm.get("scheme").value)("isLast",!1),e.R7$(),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",n.diffSignOut)}}let Fv=(()=>{class s{constructor(n,a){this.fb=n,this.configService=a,this.isRskDynamicAuth=!1,this.options=Ks.SignInSchemeOptions,this.snippet=Ks.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().pipe((0,Gn.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.isRskDynamicAuth?(this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,p.k0.required],diffSignOut:[!1],outScheme:[this.options[0].value]}),this.signInSchemeForm.get("diffSignOut").valueChanges.subscribe(a=>{this.signInSchemeForm.get("outScheme").setValidators(a?[p.k0.required]:[])})):this.signInSchemeForm=this.fb.group({scheme:[this.options[0].value,p.k0.required]})}})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.signInSchemeForm.invalid}hosted(){}get diffSignOut(){return this.isRskDynamicAuth&&this.signInSchemeForm.get("diffSignOut").value}toStepDto(){const n={};return n.signInScheme=this.signInSchemeForm.get("scheme").value,this.diffSignOut&&(n.signOutScheme=this.signInSchemeForm.get("outScheme").value),n}toSummaryMap(){const n=new Map;return n.set("signInScheme",[this.signInSchemeForm.get("scheme").value]),this.diffSignOut&&n.set("signOutScheme",[this.signInSchemeForm.get("outScheme").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-sign-in-scheme-step"]],inputs:{data:"data"},decls:4,vars:4,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","Scheme","placeholder","DynamicAuth.SignInScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"],[3,"id","label","help","isLast",4,"ngIf"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"label","help","listItems","allowCustom","value","isLast","valueChanged",4,"ngIf"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","DifferentScheme","formControlName","diffSignOut","type","checkbox",1,"tw-form-switch__input"],["id","OutScheme","placeholder","DynamicAuth.SignOutScheme.Placeholder",3,"valueChanged","label","help","listItems","allowCustom","value","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,Ov,4,9,"form",2)),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,2,"DynamicAuth.Wizard.SignInSchemeStep.Title"),e.npT),e.R7$(2),e.Y8G("ngIf",l.signInSchemeForm))},dependencies:[vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m,Nv,Cn.D9],encapsulation:2})}}return s})();function Pv(s,g){1&s&&(e.nrm(0,"span",8),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"Errors.PathValidation"),e.npT)}let Bv=(()=>{class s{constructor(n,a){this.fb=n,this.configService=a}ngOnInit(){this.configService.getConfig().pipe((0,Gn.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.buildForm()}})}ngOnDestroy(){}buildForm(){let n=this.dtoSnapshot?.scheme;(0,Ci.gP)(n)&&(n="{scheme}");let l={entityId:["",[p.k0.required]],callbackPath:[this.isRskDynamicAuth?`/signin/dynamic/${n}`:`/federation/${n}/signin-saml`,[p.k0.required,Ul()]]};this.serviceProviderForm=this.fb.group(l)}validCallbackPath(){return this.serviceProviderForm.get("callbackPath").valid}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.serviceProviderForm.invalid}hosted(){}toStepDto(){const n={};return n.entityId=this.serviceProviderForm.get("entityId").value,n.callbackPath=this.serviceProviderForm.get("callbackPath").value,n}toSummaryMap(){const n=new Map;return n.set("entityId",[this.serviceProviderForm.get("entityId").value]),n.set("callbackPathAcs",[this.serviceProviderForm.get("callbackPath").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-service-provider-step"]],inputs:{data:"data"},decls:9,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","EntityId","id","EntityId","formControlName","entityId","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5),e.nrm(7,"input",6),e.DNE(8,Pv,2,3,"span",7),e.k0s()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,10,"DynamicAuth.Wizard.SAML.ServiceProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.serviceProviderForm),e.R7$(),e.Y8G("id","EntityId")("label","DynamicAuth.EntityId.Label")("help","DynamicAuth.EntityId.Help"),e.R7$(2),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPathAcsEndpoint.Label")("help","DynamicAuth.CallbackPathAcsEndpoint.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!l.validCallbackPath()))},dependencies:[vn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();var Co=h(1746);const ng=["fileInput"];let Du=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T){this.fb=n,this.certService=a,this.toastr=l,this.translate=T,this.validCertificateForm=!1,this.selectedFile=void 0,this.fileName=new Co.w(""),this.fileContent=void 0,this.passwordDisabled=!0}ngOnInit(){this.buildForm()}buildForm(){this.certForm=this.fb.group({certPassword:["",[]]})}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return this.disableClearBtn()||this.validCertificateForm}hosted(){}handleFileInput(n){this.selectedFile=n.item(0),this.passwordDisabled=!1,this.requestCertValidation()}requestCertValidation(){this.validCertificateForm=!1}disableTestBtn(){return null==this.selectedFile}disableClearBtn(){const n=this.certForm.get("certPassword").value;return null==this.selectedFile&&""==n}validateForm(){if(null==this.selectedFile)return void this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"));this.fileName=new Co.w(""),this.fileContent=void 0;const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Co.w(this.selectedFile?.name),this.fileContent=a,this.validCertificateForm=!0,this.toastr.success(this.translate.instant("Notifications.CertValidTitle"))},error:a=>{this.validCertificateForm=!1,this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle"))}})}clearCertificateForm(){this.fileInputNative.nativeElement.value=null,this.selectedFile=null,this.fileName=new Co.w(""),this.fileContent=void 0,this.certForm.get("certPassword").setValue(""),this.passwordDisabled=!0,this.validCertificateForm=!1}toStepDto(){const n={};return n.certFile=this.fileContent,n.certPassword=this.certForm.get("certPassword").value,n}toSummaryMap(){const n=new Map;return n.set("certFile",[this.selectedFile?.name]),n.set("certPassword",[this.certForm.get("certPassword").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(sd.V),e.rXU(Zn.tw),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-signing-step"]],viewQuery:function(a,l){if(1&a&&e.GBs(ng,5),2&a){let T;e.mGM(T=e.lsd())&&(l.fileInputNative=T.first)}},inputs:{data:"data"},decls:18,vars:19,consts:[["fileInput","","selectedFile",""],[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"input","id","label"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control",3,"readonly"],[3,"isLast"],["id","testBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","clearBtn",1,"tw-btn","tw-mr-3",3,"click","disabled"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",1),e.nrm(1,"p",2),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",3)(4,"app-form-row",4)(5,"div",5)(6,"input",6,0),e.bIt("change",function(Te){return e.eBV(T),e.Njj(l.handleFileInput(Te.target.files))}),e.k0s()()(),e.j41(9,"app-form-row",7),e.bIt("input",function(){return e.eBV(T),e.Njj(l.requestCertValidation())}),e.nrm(10,"input",8),e.k0s(),e.j41(11,"app-form-row",9)(12,"button",10),e.bIt("click",function(){return e.eBV(T),e.Njj(l.validateForm())}),e.EFF(13),e.nI1(14,"translate"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(T),e.Njj(l.clearCertificateForm())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()}2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,13,"DynamicAuth.Wizard.SAML.SigningStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInputRow")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPasswordRow")("label","DynamicAuth.CertPassword.Label"),e.R7$(),e.Y8G("readonly",l.passwordDisabled),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("disabled",l.disableTestBtn()),e.R7$(),e.JRh(e.bMT(14,15,"Common.ValidateCert")),e.R7$(2),e.Y8G("disabled",l.disableClearBtn()),e.R7$(),e.JRh(e.bMT(17,17,"Common.Clear")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})(),qd=(()=>{class s{constructor(n){this.inner=n}success_noduplicate(n,a){return this.showToast(n,a,(l,T)=>this.inner.success(l,T))}error_noduplicate(n,a){return this.showToast(n,a,(l,T)=>this.inner.error(l,T))}showToast(n,a,l){var T=this.inner.findDuplicate(a,n,!1,!1);return T&&this.inner.remove(T.toastId),l(n,a)}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(Zn.tw))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),Au=(()=>{class s{constructor(n,a,l,T){this.fb=n,this.providerValidator=a,this.translate=l,this.toastr=T,this.metadataAddrStream=new Ar.B}ngOnInit(){this.buildForm(),this.metadataAddrStream.subscribe(n=>{this.providerValidator.validateMetadataUrl(n).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}ngOnDestroy(){this.metadataAddrStream.unsubscribe()}tryMetadataAddr(){const n=this.externalProviderForm.get("metadataAddress");n.invalid||this.metadataAddrStream.next(n.value)}showReachableError(){const n=this.externalProviderForm.get("metadataAddress");return!(0,Ci.gP)(n.value)&&n.errors?.unreachableUrl}buildForm(){let n={metadataAddress:["https://",[p.k0.required,p.k0.pattern("^https://.{1,}$")]]};this.externalProviderForm=this.fb.group(n)}getStepSummary(){return this.toSummaryMap()}getStepDTO(){return this.toStepDto()}canNext(){return!this.externalProviderForm.invalid}hosted(){}toStepDto(){const n={};return n.metadataAddress=this.externalProviderForm.get("metadataAddress").value,n}toSummaryMap(){const n=new Map;return n.set("metadataAddress",[this.externalProviderForm.get("metadataAddress").value]),n}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Iu),e.rXU(Cn.c$),e.rXU(qd))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-external-provider-step"]],inputs:{data:"data"},decls:11,vars:12,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],[3,"formGroup"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","MetadataAddress","id","MetadataAddress","formControlName","metadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click","disabled"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"form",2)(4,"app-form-row",3)(5,"div",4),e.nrm(6,"input",5),e.j41(7,"button",6),e.bIt("click",function(){return l.tryMetadataAddr()}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()),2&a&&(e.R7$(),e.Y8G("innerHTML",e.bMT(2,8,"DynamicAuth.Wizard.SAML.ExternalProviderStep.Title"),e.npT),e.R7$(2),e.Y8G("formGroup",l.externalProviderForm),e.R7$(),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(3),e.Y8G("disabled",!l.canNext()),e.R7$(2),e.JRh(e.bMT(10,10,"Common.ValidateMetadata")))},dependencies:[p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,Cn.D9],encapsulation:2})}}return s})();var ig=h(2552);function Ru(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title")))}function Mu(s,g){1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Title")))}function xu(s,g){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.OIDC.Description"),e.npT)}function ku(s,g){1&s&&(e.nrm(0,"p",1),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.Wizard.TypeSelectStep.SAML.Description"),e.npT)}let Nu=(()=>{class s{constructor(){this.wizardTypes=ji.$,this.activeType=ji.$.AddOidcDynamicAuth}hosted(){}ngOnInit(){}getStepSummary(){return new Map}getStepDTO(){return{}}canNext(){return!0}selectedType(){return this.activeType}buildOptionsArray(){return[{id:"oidcBtn",btnId:"oidcTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.OIDC.Title",icon:"fab fa-openid",type:ji.$.AddOidcDynamicAuth,selectedTypes:[ji.$.AddOidcDynamicAuth],starterMode:!0},{id:"samlBtn",btnId:"samlTestBtn",title:"DynamicAuth.Wizard.TypeSelectStep.SAML.Name",summary:"DynamicAuth.Wizard.TypeSelectStep.SAML.Title",icon:"fad fa-code",type:ji.$.AddSamlDynamicAuth,selectedTypes:[ji.$.AddSamlDynamicAuth],starterMode:!0}]}setActive(n){this.activeType=n}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-type-select"]],inputs:{data:"data"},decls:11,vars:8,consts:[[1,"cms","tw-mb-6"],[3,"innerHTML"],["id","clientTypeSelector",3,"select","activeType","isStarterMode","options"],[1,"tw-border-t","tw-border-grey-300","tw-text-grey-700","tw-text-sm","tw-mt-6","tw-pt-5"],[1,"tw-text-sm","tw-font-semibold","tw-text-primary-500","tw-mb-2"],["aria-hidden","true",1,"fas","fa-info-circle","tw-w-5"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0),e.nrm(1,"p",1),e.nI1(2,"translate"),e.k0s(),e.j41(3,"app-type-selector",2),e.bIt("select",function(q){return l.setActive(q)}),e.k0s(),e.j41(4,"div",3)(5,"h2",4),e.nrm(6,"span",5),e.DNE(7,Ru,3,3)(8,Mu,3,3),e.k0s(),e.DNE(9,xu,2,3)(10,ku,2,3),e.k0s()),2&a){let T,q;e.R7$(),e.Y8G("innerHTML",e.bMT(2,6,"DynamicAuth.Wizard.Description"),e.npT),e.R7$(2),e.Y8G("activeType",l.activeType)("isStarterMode",!1)("options",l.buildOptionsArray()),e.R7$(4),e.vxM(7,(T=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?7:T===l.wizardTypes.AddSamlDynamicAuth?8:-1),e.R7$(2),e.vxM(9,(q=l.activeType)===l.wizardTypes.AddOidcDynamicAuth?9:q===l.wizardTypes.AddSamlDynamicAuth?10:-1)}},dependencies:[ig.N,Cn.D9],encapsulation:2})}}return s})();class Ou extends mh.p{constructor(g){super();var n=[new fi.W(xv,{stepName:"NameRoleStepComponent"}),new fi.W(lS,{stepName:"ConnectionStepComponent"}),new fi.W(mS,{stepName:"ScopesStepComponent"}),new fi.W(eg,{stepName:"ClientSecretStepComponent"})];g&&n.push(new fi.W(Fv,{stepName:"SignInSchemeStepComponent"}));var a=[new fi.W(xv,{stepName:"NameRoleStepComponent"}),new fi.W(Bv,{stepName:"ServiceProviderStepComponent"}),new fi.W(Du,{stepName:"SigningStepComponent"}),new fi.W(Au,{stepName:"ExternalProviderStepComponent"}),new fi.W(Fv,{stepName:"SignInSchemeStepComponent"})];this.nameComponentMap.set(ji.$.Home,[new fi.W(Nu,{})]),this.nameComponentMap.set(ji.$.AddOidcDynamicAuth,n),this.nameComponentMap.set(ji.$.AddSamlDynamicAuth,a),this.nameTitleMap.set(ji.$.Home,new _n.J("DynamicAuth.Wizard.Setup","DynamicAuth.Wizard.Title")),this.nameTitleMap.set(ji.$.AddOidcDynamicAuth,new _n.J("DynamicAuth.Wizard.OIDC.Setup","DynamicAuth.Wizard.OIDC.Title")),this.nameTitleMap.set(ji.$.AddSamlDynamicAuth,new _n.J("DynamicAuth.Wizard.SAML.Setup","DynamicAuth.Wizard.SAML.Title"))}}let Fu=(()=>{class s{canNext(){return!1}hosted(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-empty-step"]],decls:4,vars:3,consts:[["id","emptyStepError","role","alert",1,"tw-alert-danger"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&a&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Wizards.Empty")))},dependencies:[Cn.D9],encapsulation:2})}}return s})();class Pu extends mh.p{getWizard(g){return[new fi.W(Fu)]}getWizardTitle(g){return new _n.J("Empty Provider",`No step for wizard name: ${g}`)}}function Bu(s,g){if(1&s&&(e.j41(0,"div",5),e.nrm(1,"div",17),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.xc7("width",n.progressPercent+"%"),e.BMQ("aria-valuenow",n.progressPercent)}}function Lv(s,g){}function Uv(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.nextTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("disabled",!n.canNext()),e.R7$(),e.JRh(e.bMT(2,2,"Common.Next"))}}function Vv(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.submit())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Save")))}function jv(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.previousTab())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.Back")))}function $v(s,g){1&s&&(e.j41(0,"a",15),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"StarterMode.UpgradeAdminUI")))}let Gv=(()=>{class s extends Hg.P{constructor(n,a,l,T,q){super(n,a,l),this.dynamicAuthService=T,this.configService=q,this.wizardProvider=new Pu,this.wizardName=ji.$.Home,this.configService.getConfig().subscribe({next:Te=>{this.wizardProvider=new Ou(Te.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk)},error:Te=>{this.errorService.handleError(Te)}})}submit(){const n=Rv(this.getModel());this.dynamicAuthService.createDynamicAuth(n).subscribe({complete:()=>{this.finishWizard(),this.clearComponents(),this.toastr.success(`${this.translate.instant("Common.Created")}: ${n.displayName}`,this.translate.instant("Notifications.SuccessfullyCreated"))},error:a=>{this.errorService.handleError(a)}})}getModel(){const n=this.wizardName,a=this.getWizardDto(),l=this.summaryComponentRef.instance.isEnabled();var T="";if(this.wizardName===ji.$.AddOidcDynamicAuth&&(T=JSON.stringify({authority:a.authority,clientId:a.clientId,callbackPath:a.callbackPath,usePkce:a.flow==sl.AuthCodePlusPkce,scope:a.scopes,clientSecret:a.clientSecret,signInScheme:a.signInScheme})),this.wizardName===ji.$.AddSamlDynamicAuth){var q={spEntityId:a.entityId,callbackPath:a.callbackPath,signAuthenticationRequests:!(0,Ci.hX)(a.certFile)&&!(0,Ci.hX)(a.certPassword),signingCertBase64:a.certFile,signingCertPassword:a.certPassword,signInScheme:a.signInScheme,idpMetadataAddress:a.metadataAddress};T=JSON.stringify(q)}return{type:Hr.fromWizardType(n),scheme:a.scheme,displayName:a.displayName,enabled:l,nonEditable:!1,options:T}}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(ac),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-wizard-host"]],features:[e.Jv_([Kc._]),e.Vt3],decls:23,vars:15,consts:[[1,"modal-header"],[1,"modal-title",3,"id"],["type","button",1,"modal-close",3,"click"],["aria-hidden","true",1,"fas","fa-times"],[1,"sr-only"],[1,"modal-progress"],[1,"modal-body","scrollbars"],["appStepHost",""],[1,"modal-body-fade"],[1,"modal-footer"],[1,"tw-flex","tw-items-center"],[1,"tw-mr-auto"],["class","tw-btn-success tw-mr-3","id","nextBtn",3,"disabled","click",4,"ngIf"],["class","tw-btn-success tw-mr-3","id","submitBtn",3,"click",4,"ngIf"],["class","tw-btn","id","backBtn",3,"click",4,"ngIf"],["id","upgradeAdminUI","href","starter-mode/teaser",1,"tw-btn","tw-ml-4"],["id","cancelBtn",1,"tw-btn-link","tw--mr-4",3,"click"],["role","progressbar",1,"modal-progress-bar"],["id","nextBtn",1,"tw-btn-success","tw-mr-3",3,"click","disabled"],["id","submitBtn",1,"tw-btn-success","tw-mr-3",3,"click"],["id","backBtn",1,"tw-btn",3,"click"]],template:function(a,l){if(1&a&&(e.j41(0,"div",0)(1,"h5",1),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"button",2),e.bIt("click",function(){return l.hideWizard()}),e.nrm(5,"span",3),e.j41(6,"span",4),e.EFF(7),e.nI1(8,"translate"),e.k0s()()(),e.DNE(9,Bu,2,3,"div",5),e.j41(10,"div",6),e.DNE(11,Lv,0,0,"ng-template",7),e.k0s(),e.nrm(12,"div",8),e.j41(13,"div",9)(14,"div",10)(15,"div",11),e.DNE(16,Uv,3,4,"button",12)(17,Vv,3,3,"button",13)(18,jv,3,3,"button",14)(19,$v,3,3,"a",15),e.k0s(),e.j41(20,"button",16),e.bIt("click",function(){return l.cancelWizard()}),e.EFF(21),e.nI1(22,"translate"),e.k0s()()()),2&a){let T;e.R7$(),e.Y8G("id",l.titleId),e.R7$(),e.JRh(e.bMT(3,9,null!==(T=null==l.wizardTitles?null:l.wizardTitles.setupTitle)&&void 0!==T?T:"")),e.R7$(5),e.JRh(e.bMT(8,11,"Common.Close")),e.R7$(2),e.vxM(9,l.showProgress?9:-1),e.R7$(7),e.Y8G("ngIf",l.index<(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",l.index==(null==l.wizardSteps?null:l.wizardSteps.length)),e.R7$(),e.Y8G("ngIf",!l.initialStep()),e.R7$(),e.vxM(19,l.initialStep()&&null!=l.asAny&&l.asAny.displayUpgradeIcon?19:-1),e.R7$(2),e.JRh(e.bMT(22,13,"Common.Cancel"))}},dependencies:[vn.bT,gh.t,Cn.D9],encapsulation:2})}}return s})();const Hv=()=>({href:"https://www.identityserver.com/documentation/dynamic-authentication-providers/quickstarts/entityframework/"}),Wv=(s,g)=>({"fad fa-pencil":s,"fas fa-eye":g});function Kv(s,g){1&s&&(e.j41(0,"div",3),e.nrm(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"div",5)(4,"div",6)(5,"p",7),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"ul",8)(9,"li")(10,"a",9),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"li")(14,"a",10),e.EFF(15),e.nI1(16,"translate"),e.k0s()()()()()()),2&s&&(e.R7$(),e.Y8G("title",e.bMT(2,4,"DynamicAuth.Title.Generic")),e.R7$(5),e.JRh(e.bMT(7,6,"DynamicAuth.Unconfigured.FirstLine")),e.R7$(5),e.JRh(e.bMT(12,8,"DynamicAuth.Unconfigured.WhatIs")),e.R7$(4),e.JRh(e.bMT(16,10,"DynamicAuth.Unconfigured.Enable")))}function Df(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-dynamic-auth-wizard-host",17),e.bIt("wizardCancel",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.hideWizard())})("finish",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.onFinish())})("hide",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.hideWizard())}),e.k0s()}}function cc(s,g){1&s&&(e.j41(0,"div",18)(1,"div",19),e.nrm(2,"span",20),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.Y8G("innerHTML",e.i5U(3,1,"Errors.DynamicAuthentication.SchemaHealth",e.lJ4(4,Hv)),e.npT))}function bS(s,g){1&s&&(e.j41(0,"span"),e.nrm(1,"span",38),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.ShowFilters")," "))}function CS(s,g){1&s&&(e.j41(0,"span"),e.nrm(1,"span",39),e.EFF(2),e.nI1(3,"translate"),e.k0s()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Auditing.HideFilters")," "))}function rg(s,g){if(1&s){const n=e.RV6();e.j41(0,"li",34)(1,"button",40),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Enabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.Enabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Enabled")," ")}}function Oc(s,g){if(1&s){const n=e.RV6();e.j41(0,"li")(1,"button",41),e.bIt("click",function(){e.eBV(n);const l=e.XpG(3);return e.Njj(l.filter(l.DynamicAuthFilters.Disabled))}),e.EFF(2),e.nI1(3,"translate"),e.k0s()()}if(2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.Disabled)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(3,2,"DynamicAuth.Filters.Disabled")," ")}}function sg(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",46)(1,"label",47),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"select",48),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(4);return e.DH7(T.pageSize,l)||(T.pageSize=l),e.Njj(l)}),e.bIt("change",function(){e.eBV(n);const l=e.XpG(4);return e.Njj(l.setPageLength(+l.pageSize))}),e.j41(5,"option",49),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"option",50),e.EFF(9),e.nI1(10,"translate"),e.k0s(),e.j41(11,"option",51),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()}if(2&s){const n=e.XpG(4);e.R7$(2),e.Lme("",n.pageSize," ",e.bMT(3,6,"Nav.PerPage"),""),e.R7$(2),e.R50("ngModel",n.pageSize),e.R7$(2),e.SpI("25 ",e.bMT(7,8,"Nav.PerPage"),""),e.R7$(3),e.SpI("50 ",e.bMT(10,10,"Nav.PerPage"),""),e.R7$(3),e.SpI("100 ",e.bMT(13,12,"Nav.PerPage"),"")}}function wS(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,42),e.DNE(2,sg,14,14,"div",43),e.bVm(),e.qex(3,44),e.j41(4,"button",45),e.bIt("click",function(){e.eBV(n),e.XpG(2);const l=e.sdS(9),T=e.XpG();return e.Njj(T.showWizard(l))}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s()}if(2&s){const n=e.XpG(3);e.R7$(2),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0),e.R7$(3),e.SpI(" ",e.bMT(6,2,"Common.Add")," ")}}function og(s,g){1&s&&e.nrm(0,"app-simple-loader")}function TD(s,g){1&s&&(e.j41(0,"div",55)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"DynamicAuth.List.None")))}function ID(s,g){1&s&&(e.j41(0,"span",70)(1,"span",14),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Common.Disabled")))}function SS(s,g){1&s&&(e.j41(0,"span",71),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Disabled")," "))}function ES(s,g){1&s&&(e.j41(0,"span",72),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function zv(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",61)(1,"td",62),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.DNE(2,ID,4,3,"span",63),e.j41(3,"b"),e.EFF(4),e.k0s()(),e.j41(5,"td",64),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.EFF(6),e.k0s(),e.j41(7,"td",64),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.j41(8,"code"),e.EFF(9),e.k0s()(),e.j41(10,"td",65),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.DNE(11,SS,3,3,"span",66)(12,ES,3,3,"span",67),e.k0s(),e.j41(13,"td",65),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.j41(14,"button",68),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(5);return e.Njj(T.viewOrEditDynamicAuth(l))}),e.nrm(15,"span",69),e.j41(16,"span",14),e.EFF(17),e.nI1(18,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit,a=e.XpG(5);e.AVh("inactive",!n.enabled||(null==n?null:n.nonEditable)),e.FS9("id",n.scheme),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.AVh("tw-text-blue-500",!(null!=n&&n.nonEditable)),e.R7$(),e.SpI(" ",null==n?null:n.scheme," "),e.R7$(2),e.SpI(" ",null==n?null:n.displayName," "),e.R7$(3),e.JRh(a.typeStr(null==n?null:n.type)),e.R7$(2),e.Y8G("ngIf",!n.enabled),e.R7$(),e.Y8G("ngIf",null==n?null:n.nonEditable),e.R7$(3),e.Y8G("ngClass",e.l_i(15,Wv,!a.isReadOnly&&!n.nonEditable,a.isReadOnly||n.nonEditable)),e.R7$(2),e.JRh(e.bMT(18,13,"Common.Edit"))}}function TS(s,g){if(1&s&&(e.j41(0,"table",56)(1,"thead")(2,"tr")(3,"th",57),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",58),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",58),e.EFF(10),e.nI1(11,"translate"),e.k0s(),e.j41(12,"th",59)(13,"span",14),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.j41(16,"th",59)(17,"span",14),e.EFF(18),e.nI1(19,"translate"),e.k0s()()()(),e.j41(20,"tbody"),e.DNE(21,zv,19,18,"tr",60),e.k0s()()),2&s){const n=e.XpG(4);e.R7$(4),e.SpI(" ",e.bMT(5,6,"Common.Scheme")," "),e.R7$(3),e.SpI(" ",e.bMT(8,8,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(11,10,"Common.Type")," "),e.R7$(4),e.JRh(e.bMT(15,12,"Common.Status")),e.R7$(4),e.JRh(e.bMT(19,14,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.dynamicAuths)}}function mo(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-pager",73),e.bIt("onGoToPage",function(l){e.eBV(n);const T=e.XpG(4);return e.Njj(T.goToPage(l))}),e.k0s()}if(2&s){const n=e.XpG(4);e.Y8G("totalResults",null==n.pagedResult?null:n.pagedResult.totalCount)("currentPage",n.page)("lastPage",null==n.pagedResult?null:n.pagedResult.pageCount)}}function Yv(s,g){if(1&s&&(e.qex(0),e.DNE(1,TD,4,3,"div",52)(2,TS,22,16,"table",53)(3,mo,1,3,"app-pager",54),e.bVm()),2&s){const n=e.XpG(3);e.R7$(),e.Y8G("ngIf",(null==n.dynamicAuths?null:n.dynamicAuths.length)<1),e.R7$(),e.Y8G("ngIf",(null==n.dynamicAuths?null:n.dynamicAuths.length)>0),e.R7$(),e.Y8G("ngIf",(null==n.pagedResult?null:n.pagedResult.results.length)>0&&!n.isLoading)}}function IS(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",21)(1,"div",22)(2,"div",23)(3,"label",24),e.nrm(4,"span",25),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()(),e.j41(8,"input",26),e.nI1(9,"translate"),e.mxI("ngModelChange",function(l){e.eBV(n);const T=e.XpG(2);return e.DH7(T.searchTerm,l)||(T.searchTerm=l),e.Njj(l)}),e.bIt("keyup",function(l){e.eBV(n);const T=e.XpG(2);return e.Njj(T.search(l))}),e.k0s()(),e.j41(10,"button",27),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.showAdvancedFilters=!l.showAdvancedFilters)}),e.DNE(11,bS,4,3,"span",28)(12,CS,4,3,"span",28),e.k0s(),e.j41(13,"div",29)(14,"div",30)(15,"div",31)(16,"p",32),e.EFF(17),e.nI1(18,"translate"),e.k0s(),e.j41(19,"ul",33)(20,"li",34)(21,"button",35),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.OIDC))}),e.EFF(22),e.nI1(23,"translate"),e.k0s()(),e.j41(24,"li",34)(25,"button",36),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.filter(l.DynamicAuthFilters.SAML))}),e.EFF(26),e.nI1(27,"translate"),e.k0s()(),e.DNE(28,rg,4,4,"li",37)(29,Oc,4,4,"li",28),e.k0s()()(),e.nrm(30,"hr"),e.k0s()(),e.DNE(31,wS,7,4,"app-action-bar",28)(32,og,1,0,"app-simple-loader",28)(33,Yv,4,3,"ng-container",28),e.k0s()}if(2&s){const n=e.XpG(2);e.R7$(6),e.JRh(e.bMT(7,16,"Common.Search")),e.R7$(2),e.FS9("placeholder",e.bMT(9,18,"DynamicAuth.SearchPlaceholder")),e.R50("ngModel",n.searchTerm),e.R7$(3),e.Y8G("ngIf",!n.showAdvancedFilters),e.R7$(),e.Y8G("ngIf",n.showAdvancedFilters),e.R7$(),e.Y8G("hidden",!n.showAdvancedFilters),e.R7$(4),e.JRh(e.bMT(18,20,"Auditing.Showing")),e.R7$(4),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.OIDC)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(23,22,"DynamicAuth.Filters.OIDC")," "),e.R7$(3),e.Y8G("ngClass",n.isShowing(n.DynamicAuthFilters.SAML)?"tw-btn":"tw-btn-link"),e.R7$(),e.SpI(" ",e.bMT(27,24,"DynamicAuth.Filters.SAML")," "),e.R7$(2),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(2),e.Y8G("ngIf",!n.isLoading&&!n.isReadOnly),e.R7$(),e.Y8G("ngIf",n.isLoading),e.R7$(),e.Y8G("ngIf",!n.isLoading)}}function DS(s,g){if(1&s&&(e.j41(0,"div",11)(1,"app-title-bar",4),e.nI1(2,"translate"),e.j41(3,"a",12),e.nrm(4,"span",13),e.j41(5,"span",14),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.DNE(8,Df,1,0,"ng-template",null,0,e.C5r)(10,cc,4,5,"div",15)(11,IS,34,26,"div",16),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("title",e.bMT(2,5,n.isRskDynamicAuth?"DynamicAuth.Title.RSK":"DynamicAuth.Title.Duende")),e.R7$(2),e.Y8G("href",n.LinkConstants.EnablingDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(7,7,"Common.Help")),e.R7$(4),e.Y8G("ngIf",!n.schemaHealthy),e.R7$(),e.Y8G("ngIf",n.schemaHealthy)}}let Xv=(()=>{class s extends uo.if{get DynamicAuthFilters(){return qm}get isReadOnly(){return(0,Ci.ci)(this.securityService.userPermissions)}get LinkConstants(){return da}typeStr(n){return Hr[n]}constructor(n,a,l,T,q,Te,Ze,_t,$t,un){super(Te,Ze,!0),this.configService=n,this.errorService=a,this.titleService=l,this.dynamicAuthenticationService=T,this.securityService=q,this.router=_t,this.localize=$t,this.modalService=un,this.activeFilters=[],this.pageSize=25,this.page=1,this.term="",this.isLoading=!0,this.showAdvancedFilters=!1,this.schemaHealthy=!0,this.isRskDynamicAuth=!1,this.dynamicAuthIsNotConfigured=!1,this.dynamicAuths=[],this.filterStream=new Ar.B,this.pageStream=new Ar.B,this.pageSizeStream=new Ar.B,this.mapSearchTerm=this.mapSearchTerm.bind(this)}showWizard(n){this.modalService.show(n,{id:ho.R.Id,ariaLabelledBy:ho.R.TileId,ariaDescribedby:ho.R.DescriptionId,backdrop:"static"})}hideWizard(){this.modalService.hide(ho.R.Id)}reload(){this.pageStream.next(this.page),this.pageSizeStream.next(this.pageSize)}mapSearchTerm(n){return this.term=n,{searchTerm:n,page:1,pageSize:this.pageSize}}ngOnInit(){const n=this.translate.instant("Nav.DynamicAuth")+" - "+Ut.$9.SITE_TITLE;this.isLoading=!0,this.titleService.setTitle(n),this.configService.getConfig().subscribe({next:a=>{this.dynamicAuthIsNotConfigured=(0,Ci.hX)(a.featureFlagOptions.dynamicAuthenticationFlag),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:a=>{this.errorService.handleError(a)}}),this.dynamicAuthIsNotConfigured||this.dynamicAuthenticationService.schemaHealthy().pipe((0,Gn.$)()).subscribe({next:a=>{this.schemaHealthy=a,this.schemaHealthy&&this.triggerPageLoad()},error:a=>{this.toastr.error(this.translate.instant("Errors.DynamicAuthentication.SchemeHealthHttp",{status:a.status}))}})}triggerPageLoad(){const n=this.filterStream.pipe((0,wi.T)(T=>(this.activeFilters=T,{filters:T,searchTerm:this.term,page:this.page,pageSize:this.pageSize}))),a=this.pageStream.pipe((0,wi.T)(T=>(this.page=T,{filters:this.activeFilters,searchTerm:this.term,page:T,pageSize:this.pageSize}))),l=this.pageSizeStream.pipe((0,wi.T)(T=>(this.pageSize=T,{filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:T})));a.pipe((0,pa.X)(l),(0,pa.X)(this.searchSource),(0,pa.X)(n),(0,pa.X)(this.enterKeySource),(0,Xa.Z)({filters:this.activeFilters,searchTerm:this.term,page:this.page,pageSize:this.pageSize}),(0,ia.Z)(T=>{this.isLoading=!0;const q=T.filters.join(" ");return this.dynamicAuthenticationService.get(T.searchTerm,T.page,T.pageSize,q).pipe((0,ra.c)(200))})).subscribe({next:T=>{this.pagedResult=T,this.dynamicAuths=this.pagedResult.results.map(q=>Tf(q)).sort((q,Te)=>Number(Te.nonEditable)-Number(q.nonEditable)),this.isLoading=!1},error:T=>{500===T.status?this.handleInternalServerError():this.errorService.handleError(T),this.isLoading=!1}})}filter(n){if(this.activeFilters.includes(n)){const a=this.activeFilters.indexOf(n);this.activeFilters.splice(a,1)}else this.activeFilters.push(n);this.filterStream.next(this.activeFilters)}isShowing(n){return this.activeFilters.includes(n)}goToPage(n){this.pageStream.next(n)}setPageLength(n){this.page=1,this.pageSizeStream.next(n)}viewOrEditDynamicAuth(n){const l=this.localize.translateRoute(`${this.isReadOnly||n.nonEditable?"/dynamic-auth/view":"/dynamic-auth"}/${n.scheme}`);this.router.navigateByUrl(l)}handleInternalServerError(){this.toastr.error(this.translate.instant("IdentityProviders.Filter.StoredProcedureErrorMessage"),this.translate.instant("Notifications.Error"))}onFinish(){this.hideWizard(),this.reload()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Es.w),e.rXU(ee.I),e.rXU(i.hE),e.rXU(ac),e.rXU($r.i),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(St.Ix),e.rXU(zn.QG),e.rXU(xt.I8))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],features:[e.Vt3],decls:2,vars:2,consts:[["idpWizardModal",""],["id","missingConfiguration",4,"ngIf"],["id","listView",4,"ngIf"],["id","missingConfiguration"],[3,"title"],["id","ActivationInformation",1,"tw-container","mx-auto"],[1,"cms"],["id","firstLine"],[1,"tw-list-disc","tw-list-inside","tw-indent-8"],["href","documentation/DynamicAuthentication/What_is_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["href","documentation/DynamicAuthentication/Enabling_or_disabling_Dynamic_Authentication.html","target","_blank",1,"tw-text-blue-500","hover:tw-text-body","tw-transition-all","tw-ease-in-out"],["id","listView"],["type","button","target","_blank","ctx","",1,"tw-btn-link","tw-btn","group-hover:tw-text-blue-500","tw-pl-0",3,"href"],[1,"far","fa-question-circle"],[1,"sr-only"],["id","schemaUnhealthy","class","tw-container tw-mx-auto",4,"ngIf"],["id","dynamicAuthList","class","tw-container tw-mx-auto",4,"ngIf"],[3,"wizardCancel","finish","hide"],["id","schemaUnhealthy",1,"tw-container","tw-mx-auto"],[1,"tw-alert-warning","tw-mb-4"],[3,"innerHTML"],["id","dynamicAuthList",1,"tw-container","tw-mx-auto"],["id","searchContainer",1,"tw-mb-2"],[1,"tw-flex","tw-bg-white","tw-border","tw-border-grey-300","tw-opacity-75","tw-cursor-text","tw-rounded","focus-within:tw-opacity-100","focus-within:tw-border-blue-400","tw-transition-all","tw-ease-in-out"],["for","idpTerm",1,"tw-flex","tw-items-center","tw-text-grey-500","tw-m-0","tw-ml-3"],["aria-hidden","true",1,"far","fa-search","tw-text-sm"],["id","idpTerm","type","search",1,"tw-bg-transparent","tw-border-0","tw-text-base","tw-leading-tight","tw-px-2","tw-py-2","tw-w-full","focus:tw-outline-none","tw-transition-all","tw-ease-in-out",3,"ngModelChange","keyup","ngModel","placeholder"],["id","showFilterButton","type","button","aria-expanded","showAdvancedFilters",1,"tw-btn-link","tw-btn-small","tw-px-0","mt-2",3,"click"],[4,"ngIf"],["id","toggleFilters","aria-labelledby","showFilterButton",1,"tw-mt-3","tw-mb-6",3,"hidden"],[1,"tw-flex-grid","md:tw-flex-nowrap","mb-3"],[1,"tw-flex-grid-col","md:tw-ml-auto","md:tw-w-auto","mb-3","mr-2"],[1,"tw-form-label"],[1,"tw-flex","tw-items-center"],[1,"mr-2"],["id","oidcFilter",3,"click","ngClass"],["id","samlFilter",3,"click","ngClass"],["class","mr-2",4,"ngIf"],["aria-hidden","true",1,"fas","fa-angle-down","tw-mr-1"],["aria-hidden","true",1,"fas","fa-angle-up","tw-mr-1"],["id","enabledFilter",3,"click","ngClass"],["id","disabledFilter",3,"click","ngClass"],["left",""],["class","tw-hidden tw-form-select tw-w-auto sm:tw-block",4,"ngIf"],["right",""],["id","addIdpBtn",1,"tw-btn-success",3,"click"],[1,"tw-hidden","tw-form-select","tw-w-auto","sm:tw-block"],["for","pageSizeToggle",1,"sr-only"],["id","pageSizeToggle",1,"tw-form-control","tw-form-control-small",3,"ngModelChange","change","ngModel"],["value","25"],["value","50"],["value","100"],["id","idpNone","class","tw-alert","role","alert",4,"ngIf"],["id","idpTable","class","datatable selectable hover",4,"ngIf"],[3,"totalResults","currentPage","lastPage","onGoToPage",4,"ngIf"],["id","idpNone","role","alert",1,"tw-alert"],["id","idpTable",1,"datatable","selectable","hover"],["id","sortUsername",1,"md:tw-w-1/3","lg:tw-w-1/3"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],["class","group",3,"id","inactive",4,"ngFor","ngForOf"],[1,"group",3,"id"],[1,"tw-max-w-0","tw-truncate",3,"click"],["class","fas fa-exclamation-triangle tw-text-orange-500 tw-mr-1","container","body",4,"ngIf"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell",3,"click"],[3,"click"],["class","tw-pill-warning",4,"ngIf"],["class","tw-pill",4,"ngIf"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","viewOrEditIcon","aria-hidden","true",3,"ngClass"],["container","body",1,"fas","fa-exclamation-triangle","tw-text-orange-500","tw-mr-1"],[1,"tw-pill-warning"],[1,"tw-pill"],[3,"onGoToPage","totalResults","currentPage","lastPage"]],template:function(a,l){1&a&&e.DNE(0,Kv,17,12,"div",1)(1,DS,12,9,"div",2),2&a&&(e.Y8G("ngIf",l.dynamicAuthIsNotConfigured),e.R7$(),e.Y8G("ngIf",!l.dynamicAuthIsNotConfigured))},dependencies:[vn.YU,vn.Sq,vn.bT,p.xH,p.y7,p.me,p.wz,p.BC,p.vS,nn.z,pl.n,Ms.d,Ja.B,Gv,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Lu=h(3806),Uu=h(1258),eh=h(4754),Fc=h(1560),Af=h(3899);const AS=["updateClientSecretButton"],ag=s=>[s];function RS(s,g){1&s&&(e.j41(0,"app-form-row",15)(1,"app-form-toggle",16),e.nrm(2,"input",17),e.k0s()()),2&s&&(e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("id","Enabled")("isTraffic",!0)("isAlt",!1))}function Jv(s,g){if(1&s&&(e.j41(0,"div",10),e.DNE(1,RS,3,5,"app-form-row",11),e.j41(2,"app-form-row",12),e.nrm(3,"app-readonly",13),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"input",14),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(11,ag,e.bMT(4,9,n.dynamicAuth.scheme))),e.R7$(2),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help")}}function DD(s,g){1&s&&(e.j41(0,"app-form-row",12),e.nrm(1,"input",25),e.k0s()),2&s&&e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help")}function lg(s,g){if(1&s&&(e.j41(0,"option",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=g.$implicit;e.Y8G("value",n),e.R7$(),e.JRh(e.bMT(2,2,"DynamicAuth.Flows."+n))}}function cg(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",18)(1,"app-form-row",12)(2,"input",19),e.bIt("focusout",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.tryReachAuthority())}),e.k0s()(),e.j41(3,"app-form-row",12),e.nrm(4,"input",20),e.k0s(),e.DNE(5,DD,2,3,"app-form-row",21),e.j41(6,"app-form-row",12)(7,"div",22)(8,"select",23),e.DNE(9,lg,3,4,"option",24),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(2),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(3),e.Y8G("ngForOf",n.allowedFlows)}}function ug(s,g){1&s&&(e.j41(0,"app-form-row",31)(1,"app-form-toggle",16),e.nrm(2,"input",32),e.k0s()()),2&s&&(e.Y8G("id","DifferentSignOut")("label","DynamicAuth.DifferentSignOut.Label")("help","DynamicAuth.DifferentSignOut.Help"),e.R7$(),e.Y8G("id","DifferentSignOut")("isTraffic",!0)("isAlt",!1))}function dg(s,g){1&s&&(e.j41(0,"app-form-row",12)(1,"app-row-bar",28),e.nrm(2,"input",33),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(3,4,"DynamicAuth.SignOutScheme.Placeholder")))}function Tl(s,g){if(1&s&&(e.j41(0,"div",27)(1,"app-form-row",12)(2,"app-row-bar",28),e.nrm(3,"input",29),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,ug,3,6,"app-form-row",30)(6,dg,4,6,"app-form-row",21),e.k0s()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(2),e.FS9("placeholder",e.bMT(4,6,"DynamicAuth.SignInScheme.Placeholder")),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)&&n.formGroup.get("signInSchemeForm.differentSignOut").value)}}function MS(s,g){if(1&s&&(e.j41(0,"div")(1,"app-form-row",34),e.nrm(2,"app-lifetime-picker",35),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",n.defaultToleranceTimes)}}function Qv(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",36)(1,"app-form-row",34)(2,"div",37),e.nrm(3,"app-readonly",13),e.j41(4,"button",38,0),e.nI1(6,"translate"),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.openClientSecretModal())}),e.nrm(7,"span",39),e.j41(8,"span",40),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(2),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(12,ag,n.displaySecret)),e.R7$(),e.Y8G("tooltip",e.bMT(6,8,"DynamicAuth.UpdateClientSecret.Title")),e.R7$(5),e.JRh(e.bMT(10,10,"Common.Edit"))}}function Il(s,g){if(1&s&&(e.j41(0,"form",4),e.DNE(1,Jv,7,13,"div",5)(2,cg,10,11,"div",6)(3,Tl,7,8,"div",7)(4,MS,3,5,"div",8)(5,Qv,11,14,"div",9),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("ngIf",n.formGroup.get("detailsForm")),e.R7$(),e.Y8G("ngIf",n.formGroup.get("connectionForm")&&n.dynamicAuth.type==n.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",n.formGroup.get("signInSchemeForm")&&(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",n.formGroup.get("timeComparisonTolerance")&&(n.isRskDynamicAuth||n.dynamicAuth.type==n.dynamicAuthTypes.SAML)),e.R7$(),e.Y8G("ngIf",n.formGroup.get("secretForm")&&n.dynamicAuth.type==n.dynamicAuthTypes.OIDC)}}function ol(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-custom-modal",41),e.bIt("onCancel",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.cancelClientSecretModal())})("onSave",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addNewClientSecretToFormGroup())}),e.j41(1,"form",4)(2,"p",42),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"input",43),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("title","DynamicAuth.UpdateClientSecret.Title")("modalId",n.updateClientSecretModalId)("actions",n.updateClientSecretModalActions)("saveText","DynamicAuth.UpdateClientSecret.Confirm"),e.R7$(),e.Y8G("formGroup",n.formClientSecret),e.R7$(2),e.SpI("",e.bMT(4,6,"DynamicAuth.UpdateClientSecret.Description"),":")}}let al=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T,q,Te,Ze,_t){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=T,this.providerValidator=q,this.translate=Te,this.toastr=Ze,this.modalService=_t,this.dynamicAuthTypes=Hr,this.isDeleting=!1,this.allowedFlows=Ks.FlowTypes,this.samlSignInSchemeCodeFrag=Ks.SamlSignInSchemeCodeFrag,this.samlSignOutSchemeCodeFrag=Ks.SamlSignOutSchemeCodeFrag,this.failedToContactAuthority=!1,this.updateClientSecretModalActions=[Uu.N.Save],this.updateClientSecretModalId="updateClientSecretModal"}ngOnInit(){this.defaultToleranceTimes=[{duration:2,unit:Lu.u.Minutes},{duration:5,unit:Lu.u.Minutes},{duration:10,unit:Lu.u.Minutes}],this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:n=>{this.errorService.handleError(n)}}),this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{switch(this.dynamicAuth=n,this.dynamicAuth.type){case Hr.OIDC:this.buildOidcForms(),this.formClientSecret=this.fb.group({newClientSecret:[""]}),this.tryReachAuthority();break;case Hr.SAML:this.buildSamlForms()}this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe(),this.authorityChanged?.unsubscribe()}buildDetailsForm(){return this.fb.group({enabled:[this.dynamicAuth.enabled,[]],displayName:[this.dynamicAuth.displayName,[p.k0.required]]})}buildOidcForms(){this.oidcOptions=bo(this.dynamicAuth.options),this.displaySecret=new Co.w(this.oidcOptions.clientSecret);let n={authority:[this.oidcOptions.authority,[p.k0.required,p.k0.pattern("^https://.{1,}$")]],clientId:[this.oidcOptions.clientId,[p.k0.required]],flow:[this.oidcOptions.usePkce?sl.AuthCodePlusPkce:sl.AuthCode,[p.k0.required]]};this.isRskDynamicAuth&&(n.callbackPath=[this.oidcOptions.callbackPath,[p.k0.required,Ul()]]);let a={detailsForm:this.buildDetailsForm(),connectionForm:this.fb.group(n),secretForm:this.fb.group({clientSecret:[this.oidcOptions.clientSecret,[]]})};this.isRskDynamicAuth&&(a.signInSchemeForm=this.fb.group({signInScheme:[this.oidcOptions.signInScheme,[p.k0.required]],differentSignOut:[!(0,Ci.gP)(this.oidcOptions.signOutScheme),[]],signOutScheme:[this.oidcOptions.signOutScheme,[]]}),a.signInSchemeForm.get("differentSignOut").valueChanges.subscribe(l=>{l&&a.signInSchemeForm.get("signOutScheme").setValidators([p.k0.required])})),this.formGroup=this.fb.group(a)}buildSamlForms(){this.samlOptions=Do(this.dynamicAuth.options),this.formGroup=this.fb.group({detailsForm:this.buildDetailsForm(),signInSchemeForm:this.fb.group({signInScheme:[this.samlOptions.signInScheme,[p.k0.required]],differentSignOut:[!(0,Ci.gP)(this.samlOptions.signOutScheme),[]],signOutScheme:[this.samlOptions.signOutScheme,[]]}),timeComparisonTolerance:[this.samlOptions.timeComparisonTolerance,[]]})}tryReachAuthority(){let n=this.formGroup.get("connectionForm.authority").value;this.providerValidator.isValid(n).subscribe(a=>{a||this.toastr.warning(this.translate.instant("DynamicAuth.Authority.ReachableWarningMsg"),this.translate.instant("DynamicAuth.Authority.ReachableWarningTitle"))})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{let l,a={...this.dynamicAuth};a=this.updateDetails(a),this.dynamicAuth.type===Hr.OIDC?(l={...this.oidcOptions},l=this.updateConnection(l),l=this.updateSignInScheme(l),l=this.updateSecret(l)):this.dynamicAuth.type===Hr.SAML&&(l={...this.samlOptions},l=this.updateSignInScheme(l),l=this.updateTimeComparisonTolerance(l)),a.options=JSON.stringify(l),this.dynamicAuthCacheService.unsavedCache.next(a)}}),this.dynamicAuth.type===Hr.OIDC&&(this.authorityChanged=this.formGroup.get("connectionForm.authority").valueChanges.subscribe(n=>{this.failedToContactAuthority=!1}))}canSave(){return!1}updateDetails(n){return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.detailsForm",this.formGroup.get("detailsForm").valid),{...n,enabled:this.formGroup.get("detailsForm.enabled").value,displayName:this.formGroup.get("detailsForm.displayName").value}}updateConnection(n){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.connectionForm",this.formGroup.get("connectionForm").valid);let a={...n,authority:this.formGroup.get("connectionForm.authority").value,clientId:this.formGroup.get("connectionForm.clientId").value,usePkce:this.formGroup.get("connectionForm.flow").value==sl.AuthCodePlusPkce};return this.isRskDynamicAuth&&(a.callbackPath=this.formGroup.get("connectionForm.callbackPath").value),a}updateSignInScheme(n){if(!this.isRskDynamicAuth&&this.dynamicAuth.type==Hr.OIDC)return n;this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.signInSchemeForm",this.formGroup.get("signInSchemeForm").valid);let a={signInScheme:this.formGroup.get("signInSchemeForm.signInScheme").value,signOutScheme:void 0};if(this.dynamicAuth.type===Hr.SAML||this.isRskDynamicAuth){let l=this.formGroup.get("signInSchemeForm.differentSignOut").value,T=this.formGroup.get("signInSchemeForm.signOutScheme").value;a.signOutScheme=l?T:null}return{...n,...a}}updateSecret(n){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.secretForm",this.formGroup.get("secretForm").valid);let a=this.formGroup.get("secretForm.clientSecret").value;return this.displaySecret=new Co.w(a),{...n,clientSecret:a}}updateTimeComparisonTolerance(n){let a=this.formGroup.get("timeComparisonTolerance");return this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditDetailsComponent.timeComparisonTolerance",a.valid),{...n,timeComparisonTolerance:a.value}}setTimeComparisonTolerance(n){this.formGroup.controls.timeComparisonTolerance.setValue(n)}checkTimeComparisonToleranceSelected(n){return n==this.formGroup.get("timeComparisonTolerance").value}addNewClientSecretToFormGroup(){let n=this.formClientSecret.get("newClientSecret").value;this.formGroup.controls.secretForm.setValue({clientSecret:n}),this.formClientSecret.controls.newClientSecret.setValue(null)}openClientSecretModal(){this.modalService.showById(this.updateClientSecretModalId,this.updateClientSecretButtonRef)}cancelClientSecretModal(){this.modalService.hideById(this.updateClientSecretModalId)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Es.w),e.rXU(Iu),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(eh.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-details"]],viewQuery:function(a,l){if(1&a&&e.GBs(AS,5),2&a){let T;e.mGM(T=e.lsd())&&(l.updateClientSecretButtonRef=T.first)}},decls:3,vars:2,consts:[["addClientSecretButton",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"title","modalId","actions","saveText","onCancel","onSave",4,"ngIf"],[3,"formGroup"],["formGroupName","detailsForm",4,"ngIf"],["formGroupName","connectionForm",4,"ngIf"],["formGroupName","signInSchemeForm",4,"ngIf"],[4,"ngIf"],["formGroupName","secretForm",4,"ngIf"],["formGroupName","detailsForm"],[3,"id","label",4,"ngIf"],[3,"id","label","help"],[3,"fieldType","values"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label"],[3,"id","isTraffic","isAlt"],["id","Enabled","formControlName","enabled","type","checkbox",1,"tw-form-switch__input"],["formGroupName","connectionForm"],["type","text","name","Authority","id","Authority","formControlName","authority","required","",1,"tw-form-control",3,"focusout"],["type","text","name","ClientId","id","ClientId","formControlName","clientId","required","",1,"tw-form-control"],[3,"id","label","help",4,"ngIf"],[1,"tw-form-select"],["id","flow","formControlName","flow",1,"tw-form-control"],[3,"value",4,"ngFor","ngForOf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],[3,"value"],["formGroupName","signInSchemeForm"],[1,"tw-form-input"],["id","signInScheme","formControlName","signInScheme","type","text","name","Sign-In Scheme","left","",1,"tw-form-control",3,"placeholder"],["class","tw-form-typeahead",3,"id","label","help",4,"ngIf"],[1,"tw-form-typeahead",3,"id","label","help"],["id","DifferentSignOut","formControlName","differentSignOut","type","checkbox",1,"tw-form-switch__input"],["id","signOutScheme","formControlName","signOutScheme","type","text","name","Sign-Out Scheme","left","",1,"tw-form-control",3,"placeholder"],[3,"id","label","help","isLast"],["id","timeComparisonTolerance","formControlName","timeComparisonTolerance",3,"buttons"],["formGroupName","secretForm"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["id","changeClientSecret","type","button","placement","right",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","editClientSecret",3,"click","tooltip"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],[1,"sr-only"],[3,"onCancel","onSave","title","modalId","actions","saveText"],[1,"tw-mb-4"],["type","text","name","newClientSecret","id","newClientSecret","formControlName","newClientSecret",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",1),e.DNE(1,Il,6,6,"form",2),e.k0s(),e.DNE(2,ol,6,8,"app-custom-modal",3)),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&(l.oidcOptions||l.samlOptions)),e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.oidcOptions))},dependencies:[vn.Sq,vn.bT,p.qT,p.xH,p.y7,p.me,p.Zm,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,p.$R,Re.dg,Fc.T,ue.Y,ya.m,hc.f,Af.G,ts.O,Ri.u,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function Zv(s,g){1&s&&(e.j41(0,"div")(1,"app-form-row",3),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0))}function qv(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,Zv,3,4,"div",6),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.idpAdvancedForm),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help")("isLast",!n.idpAdvancedForm.get("allowIdpInitiatedSso").value),e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",n.idpAdvancedForm.get("allowIdpInitiatedSso").value)}}let xS=(()=>{class s{constructor(n,a,l){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=Do(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.idpAdvancedFormSubscription=this.idpAdvancedForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.idpAdvancedForm.valid);var a={...this.samlOptions,allowIdpInitiatedSso:this.idpAdvancedForm.controls.allowIdpInitiatedSso.value,idPInitiatedSsoCompletionPath:this.idpAdvancedForm.controls.idPInitiatedSsoCompletionPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.idpAdvancedFormSubscription.unsubscribe()}buildForm(){this.idpAdvancedForm=this.fb.group({allowIdpInitiatedSso:[this.samlOptions.allowIdpInitiatedSso,[]],idPInitiatedSsoCompletionPath:[this.samlOptions.idPInitiatedSsoCompletionPath,[p.k0.required]]})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-advanced"]],decls:2,vars:1,consts:[["id","editIdpAdvanced",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","AllowIdpInitiatedSso","formControlName","allowIdpInitiatedSso","type","checkbox",1,"tw-form-switch__input"],[4,"ngIf"],["type","text","name","IdPInitiatedSsoCompletionPath","id","IdPInitiatedSsoCompletionPath","formControlName","idPInitiatedSsoCompletionPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,qv,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpAdvancedForm))},dependencies:[vn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,ya.m],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function kS(s,g){if(1&s){const n=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"div",7),e.nrm(6,"input",8),e.j41(7,"button",9),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.tryMetadataAddr())}),e.j41(8,"span"),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.idpDetailsForm),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(5),e.JRh(e.bMT(10,12,"Common.ValidateMetadata"))}}let NS=(()=>{class s{constructor(n,a,l,T,q,Te){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.providerValidator=T,this.translate=q,this.toastr=Te,this.metadataAddrStream=new bl.m(1)}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=Do(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges(),(0,Ci.gP)(this.samlOptions.idpMetadataAddress)||this.metadataAddrStream.next(this.samlOptions.idpMetadataAddress)},error:n=>{this.errorService.handleError(n)}}),this.metadataAddrStream.subscribe(n=>{this.providerValidator.validateMetadataUrl(n).subscribe(a=>{a?this.toastr.success_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataValidTitle")):this.toastr.error_noduplicate(this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidMsg"),this.translate.instant("DynamicAuth.Wizard.SAML.ExternalProviderStep.MetadataInValidTitle"))})})}subscribeToValueChanges(){this.idpDetailsFormSubscription=this.idpDetailsForm.valueChanges.subscribe({next:n=>this.updateCache()})}ngOnDestroy(){this.idpDetailsFormSubscription.unsubscribe(),this.metadataAddrStream.unsubscribe()}buildForm(){var n={idpMetadataAddress:[this.samlOptions.idpMetadataAddress,[p.k0.required,p.k0.pattern("^https://.{1,}$")]],requireValidMetadataSignature:[this.samlOptions.requireValidMetadataSignature]};this.idpDetailsForm=this.fb.group(n)}updateCache(){this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditIdpDetailsComponent",this.idpDetailsForm.valid);var n={...this.samlOptions,idpMetadataAddress:this.idpDetailsForm.controls.idpMetadataAddress.value,requireValidMetadataSignature:this.idpDetailsForm.controls.requireValidMetadataSignature.value};const a={...this.dynamicAuth,options:JSON.stringify(n)};this.dynamicAuthCacheService.unsavedCache.next(a)}tryMetadataAddr(){const n=this.idpDetailsForm.get("idpMetadataAddress");n.invalid||this.metadataAddrStream.next(n.value)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Iu),e.rXU(Cn.c$),e.rXU(qd))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp-details"]],decls:2,vars:1,consts:[["id","editIdpDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequireValidMetadataSignature","formControlName","requireValidMetadataSignature","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","name","IdpMetadataAddress","id","IdpMetadataAddress","formControlName","idpMetadataAddress","placeholder","https://","required","",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0"],["id","testMetadataAddr",1,"tw-btn","tw-rounded-l-none",3,"click"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,kS,11,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.idpDetailsForm))},dependencies:[vn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,ya.m,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const OS=["AdvancedTabs"];let hg=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(OS,7),2&a){let T;e.mGM(T=e.lsd())&&(l.advancedTabs=T.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[St.n3,an.G,wn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function th(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function FS(s,g){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"DynamicAuth.NoScopesMessage")," "))}function ey(s,g){1&s&&(e.j41(0,"span",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Reserved")," "))}function PS(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",22),e.bIt("click",function(){e.eBV(n);const l=e.XpG().$implicit,T=e.XpG(3);return e.Njj(T.removeScope(l))}),e.nrm(1,"span",23),e.j41(2,"span",15),e.EFF(3),e.nI1(4,"translate"),e.k0s()()}2&s&&(e.R7$(3),e.JRh(e.bMT(4,1,"Common.Delete.Title")))}function BS(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td"),e.DNE(5,ey,3,3,"span",19),e.k0s(),e.j41(6,"td"),e.DNE(7,PS,5,3,"button",20),e.k0s()()),2&s){const n=g.$implicit,a=e.XpG(3);e.R7$(3),e.JRh(n),e.R7$(2),e.Y8G("ngIf",!a.allowRemoveScope(n)),e.R7$(2),e.Y8G("ngIf",a.allowRemoveScope(n))}}function ty(s,g){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()(),e.j41(10,"th",16)(11,"span",15),e.EFF(12),e.nI1(13,"translate"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,BS,8,3,"tr",17),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,4,"Common.Scope")),e.R7$(4),e.JRh(e.bMT(9,6,"Common.Reserved")),e.R7$(4),e.JRh(e.bMT(13,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.currentScopes())}}function ny(s,g){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addScope())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,FS,4,3,"div",9)(10,ty,16,10,"table",10),e.k0s()()}if(2&s){const n=e.XpG(),a=e.sdS(1);e.Y8G("formGroup",n.scopesForm),e.R7$(),e.Y8G("id","NewScope")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,15,"DynamicAuth.Scopes.Placeholder")),e.Y8G("typeahead",n.options)("typeaheadWaitMs",200)("typeaheadAsync",!0)("typeaheadItemTemplate",a)("typeaheadMinLength",0)("maxlength",n.maxScopeLength),e.R7$(3),e.SpI(" ",e.bMT(7,17,"Common.Add")," "),e.R7$(2),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",n.currentScopes().length<=0),e.R7$(),e.Y8G("ngIf",n.currentScopes().length>0)}}let Rf=(()=>{class s{constructor(n,a,l,T,q,Te){this.fb=n,this.errorService=a,this.toastr=l,this.translateService=T,this.dynamicAuthChachService=q,this.providerValidator=Te,this.newScope="",this.dynamicAuthTypes=Hr,this.isDeleting=!1,this.maxScopeLength=Ks.MaxScopeLength}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}}),this.options=new iu.c(n=>{let a=this.scopesForm.get("newScope").value;n.next(a)}).pipe((0,su.n)(n=>this.providerValidator.supportedScopes(this.oidcOptions.authority).pipe((0,wi.T)(a=>this.filterScopes(n,a)))))}filterScopes(n,a){const l=!n;return a.filter(T=>!this.currentScopes().includes(T)&&(l||T.includes(n)))}subscribeToValueChanges(){this.scopesFormSubscription=this.scopesForm.controls.scopes.valueChanges.subscribe({next:n=>{this.dynamicAuthChachService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.scopesForm.valid);const a={...this.oidcOptions,scope:this.scopesForm.controls.scopes.value},l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthChachService.unsavedCache.next(l)}})}ngOnDestroy(){this.scopesFormSubscription.unsubscribe()}buildForm(){this.scopesForm=this.fb.group({newScope:[this.newScope],scopes:[this.oidcOptions.scope]})}addScope(){const n=this.scopesForm.controls.newScope.value,a=this.scopesForm.controls.scopes.value;""!==n?n.indexOf(" ")>=0?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.CannotHaveSpaces")):a.includes(n)?this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.AlreadyAdded")):this.scopesForm.setValue({newScope:"",scopes:[...a,n]}):this.toastr.error(this.translateService.instant("DynamicAuth.Scopes.MustSpecifyScope"))}removeScope(n){this.scopesForm.controls.scopes.setValue(this.scopesForm.controls.scopes.value.filter(l=>l!==n))}currentScopes(){const n=this.scopesForm.controls.scopes;return n?n.value:[]}allowRemoveScope(n){return Ks.AllowRemoveScope(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(Ji),e.rXU(Iu))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-scopes"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newScope","type","text","name","New Scope","container","#addIdpModal","autocomplete","off","left","",1,"tw-form-control",3,"typeahead","typeaheadWaitMs","typeaheadAsync","typeaheadItemTemplate","typeaheadMinLength","placeholder","maxlength"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["class","tw-pill",4,"ngIf"],["class","tw-btn-link tw-btn-small tw-text-red-500","value","Delete",3,"click",4,"ngIf"],[1,"tw-pill"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,th,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,ny,11,19,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.dynamicAuth))},dependencies:[vn.Sq,vn.bT,p.qT,p.me,p.BC,p.cb,p.tU,p.j4,p.JD,ue.Y,hc.f,wf.Xi,vn.P9,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var iy=h(4572);function ry(s,g){1&s&&(e.nrm(0,"span",12),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function sy(s,g){1&s&&(e.nrm(0,"span",13),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function oy(s,g){1&s&&(e.nrm(0,"span",14),e.nI1(1,"translate")),2&s&&e.Y8G("innerHTML",e.bMT(1,1,"DynamicAuth.PathValidation"),e.npT)}function LS(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.DNE(5,ry,2,3,"span",6),e.k0s(),e.j41(6,"app-form-row",3),e.nrm(7,"input",7),e.DNE(8,sy,2,3,"span",8),e.k0s(),e.j41(9,"app-form-row",9),e.nrm(10,"input",10),e.DNE(11,oy,2,3,"span",11),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spDetailsForm),e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(2),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(2),e.Y8G("ngIf",!n.validMetadataPath()),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(2),e.Y8G("ngIf",!n.validCallbackPath()),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",!n.validSignedOutPath())}}let US=(()=>{class s{constructor(n,a,l,T){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.configService=T}ngOnInit(){(0,iy.z)([this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()),this.configService.getConfig().pipe((0,Gn.$)())]).subscribe({next:([n,a])=>{this.dynamicAuth=n,this.samlOptions=Do(this.dynamicAuth.options),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk,this.buildForm(),this.subscribeToValueChanges()}})}subscribeToValueChanges(){this.spDetailsFormSubscription=this.spDetailsForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpDetailsComponent",this.spDetailsForm.valid);var a={...this.samlOptions,spEntityId:this.spDetailsForm.controls.spEntityId.value,spMetadataAddress:this.spDetailsForm.controls.spMetadataAddress.value,callbackPath:this.spDetailsForm.controls.callbackPath.value,signedOutCallbackPath:this.spDetailsForm.controls.signedOutCallbackPath.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}})}ngOnDestroy(){this.spDetailsFormSubscription.unsubscribe()}buildForm(){let n={spEntityId:[this.samlOptions.spEntityId,[p.k0.required]],spMetadataAddress:[this.samlOptions.spMetadataAddress,[p.k0.required,Ul()]],callbackPath:[this.samlOptions.callbackPath,[p.k0.required,Ul()]],signedOutCallbackPath:[this.samlOptions.signedOutCallbackPath,[Ul()]]};this.spDetailsForm=this.fb.group(n)}validMetadataPath(){return this.spDetailsForm.get("spMetadataAddress").valid}validCallbackPath(){return this.spDetailsForm.get("callbackPath").valid}validSignedOutPath(){return!!this.isRskDynamicAuth||this.spDetailsForm.get("signedOutCallbackPath").valid}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-details"]],decls:2,vars:1,consts:[["id","editSPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],["type","text","name","DisplayName","id","DisplayName","formControlName","spEntityId","required","",1,"tw-form-control"],["type","text","name","SpMetadataAddress","id","SpMetadataAddress","formControlName","spMetadataAddress","required","",1,"tw-form-control"],["id","MetaWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["type","text","name","CallbackPath","id","CallbackPath","formControlName","callbackPath","required","",1,"tw-form-control"],["id","CallbackWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],[3,"id","label","help","isLast"],["type","text","name","CallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath",1,"tw-form-control"],["id","SignOutWarn","class","tw-form-text-warning",3,"innerHTML",4,"ngIf"],["id","MetaWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","CallbackWarn",1,"tw-form-text-warning",3,"innerHTML"],["id","SignOutWarn",1,"tw-form-text-warning",3,"innerHTML"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,LS,12,17,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spDetailsForm))},dependencies:[vn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Mf=h(4652);function VS(s,g){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spRequestForm),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("id","SignAuthenticationRequests")("isTraffic",!0)("isAlt",!1)}}function jS(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",18),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function $S(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let GS=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T,q,Te,Ze){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=T,this.translate=q,this.certService=Te,this.dynamicAuthService=Ze,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Co.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=Do(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.signingCertificateDto?[this.samlOptions.signingCertificateDto]:[],this.canDeleteCert=this.samlOptions.signAuthenticationRequests,this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.spRequestFormSubscription=this.spRequestForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpRequestComponent",this.spRequestForm.valid);var a={...this.samlOptions,signAuthenticationRequests:this.spRequestForm.controls.signAuthenticationRequests.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spRequestForm.controls.signAuthenticationRequests.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spRequestForm=this.fb.group({signAuthenticationRequests:[this.samlOptions.signAuthenticationRequests,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(n){this.selectedFile=n.item(0)}updateSigningCert(){this.fileName=new Co.w("");const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Co.w(this.selectedFile?.name),this.dynamicAuthService.replaceSigningCert(this.dynamicAuth.scheme,a,n).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateSigninCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeSigningCert(){this.dynamicAuthService.removeSigningCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.signingCertificateDto=null,this.certificateDescription=[],this.updateSigninCertInCache(null)},n=>{this.errorService.handleError(n)})}updateSigninCertInCache(n){var a={...this.samlOptions,signingCertificateDto:n};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(sd.V),e.rXU(ac))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-request"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpRequest",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","SignAuthenticationRequests","formControlName","signAuthenticationRequests","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",2),e.DNE(1,VS,4,7,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.removeSigningCert())}),e.qex(3,5),e.DNE(4,jS,3,3,"button",6)(5,$S,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(T),e.Njj(l.updateSigningCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(Te){return e.eBV(T),e.Njj(l.handleFileInput(Te.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spRequestForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateSigningCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[vn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m,Le.B,Mf.T,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function HS(s,g){if(1&s&&(e.j41(0,"form",10)(1,"app-form-row",11)(2,"app-form-toggle",16),e.nrm(3,"input",17),e.k0s()(),e.j41(4,"app-form-row",11)(5,"app-form-toggle",16),e.nrm(6,"input",18),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.spResponseForm),e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("id","RequireSignedAssertions")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("isTraffic",!0)("isAlt",!1)}}function WS(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",19),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.AddCert")," "))}function fg(s,g){if(1&s){const n=e.RV6();e.j41(0,"button",20),e.bIt("click",function(){e.eBV(n),e.XpG();const l=e.sdS(7);return e.Njj(l.show())}),e.EFF(1),e.nI1(2,"translate"),e.k0s()}2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Clients.Saml.ReplaceCertificate")," "))}let KS=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T,q,Te,Ze){this.fb=n,this.errorService=a,this.dynamicAuthCacheService=l,this.toastr=T,this.translate=q,this.certService=Te,this.dynamicAuthService=Ze,this.canDeleteCert=!1,this.selectedFile=void 0,this.fileName=new Co.w("")}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.samlOptions=Do(this.dynamicAuth.options),this.certificateDescription=this.samlOptions.encryptionCertificateDto?[this.samlOptions.encryptionCertificateDto]:[],this.canDeleteCert=this.samlOptions.requireEncryptedAssertions,this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}subscribeToValueChanges(){this.spResponseFormSubscription=this.spResponseForm.valueChanges.subscribe({next:n=>{this.dynamicAuthCacheService.componentDirtyValidMap.set("DynamicAuthEditSpResponseComponent",this.spResponseForm.valid);var a={...this.samlOptions,requireEncryptedAssertions:this.spResponseForm.controls.requireEncryptedAssertions.value,requireSignedAssertions:this.spResponseForm.controls.requireSignedAssertions.value};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.canDeleteCert=this.spResponseForm.controls.requireEncryptedAssertions.value,this.dynamicAuthCacheService.unsavedCache.next(l)}})}buildForm(){this.spResponseForm=this.fb.group({requireEncryptedAssertions:[this.samlOptions.requireEncryptedAssertions,[]],requireSignedAssertions:[this.samlOptions.requireSignedAssertions,[]]}),this.certForm=this.fb.group({selectedFile:void 0,certPassword:["",[]]})}handleFileInput(n){this.selectedFile=n.item(0)}updateEncryptionCert(){this.fileName=new Co.w("");const n=this.certForm.get("certPassword").value;this.certService.verifyCertFilePassword(this.selectedFile,n,{next:a=>{this.fileName=new Co.w(this.selectedFile?.name),this.dynamicAuthService.replaceEncryptionCert(this.dynamicAuth.scheme,a,n).subscribe(l=>{this.certificateDescription=[l],this.selectedFile=null,this.certForm.get("certPassword").setValue(""),this.updateEncryptionCertInCache(l)})},error:a=>{this.toastr.error(this.translate.instant("Notifications.CertInValidMsg"),this.translate.instant("Notifications.CertInValidTitle")),this.selectedFile=null,this.certForm.get("certPassword").setValue("")}})}removeEncryptionCert(){this.dynamicAuthService.removeEncryptionCert(this.dynamicAuth.scheme).subscribe(()=>{this.samlOptions.encryptionCertificateDto=null,this.certificateDescription=[],this.updateEncryptionCertInCache(null)},n=>{this.errorService.handleError(n)})}updateEncryptionCertInCache(n){var a={...this.samlOptions,encryptionCertificateDto:n};const l={...this.dynamicAuth,options:JSON.stringify(a)};this.dynamicAuthCacheService.unsavedCache.next(l)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Zn.tw),e.rXU(Cn.c$),e.rXU(sd.V),e.rXU(ac))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp-response"]],decls:17,vars:19,consts:[["addCertificateModal",""],["fileInput","","selectedFile",""],["id","editSpResponse|",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"delete","certificates","showSingle","deleteCertDisabled"],["addButton",""],["id","addCertButton","class","tw-btn-success","type","button",3,"click",4,"ngIf"],["id","replaceCertButton","class","tw-btn-success tw-mr-4","type","button",3,"click",4,"ngIf"],[3,"confirm","modalId","type","buttonType","title","okText"],["body",""],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-control"],["id","fileInput","type","file","name","file","accept",".pfx,.p12",1,"tw-form-file","tw-max-w-full",3,"change"],[3,"id","label","help","isLast"],["type","text","name","CertPassword","id","CertPassword","formControlName","certPassword",1,"tw-form-control"],[3,"id","isTraffic","isAlt"],["id","RequireSignedAssertions","formControlName","requireSignedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","RequireEncryptedAssertions","formControlName","requireEncryptedAssertions","type","checkbox",1,"tw-form-switch__input"],["id","addCertButton","type","button",1,"tw-btn-success",3,"click"],["id","replaceCertButton","type","button",1,"tw-btn-success","tw-mr-4",3,"click"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"div",2),e.DNE(1,HS,7,13,"form",3),e.j41(2,"app-saml-cert-list",4),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.removeEncryptionCert())}),e.qex(3,5),e.DNE(4,WS,3,3,"button",6)(5,fg,3,3,"button",7),e.bVm(),e.k0s(),e.j41(6,"app-confirmation-modal",8,0),e.bIt("confirm",function(){return e.eBV(T),e.Njj(l.updateEncryptionCert())}),e.qex(8,9),e.j41(9,"form",10)(10,"app-form-row",11)(11,"div",12)(12,"input",13,1),e.bIt("change",function(Te){return e.eBV(T),e.Njj(l.handleFileInput(Te.target.files))}),e.k0s()()(),e.j41(15,"app-form-row",14),e.nrm(16,"input",15),e.k0s()(),e.bVm(),e.k0s()()}2&a&&(e.R7$(),e.Y8G("ngIf",l.dynamicAuth&&l.spResponseForm),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("deleteCertDisabled",l.canDeleteCert),e.R7$(2),e.Y8G("ngIf",l.certificateDescription.length<1),e.R7$(),e.Y8G("ngIf",l.certificateDescription.length>0),e.R7$(),e.Y8G("modalId","addCertificateModal")("type",null)("buttonType","success")("title","DynamicAuth.UpdateEncryptionCertificate.Title")("okText","Common.Update"),e.R7$(3),e.Y8G("formGroup",l.certForm),e.R7$(),e.Y8G("id","fileInput")("label","DynamicAuth.CertFile.Label")("help","DynamicAuth.CertFile.Help"),e.R7$(5),e.Y8G("id","CertPassword")("label","DynamicAuth.CertPassword.Label")("help","DynamicAuth.CertPassword.Help")("isLast",!0))},dependencies:[vn.bT,p.qT,p.me,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m,Le.B,Mf.T,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const pg=["AdvancedTabs"];let ay=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-edit-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(pg,7),2&a){let T;e.mGM(T=e.lsd())&&(l.advancedTabs=T.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[St.n3,an.G,wn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const ly=(s,g)=>({title:s,link:g}),cy=s=>[s];function uy(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Scopes")("tabValue","scopes")}function zS(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced")}function YS(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.SP")("tabValue","sp")}function dy(s,g){1&s&&e.nrm(0,"app-custom-tab",3),2&s&&e.Y8G("tabTitle","Nav.IdP")("tabValue","idp")}let XS=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t,$t,un){this.r=n,this.route=a,this.localize=l,this.titleService=T,this.translate=q,this.toastr=Te,this.errorService=Ze,this.dynamicAuthService=_t,this.dynamicAuthCachService=$t,this.dialogService=un,this.dynamicAuthTypes=Hr,this.isFirstCall=!0}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.subscribe({next:n=>{this.dynamicAuth=n;const a=this.translate.instant("DynamicAuth.Title.Generic")+" "+this.dynamicAuth.displayName+" - "+Ut.$9.SITE_TITLE;if(this.titleService.setTitle(a),this.checkSubmitEnabled(),this.dynamicAuth.type==Hr.OIDC&&this.isFirstCall){var l=bo(this.dynamicAuth.options);this.oldSecret=l.clientSecret,this.isFirstCall=!1}},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.dynamicAuthSub.unsubscribe()}canDeactivate(){return!(this.dynamicAuthCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&this.dynamicAuthCachService.componentDirtyValidMap.size>0&&this.dynamicAuthCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const n=[...Array.from(this.dynamicAuthCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}saveDynamicAuth(){this.saveDisabled||(this.dynamicAuth.type==Hr.OIDC&&this.setOidcClientSecret(),this.dynamicAuthService.updateDynamicAuth(Rv(this.dynamicAuth)).subscribe({next:n=>{this.isFirstCall=!0,this.dynamicAuthCachService.unsavedCache.next(Tf(n)),this.dynamicAuthCachService.onSave(),this.toastr.success(this.translate.instant("DynamicAuth.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}}))}deleteDynamicAuth(n){this.dynamicAuthService.deleteDynamicAuth(n).subscribe({next:a=>{const l=this.localize.translateRoute("/dynamic-auth");this.r.navigate([l]),this.toastr.success(`${n} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}setOidcClientSecret(){var n=bo(this.dynamicAuth.options);this.oldSecret==n.clientSecret&&(n.clientSecret=void 0),this.dynamicAuth.options=JSON.stringify(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU(zn.QG),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(ee.I),e.rXU(ac),e.rXU(Ji),e.rXU(ko.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:24,vars:26,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],[3,"tabTitle","tabValue",4,"ngIf"],["id","editDynamicAuth",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3),e.DNE(6,uy,1,2,"app-custom-tab",4)(7,zS,1,2,"app-custom-tab",4)(8,YS,1,2,"app-custom-tab",4)(9,dy,1,2,"app-custom-tab",4),e.k0s(),e.bVm(),e.k0s(),e.j41(10,"div",5),e.nrm(11,"router-outlet"),e.k0s(),e.j41(12,"app-button-bar")(13,"button",6),e.bIt("click",function(){return e.eBV(T),e.Njj(l.saveDynamicAuth())}),e.j41(14,"span"),e.EFF(15),e.nI1(16,"translate"),e.k0s()(),e.qex(17,7),e.j41(18,"button",8),e.bIt("click",function(){e.eBV(T);const Te=e.sdS(22);return e.Njj(Te.show())}),e.EFF(19),e.nI1(20,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(21,"app-delete-confirmation-modal",9,0),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.deleteDynamicAuth(l.dynamicAuth.scheme))}),e.nrm(23,"app-can-deactivate"),e.k0s()}2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(24,cy,e.l_i(21,ly,e.bMT(1,13,"Nav.DynamicAuth"),e.bMT(2,15,"/dynamic-auth"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(16,17,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(20,19,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.dynamicAuth.displayName))},dependencies:[St.n3,vn.bT,an.G,wn.v,fa.E,nn.z,_o.z,Vo.w,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var Xo=h(7921);const ll=s=>[s];function hy(s,g){if(1&s&&(e.j41(0,"app-form-row",4),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG(2);e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(5,ll,n.optionsDictionary.callbackPath))}}function mg(s,g){if(1&s&&(e.j41(0,"div",8)(1,"app-form-row",4),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.DNE(5,hy,2,7,"app-form-row",9),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","Authority")("label","DynamicAuth.Authority.Label")("help","DynamicAuth.Authority.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(16,ll,n.optionsDictionary.authority)),e.R7$(),e.Y8G("id","ClientId")("label","DynamicAuth.ClientId.Label")("help","DynamicAuth.ClientId.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(18,ll,n.optionsDictionary.clientId)),e.R7$(),e.Y8G("ngIf",n.isRskDynamicAuth),e.R7$(),e.Y8G("id","Flow")("label","DynamicAuth.Flow.Label")("help","DynamicAuth.Flow.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(20,ll,n.optionsDictionary.flow))}}function JS(s,g){if(1&s&&(e.j41(0,"div",10)(1,"app-form-row",11),e.nrm(2,"app-readonly",3),e.k0s(),e.j41(3,"app-form-row",4),e.nrm(4,"app-readonly",3),e.k0s(),e.j41(5,"app-form-row",12),e.nrm(6,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","SignInScheme")("label","DynamicAuth.SignInScheme.Label")("help","DynamicAuth.SignInScheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(16,ll,n.optionsDictionary.signInScheme)),e.R7$(),e.Y8G("id","SignOutScheme")("label","DynamicAuth.SignOutScheme.Label")("help","DynamicAuth.SignOutScheme.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(18,ll,n.optionsDictionary.signOutScheme)),e.R7$(),e.Y8G("id","TimeComparisonTolerance")("label","DynamicAuth.SAML.TimeComparisonTolerance.Label")("help","DynamicAuth.SAML.TimeComparisonTolerance.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(20,ll,n.optionsDictionary.timeComparisonTolerance))}}function QS(s,g){if(1&s&&(e.j41(0,"div",13)(1,"app-form-row",12),e.nrm(2,"app-readonly",3),e.k0s()()),2&s){const n=e.XpG();e.R7$(),e.Y8G("id","ClientSecret")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(6,ll,n.optionsDictionary.clientSecret))}}let gg=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T){this.errorService=n,this.dynamicAuthChachService=a,this.configService=l,this.translate=T,this.dynamicAuthTypes=Hr,this.snippet=Ks.SamlSignInSchemeCodeFrag}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk},error:n=>{this.errorService.handleError(n)}}),this.dynamicAuthChachService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{switch(this.dynamicAuthType=n.type,this.dynamicAuthDictionary=new Xo.b(n),this.dynamicAuthType){case Hr.OIDC:this.setOidcOptions(n.options);break;case Hr.SAML:this.setSamlOptions(n.options)}},error:n=>{this.errorService.handleError(n)}})}setOidcOptions(n){let a={...bo(n)};a.flow=this.translate.instant("DynamicAuth.Flows."+(a.usePkce?sl.AuthCodePlusPkce:sl.AuthCode)),this.optionsDictionary=new Xo.b(a)}setSamlOptions(n){const a=Do(n);this.optionsDictionary=new Xo.b(a)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Ji),e.rXU(Es.w),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-details"]],decls:11,vars:23,consts:[["id","viewDynamicAuthDetails"],["id","dynamicAuthDetails"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","help"],["id","connectionDetails",4,"ngIf"],["id","signInSchemeDetails",4,"ngIf"],["id","secretDetails",4,"ngIf"],["id","connectionDetails"],[3,"id","label","help",4,"ngIf"],["id","signInSchemeDetails"],[1,"tw-form-typeahead",3,"id","label","help"],[3,"id","label","help","isLast"],["id","secretDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"app-form-row",2),e.nrm(3,"app-readonly",3),e.k0s(),e.j41(4,"app-form-row",4),e.nrm(5,"app-readonly",3),e.k0s(),e.j41(6,"app-form-row",4),e.nrm(7,"app-readonly",3),e.k0s()(),e.DNE(8,mg,8,22,"div",5)(9,JS,7,22,"div",6)(10,QS,3,8,"div",7),e.k0s()),2&a&&(e.R7$(2),e.Y8G("id","Enabled")("label","Common.Enabled"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,ll,l.dynamicAuthDictionary.enabled)),e.R7$(),e.Y8G("id","Scheme")("label","DynamicAuth.Scheme.Label")("help","DynamicAuth.Scheme.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(19,ll,l.dynamicAuthDictionary.scheme)),e.R7$(),e.Y8G("id","DisplayName")("label","DynamicAuth.DisplayName.Label")("help","DynamicAuth.DisplayName.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,ll,l.dynamicAuthDictionary.displayName)),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth||l.dynamicAuthType==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuthType==l.dynamicAuthTypes.OIDC))},dependencies:[vn.bT,ue.Y,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const fy=s=>[s];let xf=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{var a=Do(n.options);this.idpAdvancedDictionary=new Xo.b({allowIdpInitiatedSso:a.allowIdpInitiatedSso,idPInitiatedSsoCompletionPath:a.idPInitiatedSsoCompletionPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-advanced"]],decls:5,vars:15,consts:[["id","viewIdpAdvanced"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","AllowIdpInitiatedSso")("label","DynamicAuth.SAML.AllowIdpInitiatedSso.Label")("help","DynamicAuth.SAML.AllowIdpInitiatedSso.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,fy,l.idpAdvancedDictionary.allowIdpInitiatedSso)),e.R7$(),e.Y8G("id","IdPInitiatedSsoCompletionPath")("label","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Label")("help","DynamicAuth.SAML.IdPInitiatedSsoCompletionPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,fy,l.idpAdvancedDictionary.idPInitiatedSsoCompletionPath)))},dependencies:[ue.Y,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const nh=s=>[s];let vg=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{var a=Do(n.options);this.idpDetailsDictionary=new Xo.b({requireValidMetadataSignature:a.requireValidMetadataSignature,idpMetadataAddr:a.idpMetadataAddress})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp-details"]],decls:5,vars:15,consts:[["id","viewIdpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RequireValidMetadataSignature")("label","DynamicAuth.SAML.RequireValidMetadataSignature.Label")("help","DynamicAuth.SAML.RequireValidMetadataSignature.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,nh,l.idpDetailsDictionary.requireValidMetadataSignature)),e.R7$(),e.Y8G("id","IdpMetadataAddress")("label","DynamicAuth.SAML.IdpMetadataAddress.Label")("help","DynamicAuth.SAML.IdpMetadataAddress.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,nh,l.idpDetailsDictionary.idpMetadataAddr)))},dependencies:[ue.Y,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const py=["AdvancedTabs"];let ZS=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-idp"]],viewQuery:function(a,l){if(1&a&&e.GBs(py,7),2&a){let T;e.mGM(T=e.lsd())&&(l.advancedTabs=T.first)}},decls:6,vars:5,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthIdpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2),e.k0s()(),e.j41(4,"div",3),e.nrm(5,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Advanced")("tabValue","advanced"))},dependencies:[St.n3,an.G,wn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function qS(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function eE(s,g){1&s&&(e.j41(0,"div",5)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function kf(s,g){if(1&s&&(e.j41(0,"tr")(1,"td",11)(2,"span",12),e.EFF(3),e.k0s()()()),2&s){const n=g.$implicit;e.R7$(3),e.JRh(n)}}function Nf(s,g){if(1&s&&(e.j41(0,"table",6)(1,"thead",7)(2,"th",8)(3,"span",9),e.EFF(4),e.nI1(5,"translate"),e.k0s()()(),e.j41(6,"tbody"),e.DNE(7,kf,4,1,"tr",10),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,2,"Common.Scope")),e.R7$(3),e.Y8G("ngForOf",n.oidcOptions.scope)}}let yg=(()=>{class s{constructor(n,a){this.errorService=n,this.dynamicAuthChachService=a,this.newScope="",this.dynamicAuthTypes=Hr,this.isDeleting=!1}ngOnInit(){this.dynamicAuthChachService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options)},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-scopes"]],decls:6,vars:3,consts:[["customItemTemplate",""],["id","viewScopes"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-w-full"],[1,"tw-block","tw-truncate"]],template:function(a,l){1&a&&(e.DNE(0,qS,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1)(3,"div",2),e.DNE(4,eE,4,3,"div",3)(5,Nf,8,4,"table",4),e.k0s()()),2&a&&(e.R7$(3),e.Y8G("id","Scopes"),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length<=0),e.R7$(),e.Y8G("ngIf",l.oidcOptions.scope.length>0))},dependencies:[vn.Sq,vn.bT,vn.P9,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const ih=s=>[s];let tE=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{var a=Do(n.options);this.spDetailsDictionary=new Xo.b({entityId:a.spEntityId,metaDataAddr:a.spMetadataAddress,callbackPath:a.callbackPath,signOutCallbackPath:a.signedOutCallbackPath})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-details"]],decls:9,vars:29,consts:[["id","viewSpDetails"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",1),e.nrm(6,"app-readonly",2),e.k0s(),e.j41(7,"app-form-row",3),e.nrm(8,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SPEntityID")("label","DynamicAuth.SPEntityID.Label")("help","DynamicAuth.SPEntityID.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(21,ih,l.spDetailsDictionary.entityId)),e.R7$(),e.Y8G("id","SpMetadataAddress")("label","DynamicAuth.SpMetadataAddress.Label")("help","DynamicAuth.SpMetadataAddress.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(23,ih,l.spDetailsDictionary.metaDataAddr)),e.R7$(),e.Y8G("id","CallbackPath")("label","DynamicAuth.CallbackPath.Label")("help","DynamicAuth.CallbackPath.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(25,ih,l.spDetailsDictionary.callbackPath)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("help","DynamicAuth.SignedOutCallbackPath.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(27,ih,l.spDetailsDictionary.signOutCallbackPath)))},dependencies:[ue.Y,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const nE=s=>[s];let my=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{var a=Do(n.options);this.spRequestDictionary=new Xo.b({signAuthenticationRequests:a.signAuthenticationRequests}),this.certificateDescription=a.signingCertificateDto?[a.signingCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-request"]],decls:4,vars:10,consts:[["id","viewSpRequest"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.nrm(3,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","SignAuthenticationRequests")("label","DynamicAuth.SAML.SignAuthenticationRequests.Label")("help","DynamicAuth.SAML.SignAuthenticationRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(8,nE,l.spRequestDictionary.signAuthenticationRequests)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[ue.Y,Mf.T,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Of=s=>[s];let _g=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCacheService=n}ngOnInit(){this.dynamicAuthCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{var a=Do(n.options);this.spResponseDictionary=new Xo.b({requireSignedAssertions:a.requireSignedAssertions,requireEncryptedAssertions:a.requireEncryptedAssertions}),this.certificateDescription=a.encryptionCertificateDto?[a.encryptionCertificateDto]:[]}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp-response"]],decls:6,vars:17,consts:[["id","viewSpResponse"],[3,"id","label","help"],[3,"fieldType","values"],[3,"certificates","showSingle","isReadOnly"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.nrm(5,"app-saml-cert-list",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","RequireSignedAssertions")("label","DynamicAuth.SAML.RequireSignedAssertions.Label")("help","DynamicAuth.SAML.RequireSignedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Of,l.spResponseDictionary.requireSignedAssertions)),e.R7$(),e.Y8G("id","RequireEncryptedAssertions")("label","DynamicAuth.SAML.RequireEncryptedAssertions.Label")("help","DynamicAuth.SAML.RequireEncryptedAssertions.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Of,l.spResponseDictionary.requireEncryptedAssertions)),e.R7$(),e.Y8G("certificates",l.certificateDescription)("showSingle",!0)("isReadOnly",!0))},dependencies:[ue.Y,Mf.T,ts.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Pc=["AdvancedTabs"];let iE=(()=>{class s{constructor(){}ngOnInit(){}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-view-sp"]],viewQuery:function(a,l){if(1&a&&e.GBs(Pc,7),2&a){let T;e.mGM(T=e.lsd())&&(l.advancedTabs=T.first)}},decls:7,vars:7,consts:[[1,"tw-container","tw-mx-auto"],[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewDynamicAuthSpDetails"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-custom-tabs",1),e.nrm(2,"app-custom-tab",2)(3,"app-custom-tab",2)(4,"app-custom-tab",2),e.k0s()(),e.j41(5,"div",3),e.nrm(6,"router-outlet"),e.k0s()),2&a&&(e.R7$(),e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Request")("tabValue","request"),e.R7$(),e.Y8G("tabTitle","Nav.Response")("tabValue","response"))},dependencies:[St.n3,an.G,wn.v],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const rE=(s,g)=>({title:s,link:g}),Vu=s=>[s],Ff=()=>["active"];function bg(s,g){1&s&&(e.j41(0,"option",19),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Scopes")))}function AD(s,g){1&s&&(e.j41(0,"option",20),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.Advanced")))}function gy(s,g){1&s&&(e.j41(0,"option",21),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.SP")))}function vy(s,g){1&s&&(e.j41(0,"option",22),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Nav.IdP")))}function RD(s,g){1&s&&(e.j41(0,"button",23),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Ff)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Scopes")))}function ju(s,g){1&s&&(e.j41(0,"button",24),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Ff)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.Advanced")))}function sE(s,g){1&s&&(e.j41(0,"button",25),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Ff)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.SP")))}function oE(s,g){1&s&&(e.j41(0,"button",26),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.Y8G("routerLinkActive",e.lJ4(4,Ff)),e.R7$(),e.JRh(e.bMT(2,2,"Nav.IdP")))}let aE=(()=>{class s{constructor(n,a,l,T,q,Te){this.r=n,this.route=a,this.titleService=l,this.translate=T,this.errorService=q,this.dynamicAuthCachService=Te,this.dynamicAuthTypes=Hr}ngOnInit(){this.dynamicAuthSub=this.dynamicAuthCachService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n;const a=this.translate.instant("DynamicAuth.Title")+" "+this.dynamicAuth.displayName+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a)},error:n=>{this.errorService.handleError(n)}})}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(ee.I),e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:33,vars:36,consts:[[3,"title","crumbs","hasTabs","isReadOnly","isReserved"],["tabs",""],[1,"tw-p-4","md:tw-hidden"],["for","nav-sub-menu",1,"sr-only"],[1,"tw-form-select"],["id","nav-sub-menu",1,"tw-form-control",3,"change"],["value","details"],["value","scopes",4,"ngIf"],["value","advanced",4,"ngIf"],["value","sp",4,"ngIf"],["value","idp",4,"ngIf"],["role","tablist",1,"tabs","tw-hidden","md:tw-flex"],[1,"tabs__item"],["type","button","routerLink","details","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["class","tabs__link","type","button","routerLink","scopes","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","advanced","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","sp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["class","tabs__link","type","button","routerLink","idp","role","tab","aria-selected","false",3,"routerLinkActive",4,"ngIf"],["id","viewDynamicAuth",1,"tw-container","tw-mx-auto"],["value","scopes"],["value","advanced"],["value","sp"],["value","idp"],["type","button","routerLink","scopes","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","advanced","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","sp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"],["type","button","routerLink","idp","role","tab","aria-selected","false",1,"tabs__link",3,"routerLinkActive"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"div",2)(5,"label",3),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"div",4)(9,"select",5),e.bIt("change",function(q){return l.mobRoute(q.target.value)}),e.j41(10,"option",6),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.DNE(13,bg,3,3,"option",7)(14,AD,3,3,"option",8)(15,gy,3,3,"option",9)(16,vy,3,3,"option",10),e.k0s()()(),e.j41(17,"ul",11),e.nI1(18,"translate"),e.j41(19,"li",12)(20,"button",13),e.EFF(21),e.nI1(22,"translate"),e.k0s()(),e.j41(23,"li",12),e.DNE(24,RD,3,5,"button",14),e.k0s(),e.j41(25,"li",12),e.DNE(26,ju,3,5,"button",15),e.k0s(),e.j41(27,"li",12),e.DNE(28,sE,3,5,"button",16),e.k0s(),e.j41(29,"li",12),e.DNE(30,oE,3,5,"button",17),e.k0s()(),e.bVm(),e.k0s(),e.j41(31,"div",18),e.nrm(32,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.dynamicAuth.displayName)("crumbs",e.eq3(33,Vu,e.l_i(30,rE,e.bMT(1,18,"Nav.DynamicAuth"),e.bMT(2,20,"/dynamic-auth"))))("hasTabs",!0)("isReadOnly",!0)("isReserved",l.dynamicAuth.nonEditable),e.R7$(6),e.JRh(e.bMT(7,22,"Nav.SubMenu")),e.R7$(5),e.JRh(e.bMT(12,24,"Nav.Details")),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(),e.BMQ("aria-label",e.bMT(18,26,"Nav.SubMenu")),e.R7$(3),e.Y8G("routerLinkActive",e.lJ4(35,Ff)),e.R7$(),e.JRh(e.bMT(22,28,"Nav.Details")),e.R7$(3),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.OIDC),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML),e.R7$(2),e.Y8G("ngIf",l.dynamicAuth.type==l.dynamicAuthTypes.SAML))},dependencies:[St.n3,St.Wk,St.wQ,vn.bT,p.xH,p.y7,nn.z,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})(),uc=(()=>{class s{constructor(n,a){this.router=n,this.config=a}canActivate(n,a){return this.config.getConfig().pipe((0,Gn.$)(),(0,wi.T)(l=>l?.featureFlagOptions?.dynamicAuthenticationFlag!=ja.U.Disabled||this.router.parseUrl("/resourcenotfound/dynamic-auth")))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(St.Ix),e.KVO(Es.w))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var rh=h(6923);function Pf(s,g){1&s&&(e.j41(0,"app-form-row",3)(1,"app-form-toggle",4),e.nrm(2,"input",7),e.k0s()()),2&s&&(e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("id","MapInboundClaims")("isTraffic",!0)("isAlt",!1))}function Bf(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.DNE(4,Pf,3,7,"app-form-row",6),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!n.isRskDynamicAuth),e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("ngIf",n.isRskDynamicAuth)}}let ca=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T){this.fb=n,this.configService=a,this.dynamicAuthCache=l,this.errorService=T}ngOnInit(){this.configService.getConfig().pipe((0,Gn.$)()).subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}}),this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){let n={getClaimsFromUserInfoEndpoint:[this.oidcOptions.getClaimsFromUserInfoEndpoint,[]]};this.isRskDynamicAuth&&(n.mapInboundClaims=[this.oidcOptions.mapInboundClaims,[]]),this.form=this.fb.group(n)}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,getClaimsFromUserInfoEndpoint:this.form.get("getClaimsFromUserInfoEndpoint").value};this.isRskDynamicAuth&&(a.mapInboundClaims=this.form.get("mapInboundClaims").value),this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Es.w),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthClaims"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["id","GetClaimsFromUserInfoEndpoint","formControlName","getClaimsFromUserInfoEndpoint","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast",4,"ngIf"],["id","MapInboundClaims","formControlName","mapInboundClaims","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Bf,5,9,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m],encapsulation:2})}}return s})();function yy(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("id","SaveTokens")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("id","UseTokenLifetime")("isTraffic",!0)("isAlt",!1)}}let _y=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({saveTokens:[this.oidcOptions.saveTokens,[]],useTokenLifetime:[this.oidcOptions.useTokenLifetime,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,saveTokens:this.form.get("saveTokens").value,useTokenLifetime:this.form.get("useTokenLifetime").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthTokens"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SaveTokens","formControlName","saveTokens","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","UseTokenLifetime","formControlName","useTokenLifetime","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,yy,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m],encapsulation:2})}}return s})();function lE(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6),e.nrm(5,"app-lifetime-picker",7),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("buttons",n.metadataRefreshIntervalButtons)}}let by=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l,this.setButtonModels()}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({refreshOnIssuerKeyNotFound:[this.oidcOptions.refreshMetadataOnIssuerKeyNotFound],metadataRefreshInterval:[this.oidcOptions.metadataRefreshInterval,[p.k0.min(300)]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,refreshMetadataOnIssuerKeyNotFound:this.form.get("refreshOnIssuerKeyNotFound").value,metadataRefreshInterval:this.form.get("metadataRefreshInterval").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}setButtonModels(){this.metadataRefreshIntervalButtons=[{duration:1,unit:Lu.u.Hour},{duration:12,unit:Lu.u.Hours},{duration:1,unit:Lu.u.Day}]}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthMetadata"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RefreshOnIssuerKeyNotFound","formControlName","refreshOnIssuerKeyNotFound","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","MetadataRefreshInterval","formControlName","metadataRefreshInterval",3,"buttons"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,lE,6,12,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,Fc.T,ue.Y,ya.m],encapsulation:2})}}return s})();function Cy(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-form-toggle",4),e.nrm(3,"input",5),e.k0s()(),e.j41(4,"app-form-row",6)(5,"app-form-toggle",4),e.nrm(6,"input",7),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("isTraffic",!0)("isAlt",!1),e.R7$(2),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("id","DisableTelemetry")("isTraffic",!0)("isAlt",!1)}}let wy=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({skipUnrecognizedRequests:[this.oidcOptions.skipUnrecognizedRequests,[]],disableTelemetry:[this.oidcOptions.disableTelemetry,[]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,skipUnrecognizedRequests:this.form.get("skipUnrecognizedRequests").value,disableTelemetry:this.form.get("disableTelemetry").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthOther"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","SkipUnrecognizedRequests","formControlName","skipUnrecognizedRequests","type","checkbox",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","DisableTelemetry","formControlName","disableTelemetry","type","checkbox",1,"tw-form-switch__input"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Cy,7,14,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,ya.m],encapsulation:2})}}return s})();function Sy(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Request")("tabValue","request")}function cE(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.SignOut")("tabValue","signOut")}function uE(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Metadata")("tabValue","metadata")}function dE(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Tokens")("tabValue","tokens")}function sh(s,g){1&s&&e.nrm(0,"app-custom-tab",2),2&s&&e.Y8G("tabTitle","Common.Other")("tabValue","other")}let Ey=(()=>{class s{constructor(n){this.configService=n}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.isRskDynamicAuth=n.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-advanced"]],decls:9,vars:9,consts:[[3,"pillMode","hidden"],[3,"tabTitle","tabValue",4,"ngIf"],[3,"tabTitle","tabValue"],["id","dynamicAuthAdvanced"]],template:function(a,l){1&a&&(e.j41(0,"app-custom-tabs",0),e.DNE(1,Sy,1,2,"app-custom-tab",1),e.nrm(2,"app-custom-tab",2),e.DNE(3,cE,1,2,"app-custom-tab",1)(4,uE,1,2,"app-custom-tab",1)(5,dE,1,2,"app-custom-tab",1)(6,sh,1,2,"app-custom-tab",1),e.k0s(),e.j41(7,"div",3),e.nrm(8,"router-outlet"),e.k0s()),2&a&&(e.Y8G("pillMode",!0)("hidden",!l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("tabTitle","Common.Claims")("tabValue","claims"),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[St.n3,vn.bT,an.G,wn.v],encapsulation:2})}}return s})();function hE(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"input",4),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"input",5),e.k0s(),e.j41(5,"app-form-row",6),e.nrm(6,"input",7),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(2),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(2),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0)}}let fE=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){this.form=this.fb.group({remoteSignOutPath:[this.oidcOptions.remoteSignOutPath,[p.k0.required,Ul()]],signedOutRedirectUri:[this.oidcOptions.signedOutRedirectUri,[p.k0.required,Ul()]],signedOutCallbackPath:[this.oidcOptions.signedOutCallbackPath,[p.k0.required,Ul()]]})}subscribeToValueChanges(){this.form.valueChanges.subscribe({next:n=>{let a={...this.oidcOptions,remoteSignOutPath:this.form.get("remoteSignOutPath").value,signedOutRedirectUri:this.form.get("signedOutRedirectUri").value,signedOutCallbackPath:this.form.get("signedOutCallbackPath").value};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(a)})}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthSignOut"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label"],["type","text","name","RemoteSignOutPath","id","RemoteSignOutPath","formControlName","remoteSignOutPath","required","",1,"tw-form-control"],["type","text","name","SignedOutRedirectUri","id","SignedOutRedirectUri","formControlName","signedOutRedirectUri","required","",1,"tw-form-control"],[3,"id","label","isLast"],["type","text","name","SignedOutCallbackPath","id","SignedOutCallbackPath","formControlName","signedOutCallbackPath","required","",1,"tw-form-control"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,hE,7,8,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.bT,p.qT,p.me,p.BC,p.cb,p.YS,p.j4,p.JD,ue.Y],encapsulation:2})}}return s})();const oh=s=>[s];function Ty(s,g){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-readonly",2),e.k0s()),2&s){const n=e.XpG();e.Y8G("id","MapInboundClaims")("label","DynamicAuth.MapInboundClaims.Label")("help","DynamicAuth.MapInboundClaims.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(6,oh,n.optionsDictionary.mapInboundClaims))}}let Iy=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a){this.configService=n,this.dynamicAuthCache=a}ngOnInit(){(0,iy.z)([this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()),this.configService.getConfig().pipe((0,Gn.$)())]).subscribe({next:([n,a])=>{this.optionsDictionary=new Xo.b(bo(n.options)),this.isRskDynamicAuth=a.featureFlagOptions.dynamicAuthenticationFlag==ja.U.Rsk}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Es.w),e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-claims-view-details"]],decls:4,vars:9,consts:[["id","viewDynamicAuthClaims"],[3,"id","label","help","isLast"],[3,"fieldType","values"],[3,"id","label","help","isLast",4,"ngIf"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.DNE(3,Ty,2,8,"app-form-row",3),e.k0s()),2&a&&(e.R7$(),e.Y8G("id","GetClaimsFromUserInfoEndpoint")("label","DynamicAuth.GetClaimsFromUserInfoEndpoint.Label")("help","DynamicAuth.GetClaimsFromUserInfoEndpoint.Help")("isLast",!l.isRskDynamicAuth),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(7,oh,l.optionsDictionary.getClaimsFromUserInfoEndpoint)),e.R7$(),e.Y8G("ngIf",l.isRskDynamicAuth))},dependencies:[vn.bT,ue.Y,ts.O],encapsulation:2})}}return s})();const Lf=s=>[s];let pE=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.optionsDictionary=new Xo.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-signout-view-details"]],decls:7,vars:19,consts:[["id","viewDynamicAuthSignOut"],[3,"id","label"],[3,"fieldType","values"],[3,"id","label","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RemoteSignOutPath")("label","DynamicAuth.RemoteSignOutPath.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Lf,l.optionsDictionary.remoteSignOutPath)),e.R7$(),e.Y8G("id","SignedOutRedirectUri")("label","DynamicAuth.SignedOutRedirectUri.Label"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(15,Lf,l.optionsDictionary.signedOutRedirectUri)),e.R7$(),e.Y8G("id","SignedOutCallbackPath")("label","DynamicAuth.SignedOutCallbackPath.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(17,Lf,l.optionsDictionary.signedOutCallbackPath)))},dependencies:[ue.Y,ts.O],encapsulation:2})}}return s})();const $u=s=>[s];let ah=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.optionsDictionary=new Xo.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-metadata-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthMetadata"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","RefreshOnIssuerKeyNotFound")("label","DynamicAuth.RefreshOnIssuerKeyNotFound.Label")("help","DynamicAuth.RefreshOnIssuerKeyNotFound.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,$u,l.optionsDictionary.refreshOnIssuerKeyNotFound)),e.R7$(),e.Y8G("id","MetadataRefreshInterval")("label","DynamicAuth.MetadataRefreshInterval.Label")("help","DynamicAuth.MetadataRefreshInterval.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,$u,l.optionsDictionary.metadataRefreshInterval)))},dependencies:[ue.Y,ts.O],encapsulation:2})}}return s})();const Dy=s=>[s];let mE=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.optionsDictionary=new Xo.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-tokens-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthTokens"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SaveTokens")("label","DynamicAuth.SaveTokens.Label")("help","DynamicAuth.SaveTokens.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Dy,l.optionsDictionary.saveTokens)),e.R7$(),e.Y8G("id","UseTokenLifetime")("label","DynamicAuth.UseTokenLifetime.Label")("help","DynamicAuth.UseTokenLifetime.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Dy,l.optionsDictionary.useTokenLifetime)))},dependencies:[ue.Y,ts.O],encapsulation:2})}}return s})();const Cg=s=>[s];let lh=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.optionsDictionary=new Xo.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-other-view-details"]],decls:5,vars:15,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",3),e.nrm(4,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","SkipUnrecognizedRequests")("label","DynamicAuth.SkipUnrecognizedRequests.Label")("help","DynamicAuth.SkipUnrecognizedRequests.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(11,Cg,l.optionsDictionary.skipUnrecognizedRequests)),e.R7$(),e.Y8G("id","DisableTelemetry")("label","DynamicAuth.DisableTelemetry.Label")("help","DynamicAuth.DisableTelemetry.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(13,Cg,l.optionsDictionary.disableTelemetry)))},dependencies:[ue.Y,ts.O],encapsulation:2})}}return s})();var gE=h(7970);function vE(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",6)(1,"div",7),e.nrm(2,"input",8),e.j41(3,"button",9),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.onAdd())}),e.nrm(4,"span",10),e.j41(5,"span",11),e.EFF(6),e.nI1(7,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG();e.R7$(2),e.FS9("id",n.id+"-newValue-input"),e.R7$(),e.FS9("id",n.id+"-newValue-button"),e.Y8G("disabled",n.addDisabled),e.R7$(3),e.JRh(e.bMT(7,4,"Common.Add"))}}function yE(s,g){if(1&s){const n=e.RV6();e.j41(0,"app-pill-list",12),e.bIt("onDelete",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.onDelete(l))}),e.k0s()}if(2&s){const n=e.XpG();e.Y8G("readonly",n.reserved)("id",n.id)("values",n.value)}}function Ay(s,g){if(1&s&&(e.j41(0,"span",13),e.EFF(1),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.JRh(n.valueLimitMsg)}}function Ry(s,g){if(1&s&&(e.j41(0,"span",14),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s){const n=g.$implicit;e.R7$(),e.Lme("",n.key,": ",e.bMT(2,2,n.value),"")}}let My=(()=>{class s{get newValue(){return this.form.get("newValue")?.value}set newValue(n){this.form.get("newValue").setValue(n)}get errors(){let n=this.form.get("newValue");return n.dirty?n?.errors??[]:[]}get valueLimitMsg(){return this.tranlate.instant("Errors.PillListLimitReached",[this.value.length,this.valueLimit])}constructor(n,a){this.fb=n,this.tranlate=a,this.id=(0,Ci.Nl)(),this.value=[],this.required=!1,this.disabled=!1,this.reserved=!1,this.valueLimit=50,this.validators=[],this.onChange=l=>{},this.onTouched=()=>{}}ngOnInit(){this.form=this.fb.group({newValue:["",this.validators]})}writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}validate(n){return!this.required||this.value?.length?null:{required:{valid:!1}}}get addDisabled(){return this.isNullOrEmpty(this.newValue)||this.value.includes(this.newValue)||this.form.get("newValue").invalid}onAdd(){this.newValue&&(this.value.push(this.newValue),this.onChange(this.value),this.newValue="",this.form.markAsPristine())}onDelete(n){this.value.splice(n,1),this.onChange(this.value)}isNullOrEmpty(n){return!n||null!==n.match(/^ *$/)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-freetext-list-input"]],inputs:{id:"id",value:"value",required:"required",disabled:"disabled",reserved:"reserved",valueLimit:"valueLimit",validators:"validators"},features:[e.Jv_([{provide:p.kq,useExisting:(0,e.Rfq)(()=>s),multi:!0},{provide:p.cz,useExisting:(0,e.Rfq)(()=>s),multi:!0}])],decls:8,vars:7,consts:[[3,"formGroup"],["class","tw-form-row",4,"ngIf"],[1,"tw-pill-list","tw-mb-5"],[3,"readonly","id","values","onDelete",4,"ngIf"],["id","too-many-values",4,"ngIf"],["class","tw-alert-danger tw-mb-4","role","alert",4,"ngFor","ngForOf"],[1,"tw-form-row"],[1,"tw-flex","tw-w-full","lg:tw-max-w-2xl"],["type","text","formControlName","newValue",1,"tw-form-control","tw-rounded-r-none","tw-border-r-0",3,"id"],[1,"tw-btn","tw-rounded-l-none",3,"click","id","disabled"],["aria-hidden","true",1,"far","fa-plus"],[1,"sr-only"],[3,"onDelete","readonly","id","values"],["id","too-many-values"],["role","alert",1,"tw-alert-danger","tw-mb-4"]],template:function(a,l){1&a&&(e.j41(0,"form",0),e.DNE(1,vE,8,6,"div",1),e.j41(2,"div",2),e.DNE(3,yE,1,3,"app-pill-list",3)(4,Ay,2,1,"span",4),e.k0s(),e.j41(5,"div"),e.DNE(6,Ry,3,4,"span",5),e.nI1(7,"keyvalue"),e.k0s()()),2&a&&(e.Y8G("formGroup",l.form),e.R7$(),e.Y8G("ngIf",!l.reserved),e.R7$(2),e.Y8G("ngIf",l.value.length<=l.valueLimit||!l.reserved),e.R7$(),e.Y8G("ngIf",l.value.length>l.valueLimit&&l.reserved),e.R7$(2),e.Y8G("ngForOf",e.bMT(7,5,l.errors)))},dependencies:[vn.Sq,vn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,Ur.L,vn.lG,Cn.D9],encapsulation:2})}}return s})();function _E(s,g){if(1&s&&(e.j41(0,"li",21)(1,"label",22),e.nrm(2,"input",23),e.j41(3,"span"),e.EFF(4),e.nI1(5,"translate"),e.k0s()()()),2&s){const n=g.$implicit,a=e.XpG(2);e.Y8G("id",n.value+"-prompt"),e.R7$(),e.Y8G("for",n.value+"-checkbox"),e.R7$(),e.Y8G("id",n.value+"-checkbox")("formControlName",n.value),e.BMQ("disabled",a.promptDisabled(n.value)),e.R7$(2),e.JRh(e.bMT(5,6,n.displayName))}}function xy(s,g){1&s&&e.nrm(0,"app-freetext-list-input",24)}function bE(s,g){if(1&s){const n=e.RV6();e.j41(0,"form",2)(1,"app-form-row",3)(2,"app-row-bar",4)(3,"app-state-toggle",5),e.bIt("newValue",function(l){e.eBV(n);const T=e.XpG();return e.Njj(T.updateResponseMode(l))}),e.k0s(),e.j41(4,"a",6),e.nrm(5,"span",7),e.j41(6,"span",8),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()(),e.j41(9,"app-form-row",3)(10,"ul",9),e.DNE(11,_E,6,8,"li",10),e.j41(12,"li",11)(13,"label",12),e.nrm(14,"input",13),e.j41(15,"span"),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()(),e.nrm(18,"br"),e.DNE(19,xy,1,0,"app-freetext-list-input",14),e.j41(20,"p",15)(21,"span",16),e.EFF(22,"Preview:"),e.k0s(),e.j41(23,"span",17)(24,"span",18),e.EFF(25),e.k0s()()()(),e.j41(26,"app-form-row",19),e.nrm(27,"app-freetext-list-input",20),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.form),e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(2),e.Y8G("id","ResponseMode")("options",n.responseModeOptions)("value",n.form.get("responseMode").value),e.R7$(),e.Y8G("href",n.LinkConstants.AdvOthDynamicAuth,e.B4B),e.R7$(3),e.JRh(e.bMT(8,22,"Common.Help")),e.R7$(2),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(2),e.Y8G("ngForOf",n.promptOptions),e.R7$(3),e.BMQ("disabled",n.promptDisabled("")),e.R7$(2),e.JRh(e.bMT(17,24,"DynamicAuth.Prompt.Values.Other")),e.R7$(3),e.Y8G("ngIf",n.form.get("useOther").value&&!n.promptDisabled("other")),e.R7$(6),e.SpI(" '",n.generatePromptString(),"' "),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("validators",n.ResourceValidators)}}class Uf{constructor(g,n){this.displayName=g,this.value=n}}let MD=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}get LinkConstants(){return da}get ResourceValidators(){return[sS]}constructor(n,a,l){this.fb=n,this.dynamicAuthCache=a,this.errorService=l,this.responseModeOptions=Object.keys(Nc).filter(T=>isNaN(Number(T))),this.promptOptions=[new Uf("DynamicAuth.Prompt.Values.None","none"),new Uf("DynamicAuth.Prompt.Values.Login","login"),new Uf("DynamicAuth.Prompt.Values.Consent","consent"),new Uf("DynamicAuth.Prompt.Values.SelectAccount","select_account")]}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.dynamicAuth=n,this.oidcOptions=bo(this.dynamicAuth.options),this.buildForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}buildForm(){let n=Ks.ResponseModeMap.get(this.oidcOptions.responseMode);const a=this.promptOptions.map(Te=>Te.value),l=(0,Ci.hr)(this.oidcOptions.prompt),T=l.filter(Te=>!a.includes(Te));let q={responseMode:[Nc[n],[]],resource:[(0,Ci.hr)(this.oidcOptions.resource),[]],useOther:[T.length>0,[]],otherPrompts:[T,[]]};for(let Te of this.promptOptions)q[Te.value]=[l?.includes(Te.value)??!1,[]];this.form=this.fb.group(q)}subscribeToValueChanges(){this.formChange=this.form.valueChanges.subscribe({next:n=>{let a=Nc[this.form.get("responseMode").value],l=Ks.ResponseModeKey(a),T={...this.oidcOptions,responseMode:l,prompt:this.generatePromptString(),resource:(0,Ci.Nj)(this.form.get("resource").value)};this.dynamicAuthCache.componentDirtyValidMap.set("DynamicAuthEditAdvancedComponent",this.form.valid),this.dynamicAuthCache.unsavedCache.next({...this.dynamicAuth,options:JSON.stringify(T)})}})}generatePromptString(){let n=[];if(this.form.get("none").value)return"none";for(let a of this.promptOptions)this.form.get(a.value).value&&n.push(a.value);return this.form.get("useOther").value&&this.form.get("otherPrompts").value.forEach(a=>n.push(a)),(0,Ci.Nj)(n)}promptDisabled(n){const a=this.form.get("none").value;return!("none"===n||!a)||null}updateResponseMode(n){this.form.get("responseMode").setValue(n)}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(Ji),e.rXU(ee.I))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-edit-details"]],decls:2,vars:1,consts:[["id","editDynamicAuthRequest"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],["type","button","target","_blank","right","",1,"tw-btn-link","tw-btn","tw-pt-0","group-hover:tw-text-blue-500",3,"href"],[1,"far","fa-question-circle","tw-w-15","tw-h-15"],[1,"sr-only"],[1,"tw-form-checks"],["class","tw-form-checks__item",3,"id",4,"ngFor","ngForOf"],["id","other-prompt",1,"tw-form-checks__item"],["for","other-checkbox",1,"tw-form-checks__label"],["id","other-checkbox","name","otherPrompt","type","checkbox","formControlName","useOther",1,"tw-form-checks__input"],["id","Prompt","formControlName","otherPrompts",4,"ngIf"],["id","promp-preview",1,"tw-form-text","tw-flex","tw-items-center"],[1,"tw-mr-2","tw--mt-px"],[1,"tw-flex","tw-flex-wrap"],[1,"tw-mr-2"],[3,"id","label","help","isLast"],["id","Resource","formControlName","resource",3,"validators"],[1,"tw-form-checks__item",3,"id"],[1,"tw-form-checks__label",3,"for"],["name","noneCheckBox","type","checkbox",1,"tw-form-checks__input",3,"id","formControlName"],["id","Prompt","formControlName","otherPrompts"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,bE,28,26,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.form))},dependencies:[vn.Sq,vn.bT,p.qT,p.Zm,p.BC,p.cb,p.j4,p.JD,ue.Y,hc.f,gE.j,My,Cn.D9],encapsulation:2})}}return s})();const ky=s=>[s];let xD=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n){this.dynamicAuthCache=n}ngOnInit(){this.dynamicAuthCache.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.optionsDictionary=new Xo.b(bo(n.options))}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-dynamic-auth-request-view-details"]],decls:7,vars:22,consts:[["id","viewDynamicAuthOther"],[3,"id","label","help"],[3,"fieldType","values"],[3,"id","label","help","isLast"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-form-row",1),e.nrm(2,"app-readonly",2),e.k0s(),e.j41(3,"app-form-row",1),e.nrm(4,"app-readonly",2),e.k0s(),e.j41(5,"app-form-row",3),e.nrm(6,"app-readonly",2),e.k0s()()),2&a&&(e.R7$(),e.Y8G("id","ResponseMode")("label","DynamicAuth.ResponseMode.Label")("help","DynamicAuth.ResponseMode.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(16,ky,l.optionsDictionary.responseMode)),e.R7$(),e.Y8G("id","Prompt")("label","DynamicAuth.Prompt.Label")("help","DynamicAuth.Prompt.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(18,ky,l.optionsDictionary.prompt)),e.R7$(),e.Y8G("id","Resource")("label","DynamicAuth.Resource.Label")("help","DynamicAuth.Resource.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(20,ky,l.optionsDictionary.resource)))},dependencies:[ue.Y,ts.O],encapsulation:2})}}return s})();const CE=[{path:"dynamic-auth",component:Xv,canActivate:[pn.h,qn._,uc,rh.q],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}},{path:"dynamic-auth/:Scheme",component:XS,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:al},{path:"scopes",component:Rf},{path:"advanced",component:Ey,children:[{path:"request",component:MD},{path:"claims",component:ca},{path:"signOut",component:fE},{path:"metadata",component:by},{path:"tokens",component:_y},{path:"other",component:wy}]},{path:"sp",component:ay,children:[{path:"details",component:US},{path:"request",component:GS},{path:"response",component:KS}]},{path:"idp",component:hg,children:[{path:"details",component:NS},{path:"advanced",component:xS}]}],resolve:{dynamicAuth:If},canDeactivate:[Nn.M],canActivate:[pn.h,qn._,uc,rh.q],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.All]]}},{path:"dynamic-auth/view/:Scheme",component:aE,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:gg},{path:"scopes",component:yg},{path:"advanced",component:Ey,children:[{path:"request",component:xD},{path:"claims",component:Iy},{path:"signOut",component:pE},{path:"metadata",component:ah},{path:"tokens",component:mE},{path:"other",component:lh}]},{path:"sp",component:iE,children:[{path:"details",component:tE},{path:"request",component:my},{path:"response",component:_g}]},{path:"idp",component:ZS,children:[{path:"details",component:vg},{path:"advanced",component:xf}]}],resolve:{dynamicAuth:If},canActivate:[pn.h,qn._,uc,rh.q],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}}];let Ny=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forChild(CE),zn.XE.forChild(CE),St.iI]})}}return s})();var Vf=h(3843);let wE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[vn.MD,p.YN,p.X1,va.w,Cn.h,Vf.G]})}}return s})(),SE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[If,zc.R,e0.c,hp.z,Yc.d,ld.S,qg._,ad,sd.V,ac,Ji,Es.w,Iu],imports:[Ny,vn.MD,St.iI,p.YN,Os.Y,p.X1,Et.jr,Zd.W,Re.Ss,xt.Q_,Jg.z,cp.A,Cn.h,$c.p,zn.XE,dp.F,Dh.M,Ba.a,Kl.m,pc.c,Yl.c,rd.E,cd.h,va.w,Xl.N,Hc.f,yh.Y,Qg.l,Sf.Q,zl.i,wf.qP,Ef.U,Wc.N,wE]})}}return s})();var wg=h(9624),Gu=h(2633),EE=h(3730);let TE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[qu.v],imports:[vn.MD,p.YN,p.X1,xt.Q_,Os.Y,St.iI,Cn.h,$c.p,zn.XE,Kl.m,zl.i,pc.c,id.t,Yl.c,Zd.W,rd.E,va.w,Wc.N,Xl.N]})}}return s})();var IE=h(2509),DE=h(7101);let AE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[vn.MD,St.iI,Os.Y,Cn.h,zn.XE,Hd]})}}return s})(),RE=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[tS.F,nu.n,Cs.D,$r.i,pn.h,qn._,rh.q,hd.a,Gu.g,ls.P,ed.m,We.X,Ut.Vk,fd.M,qu.v,Gb.R,zn.QG,ki.M,Yo,Cn.c$,Jl.X,Es.w,N0.B,ee.I,mc.D,oc.x,qd],imports:[vn.MD,p.YN,p.X1,Yn,w.q1,Os.Y,DE.UsersModule,TE,wg.StarterModeModule,$c.p,Gc.P,xt.Q_.forRoot(),Et.jr.forRoot(),Re.Ss.forRoot(),Je.h6.forRoot(),EE.ClaimTypesModule,Zn._B.forRoot(),IE.SettingsModule,Dh.M,_f,Yl.c,cd.h,Xl.N,va.w,yh.Y,Cn.h,St.iI,zn.XE,AE,Hd]})}}return s})();var Oy=h(4861);const Fy=s=>[s],Py=s=>({showUpgrade:s});function ch(s,g){1&s&&e.eu8(0)}function ME(s,g){if(1&s&&(e.j41(0,"button",4),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,ch,1,0,"ng-container",5),e.k0s()),2&s){const n=e.XpG(2),a=e.sdS(2);e.HbH(n.btnClasses),e.Y8G("routerLinkActive",n.activeClass)("routerLink",e.eq3(9,Fy,e.bMT(1,7,n.route))),e.R7$(2),e.SpI(" ",n.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,Py,n.showUpgrade))}}function By(s,g){1&s&&e.eu8(0)}function xE(s,g){if(1&s&&(e.j41(0,"button",6),e.nI1(1,"localize"),e.EFF(2),e.DNE(3,By,1,0,"ng-container",5),e.k0s()),2&s){const n=e.XpG(2),a=e.sdS(2);e.HbH(n.btnClasses),e.Y8G("routerLinkActive",n.activeClass)("routerLink",e.eq3(9,Fy,e.bMT(1,7,n.route))),e.R7$(2),e.SpI(" ",n.title," "),e.R7$(),e.Y8G("ngTemplateOutlet",a)("ngTemplateOutletContext",e.eq3(11,Py,n.showUpgrade))}}function Ly(s,g){if(1&s&&(e.j41(0,"li",2),e.DNE(1,ME,4,13,"button",3)(2,xE,4,13),e.k0s()),2&s){const n=e.XpG();e.HbH(n.classes),e.Y8G("id",n.id),e.R7$(),e.vxM(1,n.sub?1:2)}}function kE(s,g){1&s&&(e.j41(0,"div",7)(1,"span",8),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",9),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function Uy(s,g){1&s&&e.DNE(0,kE,5,3,"div",7),2&s&&e.vxM(0,g.showUpgrade?0:-1)}let Vy=(()=>{class s{constructor(){this.showUpgrade=!1}get btnClasses(){const n="tw-nav tw-flex tw-items-center tw-text-primary-200 tw-relative tw-truncate hover:tw-text-white focus:tw-text-white";return this.sub?`${n} tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8`:`${n} tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8`}static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-nav-item"]],inputs:{id:"id",title:"title",classes:"classes",activeClass:"activeClass",sub:"sub",route:"route",display:"display",showUpgrade:"showUpgrade"},decls:3,vars:1,consts:[["upgradeSymbol",""],[3,"class","id"],[3,"id"],["ngbDropdownItem","",3,"class","routerLinkActive","routerLink"],["ngbDropdownItem","",3,"routerLinkActive","routerLink"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"routerLinkActive","routerLink"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],[1,"sr-only"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"]],template:function(a,l){1&a&&e.DNE(0,Ly,3,4,"li",1)(1,Uy,1,1,"ng-template",null,0,e.C5r),2&a&&e.vxM(0,l.display?0:-1)},dependencies:[vn.T3,St.Wk,St.wQ,pf,av,Cn.D9,zn.tl],encapsulation:2})}}return s})();const Sg=["sameSiteBrowserNotification"],NE=["defaultUserResolveButton"],jy=[[["","navigation",""]]],$y=["[navigation]"],OE=s=>({text:"IdentityServer",check:s}),FE=(s,g)=>({"tw-opacity-75":s,"tw-pill-info":g}),Eg=s=>[s],jf=(s,g)=>({"tw-text-sm tw-font-normal tw-px-8 tw-py-3 lg:tw-px-6 xl:tw-px-8":s,"tw-font-semibold tw-h-header tw-px-4 lg:tw-px-6 xl:tw-px-8":g});function PE(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",20,3)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"b",25),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"button",26),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.closeSameSiteBrowserNotification())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(7),e.SpI(" ",e.bMT(8,2,"Common.SameSiteCookiesBannerError")," "),e.R7$(4),e.JRh(e.bMT(12,4,"Common.Close")))}function Gy(s,g){if(1&s){const n=e.RV6();e.j41(0,"div",27)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.nI1(7,"translate"),e.k0s(),e.j41(8,"button",28,4),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.defaultUserDeleteConfirmation())}),e.j41(10,"b"),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()()()()()}2&s&&(e.R7$(6),e.SpI(" ",e.bMT(7,2,"InitialAdminCreation.ReminderMessage")," "),e.R7$(5),e.JRh(e.bMT(12,4,"InitialAdminCreation.Resolve")))}function BE(s,g){if(1&s&&(e.j41(0,"div",29)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",30)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const n=e.XpG(2);e.R7$(6),e.SpI(" ",n.licenseIsInStarterModeMessage," ")}}function LE(s,g){if(1&s&&(e.j41(0,"div",31)(1,"div",21)(2,"div",22)(3,"div",23)(4,"div",24)(5,"b",25),e.EFF(6),e.k0s()()()()()()),2&s){const n=e.XpG(2);e.R7$(6),e.SpI(" ",n.licenseIsInGracePeriodMessage," ")}}function UE(s,g){if(1&s&&(e.j41(0,"div",15),e.DNE(1,PE,13,6,"div",16)(2,Gy,13,6,"div",17)(3,BE,7,1,"div",18)(4,LE,7,1,"div",19),e.k0s()),2&s){const n=e.XpG();e.R7$(),e.Y8G("ngIf",n.noSameSiteSupport),e.R7$(),e.Y8G("ngIf",n.defaultUserExists),e.R7$(),e.Y8G("ngIf",n.licenseIsInStarterMode),e.R7$(),e.Y8G("ngIf",n.licenseIsInGracePeriod)}}function VE(s,g){if(1&s&&(e.j41(0,"div",40),e.EFF(1),e.k0s()),2&s){const n=e.XpG(2);e.Y8G("ngClass",e.l_i(2,FE,n.securityService.isNonProd(),!n.securityService.isNonProd())),e.R7$(),e.SpI(" ",n.securityService.licenseType," ")}}function jE(s,g){if(1&s){const n=e.RV6();e.j41(0,"nav",32),e.nI1(1,"translate"),e.j41(2,"div",21)(3,"div",33),e.DNE(4,VE,2,5,"div",34),e.j41(5,"div",35),e.nrm(6,"span",36),e.j41(7,"span",37),e.EFF(8),e.k0s(),e.j41(9,"span",38),e.EFF(10,"\u2022"),e.k0s()(),e.j41(11,"button",39),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.logoff())}),e.EFF(12),e.nI1(13,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG();e.BMQ("aria-label",e.bMT(1,4,"Nav.Account")),e.R7$(4),e.Y8G("ngIf","Legacy"!=n.securityService.organisation),e.R7$(4),e.JRh(n.authService.user),e.R7$(4),e.SpI(" ",e.bMT(13,6,"Nav.Logout")," ")}}function $E(s,g){1&s&&e.nrm(0,"span",53)}function GE(s,g){1&s&&e.nrm(0,"span",54)}function HE(s,g){1&s&&e.nrm(0,"div",60)}function Hy(s,g){if(1&s){const n=e.RV6();e.j41(0,"nav",55),e.DNE(1,HE,1,0,"div",56),e.j41(2,"ul",43),e.nrm(3,"app-nav-item",57),e.nI1(4,"translate"),e.nrm(5,"app-nav-item",57),e.nI1(6,"translate"),e.nrm(7,"app-nav-item",57),e.nI1(8,"translate"),e.nrm(9,"app-nav-item",57),e.nI1(10,"translate"),e.SdG(11),e.nrm(12,"app-nav-item",57),e.nI1(13,"translate"),e.j41(14,"li",58)(15,"button",59),e.bIt("click",function(){e.eBV(n);const l=e.XpG(2);return e.Njj(l.logoff())}),e.EFF(16),e.nI1(17,"translate"),e.k0s()()()()}if(2&s){const n=e.XpG(2);e.R7$(),e.Y8G("ngIf",!n.healthCheckService.uiReady),e.R7$(2),e.Y8G("id","app-nav-item-home")("title",e.bMT(4,28,"Nav.Home"))("classes","lg:tw-hidden")("activeClass","tw-nav-active")("route","/home")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-users")("title",e.bMT(6,30,"Nav.Users"))("activeClass","tw-nav-active")("route","/users")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-roles")("title",e.bMT(8,32,"Nav.Roles"))("activeClass","tw-nav-active")("route","/roles")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(2),e.Y8G("id","app-nav-item-claimtypes")("title",e.bMT(10,34,"Nav.ClaimTypes"))("activeClass","tw-nav-active")("route","/claim-types")("display",n.securityService.userManagerView||n.securityService.userManagerReadOnlyView),e.R7$(3),e.Y8G("id","app-nav-item-settings")("title",e.bMT(13,36,"Nav.Settings"))("activeClass","tw-nav-active")("route","/settings/accesspolicy")("display",n.securityService.allView),e.R7$(4),e.SpI(" ",e.bMT(17,38,"Logout")," ")}}function Wy(s,g){if(1&s){const n=e.RV6();e.j41(0,"header",41),e.bIt("resize",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.detectSize())},!1,e.tSv),e.j41(1,"div",42)(2,"div",43)(3,"h2",44),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"div",45)(7,"a",46),e.nI1(8,"localize"),e.nrm(9,"img",47),e.j41(10,"span",48),e.EFF(11),e.nI1(12,"translate"),e.k0s()(),e.j41(13,"button",49),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.menuToggle())}),e.j41(14,"span",48),e.EFF(15),e.nI1(16,"translate"),e.k0s(),e.DNE(17,$E,1,0,"span",50)(18,GE,1,0,"span",51),e.k0s()(),e.DNE(19,Hy,18,40,"nav",52),e.k0s()()()}if(2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,10,"Nav.Menu")),e.R7$(3),e.Y8G("routerLink",e.eq3(18,Eg,e.bMT(8,12,"/home"))),e.R7$(4),e.JRh(e.bMT(12,14,"Nav.Home")),e.R7$(2),e.AVh("tw-bg-primary-700",n.openMenu),e.BMQ("aria-expanded",1==n.openMenu),e.R7$(2),e.JRh(e.bMT(16,16,"Nav.ToggleNavigation")),e.R7$(2),e.Y8G("ngIf",!n.openMenu),e.R7$(),e.Y8G("ngIf",n.openMenu),e.R7$(),e.Y8G("ngIf",n.openMenu&&n.appComponentViewConfig.showNav&&!n.expectingStarterModeConsent)}}function Ky(s,g){1&s&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function WE(s,g){if(1&s&&(e.j41(0,"li",62)(1,"button",63),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,Ky,5,3,"div",64),e.k0s()()),2&s){const n=e.XpG(),a=n.title,l=n.classes,T=n.activeClass,q=n.sub,Te=n.route,Ze=n.starterUpgrade,_t=n.id,$t=e.XpG();e.HbH(l),e.Y8G("id",_t),e.R7$(),e.Y8G("ngClass",e.l_i(10,jf,q,!q))("routerLinkActive",T)("routerLink",e.eq3(13,Eg,e.bMT(2,8,Te))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Ze&&$t.licenseIsInStarterMode)}}function zy(s,g){1&s&&e.DNE(0,WE,5,15,"li",61),2&s&&e.Y8G("ngIf",g.display)}function KE(s,g){1&s&&(e.j41(0,"div",65)(1,"span",48),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.nrm(4,"span",66),e.k0s()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"StarterMode.RequiresUpgrade")))}function zE(s,g){if(1&s&&(e.j41(0,"li",62)(1,"button",67),e.nI1(2,"localize"),e.EFF(3),e.DNE(4,KE,5,3,"div",64),e.k0s()()),2&s){const n=e.XpG(),a=n.title,l=n.classes,T=n.activeClass,q=n.sub,Te=n.route,Ze=n.starterUpgrade,_t=n.id,$t=e.XpG();e.HbH(l),e.Y8G("id",_t),e.R7$(),e.Y8G("ngClass",e.l_i(10,jf,q,!q))("routerLinkActive",T)("routerLink",e.eq3(13,Eg,e.bMT(2,8,Te))),e.R7$(2),e.SpI(" ",a," "),e.R7$(),e.Y8G("ngIf",Ze&&$t.licenseIsInStarterMode)}}function Tg(s,g){1&s&&e.DNE(0,zE,5,15,"li",61),2&s&&e.Y8G("ngIf",g.display)}function Yy(s,g){1&s&&(e.j41(0,"div",68)(1,"div",69)(2,"div")(3,"h1",70),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"p"),e.EFF(7),e.nI1(8,"translate"),e.k0s()()()()),2&s&&(e.R7$(4),e.JRh(e.bMT(5,2,"Errors.Unauthorized")),e.R7$(3),e.JRh(e.bMT(8,4,"Errors.ContactAdmin")))}function YE(s,g){1&s&&e.nrm(0,"router-outlet")}function Ig(s,g){1&s&&e.eu8(0)}function Xy(s,g){if(1&s&&(e.j41(0,"div",72)(1,"div",73),e.nrm(2,"span",74),e.j41(3,"span",75)(4,"b"),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.EFF(7),e.k0s()()()),2&s){const n=e.XpG(),a=n.text;e.Y8G("@fadeInOut",n.check),e.R7$(5),e.SpI("",e.bMT(6,3,"Common.Loading"),":"),e.R7$(2),e.SpI(" ",a," ")}}function Jy(s,g){1&s&&e.DNE(0,Xy,8,5,"div",71),2&s&&e.Y8G("ngIf",g.check)}function kD(s,g){if(1&s){const n=e.RV6();e.j41(0,"footer",76)(1,"button",77),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.jumpToTop())}),e.nrm(2,"span",78),e.j41(3,"span",48),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"div",79)(7,"div",80)(8,"p",81)(9,"span",82),e.EFF(10),e.k0s(),e.EFF(11),e.j41(12,"a",83),e.EFF(13),e.nI1(14,"translate"),e.k0s()(),e.j41(15,"ul",84)(16,"li",85)(17,"a",86),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.j41(20,"span",87),e.EFF(21,"\u2022"),e.k0s()(),e.j41(22,"li",22)(23,"a",88),e.EFF(24),e.nI1(25,"translate"),e.k0s()()()()()()}if(2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,6,"Nav.ToTop")),e.R7$(6),e.SpI("AdminUI ",n.versionNumber,""),e.R7$(),e.SpI(" \xa9 ",n.appCopyright," "),e.R7$(2),e.SpI(" ",e.bMT(14,8,"Common.CompanyName")," "),e.R7$(5),e.SpI(" ",e.bMT(19,10,"Common.Documentation")," "),e.R7$(6),e.SpI(" ",e.bMT(25,12,"Nav.Support")," ")}}let Qy=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t,$t,un,Sn,Tn,Fn){this.securityService=n,this.translate=a,this.localizeRouter=l,this.toastr=T,this.router=q,this.healthCheckService=Te,this.authService=Ze,this.userService=_t,this.modalService=$t,this.browserSameSiteService=un,this.appComponentViewService=Sn,this.licenseService=Tn,this.configService=Fn,this.user={name:"test"},this.openMenu=!1,this.desktop=!1,this.versionNumber="",this.skipLinkPath="",this.licenseType="",this.organisation="",this.noSameSiteSupport=!1,this.nonProduction=!1,this.defaultUserExists=!1,this.licenseIsInGracePeriod=!1,this.licenseIsInStarterMode=!1,this.expectingStarterModeConsent=!1,this.defaultUserRemovalModalId="defaultUserRemovalModal",this.resolveModalActions=[Uu.N.Save],this.subscriptions=[],Ma.wB.defaultLocale="utc",Ma.wB.defaultZone="utc";const On=this.localizeRouter.parser.currentLang;document.getElementsByTagName("html")[0].setAttribute("lang",On),this.appCopyright="2017 - "+(new Date).getFullYear()}ngOnInit(){if(this.detectSize(),this.setupLongLivedSubscriptions(),this.setupHealthCheck(),!this.browserSameSiteService.validBrowser()&&!localStorage.getItem("closedSameSiteBanner")){const a={link:Ut.$9.sameSiteDocs};this.noSameSiteSupport=!0,this.toastr.error(this.translate.instant("Common.SameSiteCookiesError",a),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}}ngOnDestroy(){this.userDataSubscription&&this.userDataSubscription.unsubscribe(),this.licenseInfoSubscription&&this.licenseInfoSubscription.unsubscribe(),this.subscriptions.forEach(n=>n.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.router.events.pipe((0,sa.p)(n=>n instanceof St.wF)).subscribe(()=>{this.router.url.endsWith("#main-content")||(this.skipLinkPath=`${this.router.url}#main-content`)}),this.healthCheckService.uiHealthCheckComplete.subscribe(()=>{this.versionNumber=Lr}),this.router.events.subscribe({next:n=>{this.desktop||(this.openMenu=!1)}}),this.appComponentViewService.viewConfig$.subscribe({next:n=>{this.appComponentViewConfig=n}}))}setupHealthCheck(){this.healthCheckService.checkHealthUi().pipe((0,tl.s)(1)).subscribe({next:n=>this.uiHealthCheckSuccess(n),error:n=>this.uiHealthCheckFailed(n)}),this.healthCheckService.checkHealthIdentityServer().pipe((0,tl.s)(1)).subscribe({next:n=>this.idsHealthCheckSuccess(),error:n=>this.idsHealthCheckFailed(n)})}uiHealthCheckSuccess(n){this.healthCheckService.uiReady=!0,this.healthCheckService.uiHealthCheckComplete.next(!0),"string"==typeof n&&!(0,Ci.gP)(n)&&this.toastr.warning(n,this.translate.instant("Common.Warning"),{timeOut:3e3,extendedTimeOut:0,enableHtml:!0}),this.userDataSubscription?.unsubscribe(),this.userDataSubscription=(0,Ai.p)({authentication:this.authService.isAuthenticatedCheck(),permissions:this.securityService.userPermissions$}).subscribe(a=>{a.authentication.isAuthenticated&&a.authentication.username!=Oy.M.DefaultAdministratorUsername&&a.permissions.includes(en.a[en.a.All])&&this.userService.defaultUserExists().subscribe(l=>{this.defaultUserExists=l})}),this.licenseInfoSubscription?.unsubscribe(),this.licenseInfoSubscription=this.licenseService.getLicenseInfo().subscribe(a=>{if(this.licenseIsInStarterMode=a.isStarterLicense(),this.expectingStarterModeConsent=a.isExpectingStarterConsent(),this.licenseIsInStarterMode&&(this.licenseIsInStarterModeMessage=this.translate.instant("StarterMode.Warning")),this.licenseIsInGracePeriod=a.isInGracePeriod,this.licenseIsInGracePeriod){const l=(0,Ci.KU)(a.gracePeriodExpiry,"ccc LLL dd yyyy, T");let T=this.translate.instant("Common.LicenseIsInGracePeriod");T=T.replace("{0}",l),this.licenseIsInGracePeriodMessage=T}})}uiHealthCheckFailed(n){this.healthCheckService.uiHealthCheckComplete.next(!0);const a=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.UIError",{error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}idsHealthCheckSuccess(){this.healthCheckService.idsReady=!0,this.healthCheckService.idsHealthCheckComplete.next(!0)}idsHealthCheckFailed(n){this.healthCheckService.idsHealthCheckComplete.next(!0);const a=this.getHealthCheckError(n);this.toastr.error(this.translate.instant("LandingPage.IdentityServerError",{link:Ut.$9.checkHealthIdentityServerDocs,error:a?` (${a})`:""}),this.translate.instant("Notifications.Error"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}closeSameSiteBrowserNotification(){this.noSameSiteSupport=!1,localStorage.setItem("closedSameSiteBanner","1")}defaultUserDeleteConfirmation(){this.modalService.showById(this.defaultUserRemovalModalId,this.defaultUserResolveButton)}cancelDefaultUserDelete(){this.modalService.hideById(this.defaultUserRemovalModalId)}removeDefaultUser(){this.userService.deleteDefaultUser().subscribe({next:n=>{this.defaultUserExists=!1,this.toastr.success(this.translate.instant("LandingPage.DefaultUserRemoved"),this.translate.instant("Notifications.Success"),{timeOut:0,extendedTimeOut:0,enableHtml:!0}),this.modalService.hideById(this.defaultUserRemovalModalId)},error:n=>{this.toastr.error(this.translate.instant("Notifications.CheckLogs"),this.translate.instant("Notifications.SomethingWrong"),{timeOut:0,extendedTimeOut:0,enableHtml:!0})}})}isActive(n,a=!1){return this.router.isActive(n,a)}isActiveResourceRoute(){return this.router.url.includes("/identityresources")||this.router.url.includes("/protectedresources")}detectSize(){const n=window.matchMedia("(min-width: 1024px)");n.matches&&!this.desktop?(this.desktop=!0,this.openMenu=!0):!n.matches&&this.desktop&&(this.desktop=!1,this.openMenu=!1)}logoff(){this.authService.logoff()}menuToggle(){this.openMenu=!this.openMenu}jumpToTop(){window.scrollTo(0,0)}getHealthCheckError(n){if(!n)return"";const a=n.error;if(a){if("string"==typeof a)return a;if(a.errors&&a.errors.length>0)return a.errors[0]}return n.message?n.message:n.statusText?n.statusText:`${this.translate.instant("Notifications.SomethingWrong")}. ${this.translate.instant("Notifications.CheckLogs")}`}static{this.\u0275fac=function(a){return new(a||s)(e.rXU($r.i),e.rXU(Cn.c$),e.rXU(zn.QG),e.rXU(Zn.tw),e.rXU(St.Ix),e.rXU(ki.M),e.rXU(Zo.u),e.rXU(Cs.D),e.rXU(eh.B),e.rXU(Yo),e.rXU(fs.X),e.rXU(Jl.X),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-shared-base"]],viewQuery:function(a,l){if(1&a&&(e.GBs(Sg,5),e.GBs(NE,5)),2&a){let T;e.mGM(T=e.lsd())&&(l.sameSiteBrowserNotification=T.first),e.mGM(T=e.lsd())&&(l.defaultUserResolveButton=T.first)}},ngContentSelectors:$y,decls:20,vars:18,consts:[["commonNavItem",""],["commonSubNavItem",""],["commonLoader",""],["sameSiteBrowserNotification",""],["defaultUserResolveButton",""],["id","skipLink",1,"sr-only","sr-only-focusable","tw-block","tw-bg-grey-200","tw-px-4","tw-py-3","tw-font-semibold","tw-left-0","tw-top-0","tw-z-50","focus:tw-m-1","focus:tw-text-blue-500","focus:tw-fixed",3,"href"],["id","loggedInTopBarAlerts",4,"ngIf"],["id","metaMenu","class","tw-bg-primary-500 tw-border-b tw-border-primary-400 tw-text-white tw-text-xs tw-px-4",4,"ngIf"],["id","mainNavBar","class","tw-bg-primary-500 tw-text-primary-100 tw-relative tw-z-30","role","banner",3,"resize",4,"ngIf"],["id","main-content","role","main","tabindex","-1",1,"tw-bg-grey-100","tw-px-4","tw-pt-5","tw-pb-5","focus:tw-shadow-none","xs:tw-pb-20"],[3,"onSave","onCancel","actions","title","modalId","saveText"],["class","tw-container tw-pb-10 tw-mx-auto",4,"ngIf"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["id","footer","class","tw-bg-grey-200 tw-border-t tw-border-grey-300 tw-text-grey-600 tw-text-xs tw-h-12 tw-fixed tw-bottom-0 tw-inset-x-0 tw-z-30",4,"ngIf"],["id","loggedInTopBarAlerts"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4","role","alert",4,"ngIf"],["class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseStarterModeNotification","class","tw-bg-orange-500 tw-text-primary-900 tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["id","licenseExpiredNotification","class","tw-bg-red-500 tw-text-white tw-text-xs tw-px-4 tw-py-2","role","alert",4,"ngIf"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-container","tw-mx-auto","tw-text-left"],[1,"tw-flex","tw-items-center"],[1,"tw-w-full","tw-left-0"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-white"],[1,"tw-block","tw-w-full"],[1,"tw-block","tw-underline","hover:tw-no-underline","tw-ml-2","tw-shrink-0",3,"click"],["role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-text-black","tw-bg-white","tw-btn","tw-block","tw-ml-2","tw-shrink-0",3,"click"],["id","licenseStarterModeNotification","role","alert",1,"tw-bg-orange-500","tw-text-primary-900","tw-text-xs","tw-px-4","tw-py-2"],[1,"tw-flex","tw-items-center","tw-text-body","tw-text-md","tw-py-2","tw-text-primary-900"],["id","licenseExpiredNotification","role","alert",1,"tw-bg-red-500","tw-text-white","tw-text-xs","tw-px-4","tw-py-2"],["id","metaMenu",1,"tw-bg-primary-500","tw-border-b","tw-border-primary-400","tw-text-white","tw-text-xs","tw-px-4"],[1,"tw-flex","tw-items-center","tw-h-8"],[3,"ngClass",4,"ngIf"],[1,"tw-hidden","tw-items-center","tw-ml-auto","sm:tw-flex"],["aria-hidden","true",1,"fad","fa-user-lock","tw-mr-2",2,"--fa-secondary-color","#4DAC4D","--fa-secondary-opacity","1.0"],[1,"tw-font-semibold"],["aria-hidden","true",1,"tw-mx-3","tw-opacity-50","tw-text-base"],["tabindex","0",1,"tw-self-stretch","tw-flex","tw-items-center","tw-ml-auto","tw-text-white","tw-font-normal","tw-cursor-pointer","hover:tw-underline","sm:tw-ml-0","trans",3,"click"],[3,"ngClass"],["id","mainNavBar","role","banner",1,"tw-bg-primary-500","tw-text-primary-100","tw-relative","tw-z-30",3,"resize"],[1,"tw-container","tw-text-left","tw-mx-auto"],[1,"lg:tw-flex"],["id","navMenuTitle",1,"sr-only"],[1,"tw-flex","tw-justify-between","tw-h-header","tw-ml-4","xl:tw-mr-4","max:tw-ml-0"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-shrink-0",3,"routerLink"],["src","/assets/img/logo-persimmon.png","alt","","aria-hidden","true",1,"tw-w-8"],[1,"sr-only"],["id","mainMenu","aria-controls","mainMenu",1,"tw-shrink-0","tw-text-xl","tw-w-header","lg:tw-hidden",3,"click"],["class","fas fa-bars fa-fw","aria-hidden","true",4,"ngIf"],["class","fas fa-times fa-fw","aria-hidden","true",4,"ngIf"],["id","mainNavLinks","class","tw-bg-primary-700 tw-relative lg:tw-flex lg:tw-bg-transparent","role","navigation","aria-labelledby","navMenuTitle",4,"ngIf"],["aria-hidden","true",1,"fas","fa-bars","fa-fw"],["aria-hidden","true",1,"fas","fa-times","fa-fw"],["id","mainNavLinks","role","navigation","aria-labelledby","navMenuTitle",1,"tw-bg-primary-700","tw-relative","lg:tw-flex","lg:tw-bg-transparent"],["class","tw-block tw-bg-primary-700 tw-opacity-75 lg:tw-bg-primary-500 tw-absolute tw-inset-0 tw-z-20",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],[1,"lg:tw-hidden"],[1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-px-4","tw-w-full","tw-truncate","hover:tw-bg-primary-600","hover:tw-text-white","focus:tw-bg-primary-600","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8",3,"click"],[1,"tw-block","tw-bg-primary-700","tw-opacity-75","lg:tw-bg-primary-500","tw-absolute","tw-inset-0","tw-z-20"],[3,"class","id",4,"ngIf"],[3,"id"],[1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],["class","upgradeSymbol tw-text-secondary-500 tw-text-sm tw-pl-1 tw-font-normal tw-py-3 lg:tw-px-1",4,"ngIf"],[1,"upgradeSymbol","tw-text-secondary-500","tw-text-sm","tw-pl-1","tw-font-normal","tw-py-3","lg:tw-px-1"],["aria-hidden","true",1,"far","fa-arrow-alt-circle-up"],["ngbDropdownItem","",1,"tw-nav","tw-flex","tw-items-center","tw-text-primary-200","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white",3,"ngClass","routerLinkActive","routerLink"],[1,"tw-container","tw-pb-10","tw-mx-auto"],["role","alert",1,"tw-alert-danger"],[1,"tw-text-sm","tw-font-semibold"],["class","tw-fixed tw-w-full tw-bottom-0 tw-left-0 tw-z-40",4,"ngIf"],[1,"tw-fixed","tw-w-full","tw-bottom-0","tw-left-0","tw-z-40"],[1,"tw-flex","tw-items-center","tw-bg-orange-500","tw-shadow-toast","tw-text-body","tw-text-sm","tw-px-4","tw-py-3"],[1,"fad","fa-spinner-third","fa-spin","tw-mr-2"],[1,"tw-block"],["id","footer",1,"tw-bg-grey-200","tw-border-t","tw-border-grey-300","tw-text-grey-600","tw-text-xs","tw-h-12","tw-fixed","tw-bottom-0","tw-inset-x-0","tw-z-30"],["id","jumpToTop",1,"tw-hidden","tw-items-center","tw-justify-center","tw-bg-grey-400","tw-m-2","tw-w-8","tw-h-8","tw-text-grey-800","tw-rounded","tw-cursor-pointer","tw-fixed","tw-right-0","tw-bottom-0","trans-bg","hover:tw-bg-grey-500","max:tw-flex",3,"click"],["aria-hidden","true",1,"fas","fa-chevron-up"],[1,"tw-flex","tw-items-center","tw-h-12","tw-px-4"],[1,"tw-flex","tw-items-center","tw-justify-center","tw-container","tw-w-full","tw-mx-auto","md:tw-justify-between"],[1,"tw-text-center","md:tw-text-left"],[1,"tw-mr-2","md:tw-mr-3"],["id","RSKBackLink","href","https://www.rocksolidknowledge.com/","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],[1,"tw-hidden","tw-items-center","md:tw-flex"],[1,"tw-flex","tw-items-center","tw-mr-2"],["href","documentation/index.html","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"],["aria-hidden","true",1,"tw-ml-2","tw-opacity-50","tw-text-sm"],["href","mailto:support@rocksolidknowledge.zendesk.com","target","_blank",1,"tw-text-grey-600","tw-font-normal","hover:tw-text-grey-700","tw-transition-all","tw-ease-in-out"]],template:function(a,l){if(1&a){const T=e.RV6();e.NAR(jy),e.j41(0,"a",5),e.EFF(1),e.nI1(2,"translate"),e.k0s(),e.DNE(3,UE,5,4,"div",6)(4,jE,14,8,"nav",7)(5,Wy,20,20,"header",8)(6,zy,1,1,"ng-template",null,0,e.C5r)(8,Tg,1,1,"ng-template",null,1,e.C5r),e.j41(10,"main",9)(11,"app-custom-modal",10),e.bIt("onSave",function(){return e.eBV(T),e.Njj(l.removeDefaultUser())})("onCancel",function(){return e.eBV(T),e.Njj(l.cancelDefaultUserDelete())}),e.j41(12,"p"),e.EFF(13," To secure your AdminUI, the 'info@rocksolidknowledge' Administrator needs to be removed from your database "),e.k0s()(),e.DNE(14,Yy,9,6,"div",11)(15,YE,1,0,"router-outlet",12),e.k0s(),e.DNE(16,Ig,1,0,"ng-container",13)(17,Jy,1,1,"ng-template",null,2,e.C5r)(19,kD,26,14,"footer",14)}if(2&a){const T=e.sdS(18);e.Y8G("href",l.skipLinkPath,e.B4B),e.R7$(),e.SpI(" ",e.bMT(2,14,"Nav.SkipToContent"),"\n"),e.R7$(2),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showBanner),e.R7$(),e.Y8G("ngIf",l.appComponentViewConfig.showNav),e.R7$(6),e.Y8G("actions",l.resolveModalActions)("title","Remove Default Administrator")("modalId",l.defaultUserRemovalModalId)("saveText","Remove User"),e.R7$(3),e.Y8G("ngIf",l.securityService.noPermissions),e.R7$(),e.Y8G("ngIf",!l.securityService.noPermissions),e.R7$(),e.Y8G("ngTemplateOutlet",T)("ngTemplateOutletContext",e.eq3(16,OE,!l.healthCheckService.idsReady)),e.R7$(3),e.Y8G("ngIf",l.appComponentViewConfig.showFooter)}},dependencies:[vn.YU,vn.bT,vn.T3,pf,av,Af.G,St.n3,St.Wk,St.wQ,Vy,Cn.D9,zn.tl],encapsulation:2,data:{animation:[(0,xl.l1)(),(0,xl.Ws)()]}})}}return s})();const XE=["resourcesMenu"];function Zy(s,g){if(1&s&&(e.j41(0,"li",3)(1,"button",4)(2,"span",5),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.nrm(5,"span",6),e.k0s(),e.j41(6,"div",7),e.nI1(7,"translate"),e.j41(8,"ul",8),e.nrm(9,"app-nav-item",9),e.nI1(10,"translate"),e.nrm(11,"app-nav-item",9),e.nI1(12,"translate"),e.k0s()()()),2&s){const n=e.XpG();e.Y8G("autoClose",!0),e.R7$(),e.AVh("tw-nav-active",n.isApplicationRoute()),e.R7$(2),e.JRh(e.bMT(4,19,"Nav.Applications")),e.R7$(3),e.BMQ("aria-label",e.bMT(7,21,"Nav.Resources")),e.R7$(3),e.Y8G("id","app-nav-item-clients")("title",e.bMT(10,23,"Nav.Clients"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/clients")("display",!0),e.R7$(2),e.Y8G("id","app-nav-item-apis")("title",e.bMT(12,25,"Nav.Apis"))("classes","")("activeClass","tw-subnav-active")("sub",!0)("route","/applications/apis")("display",!0)}}let qy=(()=>{class s{constructor(n,a,l){this.securityService=n,this.licenseService=a,this.router=l,this.subscriptions=[],this.licenseIsInStarterMode=!1}ngOnInit(){this.setupLongLivedSubscriptions()}ngOnDestroy(){this.subscriptions.forEach(n=>n.unsubscribe())}setupLongLivedSubscriptions(){this.subscriptions.push(this.licenseService.getLicenseInfo().subscribe(n=>{this.licenseIsInStarterMode=n.isStarterLicense()}))}isApplicationRoute(){return this.router.url.includes("/applications")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU($r.i),e.rXU(Jl.X),e.rXU(St.Ix))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-root"]],viewQuery:function(a,l){if(1&a&&e.GBs(XE,5),2&a){let T;e.mGM(T=e.lsd())&&(l.resourcesMenu=T.first)}},decls:5,vars:9,consts:[["navigation",""],["id","application-navs","class","","ngbDropdown","",3,"autoClose",4,"ngIf"],[3,"id","title","classes","activeClass","route","display"],["id","application-navs","ngbDropdown","",1,"",3,"autoClose"],["tabindex","0","ngbDropdownToggle","","id","menuApplicationsToggle","type","button",1,"tw-flex","tw-items-center","tw-text-primary-200","tw-font-semibold","tw-h-header","tw-w-full","tw-px-4","tw-relative","tw-truncate","hover:tw-text-white","focus:tw-text-white","lg:tw-px-6","xl:tw-px-8","tw-transition-all","tw-ease-in-out"],[1,"tw-block","tw-truncate"],["aria-hidden","true",1,"fas","fa-caret-down","tw-text-xs","tw-ml-2","tw-opacity-50"],["ngbDropdownMenu","","aria-labelledby","menuResourcesToggle",1,"tw-bg-primary-800","lg:tw-bg-primary-500","-mt-4"],["role","menu",1,"lg:tw-pt-2","lg:tw-pb-3"],[3,"id","title","classes","activeClass","sub","route","display"]],template:function(a,l){1&a&&(e.j41(0,"app-shared-base"),e.qex(1,0),e.DNE(2,Zy,13,27,"li",1),e.nrm(3,"app-nav-item",2),e.nI1(4,"translate"),e.bVm(),e.k0s()),2&a&&(e.R7$(2),e.Y8G("ngIf",l.securityService.identityServerManagerView||l.securityService.identityServerManagerReadOnlyView),e.R7$(),e.Y8G("id","app-nav-item-scopes")("title",e.bMT(4,7,"Nav.Scopes"))("classes","")("activeClass","tw-nav-active")("route","/scopes")("display",!0))},dependencies:[Qy,vn.bT,bu,Bm,Pm,Vy,Cn.D9],encapsulation:2,data:{animation:[(0,xl.l1)(),(0,xl.Ws)()]}})}}return s})(),uh=(()=>{class s{constructor(n,a,l){this.scopeService=n,this.changeCachingService=a,this.errorService=l}resolve(n,a){return this.scopeService.getScope(n.params.Id).pipe((0,wi.T)(T=>(T&&this.changeCachingService.unsavedCache.next(T),T)),(0,Pa.W)((T,q)=>(404===T.status?this.errorService.resourceNotFound(So.v.scope):this.errorService.handleError(T),(0,fc.I)())))}static{this.\u0275fac=function(a){return new(a||s)(e.KVO(jc),e.KVO(Ji),e.KVO(ee.I))}}static{this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac})}}return s})();const $f=(s,g)=>({title:s,link:g}),Dg=s=>[s];let e_=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t,$t,un){this.r=n,this.route=a,this.localize=l,this.titleService=T,this.translate=q,this.toastr=Te,this.errorService=Ze,this.scopeService=_t,this.scopeCachService=$t,this.dialogService=un,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:n=>{this.scope=n;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}canDeactivate(){return!(this.scopeCachService.componentDirtyValidMap.size>0)||(this.dialogService.confirm(),this.dialogService.eventStream.subscribe(n=>{n&&this.scopeCachService.componentDirtyValidMap.size>0&&this.scopeCachService.componentDirtyValidMap.clear()}),this.dialogService.eventStream)}checkSubmitEnabled(){const n=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}saveScope(){this.saveDisabled||this.scopeService.updateScope(this.scope).subscribe({next:n=>{this.isFirstCall=!0,this.scopeCachService.unsavedCache.next(n),this.scopeCachService.onSave(),this.toastr.success(this.translate.instant("Scopes.Success.Updated"),this.translate.instant("Notifications.SuccessfullySaved")),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}deleteScope(n){this.scopeService.deleteScope(n).subscribe({next:a=>{const l=this.localize.translateRoute("/scopes");this.r.navigate([l]),this.toastr.success(`${n} ${this.translate.instant("Common.Delete.Deleted")}`,this.translate.instant("Notifications.SuccessfullyDeleted"))},error:a=>{this.errorService.handleError(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU(zn.QG),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(ee.I),e.rXU(jc),e.rXU(Ji),e.rXU(ko.o))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:23,vars:28,consts:[["deleteDynamicAuthModal",""],[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","editScope",1,"tw-container","tw-mx-auto"],["id","submitBtn",1,"tw-btn-success","tw-mr-3","tw-mb-3",3,"click","disabled"],["right",""],["id","deleteBtn","type","button","data-toggle","modal",1,"tw-btn-danger","tw-mb-3",3,"click"],[3,"delete","resourceName"]],template:function(a,l){if(1&a){const T=e.RV6();e.j41(0,"app-title-bar",1),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,2),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",3)(6,"app-custom-tab",3)(7,"app-custom-tab",3)(8,"app-custom-tab",3),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",4),e.nrm(10,"router-outlet"),e.k0s(),e.j41(11,"app-button-bar")(12,"button",5),e.bIt("click",function(){return e.eBV(T),e.Njj(l.saveScope())}),e.j41(13,"span"),e.EFF(14),e.nI1(15,"translate"),e.k0s()(),e.qex(16,6),e.j41(17,"button",7),e.bIt("click",function(){e.eBV(T);const Te=e.sdS(21);return e.Njj(Te.show())}),e.EFF(18),e.nI1(19,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(20,"app-delete-confirmation-modal",8,0),e.bIt("delete",function(){return e.eBV(T),e.Njj(l.deleteScope(l.scope.name))}),e.nrm(22,"app-can-deactivate"),e.k0s()}2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(26,Dg,e.l_i(23,$f,e.bMT(1,15,"Nav.Scopes"),e.bMT(2,17,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"),e.R7$(4),e.Y8G("disabled",l.saveDisabled),e.R7$(2),e.JRh(e.bMT(15,19,"Common.SaveAll")),e.R7$(4),e.JRh(e.bMT(19,21,"Common.Delete.Title")),e.R7$(2),e.Y8G("resourceName",l.scope.displayName))},dependencies:[St.n3,Vo.w,nn.z,_o.z,fa.E,an.G,wn.v,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const t_=s=>[s],n_=s=>({"tw-p-6 tw-border-2 tw-border-grey-300 tw-flex tw-items-center max-md:tw-flex-col":s});function i_(s,g){if(1&s&&(e.j41(0,"option",14),e.EFF(1),e.k0s()),2&s){const n=g.$implicit;e.Y8G("value",n.name),e.R7$(),e.JRh(n.displayName)}}function r_(s,g){if(1&s&&(e.j41(0,"select",11)(1,"option",12),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,i_,2,2,"option",13),e.k0s()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.DefaultLanguage")),e.R7$(2),e.Y8G("ngForOf",n.languages)}}function s_(s,g){if(1&s&&(e.j41(0,"form",2)(1,"app-form-row",3),e.nrm(2,"app-readonly",4),e.nI1(3,"readOnlyValue"),e.k0s(),e.j41(4,"div",5)(5,"div",6)(6,"app-form-row",3),e.nrm(7,"input",7),e.k0s(),e.j41(8,"app-form-row",8),e.nrm(9,"textarea",9),e.k0s()(),e.DNE(10,r_,5,4,"select",10),e.k0s()()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Single)("values",e.eq3(17,t_,e.bMT(3,15,n.scope.name))),e.R7$(2),e.Y8G("ngClass",e.eq3(19,n_,n.languages.length>0)),e.R7$(2),e.Y8G("id","DisplayName")("label","Scopes.DisplayName.Label")("help","Scopes.DisplayName.Help"),e.R7$(2),e.Y8G("id","Description")("label","Scopes.Description.Label")("help","Scopes.Description.Help")("isLast",!0),e.R7$(2),e.Y8G("ngIf",n.languages.length>0)}}let o_=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.configService=T,this.languages=[],this.currentLanguage=""}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.languages=n.supportedLanguages??[]},error:n=>{this.errorService.handleError(n)}}),this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,this.buildDetailsForm(),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}buildDetailsForm(){this.formGroup=this.fb.group({name:[this.scope.name,[p.k0.required]],displayName:[this.scope.displayName,[p.k0.required]],description:[this.scope.description,[]],language:["",[]]})}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{if(this.currentLanguage!=n.language)return this.currentLanguage=n.language,void(""===this.currentLanguage?(this.formGroup.get("displayName").setValue(this.scope.displayName,{emitEvent:!1}),this.formGroup.get("description").setValue(this.scope.description,{emitEvent:!1})):(this.formGroup.get("displayName").setValue(this.scope.displayNames[this.currentLanguage],{emitEvent:!1}),this.formGroup.get("description").setValue(this.scope.descriptions[this.currentLanguage],{emitEvent:!1})));let a={...this.scope};a.name=this.formGroup.get("name").value,""===this.currentLanguage?(a.displayName=this.formGroup.get("displayName").value,a.description=this.formGroup.get("description").value):(a.displayNames[this.currentLanguage]=this.formGroup.get("displayName").value,a.descriptions[this.currentLanguage]=this.formGroup.get("description").value),this.scopeCacheService.componentDirtyValidMap.set("EditScopeDetailsComponent",this.formGroup.valid),this.scopeCacheService.unsavedCache.next(a)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-details"]],decls:2,vars:1,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","label","help"],[3,"fieldType","values"],[1,"",3,"ngClass"],[1,"tw-grow"],["type","text","name","DisplayName","id","DisplayName","formControlName","displayName","required","",1,"tw-form-control"],[3,"id","label","help","isLast"],["type","text","name","Description","id","Description","formControlName","description",1,"tw-form-control"],["id","languageSelector","class","tw-form-select tw-w-40 tw-ml-8 tw-pl-2 max-md:tw-mt-8","formControlName","language",4,"ngIf"],["id","languageSelector","formControlName","language",1,"tw-form-select","tw-w-40","tw-ml-8","tw-pl-2","max-md:tw-mt-8"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,s_,11,21,"form",1),e.k0s()),2&a&&(e.R7$(),e.Y8G("ngIf",l.scope))},dependencies:[vn.YU,vn.Sq,vn.bT,p.qT,p.xH,p.y7,p.me,p.wz,p.BC,p.cb,p.YS,p.j4,p.JD,ts.O,ue.Y,Ri.u,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function a_(s,g){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"slice"),e.k0s()),2&s){const n=g.item;e.R7$(),e.JRh(n.length>20?e.brH(2,1,n,0,20)+"...":n)}}function l_(s,g){1&s&&(e.j41(0,"div",11)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"Scopes.NoResourcesMessage")," "))}function c_(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr")(1,"td",18)(2,"span"),e.EFF(3),e.k0s()(),e.j41(4,"td")(5,"button",19),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(3);return e.Njj(T.removeResource(l))}),e.nrm(6,"span",20),e.j41(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit;e.R7$(3),e.JRh(n),e.R7$(5),e.JRh(e.bMT(9,2,"Common.Delete.Title"))}}function u_(s,g){if(1&s&&(e.j41(0,"table",12)(1,"thead",13)(2,"th",14)(3,"span",15),e.EFF(4),e.nI1(5,"translate"),e.k0s()(),e.j41(6,"th",16)(7,"span",15),e.EFF(8),e.nI1(9,"translate"),e.k0s()()(),e.j41(10,"tbody"),e.DNE(11,c_,10,4,"tr",17),e.k0s()()),2&s){const n=e.XpG(2);e.R7$(4),e.JRh(e.bMT(5,3,"Common.Resource")),e.R7$(4),e.JRh(e.bMT(9,5,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",n.currentResources())}}function JE(s,g){if(1&s){const n=e.RV6();e.j41(0,"form",3)(1,"app-form-row",4)(2,"app-row-bar",5),e.nrm(3,"input",6),e.nI1(4,"translate"),e.j41(5,"button",7),e.bIt("click",function(){e.eBV(n);const l=e.XpG();return e.Njj(l.addResource())}),e.EFF(6),e.nI1(7,"translate"),e.k0s()()(),e.j41(8,"div",8),e.DNE(9,l_,4,3,"div",9)(10,u_,12,7,"table",10),e.k0s()()}if(2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("id","NewResources")("hasLabel",!1)("isLast",!0),e.R7$(2),e.FS9("placeholder",e.bMT(4,9,"Scopes.Resources.Placeholder")),e.R7$(3),e.SpI(" ",e.bMT(7,11,"Common.Add")," "),e.R7$(2),e.Y8G("id","Resources"),e.R7$(),e.Y8G("ngIf",n.currentResources().length<=0),e.R7$(),e.Y8G("ngIf",n.currentResources().length>0)}}let QE=(()=>{class s{constructor(n,a,l,T,q){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=T,this.toastr=q}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,this.formGroup=this.fb.group({newResource:["",[p.k0.required,ar()]],resources:[this.scope.resources,[]]}),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}subscribeToValueChanges(){this.formSubscription=this.formGroup.controls.resources.valueChanges.subscribe({next:n=>{let a={...this.scope};this.scopeCacheService.componentDirtyValidMap.set("DynamicAuthEditScopesComponent",this.formGroup.valid),a.resources=this.formGroup.controls.resources.value,this.scopeCacheService.unsavedCache.next(a)}})}currentResources(){return this.formGroup.controls.resources.value}addResource(){if(this.formGroup.get("newResource").invalid)return;const n=this.formGroup.get("newResource").value,a=this.formGroup.controls.resources.value;""!==a?a.indexOf(" ")>=0?this.toastr.error(this.translate.instant("Scopes.Resources.CannotHaveSpaces")):a.includes(n)?this.toastr.error(this.translate.instant("Scopes.Resources.AlreadyAdded")):this.formGroup.setValue({newResource:"",resources:[...a,n]}):this.toastr.error(this.translate.instant("Scopes.Resources.MustSpecifyResource"))}removeResource(n){this.formGroup.controls.resources.setValue(this.formGroup.controls.resources.value.filter(l=>l!==n))}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Cn.c$),e.rXU(Zn.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-resources-details"]],decls:4,vars:1,consts:[["customItemTemplate",""],["id","editIdPDetails",1,"tw-container","tw-mx-auto"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],[3,"id","hasLabel","isLast"],[1,"tw-form-typeahead"],["id","new-scope-input","formControlName","newResource","type","text","name","New Resource","autocomplete","off","left","",1,"tw-form-control",3,"placeholder"],["id","addScopeButton","right","",1,"tw-btn-success",3,"click"],[1,"tw-mt-6",3,"id"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,""],[1,"tw-w-full"],[1,"sr-only"],[1,"tw-w-1"],[4,"ngFor","ngForOf"],[1,"tw-table-cell","tw-max-w-0","tw-truncate"],["value","Delete",1,"tw-btn-link","tw-btn-small","tw-text-red-500",3,"click"],["aria-hidden","true",1,"fas","fa-times"]],template:function(a,l){1&a&&(e.DNE(0,a_,3,5,"ng-template",null,0,e.C5r),e.j41(2,"div",1),e.DNE(3,JE,11,13,"form",2),e.k0s()),2&a&&(e.R7$(3),e.Y8G("ngIf",l.scope))},dependencies:[vn.Sq,vn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,ue.Y,hc.f,vn.P9,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();class d_{}const ZE=["ClaimsPicker"];let h_=(()=>{class s{constructor(n,a,l){this.errorService=n,this.scopeCacheService=a,this.claimTypeService=l,this.originalClaims=[],this.convertedOriginalClaims=[],this.availableClaims=[],this.assignedClaims=[]}ngOnInit(){this.claimTypeService.getClaimTypes().pipe((0,Gn.$)()).subscribe(n=>{this.originalClaims=n,this.convertedOriginalClaims=this.convertOriginalClaimTypesToPickerClaimTypes(this.originalClaims),this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:a=>{this.scope=a,this.assignedClaims=this.convertStoredClaimsToPickerClaims(this.scope.claims),this.availableClaims=(0,Ci.Yt)(this.convertedOriginalClaims,this.assignedClaims)},error:a=>{this.errorService.handleError(a)}})})}ngAfterViewInit(){this.claimsPicker.assignedStream.subscribe(n=>{this.assignedClaims=this.assignedClaims.concat(n),this.availableClaims=(0,Ci.Yt)(this.originalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)}),this.claimsPicker.unAssignedStream.subscribe(n=>{this.assignedClaims=(0,Ci.Yt)(this.assignedClaims,n),this.availableClaims=(0,Ci.Yt)(this.originalClaims,this.assignedClaims);let a=this.getAssignedClaimNames();this.scopeCacheService.componentDirtyValidMap.set("EditScopeClaimsComponent",!0);let l={...this.scope};l.claims=a,this.scopeCacheService.unsavedCache.next(l)})}getAssignedClaimNames(){let n=[];return this.assignedClaims.forEach(a=>{const l=this.originalClaims.find(T=>T.displayName===a.name);n.push(l?l.name:a.name)}),n}convertStoredClaimsToPickerClaims(n){let a=[];return n.map(l=>{let T=new d_;const q=this.originalClaims.find(Te=>Te.name===l);T.name=q?q.displayName:l,a.push(T)}),a}convertOriginalClaimTypesToPickerClaimTypes(n){let a=[];return n.map(l=>{let T=new d_;T.name=l.displayName?l.displayName:l.name,a.push(T)}),a}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(ee.I),e.rXU(Ji),e.rXU(We.X))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-claims"]],viewQuery:function(a,l){if(1&a&&e.GBs(ZE,7),2&a){let T;e.mGM(T=e.lsd())&&(l.claimsPicker=T.first)}},decls:6,vars:6,consts:[["ClaimsPicker",""],[1,"cms"],[3,"assignedInput","availableInput","availableSearch"]],template:function(a,l){1&a&&(e.j41(0,"div",1)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.nrm(4,"app-common-picker",2,0)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,4,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("assignedInput",l.assignedClaims)("availableInput",l.availableClaims)("availableSearch",!0))},dependencies:[Sh.f,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var qE=h(7185);const eT=["addButton"],tT=["updateButton"],nT=["deleteButton"];function iT(s,g){1&s&&(e.j41(0,"div",18),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function rT(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",26)(1,"td",27),e.EFF(2),e.k0s(),e.j41(3,"td",28),e.EFF(4),e.k0s(),e.j41(5,"td",29)(6,"button",30),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.openEditModal(l.key))}),e.nrm(7,"span",31),e.j41(8,"span",23),e.EFF(9),e.nI1(10,"translate"),e.k0s()(),e.j41(11,"button",32),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.openDeleteModal(l.key))}),e.nrm(12,"span",33),e.j41(13,"span",23),e.EFF(14),e.nI1(15,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit;e.R7$(2),e.SpI(" ",n.key," "),e.R7$(2),e.SpI(" ",n.value," "),e.R7$(5),e.JRh(e.bMT(10,4,"Common.Edit")),e.R7$(5),e.JRh(e.bMT(15,6,"Common.Remove.Title"))}}function sT(s,g){if(1&s&&(e.j41(0,"table",19)(1,"thead")(2,"tr")(3,"th",20),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",21),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",22)(10,"span",23),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",24),e.DNE(14,rT,16,8,"tr",25),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,n.scope.properties))}}let oT=(()=>{class s{constructor(n,a,l,T,q,Te){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=T,this.toastr=q,this.modalService=Te,this.deleteModalType=qE.q.Warning,this.addModalActions=[Uu.N.Save],this.addPropertyModalId="addPropertyModal",this.updateModalActions=[Uu.N.Save],this.updatePropertyModalId="updatePropertyModal",this.deleteModalActions=[Uu.N.Delete],this.deleteModalId="deletePropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,null==this.scope.properties&&(this.scope.properties={})},error:n=>{this.errorService.handleError(n)}}),this.formProperty=this.fb.group({key:["",[p.k0.required]],value:["",[]]})}updatePropertiesInCache(){this.scopeCacheService.componentDirtyValidMap.set("EditScopePropertiesComponent",!0),this.scopeCacheService.unsavedCache.next(this.scope)}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openAddModal(){this.modalService.showById(this.addPropertyModalId,this.addButtonRef)}closeAddModal(){this.modalService.hideById(this.addPropertyModalId),this.formProperty.reset()}newKeyIsInvalid(){return null!=this.scope.properties[this.formProperty.controls.key.value]||null==this.formProperty.controls.key.value||""==this.formProperty.controls.key.value||this.formProperty.invalid}addProperty(){this.newKeyIsInvalid()||(this.scope.properties[this.formProperty.controls.key.value]=this.formProperty.controls.value.value,this.updatePropertiesInCache(),this.formProperty.reset())}openEditModal(n){this.formProperty.controls.key.setValue(n),this.formProperty.controls.value.setValue(this.scope.properties[n]),this.modalService.showById(this.updatePropertyModalId,this.updateButtonRef)}closeEditModal(){this.modalService.hideById(this.updatePropertyModalId),this.formProperty.reset()}openDeleteModal(n){this.deleteTarget=n,this.modalService.showById(this.deleteModalId,this.deleteButtonRef)}closeDeleteModal(){this.modalService.hideById(this.deleteModalId),this.deleteTarget=null}removeProperty(){delete this.scope.properties[this.deleteTarget],this.updatePropertiesInCache(),this.closeDeleteModal()}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(eh.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-scope-properties"]],viewQuery:function(a,l){if(1&a&&(e.GBs(eT,5),e.GBs(tT,5),e.GBs(nT,5)),2&a){let T;e.mGM(T=e.lsd())&&(l.addButtonRef=T.first),e.mGM(T=e.lsd())&&(l.updateButtonRef=T.first),e.mGM(T=e.lsd())&&(l.deleteButtonRef=T.first)}},decls:29,vars:38,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["right",""],["id","addProperty","type","button","placement","right",1,"tw-btn-success",3,"click"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","onSave","title","modalId","actions","addDisabled"],[3,"formGroup"],[3,"label","id"],["id","addPropertyKey","type","text","id","key","formControlName","key",1,"tw-form-control","tw-max-w-full"],[3,"label","id","isLast"],["id","addPropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onSave","title","modalId","actions","saveText","addDisabled"],["id","updatePropertyValue","type","text","id","value","formControlName","value",1,"tw-form-control","tw-max-w-full"],[3,"onCancel","onDelete","title","modalId","actions","modalType"],[1,"tw-text-center"],[1,"tw-mb-4"],[1,"tw-font-bold"],[1,"tw-pill-danger",3,"innerHTML"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fad","fa-pencil"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["id","deleteIcon","aria-hidden","true",1,"fad","fa-times"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"app-action-bar"),e.qex(2,1),e.j41(3,"button",2),e.bIt("click",function(){return l.openAddModal()}),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.bVm(),e.k0s(),e.DNE(6,iT,3,3,"div",3)(7,sT,16,12,"table",4),e.k0s(),e.j41(8,"app-custom-modal",5),e.bIt("onCancel",function(){return l.closeAddModal()})("onSave",function(){return l.addProperty()}),e.j41(9,"form",6)(10,"app-form-row",7),e.nrm(11,"input",8),e.k0s(),e.j41(12,"app-form-row",9),e.nrm(13,"input",10),e.k0s()()(),e.j41(14,"app-custom-modal",11),e.bIt("onCancel",function(){return l.closeEditModal()})("onSave",function(){return l.addProperty()}),e.j41(15,"form",6)(16,"app-form-row",7),e.EFF(17),e.k0s(),e.j41(18,"app-form-row",9),e.nrm(19,"input",12),e.k0s()()(),e.j41(20,"app-custom-modal",13),e.bIt("onCancel",function(){return l.closeDeleteModal()})("onDelete",function(){return l.removeProperty()}),e.j41(21,"div",14)(22,"p",15),e.EFF(23),e.nI1(24,"translate"),e.j41(25,"span",16),e.EFF(26),e.k0s()(),e.nrm(27,"p",17),e.nI1(28,"translate"),e.k0s()()),2&a&&(e.R7$(4),e.SpI(" ",e.bMT(5,32,"Common.Add")," "),e.R7$(2),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.AddProperty")("modalId",l.addPropertyModalId)("actions",l.addModalActions)("addDisabled",l.newKeyIsInvalid()),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","addPropertyKey"),e.R7$(2),e.Y8G("label","Common.Value")("id","addPropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.UpdateProperty")("modalId",l.updatePropertyModalId)("actions",l.updateModalActions)("saveText","Common.Update")("addDisabled",l.formProperty.controls.key.invalid),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","updatePropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","updatePropertyValue")("isLast",!0),e.R7$(2),e.Y8G("title","Scopes.Properties.DeleteProperty")("modalId",l.deleteModalId)("actions",l.deleteModalActions)("modalType",l.deleteModalType),e.R7$(3),e.SpI("",e.bMT(24,34,"Common.Delete.AreYouSureSimple")," "),e.R7$(3),e.JRh(l.deleteTarget),e.R7$(),e.Y8G("innerHTML",e.bMT(28,36,"Common.Delete.Warning"),e.npT))},dependencies:[vn.Sq,vn.bT,p.qT,p.me,p.BC,p.cb,p.j4,p.JD,Af.G,pl.n,ue.Y,vn.lG,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const aT=(s,g)=>({title:s,link:g}),f_=s=>[s];let p_=(()=>{class s{constructor(n,a,l,T,q,Te,Ze,_t,$t){this.r=n,this.route=a,this.localize=l,this.titleService=T,this.translate=q,this.toastr=Te,this.errorService=Ze,this.scopeService=_t,this.scopeCachService=$t,this.isFirstCall=!0}ngOnInit(){this.scopeSubscription=this.scopeCachService.unsavedCache$.subscribe({next:n=>{this.scope=n;const a=this.translate.instant("Scopes.Title.Generic")+" "+this.scope.displayName+" - "+Ut.$9.SITE_TITLE;this.titleService.setTitle(a),this.checkSubmitEnabled()},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.scopeSubscription.unsubscribe()}checkSubmitEnabled(){const n=[...Array.from(this.scopeCachService.componentDirtyValidMap.values())];this.saveDisabled=0===n.length||n.some(a=>!a)}mobRoute(n){this.r.navigate([n],{relativeTo:this.route})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(St.Ix),e.rXU(St.nX),e.rXU(zn.QG),e.rXU(i.hE),e.rXU(Cn.c$),e.rXU(Zn.tw),e.rXU(ee.I),e.rXU(jc),e.rXU(Ji))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["ng-component"]],decls:11,vars:20,consts:[[3,"title","crumbs","hasTabs"],["tabs",""],[3,"tabTitle","tabValue"],["id","viewScope",1,"tw-container","tw-mx-auto"]],template:function(a,l){1&a&&(e.j41(0,"app-title-bar",0),e.nI1(1,"translate"),e.nI1(2,"localize"),e.qex(3,1),e.j41(4,"app-custom-tabs"),e.nrm(5,"app-custom-tab",2)(6,"app-custom-tab",2)(7,"app-custom-tab",2)(8,"app-custom-tab",2),e.k0s(),e.bVm(),e.k0s(),e.j41(9,"div",3),e.nrm(10,"router-outlet"),e.k0s()),2&a&&(e.Y8G("title",l.scope.displayName)("crumbs",e.eq3(18,f_,e.l_i(15,aT,e.bMT(1,11,"Nav.Scopes"),e.bMT(2,13,"/scopes"))))("hasTabs",!0),e.R7$(5),e.Y8G("tabTitle","Nav.Details")("tabValue","details"),e.R7$(),e.Y8G("tabTitle","Nav.Resources")("tabValue","resources"),e.R7$(),e.Y8G("tabTitle","Nav.Claims")("tabValue","claims"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"))},dependencies:[St.n3,nn.z,an.G,wn.v,Cn.D9,zn.tl],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Gf=s=>[s],m_=s=>({"tw-p-6 tw-border-2 tw-border-grey-300 tw-flex tw-items-center max-md:tw-flex-col":s});function g_(s,g){if(1&s&&(e.j41(0,"option",13),e.EFF(1),e.k0s()),2&s){const n=g.$implicit;e.Y8G("value",n.name),e.R7$(),e.JRh(n.displayName)}}function v_(s,g){if(1&s&&(e.j41(0,"select",10)(1,"option",11),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.DNE(4,g_,2,2,"option",12),e.k0s()),2&s){const n=e.XpG(2);e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.DefaultLanguage")),e.R7$(2),e.Y8G("ngForOf",n.languages)}}function y_(s,g){if(1&s&&(e.j41(0,"form",8),e.DNE(1,v_,5,4,"select",9),e.k0s()),2&s){const n=e.XpG();e.Y8G("formGroup",n.formGroup),e.R7$(),e.Y8G("ngIf",n.languages.length>0)}}let __=(()=>{class s{get ReadOnlyFieldType(){return Wi.t}constructor(n,a,l,T){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.configService=T,this.languages=[],this.selectedDisplayName="",this.selectedDescription=""}ngOnInit(){this.configService.getConfig().subscribe({next:n=>{this.languages=n.supportedLanguages??[],this.formGroup=this.fb.group({language:["",[]]}),this.subscribeToValueChanges()},error:n=>{this.errorService.handleError(n)}}),this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,this.selectedDisplayName=this.scope.displayName,this.selectedDescription=this.scope.description},error:n=>{this.errorService.handleError(n)}})}ngOnDestroy(){this.formSubscription.unsubscribe()}subscribeToValueChanges(){this.formSubscription=this.formGroup.valueChanges.subscribe({next:n=>{""===n.language?(this.selectedDisplayName=this.scope.displayName,this.selectedDescription=this.scope.description):(this.selectedDisplayName=this.scope.displayNames[n.language],this.selectedDescription=this.scope.descriptions[n.language])}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Es.w))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-details"]],decls:14,vars:30,consts:[["id","editScopeDetails",1,"tw-container","tw-mx-auto"],[3,"id","label","help"],[3,"fieldType","values"],[1,"",3,"ngClass"],[1,"tw-grow"],[3,"label","help"],[3,"label","help","isLast"],[3,"formGroup",4,"ngIf"],[3,"formGroup"],["id","languageSelector","class","tw-form-select tw-w-40 tw-ml-8 tw-pl-2 max-md:tw-mt-8","formControlName","language",4,"ngIf"],["id","languageSelector","formControlName","language",1,"tw-form-select","tw-w-40","tw-ml-8","tw-pl-2","max-md:tw-mt-8"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"form")(2,"app-form-row",1),e.nrm(3,"app-readonly",2),e.nI1(4,"readOnlyValue"),e.k0s(),e.j41(5,"div",3)(6,"div",4)(7,"app-form-row",5),e.nrm(8,"app-readonly",2),e.nI1(9,"readOnlyValue"),e.k0s(),e.j41(10,"app-form-row",6),e.nrm(11,"app-readonly",2),e.nI1(12,"readOnlyValue"),e.k0s()(),e.DNE(13,y_,2,2,"form",7),e.k0s()()()),2&a&&(e.R7$(2),e.Y8G("id","Name")("label","Scopes.Name.Label")("help","Scopes.Name.Help"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(22,Gf,e.bMT(4,16,l.scope.name))),e.R7$(2),e.Y8G("ngClass",e.eq3(24,m_,l.languages.length>0)),e.R7$(2),e.Y8G("label","Common.DisplayName")("help","IdentityResources.DisplayNameHelp"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(26,Gf,e.bMT(9,18,l.selectedDisplayName))),e.R7$(2),e.Y8G("label","Common.Description")("help","Resources.DescriptionHelp")("isLast",!0),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(28,Gf,e.bMT(12,20,l.selectedDescription))),e.R7$(2),e.Y8G("ngIf",l.scope))},dependencies:[vn.YU,vn.Sq,vn.bT,p.qT,p.xH,p.y7,p.wz,p.BC,p.cb,p.cV,p.j4,p.JD,ts.O,ue.Y,Ri.u,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function b_(s,g){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG();e.Y8G("label","Scopes.ClaimTypes.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Multi)("values",n.displayClaims)}}let C_=(()=>{class s{constructor(n,a,l,T){this.titleService=n,this.errorService=a,this.scopeCacheService=l,this.translate=T,this.displayClaims=[]}get ReadOnlyFieldType(){return Wi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Ut.$9.SITE_TITLE}`),this.displayClaims=this.scope.claims.sort().map(a=>new Co.w(a))},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(ee.I),e.rXU(Ji),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-claims"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,b_,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.ClaimTypes.Help")),e.R7$(2),e.Y8G("ngIf",l.displayClaims))},dependencies:[vn.bT,ts.O,ue.Y,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function w_(s,g){if(1&s&&(e.j41(0,"app-form-row",2),e.nrm(1,"app-readonly",3),e.k0s()),2&s){const n=e.XpG();e.Y8G("label","Scopes.Resources.Label")("isLast",!0),e.R7$(),e.Y8G("fieldType",n.ReadOnlyFieldType.Multi)("values",n.displayResources)}}let lT=(()=>{class s{constructor(n,a,l,T){this.titleService=n,this.errorService=a,this.scopeCacheService=l,this.translate=T,this.displayResources=[]}get ReadOnlyFieldType(){return Wi.t}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,this.titleService.setTitle(this.translate.instant("IdentityResources.Singular")+" "+this.scope.displayName+" "+this.translate.instant("Nav.Details")+` - ${Ut.$9.SITE_TITLE}`),this.displayResources=this.scope.resources.sort().map(a=>new Co.w(a))},error:n=>{this.errorService.handleError(n)}})}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(i.hE),e.rXU(ee.I),e.rXU(Ji),e.rXU(Cn.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-resources"]],decls:5,vars:4,consts:[[1,"cms"],[3,"label","isLast",4,"ngIf"],[3,"label","isLast"],[3,"fieldType","values"]],template:function(a,l){1&a&&(e.j41(0,"div",0)(1,"p"),e.EFF(2),e.nI1(3,"translate"),e.k0s()(),e.DNE(4,w_,2,4,"app-form-row",1)),2&a&&(e.R7$(2),e.JRh(e.bMT(3,2,"Scopes.Resources.Help")),e.R7$(2),e.Y8G("ngIf",l.displayResources))},dependencies:[vn.bT,ts.O,ue.Y,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const cT=["viewButton"];function Ag(s,g){1&s&&(e.j41(0,"div",7),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Scopes.Properties.EmptyMessage")))}function Hf(s,g){if(1&s){const n=e.RV6();e.j41(0,"tr",15)(1,"td",16),e.EFF(2),e.k0s(),e.j41(3,"td",17),e.EFF(4),e.k0s(),e.j41(5,"td",18)(6,"button",19),e.bIt("click",function(){const l=e.eBV(n).$implicit,T=e.XpG(2);return e.Njj(T.openViewPropertyModal(l.key))}),e.nrm(7,"span",20),e.j41(8,"span",12),e.EFF(9),e.nI1(10,"translate"),e.k0s()()()()}if(2&s){const n=g.$implicit;e.R7$(2),e.SpI(" ",n.key," "),e.R7$(2),e.SpI(" ",n.value," "),e.R7$(5),e.JRh(e.bMT(10,3,"Common.View"))}}function Rg(s,g){if(1&s&&(e.j41(0,"table",8)(1,"thead")(2,"tr")(3,"th",9),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",10),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",11)(10,"span",12),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",13),e.DNE(14,Hf,11,5,"tr",14),e.nI1(15,"keyvalue"),e.k0s()()),2&s){const n=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"Common.Key")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Value")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",e.bMT(15,10,n.scope.properties))}}let S_=(()=>{class s{constructor(n,a,l,T,q){this.fb=n,this.errorService=a,this.scopeCacheService=l,this.translate=T,this.modalService=q,this.viewPropertyModalId="viewPropertyModal"}ngOnInit(){this.scopeCacheService.unsavedCache$.pipe((0,Gn.$)()).subscribe({next:n=>{this.scope=n,null==this.scope.properties&&(this.scope.properties={})},error:n=>{this.errorService.handleError(n)}}),this.formProperty=this.fb.group({key:["",[p.k0.required]],value:["{}",[p.k0.pattern(/^{.*}$/)]]})}propertiesEmpty(){return null==this.scope.properties||0==Object.keys(this.scope.properties).length}openViewPropertyModal(n){this.formProperty.controls.key.setValue(n),this.formProperty.controls.value.setValue(this.scope.properties[n]),this.modalService.showById(this.viewPropertyModalId,this.viewButtonRef)}closeViewPropertyModal(){this.modalService.hideById(this.viewPropertyModalId),this.formProperty.reset(),this.formProperty.controls.value.setValue("{}")}static{this.\u0275fac=function(a){return new(a||s)(e.rXU(p.ze),e.rXU(ee.I),e.rXU(Ji),e.rXU(Cn.c$),e.rXU(eh.B))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["view-scope-properties"]],viewQuery:function(a,l){if(1&a&&e.GBs(cT,5),2&a){let T;e.mGM(T=e.lsd())&&(l.viewButtonRef=T.first)}},decls:9,vars:12,consts:[["id","scopesList",1,"tw-container","tw-mx-auto"],["class","tw-italic",4,"ngIf"],["class","datatable hover",4,"ngIf"],[3,"onCancel","title","modalId"],[3,"formGroup"],[3,"label","id"],[3,"label","id","isLast"],[1,"tw-italic"],[1,"datatable","hover"],[1,"tw-hidden","tw-w-1/4","md:tw-table-cell"],[1,"tw-hidden","lg:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","propertiesTable"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],[1,"tw-hidden","tw-max-w-0","tw-truncate","lg:tw-table-cell"],[1,"tw-flex","tw-items-center"],["type","button",1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500","tw-mr-4",3,"click"],["id","editIcon","aria-hidden","true",1,"fas","fa-eye"]],template:function(a,l){1&a&&(e.j41(0,"div",0),e.DNE(1,Ag,3,3,"div",1)(2,Rg,16,12,"table",2),e.k0s(),e.j41(3,"app-custom-modal",3),e.bIt("onCancel",function(){return l.closeViewPropertyModal()}),e.j41(4,"form",4)(5,"app-form-row",5),e.EFF(6),e.k0s(),e.j41(7,"app-form-row",6),e.EFF(8),e.k0s()()()),2&a&&(e.R7$(),e.Y8G("ngIf",l.propertiesEmpty()),e.R7$(),e.Y8G("ngIf",!l.propertiesEmpty()),e.R7$(),e.Y8G("title","Scopes.Properties.ViewProperty")("modalId",l.viewPropertyModalId),e.R7$(),e.Y8G("formGroup",l.formProperty),e.R7$(),e.Y8G("label","Common.Key")("id","viewPropertyKey"),e.R7$(),e.SpI(" ",l.formProperty.controls.key.value," "),e.R7$(),e.Y8G("label","Common.Value")("id","viewPropertyKey")("isLast",!0),e.R7$(),e.SpI(" ",l.formProperty.controls.value.value," "))},dependencies:[vn.Sq,vn.bT,p.qT,p.cb,p.j4,Af.G,ue.Y,vn.lG,Cn.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();const Mg=[{path:"scopes",component:ap,canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}},{path:"scopes/:Id",component:e_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:o_},{path:"resources",component:QE},{path:"claims",component:h_},{path:"properties",component:oT}],resolve:{scope:uh},canDeactivate:[Nn.M],canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.All]]}},{path:"scopes/view/:Id",component:p_,children:[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:__},{path:"resources",component:lT},{path:"claims",component:C_},{path:"properties",component:S_}],resolve:{scope:uh},canActivate:[pn.h,qn._],data:{permissions:[en.a[en.a.IdentityServerManager],en.a[en.a.IdentityServerManagerReadOnly],en.a[en.a.AllReadOnly],en.a[en.a.All]]}}];let E_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[St.iI.forChild(Mg),zn.XE.forChild(Mg),St.iI]})}}return s})();class T_{constructor(){this.subject=new bl.m(1),this.scopes=[{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c28",name:"private_scope",displayName:"Private Scope",description:"Scope for internal applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!0},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c33",name:"public_scope",displayName:"Public Scope",description:"Scope for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1},{id:"d27a40e4-6d70-42ee-b895-dfc8f7538c44",name:"public_scope2",displayName:"Public Scope 2",description:"Scope 2 for applications",resources:["resource1","resource2"],claims:["claim1","claim2"],properties:{Test1:"Test1",Test2:"Test2"},reserved:!1}],this.pagedResult={currentPage:1,pageCount:1,pageSize:25,totalCount:3,results:this.scopes},this.subject.next(this.scopes[0])}get(g,n,a){return(0,Wo.of)(this.pagedResult)}getScope(g){return(0,Wo.of)(this.scopes[1])}createScope(g){return"null"===g?(0,Jm.$)("broken"):(0,Wo.of)("success")}updateScope(g){return(0,Wo.of)("success")}deleteScope(g){return(0,Wo.of)("success")}}let I_=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[jc,T_,uh,We.X],imports:[vn.MD,St.iI,E_,p.YN,Os.Y,p.X1,Et.jr,Cn.h,Xl.N,pc.c,id.t,Re.Ss,wf.qP,Wc.N,Xl.N,Kl.m,Yl.c,zl.i,va.w,Ba.a,rd.E,$c.p,Zd.W,zn.XE,cp.A,Ef.U]})}}return s})();function D_(s,g,n,a){return new Dp(s,g,n,a,"resources/locales.json?cb="+Lr)}function A_(s){return new bf(s,"./resources/",".json?cb="+Lr)}let xg=(()=>{class s{static{this.\u0275fac=function(a){return new(a||s)}}static{this.\u0275mod=e.$C({type:s,bootstrap:[qy]})}static{this.\u0275inj=e.G2t({providers:[tS.F,nu.n,Cs.D,$r.i,pn.h,qn._,rh.q,hd.a,Gu.g,ls.P,ed.m,We.X,Ut.Vk,fd.M,qu.v,Gb.R,If,zn.QG,ki.M,Yo,Cn.c$,Jl.X,Es.w,N0.B,ee.I,mc.D,oc.x,qd,{provide:ga.x,useClass:ga.P},{provide:w.a7,useClass:Dv,multi:!0},{provide:w.a7,useClass:eS,multi:!0}],imports:[nb,RE,vn.MD,p.YN,p.X1,Yn,w.q1,Os.Y,Ip,SE,wg.StarterModeModule,rb,$c.p,Gc.P,Cn.h.forRoot({loader:{provide:Cn.Wr,useFactory:A_,deps:[w.Qq]}}),zn.XE.forRoot(lp,{parser:{provide:zn.xq,useFactory:D_,deps:[Cn.c$,vn.aZ,zn.wY,w.Qq]}}),xt.Q_.forRoot(),Et.jr.forRoot(),Re.Ss.forRoot(),Je.h6.forRoot(),Zn._B.forRoot(),Dh.M,_f,Yl.c,cd.h,Xl.N,va.w,yh.Y,AE,I_,zn.XE]})}}return s})();(0,e.SmG)(),i.sG().bootstrapModule(xg)},3981:(nt,fe)=>{"use strict";fe.byteLength=function m(b){var M=C(b),N=M[1];return 3*(M[0]+N)/4-N},fe.toByteArray=function f(b){var M,$,k=C(b),N=k[0],G=k[1],R=new e(function d(b,M,k){return 3*(M+k)/4-k}(0,N,G)),j=0,U=G>0?N-4:N;for($=0;$<U;$+=4)M=i[b.charCodeAt($)]<<18|i[b.charCodeAt($+1)]<<12|i[b.charCodeAt($+2)]<<6|i[b.charCodeAt($+3)],R[j++]=M>>16&255,R[j++]=M>>8&255,R[j++]=255&M;return 2===G&&(M=i[b.charCodeAt($)]<<2|i[b.charCodeAt($+1)]>>4,R[j++]=255&M),1===G&&(M=i[b.charCodeAt($)]<<10|i[b.charCodeAt($+1)]<<4|i[b.charCodeAt($+2)]>>2,R[j++]=M>>8&255,R[j++]=255&M),R},fe.fromByteArray=function P(b){for(var M,k=b.length,N=k%3,G=[],R=16383,j=0,U=k-N;j<U;j+=R)G.push(O(b,j,j+R>U?U:j+R));return 1===N?G.push(h[(M=b[k-1])>>2]+h[M<<4&63]+"=="):2===N&&G.push(h[(M=(b[k-2]<<8)+b[k-1])>>10]+h[M>>4&63]+h[M<<2&63]+"="),G.join("")};for(var h=[],i=[],e=typeof Uint8Array<"u"?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0;p<64;++p)h[p]=y[p],i[y.charCodeAt(p)]=p;function C(b){var M=b.length;if(M%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=b.indexOf("=");return-1===k&&(k=M),[k,k===M?0:4-k%4]}function I(b){return h[b>>18&63]+h[b>>12&63]+h[b>>6&63]+h[63&b]}function O(b,M,k){for(var G=[],R=M;R<k;R+=3)G.push(I((b[R]<<16&16711680)+(b[R+1]<<8&65280)+(255&b[R+2])));return G.join("")}i[45]=62,i[95]=63},3838:(nt,fe,h)=>{"use strict";const e=h(3981),y=h(2020),p="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;fe.hp=d,fe.IS=50;const w=2147483647;function m(ce){if(ce>w)throw new RangeError('The value "'+ce+'" is invalid for option "size"');const X=new Uint8Array(ce);return Object.setPrototypeOf(X,d.prototype),X}function d(ce,X,oe){if("number"==typeof ce){if("string"==typeof X)throw new TypeError('The "string" argument must be of type string. Received type number');return P(ce)}return f(ce,X,oe)}function f(ce,X,oe){if("string"==typeof ce)return function b(ce,X){if(("string"!=typeof X||""===X)&&(X="utf8"),!d.isEncoding(X))throw new TypeError("Unknown encoding: "+X);const oe=0|U(ce,X);let Ve=m(oe);const tt=Ve.write(ce,X);return tt!==oe&&(Ve=Ve.slice(0,tt)),Ve}(ce,X);if(ArrayBuffer.isView(ce))return function k(ce){if(Kt(ce,Uint8Array)){const X=new Uint8Array(ce);return N(X.buffer,X.byteOffset,X.byteLength)}return M(ce)}(ce);if(null==ce)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce);if(Kt(ce,ArrayBuffer)||ce&&Kt(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Kt(ce,SharedArrayBuffer)||ce&&Kt(ce.buffer,SharedArrayBuffer)))return N(ce,X,oe);if("number"==typeof ce)throw new TypeError('The "value" argument must not be of type number. Received type number');const Ve=ce.valueOf&&ce.valueOf();if(null!=Ve&&Ve!==ce)return d.from(Ve,X,oe);const tt=function G(ce){if(d.isBuffer(ce)){const X=0|R(ce.length),oe=m(X);return 0===oe.length||ce.copy(oe,0,0,X),oe}return void 0!==ce.length?"number"!=typeof ce.length||on(ce.length)?m(0):M(ce):"Buffer"===ce.type&&Array.isArray(ce.data)?M(ce.data):void 0}(ce);if(tt)return tt;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof ce[Symbol.toPrimitive])return d.from(ce[Symbol.toPrimitive]("string"),X,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof ce)}function I(ce){if("number"!=typeof ce)throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function P(ce){return I(ce),m(ce<0?0:0|R(ce))}function M(ce){const X=ce.length<0?0:0|R(ce.length),oe=m(X);for(let Ve=0;Ve<X;Ve+=1)oe[Ve]=255&ce[Ve];return oe}function N(ce,X,oe){if(X<0||ce.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<X+(oe||0))throw new RangeError('"length" is outside of buffer bounds');let Ve;return Ve=void 0===X&&void 0===oe?new Uint8Array(ce):void 0===oe?new Uint8Array(ce,X):new Uint8Array(ce,X,oe),Object.setPrototypeOf(Ve,d.prototype),Ve}function R(ce){if(ce>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|ce}function U(ce,X){if(d.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Kt(ce,ArrayBuffer))return ce.byteLength;if("string"!=typeof ce)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof ce);const oe=ce.length,Ve=arguments.length>2&&!0===arguments[2];if(!Ve&&0===oe)return 0;let tt=!1;for(;;)switch(X){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return Be(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return mt(ce).length;default:if(tt)return Ve?-1:Be(ce).length;X=(""+X).toLowerCase(),tt=!0}}function $(ce,X,oe){let Ve=!1;if((void 0===X||X<0)&&(X=0),X>this.length||((void 0===oe||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=(X>>>=0))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return be(this,X,oe);case"utf8":case"utf-8":return Ne(this,X,oe);case"ascii":return Qe(this,X,oe);case"latin1":case"binary":return Ee(this,X,oe);case"base64":return me(this,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return le(this,X,oe);default:if(Ve)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Ve=!0}}function ne(ce,X,oe){const Ve=ce[X];ce[X]=ce[oe],ce[oe]=Ve}function se(ce,X,oe,Ve,tt){if(0===ce.length)return-1;if("string"==typeof oe?(Ve=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),on(oe=+oe)&&(oe=tt?0:ce.length-1),oe<0&&(oe=ce.length+oe),oe>=ce.length){if(tt)return-1;oe=ce.length-1}else if(oe<0){if(!tt)return-1;oe=0}if("string"==typeof X&&(X=d.from(X,Ve)),d.isBuffer(X))return 0===X.length?-1:L(ce,X,oe,Ve,tt);if("number"==typeof X)return X&=255,"function"==typeof Uint8Array.prototype.indexOf?tt?Uint8Array.prototype.indexOf.call(ce,X,oe):Uint8Array.prototype.lastIndexOf.call(ce,X,oe):L(ce,[X],oe,Ve,tt);throw new TypeError("val must be string, number or Buffer")}function L(ce,X,oe,Ve,tt){let Mn,gt=1,Bt=ce.length,cn=X.length;if(void 0!==Ve&&("ucs2"===(Ve=String(Ve).toLowerCase())||"ucs-2"===Ve||"utf16le"===Ve||"utf-16le"===Ve)){if(ce.length<2||X.length<2)return-1;gt=2,Bt/=2,cn/=2,oe/=2}function hn(kn,Bn){return 1===gt?kn[Bn]:kn.readUInt16BE(Bn*gt)}if(tt){let kn=-1;for(Mn=oe;Mn<Bt;Mn++)if(hn(ce,Mn)===hn(X,-1===kn?0:Mn-kn)){if(-1===kn&&(kn=Mn),Mn-kn+1===cn)return kn*gt}else-1!==kn&&(Mn-=Mn-kn),kn=-1}else for(oe+cn>Bt&&(oe=Bt-cn),Mn=oe;Mn>=0;Mn--){let kn=!0;for(let Bn=0;Bn<cn;Bn++)if(hn(ce,Mn+Bn)!==hn(X,Bn)){kn=!1;break}if(kn)return Mn}return-1}function J(ce,X,oe,Ve){oe=Number(oe)||0;const tt=ce.length-oe;Ve?(Ve=Number(Ve))>tt&&(Ve=tt):Ve=tt;const gt=X.length;let Bt;for(Ve>gt/2&&(Ve=gt/2),Bt=0;Bt<Ve;++Bt){const cn=parseInt(X.substr(2*Bt,2),16);if(on(cn))return Bt;ce[oe+Bt]=cn}return Bt}function te(ce,X,oe,Ve){return it(Be(X,ce.length-oe),ce,oe,Ve)}function E(ce,X,oe,Ve){return it(function ot(ce){const X=[];for(let oe=0;oe<ce.length;++oe)X.push(255&ce.charCodeAt(oe));return X}(X),ce,oe,Ve)}function re(ce,X,oe,Ve){return it(mt(X),ce,oe,Ve)}function K(ce,X,oe,Ve){return it(function Ft(ce,X){let oe,Ve,tt;const gt=[];for(let Bt=0;Bt<ce.length&&!((X-=2)<0);++Bt)oe=ce.charCodeAt(Bt),Ve=oe>>8,tt=oe%256,gt.push(tt),gt.push(Ve);return gt}(X,ce.length-oe),ce,oe,Ve)}function me(ce,X,oe){return e.fromByteArray(0===X&&oe===ce.length?ce:ce.slice(X,oe))}function Ne(ce,X,oe){oe=Math.min(ce.length,oe);const Ve=[];let tt=X;for(;tt<oe;){const gt=ce[tt];let Bt=null,cn=gt>239?4:gt>223?3:gt>191?2:1;if(tt+cn<=oe){let hn,Mn,kn,Bn;switch(cn){case 1:gt<128&&(Bt=gt);break;case 2:hn=ce[tt+1],128==(192&hn)&&(Bn=(31&gt)<<6|63&hn,Bn>127&&(Bt=Bn));break;case 3:hn=ce[tt+1],Mn=ce[tt+2],128==(192&hn)&&128==(192&Mn)&&(Bn=(15&gt)<<12|(63&hn)<<6|63&Mn,Bn>2047&&(Bn<55296||Bn>57343)&&(Bt=Bn));break;case 4:hn=ce[tt+1],Mn=ce[tt+2],kn=ce[tt+3],128==(192&hn)&&128==(192&Mn)&&128==(192&kn)&&(Bn=(15&gt)<<18|(63&hn)<<12|(63&Mn)<<6|63&kn,Bn>65535&&Bn<1114112&&(Bt=Bn))}}null===Bt?(Bt=65533,cn=1):Bt>65535&&(Bt-=65536,Ve.push(Bt>>>10&1023|55296),Bt=56320|1023&Bt),Ve.push(Bt),tt+=cn}return function xe(ce){const X=ce.length;if(X<=Ae)return String.fromCharCode.apply(String,ce);let oe="",Ve=0;for(;Ve<X;)oe+=String.fromCharCode.apply(String,ce.slice(Ve,Ve+=Ae));return oe}(Ve)}!(d.TYPED_ARRAY_SUPPORT=function C(){try{const ce=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(ce,X),42===ce.foo()}catch{return!1}}())&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(ce,X,oe){return f(ce,X,oe)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(ce,X,oe){return function O(ce,X,oe){return I(ce),ce<=0?m(ce):void 0!==X?"string"==typeof oe?m(ce).fill(X,oe):m(ce).fill(X):m(ce)}(ce,X,oe)},d.allocUnsafe=function(ce){return P(ce)},d.allocUnsafeSlow=function(ce){return P(ce)},d.isBuffer=function(X){return null!=X&&!0===X._isBuffer&&X!==d.prototype},d.compare=function(X,oe){if(Kt(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),Kt(oe,Uint8Array)&&(oe=d.from(oe,oe.offset,oe.byteLength)),!d.isBuffer(X)||!d.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(X===oe)return 0;let Ve=X.length,tt=oe.length;for(let gt=0,Bt=Math.min(Ve,tt);gt<Bt;++gt)if(X[gt]!==oe[gt]){Ve=X[gt],tt=oe[gt];break}return Ve<tt?-1:tt<Ve?1:0},d.isEncoding=function(X){switch(String(X).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(X,oe){if(!Array.isArray(X))throw new TypeError('"list" argument must be an Array of Buffers');if(0===X.length)return d.alloc(0);let Ve;if(void 0===oe)for(oe=0,Ve=0;Ve<X.length;++Ve)oe+=X[Ve].length;const tt=d.allocUnsafe(oe);let gt=0;for(Ve=0;Ve<X.length;++Ve){let Bt=X[Ve];if(Kt(Bt,Uint8Array))gt+Bt.length>tt.length?(d.isBuffer(Bt)||(Bt=d.from(Bt)),Bt.copy(tt,gt)):Uint8Array.prototype.set.call(tt,Bt,gt);else{if(!d.isBuffer(Bt))throw new TypeError('"list" argument must be an Array of Buffers');Bt.copy(tt,gt)}gt+=Bt.length}return tt},d.byteLength=U,d.prototype._isBuffer=!0,d.prototype.swap16=function(){const X=this.length;if(X%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let oe=0;oe<X;oe+=2)ne(this,oe,oe+1);return this},d.prototype.swap32=function(){const X=this.length;if(X%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let oe=0;oe<X;oe+=4)ne(this,oe,oe+3),ne(this,oe+1,oe+2);return this},d.prototype.swap64=function(){const X=this.length;if(X%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let oe=0;oe<X;oe+=8)ne(this,oe,oe+7),ne(this,oe+1,oe+6),ne(this,oe+2,oe+5),ne(this,oe+3,oe+4);return this},d.prototype.toLocaleString=d.prototype.toString=function(){const X=this.length;return 0===X?"":0===arguments.length?Ne(this,0,X):$.apply(this,arguments)},d.prototype.equals=function(X){if(!d.isBuffer(X))throw new TypeError("Argument must be a Buffer");return this===X||0===d.compare(this,X)},d.prototype.inspect=function(){let X="";const oe=fe.IS;return X=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(X+=" ... "),"<Buffer "+X+">"},p&&(d.prototype[p]=d.prototype.inspect),d.prototype.compare=function(X,oe,Ve,tt,gt){if(Kt(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),!d.isBuffer(X))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof X);if(void 0===oe&&(oe=0),void 0===Ve&&(Ve=X?X.length:0),void 0===tt&&(tt=0),void 0===gt&&(gt=this.length),oe<0||Ve>X.length||tt<0||gt>this.length)throw new RangeError("out of range index");if(tt>=gt&&oe>=Ve)return 0;if(tt>=gt)return-1;if(oe>=Ve)return 1;if(this===X)return 0;let Bt=(gt>>>=0)-(tt>>>=0),cn=(Ve>>>=0)-(oe>>>=0);const hn=Math.min(Bt,cn),Mn=this.slice(tt,gt),kn=X.slice(oe,Ve);for(let Bn=0;Bn<hn;++Bn)if(Mn[Bn]!==kn[Bn]){Bt=Mn[Bn],cn=kn[Bn];break}return Bt<cn?-1:cn<Bt?1:0},d.prototype.includes=function(X,oe,Ve){return-1!==this.indexOf(X,oe,Ve)},d.prototype.indexOf=function(X,oe,Ve){return se(this,X,oe,Ve,!0)},d.prototype.lastIndexOf=function(X,oe,Ve){return se(this,X,oe,Ve,!1)},d.prototype.write=function(X,oe,Ve,tt){if(void 0===oe)tt="utf8",Ve=this.length,oe=0;else if(void 0===Ve&&"string"==typeof oe)tt=oe,Ve=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(Ve)?(Ve>>>=0,void 0===tt&&(tt="utf8")):(tt=Ve,Ve=void 0)}const gt=this.length-oe;if((void 0===Ve||Ve>gt)&&(Ve=gt),X.length>0&&(Ve<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");tt||(tt="utf8");let Bt=!1;for(;;)switch(tt){case"hex":return J(this,X,oe,Ve);case"utf8":case"utf-8":return te(this,X,oe,Ve);case"ascii":case"latin1":case"binary":return E(this,X,oe,Ve);case"base64":return re(this,X,oe,Ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,X,oe,Ve);default:if(Bt)throw new TypeError("Unknown encoding: "+tt);tt=(""+tt).toLowerCase(),Bt=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const Ae=4096;function Qe(ce,X,oe){let Ve="";oe=Math.min(ce.length,oe);for(let tt=X;tt<oe;++tt)Ve+=String.fromCharCode(127&ce[tt]);return Ve}function Ee(ce,X,oe){let Ve="";oe=Math.min(ce.length,oe);for(let tt=X;tt<oe;++tt)Ve+=String.fromCharCode(ce[tt]);return Ve}function be(ce,X,oe){const Ve=ce.length;(!X||X<0)&&(X=0),(!oe||oe<0||oe>Ve)&&(oe=Ve);let tt="";for(let gt=X;gt<oe;++gt)tt+=Pt[ce[gt]];return tt}function le(ce,X,oe){const Ve=ce.slice(X,oe);let tt="";for(let gt=0;gt<Ve.length-1;gt+=2)tt+=String.fromCharCode(Ve[gt]+256*Ve[gt+1]);return tt}function Pe(ce,X,oe){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+X>oe)throw new RangeError("Trying to access beyond buffer length")}function Ie(ce,X,oe,Ve,tt,gt){if(!d.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>tt||X<gt)throw new RangeError('"value" argument is out of bounds');if(oe+Ve>ce.length)throw new RangeError("Index out of range")}function st(ce,X,oe,Ve,tt){Y(X,Ve,tt,ce,oe,7);let gt=Number(X&BigInt(4294967295));ce[oe++]=gt,gt>>=8,ce[oe++]=gt,gt>>=8,ce[oe++]=gt,gt>>=8,ce[oe++]=gt;let Bt=Number(X>>BigInt(32)&BigInt(4294967295));return ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,Bt>>=8,ce[oe++]=Bt,oe}function Oe(ce,X,oe,Ve,tt){Y(X,Ve,tt,ce,oe,7);let gt=Number(X&BigInt(4294967295));ce[oe+7]=gt,gt>>=8,ce[oe+6]=gt,gt>>=8,ce[oe+5]=gt,gt>>=8,ce[oe+4]=gt;let Bt=Number(X>>BigInt(32)&BigInt(4294967295));return ce[oe+3]=Bt,Bt>>=8,ce[oe+2]=Bt,Bt>>=8,ce[oe+1]=Bt,Bt>>=8,ce[oe]=Bt,oe+8}function pt(ce,X,oe,Ve,tt,gt){if(oe+Ve>ce.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function Ye(ce,X,oe,Ve,tt){return X=+X,oe>>>=0,tt||pt(ce,0,oe,4),y.write(ce,X,oe,Ve,23,4),oe+4}function qt(ce,X,oe,Ve,tt){return X=+X,oe>>>=0,tt||pt(ce,0,oe,8),y.write(ce,X,oe,Ve,52,8),oe+8}d.prototype.slice=function(X,oe){const Ve=this.length;(X=~~X)<0?(X+=Ve)<0&&(X=0):X>Ve&&(X=Ve),(oe=void 0===oe?Ve:~~oe)<0?(oe+=Ve)<0&&(oe=0):oe>Ve&&(oe=Ve),oe<X&&(oe=X);const tt=this.subarray(X,oe);return Object.setPrototypeOf(tt,d.prototype),tt},d.prototype.readUintLE=d.prototype.readUIntLE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Pe(X,oe,this.length);let tt=this[X],gt=1,Bt=0;for(;++Bt<oe&&(gt*=256);)tt+=this[X+Bt]*gt;return tt},d.prototype.readUintBE=d.prototype.readUIntBE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Pe(X,oe,this.length);let tt=this[X+--oe],gt=1;for(;oe>0&&(gt*=256);)tt+=this[X+--oe]*gt;return tt},d.prototype.readUint8=d.prototype.readUInt8=function(X,oe){return X>>>=0,oe||Pe(X,1,this.length),this[X]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(X,oe){return X>>>=0,oe||Pe(X,2,this.length),this[X]|this[X+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(X,oe){return X>>>=0,oe||Pe(X,2,this.length),this[X]<<8|this[X+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),(this[X]|this[X+1]<<8|this[X+2]<<16)+16777216*this[X+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),16777216*this[X]+(this[X+1]<<16|this[X+2]<<8|this[X+3])},d.prototype.readBigUInt64LE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=oe+256*this[++X]+65536*this[++X]+this[++X]*2**24,gt=this[++X]+256*this[++X]+65536*this[++X]+Ve*2**24;return BigInt(tt)+(BigInt(gt)<<BigInt(32))}),d.prototype.readBigUInt64BE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=oe*2**24+65536*this[++X]+256*this[++X]+this[++X],gt=this[++X]*2**24+65536*this[++X]+256*this[++X]+Ve;return(BigInt(tt)<<BigInt(32))+BigInt(gt)}),d.prototype.readIntLE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Pe(X,oe,this.length);let tt=this[X],gt=1,Bt=0;for(;++Bt<oe&&(gt*=256);)tt+=this[X+Bt]*gt;return gt*=128,tt>=gt&&(tt-=Math.pow(2,8*oe)),tt},d.prototype.readIntBE=function(X,oe,Ve){X>>>=0,oe>>>=0,Ve||Pe(X,oe,this.length);let tt=oe,gt=1,Bt=this[X+--tt];for(;tt>0&&(gt*=256);)Bt+=this[X+--tt]*gt;return gt*=128,Bt>=gt&&(Bt-=Math.pow(2,8*oe)),Bt},d.prototype.readInt8=function(X,oe){return X>>>=0,oe||Pe(X,1,this.length),128&this[X]?-1*(255-this[X]+1):this[X]},d.prototype.readInt16LE=function(X,oe){X>>>=0,oe||Pe(X,2,this.length);const Ve=this[X]|this[X+1]<<8;return 32768&Ve?4294901760|Ve:Ve},d.prototype.readInt16BE=function(X,oe){X>>>=0,oe||Pe(X,2,this.length);const Ve=this[X+1]|this[X]<<8;return 32768&Ve?4294901760|Ve:Ve},d.prototype.readInt32LE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),this[X]|this[X+1]<<8|this[X+2]<<16|this[X+3]<<24},d.prototype.readInt32BE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),this[X]<<24|this[X+1]<<16|this[X+2]<<8|this[X+3]},d.prototype.readBigInt64LE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];return(void 0===oe||void 0===Ve)&&Ce(X,this.length-8),(BigInt(this[X+4]+256*this[X+5]+65536*this[X+6]+(Ve<<24))<<BigInt(32))+BigInt(oe+256*this[++X]+65536*this[++X]+this[++X]*2**24)}),d.prototype.readBigInt64BE=Jt(function(X){Z(X>>>=0,"offset");const oe=this[X],Ve=this[X+7];(void 0===oe||void 0===Ve)&&Ce(X,this.length-8);const tt=(oe<<24)+65536*this[++X]+256*this[++X]+this[++X];return(BigInt(tt)<<BigInt(32))+BigInt(this[++X]*2**24+65536*this[++X]+256*this[++X]+Ve)}),d.prototype.readFloatLE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),y.read(this,X,!0,23,4)},d.prototype.readFloatBE=function(X,oe){return X>>>=0,oe||Pe(X,4,this.length),y.read(this,X,!1,23,4)},d.prototype.readDoubleLE=function(X,oe){return X>>>=0,oe||Pe(X,8,this.length),y.read(this,X,!0,52,8)},d.prototype.readDoubleBE=function(X,oe){return X>>>=0,oe||Pe(X,8,this.length),y.read(this,X,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(X,oe,Ve,tt){X=+X,oe>>>=0,Ve>>>=0,tt||Ie(this,X,oe,Ve,Math.pow(2,8*Ve)-1,0);let gt=1,Bt=0;for(this[oe]=255&X;++Bt<Ve&&(gt*=256);)this[oe+Bt]=X/gt&255;return oe+Ve},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(X,oe,Ve,tt){X=+X,oe>>>=0,Ve>>>=0,tt||Ie(this,X,oe,Ve,Math.pow(2,8*Ve)-1,0);let gt=Ve-1,Bt=1;for(this[oe+gt]=255&X;--gt>=0&&(Bt*=256);)this[oe+gt]=X/Bt&255;return oe+Ve},d.prototype.writeUint8=d.prototype.writeUInt8=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,1,255,0),this[oe]=255&X,oe+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,2,65535,0),this[oe]=255&X,this[oe+1]=X>>>8,oe+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,2,65535,0),this[oe]=X>>>8,this[oe+1]=255&X,oe+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,4,4294967295,0),this[oe+3]=X>>>24,this[oe+2]=X>>>16,this[oe+1]=X>>>8,this[oe]=255&X,oe+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,4,4294967295,0),this[oe]=X>>>24,this[oe+1]=X>>>16,this[oe+2]=X>>>8,this[oe+3]=255&X,oe+4},d.prototype.writeBigUInt64LE=Jt(function(X,oe=0){return st(this,X,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Jt(function(X,oe=0){return Oe(this,X,oe,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(X,oe,Ve,tt){if(X=+X,oe>>>=0,!tt){const hn=Math.pow(2,8*Ve-1);Ie(this,X,oe,Ve,hn-1,-hn)}let gt=0,Bt=1,cn=0;for(this[oe]=255&X;++gt<Ve&&(Bt*=256);)X<0&&0===cn&&0!==this[oe+gt-1]&&(cn=1),this[oe+gt]=(X/Bt|0)-cn&255;return oe+Ve},d.prototype.writeIntBE=function(X,oe,Ve,tt){if(X=+X,oe>>>=0,!tt){const hn=Math.pow(2,8*Ve-1);Ie(this,X,oe,Ve,hn-1,-hn)}let gt=Ve-1,Bt=1,cn=0;for(this[oe+gt]=255&X;--gt>=0&&(Bt*=256);)X<0&&0===cn&&0!==this[oe+gt+1]&&(cn=1),this[oe+gt]=(X/Bt|0)-cn&255;return oe+Ve},d.prototype.writeInt8=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,1,127,-128),X<0&&(X=255+X+1),this[oe]=255&X,oe+1},d.prototype.writeInt16LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,2,32767,-32768),this[oe]=255&X,this[oe+1]=X>>>8,oe+2},d.prototype.writeInt16BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,2,32767,-32768),this[oe]=X>>>8,this[oe+1]=255&X,oe+2},d.prototype.writeInt32LE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,4,2147483647,-2147483648),this[oe]=255&X,this[oe+1]=X>>>8,this[oe+2]=X>>>16,this[oe+3]=X>>>24,oe+4},d.prototype.writeInt32BE=function(X,oe,Ve){return X=+X,oe>>>=0,Ve||Ie(this,X,oe,4,2147483647,-2147483648),X<0&&(X=4294967295+X+1),this[oe]=X>>>24,this[oe+1]=X>>>16,this[oe+2]=X>>>8,this[oe+3]=255&X,oe+4},d.prototype.writeBigInt64LE=Jt(function(X,oe=0){return st(this,X,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Jt(function(X,oe=0){return Oe(this,X,oe,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeFloatLE=function(X,oe,Ve){return Ye(this,X,oe,!0,Ve)},d.prototype.writeFloatBE=function(X,oe,Ve){return Ye(this,X,oe,!1,Ve)},d.prototype.writeDoubleLE=function(X,oe,Ve){return qt(this,X,oe,!0,Ve)},d.prototype.writeDoubleBE=function(X,oe,Ve){return qt(this,X,oe,!1,Ve)},d.prototype.copy=function(X,oe,Ve,tt){if(!d.isBuffer(X))throw new TypeError("argument should be a Buffer");if(Ve||(Ve=0),!tt&&0!==tt&&(tt=this.length),oe>=X.length&&(oe=X.length),oe||(oe=0),tt>0&&tt<Ve&&(tt=Ve),tt===Ve||0===X.length||0===this.length)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(Ve<0||Ve>=this.length)throw new RangeError("Index out of range");if(tt<0)throw new RangeError("sourceEnd out of bounds");tt>this.length&&(tt=this.length),X.length-oe<tt-Ve&&(tt=X.length-oe+Ve);const gt=tt-Ve;return this===X&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(oe,Ve,tt):Uint8Array.prototype.set.call(X,this.subarray(Ve,tt),oe),gt},d.prototype.fill=function(X,oe,Ve,tt){if("string"==typeof X){if("string"==typeof oe?(tt=oe,oe=0,Ve=this.length):"string"==typeof Ve&&(tt=Ve,Ve=this.length),void 0!==tt&&"string"!=typeof tt)throw new TypeError("encoding must be a string");if("string"==typeof tt&&!d.isEncoding(tt))throw new TypeError("Unknown encoding: "+tt);if(1===X.length){const Bt=X.charCodeAt(0);("utf8"===tt&&Bt<128||"latin1"===tt)&&(X=Bt)}}else"number"==typeof X?X&=255:"boolean"==typeof X&&(X=Number(X));if(oe<0||this.length<oe||this.length<Ve)throw new RangeError("Out of range index");if(Ve<=oe)return this;let gt;if(oe>>>=0,Ve=void 0===Ve?this.length:Ve>>>0,X||(X=0),"number"==typeof X)for(gt=oe;gt<Ve;++gt)this[gt]=X;else{const Bt=d.isBuffer(X)?X:d.from(X,tt),cn=Bt.length;if(0===cn)throw new TypeError('The value "'+X+'" is invalid for argument "value"');for(gt=0;gt<Ve-oe;++gt)this[gt+oe]=Bt[gt%cn]}return this};const jt={};function Dt(ce,X,oe){jt[ce]=class extends oe{constructor(){super(),Object.defineProperty(this,"message",{value:X.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${ce}]`,delete this.name}get code(){return ce}set code(tt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:tt,writable:!0})}toString(){return`${this.name} [${ce}]: ${this.message}`}}}function wt(ce){let X="",oe=ce.length;const Ve="-"===ce[0]?1:0;for(;oe>=Ve+4;oe-=3)X=`_${ce.slice(oe-3,oe)}${X}`;return`${ce.slice(0,oe)}${X}`}function Y(ce,X,oe,Ve,tt,gt){if(ce>oe||ce<X){const Bt="bigint"==typeof X?"n":"";let cn;throw cn=gt>3?0===X||X===BigInt(0)?`>= 0${Bt} and < 2${Bt} ** ${8*(gt+1)}${Bt}`:`>= -(2${Bt} ** ${8*(gt+1)-1}${Bt}) and < 2 ** ${8*(gt+1)-1}${Bt}`:`>= ${X}${Bt} and <= ${oe}${Bt}`,new jt.ERR_OUT_OF_RANGE("value",cn,ce)}!function z(ce,X,oe){Z(X,"offset"),(void 0===ce[X]||void 0===ce[X+oe])&&Ce(X,ce.length-(oe+1))}(Ve,tt,gt)}function Z(ce,X){if("number"!=typeof ce)throw new jt.ERR_INVALID_ARG_TYPE(X,"number",ce)}function Ce(ce,X,oe){throw Math.floor(ce)!==ce?(Z(ce,oe),new jt.ERR_OUT_OF_RANGE(oe||"offset","an integer",ce)):X<0?new jt.ERR_BUFFER_OUT_OF_BOUNDS:new jt.ERR_OUT_OF_RANGE(oe||"offset",`>= ${oe?1:0} and <= ${X}`,ce)}Dt("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?`${ce} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Dt("ERR_INVALID_ARG_TYPE",function(ce,X){return`The "${ce}" argument must be of type number. Received type ${typeof X}`},TypeError),Dt("ERR_OUT_OF_RANGE",function(ce,X,oe){let Ve=`The value of "${ce}" is out of range.`,tt=oe;return Number.isInteger(oe)&&Math.abs(oe)>2**32?tt=wt(String(oe)):"bigint"==typeof oe&&(tt=String(oe),(oe>BigInt(2)**BigInt(32)||oe<-(BigInt(2)**BigInt(32)))&&(tt=wt(tt)),tt+="n"),Ve+=` It must be ${X}. Received ${tt}`,Ve},RangeError);const we=/[^+/0-9A-Za-z-_]/g;function Be(ce,X){let oe;X=X||1/0;const Ve=ce.length;let tt=null;const gt=[];for(let Bt=0;Bt<Ve;++Bt){if(oe=ce.charCodeAt(Bt),oe>55295&&oe<57344){if(!tt){if(oe>56319){(X-=3)>-1&&gt.push(239,191,189);continue}if(Bt+1===Ve){(X-=3)>-1&&gt.push(239,191,189);continue}tt=oe;continue}if(oe<56320){(X-=3)>-1&&gt.push(239,191,189),tt=oe;continue}oe=65536+(tt-55296<<10|oe-56320)}else tt&&(X-=3)>-1&&gt.push(239,191,189);if(tt=null,oe<128){if((X-=1)<0)break;gt.push(oe)}else if(oe<2048){if((X-=2)<0)break;gt.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((X-=3)<0)break;gt.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;gt.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return gt}function mt(ce){return e.toByteArray(function at(ce){if((ce=(ce=ce.split("=")[0]).trim().replace(we,"")).length<2)return"";for(;ce.length%4!=0;)ce+="=";return ce}(ce))}function it(ce,X,oe,Ve){let tt;for(tt=0;tt<Ve&&!(tt+oe>=X.length||tt>=ce.length);++tt)X[tt+oe]=ce[tt];return tt}function Kt(ce,X){return ce instanceof X||null!=ce&&null!=ce.constructor&&null!=ce.constructor.name&&ce.constructor.name===X.name}function on(ce){return ce!=ce}const Pt=function(){const ce="0123456789abcdef",X=new Array(256);for(let oe=0;oe<16;++oe){const Ve=16*oe;for(let tt=0;tt<16;++tt)X[Ve+tt]=ce[oe]+ce[tt]}return X}();function Jt(ce){return typeof BigInt>"u"?je:ce}function je(){throw new Error("BigInt not supported")}},2020:(nt,fe)=>{fe.read=function(h,i,e,y,p){var w,C,m=8*p-y-1,d=(1<<m)-1,f=d>>1,I=-7,O=e?p-1:0,P=e?-1:1,b=h[i+O];for(O+=P,w=b&(1<<-I)-1,b>>=-I,I+=m;I>0;w=256*w+h[i+O],O+=P,I-=8);for(C=w&(1<<-I)-1,w>>=-I,I+=y;I>0;C=256*C+h[i+O],O+=P,I-=8);if(0===w)w=1-f;else{if(w===d)return C?NaN:1/0*(b?-1:1);C+=Math.pow(2,y),w-=f}return(b?-1:1)*C*Math.pow(2,w-y)},fe.write=function(h,i,e,y,p,w){var C,m,d,f=8*w-p-1,I=(1<<f)-1,O=I>>1,P=23===p?Math.pow(2,-24)-Math.pow(2,-77):0,b=y?0:w-1,M=y?1:-1,k=i<0||0===i&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(m=isNaN(i)?1:0,C=I):(C=Math.floor(Math.log(i)/Math.LN2),i*(d=Math.pow(2,-C))<1&&(C--,d*=2),(i+=C+O>=1?P/d:P*Math.pow(2,1-O))*d>=2&&(C++,d/=2),C+O>=I?(m=0,C=I):C+O>=1?(m=(i*d-1)*Math.pow(2,p),C+=O):(m=i*Math.pow(2,O-1)*Math.pow(2,p),C=0));p>=8;h[e+b]=255&m,b+=M,m/=256,p-=8);for(C=C<<p|m,f+=p;f>0;h[e+b]=255&C,b+=M,C/=256,f-=8);h[e+b-M]|=128*k}},57:(nt,fe,h)=>{var i=h(6589);function e(M,k){i.cipher.registerAlgorithm(M,function(){return new i.aes.Algorithm(M,k)})}h(5855),h(8580),h(812),nt.exports=i.aes=i.aes||{},i.aes.startEncrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!1,mode:G});return R.start(k),R},i.aes.createEncryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!1,mode:k})},i.aes.startDecrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!0,mode:G});return R.start(k),R},i.aes.createDecryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!0,mode:k})},i.aes.Algorithm=function(M,k){y||I();var N=this;N.name=M,N.mode=new k({blockSize:16,cipher:{encrypt:function(G,R){return P(N._w,G,R,!1)},decrypt:function(G,R){return P(N._w,G,R,!0)}}}),N._init=!1},i.aes.Algorithm.prototype.initialize=function(M){if(!this._init){var N,k=M.key;if("string"!=typeof k||16!==k.length&&24!==k.length&&32!==k.length){if(i.util.isArray(k)&&(16===k.length||24===k.length||32===k.length)){N=k,k=i.util.createBuffer();for(var G=0;G<N.length;++G)k.putByte(N[G])}}else k=i.util.createBuffer(k);if(!i.util.isArray(k)){N=k,k=[];var R=N.length();if(16===R||24===R||32===R)for(R>>>=2,G=0;G<R;++G)k.push(N.getInt32())}if(!i.util.isArray(k)||4!==k.length&&6!==k.length&&8!==k.length)throw new Error("Invalid key parameter.");var U=-1!==["CFB","OFB","CTR","GCM"].indexOf(this.mode.name);this._w=O(k,M.decrypt&&!U),this._init=!0}},i.aes._expandKey=function(M,k){return y||I(),O(M,k)},i.aes._updateBlock=P,e("AES-ECB",i.cipher.modes.ecb),e("AES-CBC",i.cipher.modes.cbc),e("AES-CFB",i.cipher.modes.cfb),e("AES-OFB",i.cipher.modes.ofb),e("AES-CTR",i.cipher.modes.ctr),e("AES-GCM",i.cipher.modes.gcm);var w,C,m,d,f,y=!1,p=4;function I(){y=!0,m=[0,1,2,4,8,16,32,64,128,27,54];for(var M=new Array(256),k=0;k<128;++k)M[k]=k<<1,M[k+128]=k+128<<1^283;for(w=new Array(256),C=new Array(256),d=new Array(4),f=new Array(4),k=0;k<4;++k)d[k]=new Array(256),f[k]=new Array(256);var R,j,U,$,ne,se,L,N=0,G=0;for(k=0;k<256;++k){w[N]=$=($=G^G<<1^G<<2^G<<3^G<<4)>>8^255&$^99,C[$]=N,se=(ne=M[$])<<24^$<<16^$<<8^$^ne,L=((R=M[N])^(j=M[R])^(U=M[j]))<<24^(N^U)<<16^(N^j^U)<<8^N^R^U;for(var J=0;J<4;++J)d[J][N]=se,f[J][$]=L,se=se<<24|se>>>8,L=L<<24|L>>>8;0===N?N=G=1:(N=R^M[M[M[R^U]]],G^=M[M[G]])}}function O(M,k){for(var G,N=M.slice(0),R=1,j=N.length,$=p*(j+6+1),ne=j;ne<$;++ne)G=N[ne-1],ne%j==0?(G=w[G>>>16&255]<<24^w[G>>>8&255]<<16^w[255&G]<<8^w[G>>>24]^m[R]<<24,R++):j>6&&ne%j==4&&(G=w[G>>>24]<<24^w[G>>>16&255]<<16^w[G>>>8&255]<<8^w[255&G]),N[ne]=N[ne-j]^G;if(k){for(var se,L=f[0],J=f[1],te=f[2],E=f[3],re=N.slice(0),K=(ne=0,($=N.length)-p);ne<$;ne+=p,K-=p)if(0===ne||ne===$-p)re[ne]=N[K],re[ne+1]=N[K+3],re[ne+2]=N[K+2],re[ne+3]=N[K+1];else for(var me=0;me<p;++me)re[ne+(3&-me)]=L[w[(se=N[K+me])>>>24]]^J[w[se>>>16&255]]^te[w[se>>>8&255]]^E[w[255&se]];N=re}return N}function P(M,k,N,G){var j,U,$,ne,se,L,J,te,E,re,K,me,R=M.length/4-1;G?(j=f[0],U=f[1],$=f[2],ne=f[3],se=C):(j=d[0],U=d[1],$=d[2],ne=d[3],se=w),L=k[0]^M[0],J=k[G?3:1]^M[1],te=k[2]^M[2],E=k[G?1:3]^M[3];for(var Ne=3,Ae=1;Ae<R;++Ae)re=j[L>>>24]^U[J>>>16&255]^$[te>>>8&255]^ne[255&E]^M[++Ne],K=j[J>>>24]^U[te>>>16&255]^$[E>>>8&255]^ne[255&L]^M[++Ne],me=j[te>>>24]^U[E>>>16&255]^$[L>>>8&255]^ne[255&J]^M[++Ne],E=j[E>>>24]^U[L>>>16&255]^$[J>>>8&255]^ne[255&te]^M[++Ne],L=re,J=K,te=me;N[0]=se[L>>>24]<<24^se[J>>>16&255]<<16^se[te>>>8&255]<<8^se[255&E]^M[++Ne],N[G?3:1]=se[J>>>24]<<24^se[te>>>16&255]<<16^se[E>>>8&255]<<8^se[255&L]^M[++Ne],N[2]=se[te>>>24]<<24^se[E>>>16&255]<<16^se[L>>>8&255]<<8^se[255&J]^M[++Ne],N[G?1:3]=se[E>>>24]<<24^se[L>>>16&255]<<16^se[J>>>8&255]<<8^se[255&te]^M[++Ne]}function b(M){var G,N="AES-"+((M=M||{}).mode||"CBC").toUpperCase(),R=(G=M.decrypt?i.cipher.createDecipher(N,M.key):i.cipher.createCipher(N,M.key)).start;return G.start=function(j,U){var $=null;U instanceof i.util.ByteBuffer&&($=U,U={}),(U=U||{}).output=$,U.iv=j,R.call(G,U)},G}},3707:(nt,fe,h)=>{var i=h(6589);h(57),h(9807);var e=nt.exports=i.tls;function y(f,I,O){var P=I.entity===i.tls.ConnectionEnd.client;f.read.cipherState={init:!1,cipher:i.cipher.createDecipher("AES-CBC",P?O.keys.server_write_key:O.keys.client_write_key),iv:P?O.keys.server_write_IV:O.keys.client_write_IV},f.write.cipherState={init:!1,cipher:i.cipher.createCipher("AES-CBC",P?O.keys.client_write_key:O.keys.server_write_key),iv:P?O.keys.client_write_IV:O.keys.server_write_IV},f.read.cipherFunction=m,f.write.cipherFunction=p,f.read.macLength=f.write.macLength=O.mac_length,f.read.macFunction=f.write.macFunction=e.hmac_sha1}function p(f,I){var b,O=!1,P=I.macFunction(I.macKey,I.sequenceNumber,f);f.fragment.putBytes(P),I.updateSequenceNumber(),b=f.version.minor===e.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:i.random.getBytesSync(16),I.cipherState.init=!0;var M=I.cipherState.cipher;return M.start({iv:b}),f.version.minor>=e.Versions.TLS_1_1.minor&&M.output.putBytes(b),M.update(f.fragment),M.finish(w)&&(f.fragment=M.output,f.length=f.fragment.length(),O=!0),O}function w(f,I,O){if(!O){var P=f-I.length()%f;I.fillWithByte(P-1,P)}return!0}function C(f,I,O){var P=!0;if(O){for(var b=I.length(),M=I.last(),k=b-1-M;k<b-1;++k)P=P&&I.at(k)==M;P&&I.truncate(M+1)}return P}function m(f,I){var P,O=!1;P=f.version.minor===e.Versions.TLS_1_0.minor?I.cipherState.init?null:I.cipherState.iv:f.fragment.getBytes(16),I.cipherState.init=!0;var b=I.cipherState.cipher;b.start({iv:P}),b.update(f.fragment),O=b.finish(C);var M=I.macLength,k=i.random.getBytesSync(M),N=b.output.length();N>=M?(f.fragment=b.output.getBytes(N-M),k=b.output.getBytes(M)):f.fragment=b.output.getBytes(),f.fragment=i.util.createBuffer(f.fragment),f.length=f.fragment.length();var G=I.macFunction(I.macKey,I.sequenceNumber,f);return I.updateSequenceNumber(),O=function d(f,I,O){var P=i.hmac.create();return P.start("SHA1",f),P.update(I),I=P.digest().getBytes(),P.start(null,null),P.update(O),I===(O=P.digest().getBytes())}(I.macKey,k,G)&&O,O}e.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=16,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:y},e.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(f){f.bulk_cipher_algorithm=e.BulkCipherAlgorithm.aes,f.cipher_type=e.CipherType.block,f.enc_key_length=32,f.block_length=16,f.fixed_iv_length=16,f.record_iv_length=16,f.mac_algorithm=e.MACAlgorithm.hmac_sha1,f.mac_length=20,f.mac_key_length=20},initConnectionState:y}},2758:(nt,fe,h)=>{var i=h(6589);h(7097);var e=i.asn1;fe.privateKeyValidator={name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},fe.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},7097:(nt,fe,h)=>{var i=h(6589);h(812),h(1817);var e=nt.exports=i.asn1=i.asn1||{};function y(m,d,f){if(f>d){var I=new Error("Too few bytes to parse DER.");throw I.available=m.length(),I.remaining=d,I.requested=f,I}}function w(m,d,f,I){var O;y(m,d,2);var P=m.getByte();d--;var b=192&P,M=31&P;O=m.length();var k=function(m,d){var f=m.getByte();if(d--,128!==f){var I;if(128&f){var P=127&f;y(m,d,P),I=m.getInt(P<<3)}else I=f;if(I<0)throw new Error("Negative length: "+I);return I}}(m,d);if(d-=O-m.length(),void 0!==k&&k>d){if(I.strict){var N=new Error("Too few bytes to read ASN.1 value.");throw N.available=m.length(),N.remaining=d,N.requested=k,N}k=d}var G,R,j=!(32&~P);if(j)if(G=[],void 0===k)for(;;){if(y(m,d,2),"\0\0"===m.bytes(2)){m.getBytes(2),d-=2;break}O=m.length(),G.push(w(m,d,f+1,I)),d-=O-m.length()}else for(;k>0;)O=m.length(),G.push(w(m,k,f+1,I)),d-=O-m.length(),k-=O-m.length();if(void 0===G&&b===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&(R=m.bytes(k)),void 0===G&&I.decodeBitStrings&&b===e.Class.UNIVERSAL&&M===e.Type.BITSTRING&&k>1){var U=m.read,$=d,ne=0;if(M===e.Type.BITSTRING&&(y(m,d,1),ne=m.getByte(),d--),0===ne)try{O=m.length();var L=w(m,d,f+1,{strict:!0,decodeBitStrings:!0}),J=O-m.length();d-=J,M==e.Type.BITSTRING&&J++;var te=L.tagClass;J===k&&(te===e.Class.UNIVERSAL||te===e.Class.CONTEXT_SPECIFIC)&&(G=[L])}catch{}void 0===G&&(m.read=U,d=$)}if(void 0===G){if(void 0===k){if(I.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");k=d}if(M===e.Type.BMPSTRING)for(G="";k>0;k-=2)y(m,d,2),G+=String.fromCharCode(m.getInt16()),d-=2;else G=m.getBytes(k),d-=k}return e.create(b,M,j,G,void 0===R?null:{bitStringContents:R})}e.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},e.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},e.create=function(m,d,f,I,O){if(i.util.isArray(I)){for(var P=[],b=0;b<I.length;++b)void 0!==I[b]&&P.push(I[b]);I=P}var M={tagClass:m,type:d,constructed:f,composed:f||i.util.isArray(I),value:I};return O&&"bitStringContents"in O&&(M.bitStringContents=O.bitStringContents,M.original=e.copy(M)),M},e.copy=function(m,d){var f;if(i.util.isArray(m)){f=[];for(var I=0;I<m.length;++I)f.push(e.copy(m[I],d));return f}return"string"==typeof m?m:(f={tagClass:m.tagClass,type:m.type,constructed:m.constructed,composed:m.composed,value:e.copy(m.value,d)},d&&!d.excludeBitStringContents&&(f.bitStringContents=m.bitStringContents),f)},e.equals=function(m,d,f){if(i.util.isArray(m)){if(!i.util.isArray(d)||m.length!==d.length)return!1;for(var I=0;I<m.length;++I)if(!e.equals(m[I],d[I]))return!1;return!0}if(typeof m!=typeof d)return!1;if("string"==typeof m)return m===d;var O=m.tagClass===d.tagClass&&m.type===d.type&&m.constructed===d.constructed&&m.composed===d.composed&&e.equals(m.value,d.value);return f&&f.includeBitStringContents&&(O=O&&m.bitStringContents===d.bitStringContents),O},e.getBerValueLength=function(m){var d=m.getByte();if(128!==d)return 128&d?m.getInt((127&d)<<3):d},e.fromDer=function(m,d){void 0===d&&(d={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),"boolean"==typeof d&&(d={strict:d,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in d||(d.strict=!0),"parseAllBytes"in d||(d.parseAllBytes=!0),"decodeBitStrings"in d||(d.decodeBitStrings=!0),"string"==typeof m&&(m=i.util.createBuffer(m));var f=m.length(),I=w(m,m.length(),0,d);if(d.parseAllBytes&&0!==m.length()){var O=new Error("Unparsed DER bytes remain after ASN.1 parsing.");throw O.byteCount=f,O.remaining=m.length(),O}return I},e.toDer=function(m){var d=i.util.createBuffer(),f=m.tagClass|m.type,I=i.util.createBuffer(),O=!1;if("bitStringContents"in m&&(O=!0,m.original&&(O=e.equals(m,m.original))),O)I.putBytes(m.bitStringContents);else if(m.composed){m.constructed?f|=32:I.putByte(0);for(var P=0;P<m.value.length;++P)void 0!==m.value[P]&&I.putBuffer(e.toDer(m.value[P]))}else if(m.type===e.Type.BMPSTRING)for(P=0;P<m.value.length;++P)I.putInt16(m.value.charCodeAt(P));else!(m.type===e.Type.INTEGER&&m.value.length>1)||(0!==m.value.charCodeAt(0)||128&m.value.charCodeAt(1))&&(255!==m.value.charCodeAt(0)||128&~m.value.charCodeAt(1))?I.putBytes(m.value):I.putBytes(m.value.substr(1));if(d.putByte(f),I.length()<=127)d.putByte(127&I.length());else{var b=I.length(),M="";do{M+=String.fromCharCode(255&b),b>>>=8}while(b>0);for(d.putByte(128|M.length),P=M.length-1;P>=0;--P)d.putByte(M.charCodeAt(P))}return d.putBuffer(I),d},e.oidToDer=function(m){var d=m.split("."),f=i.util.createBuffer();f.putByte(40*parseInt(d[0],10)+parseInt(d[1],10));for(var I,O,P,b,M=2;M<d.length;++M){I=!0,O=[],P=parseInt(d[M],10);do{b=127&P,P>>>=7,I||(b|=128),O.push(b),I=!1}while(P>0);for(var k=O.length-1;k>=0;--k)f.putByte(O[k])}return f},e.derToOid=function(m){var d;"string"==typeof m&&(m=i.util.createBuffer(m));var f=m.getByte();d=Math.floor(f/40)+"."+f%40;for(var I=0;m.length()>0;)I<<=7,128&(f=m.getByte())?I+=127&f:(d+="."+(I+f),I=0);return d},e.utcTimeToDate=function(m){var d=new Date,f=parseInt(m.substr(0,2),10);f=f>=50?1900+f:2e3+f;var I=parseInt(m.substr(2,2),10)-1,O=parseInt(m.substr(4,2),10),P=parseInt(m.substr(6,2),10),b=parseInt(m.substr(8,2),10),M=0;if(m.length>11){var k=m.charAt(10),N=10;"+"!==k&&"-"!==k&&(M=parseInt(m.substr(10,2),10),N+=2)}if(d.setUTCFullYear(f,I,O),d.setUTCHours(P,b,M,0),N&&("+"===(k=m.charAt(N))||"-"===k)){var j=60*parseInt(m.substr(N+1,2),10)+parseInt(m.substr(N+4,2),10);j*=6e4,d.setTime("+"===k?+d-j:+d+j)}return d},e.generalizedTimeToDate=function(m){var d=new Date,f=parseInt(m.substr(0,4),10),I=parseInt(m.substr(4,2),10)-1,O=parseInt(m.substr(6,2),10),P=parseInt(m.substr(8,2),10),b=parseInt(m.substr(10,2),10),M=parseInt(m.substr(12,2),10),k=0,N=0,G=!1;"Z"===m.charAt(m.length-1)&&(G=!0);var R=m.length-5,j=m.charAt(R);return"+"!==j&&"-"!==j||(N=60*parseInt(m.substr(R+1,2),10)+parseInt(m.substr(R+4,2),10),N*=6e4,"+"===j&&(N*=-1),G=!0),"."===m.charAt(14)&&(k=1e3*parseFloat(m.substr(14),10)),G?(d.setUTCFullYear(f,I,O),d.setUTCHours(P,b,M,k),d.setTime(+d+N)):(d.setFullYear(f,I,O),d.setHours(P,b,M,k)),d},e.dateToUtcTime=function(m){if("string"==typeof m)return m;var d="",f=[];f.push((""+m.getUTCFullYear()).substr(2)),f.push(""+(m.getUTCMonth()+1)),f.push(""+m.getUTCDate()),f.push(""+m.getUTCHours()),f.push(""+m.getUTCMinutes()),f.push(""+m.getUTCSeconds());for(var I=0;I<f.length;++I)f[I].length<2&&(d+="0"),d+=f[I];return d+"Z"},e.dateToGeneralizedTime=function(m){if("string"==typeof m)return m;var d="",f=[];f.push(""+m.getUTCFullYear()),f.push(""+(m.getUTCMonth()+1)),f.push(""+m.getUTCDate()),f.push(""+m.getUTCHours()),f.push(""+m.getUTCMinutes()),f.push(""+m.getUTCSeconds());for(var I=0;I<f.length;++I)f[I].length<2&&(d+="0"),d+=f[I];return d+"Z"},e.integerToDer=function(m){var d=i.util.createBuffer();if(m>=-128&&m<128)return d.putSignedInt(m,8);if(m>=-32768&&m<32768)return d.putSignedInt(m,16);if(m>=-8388608&&m<8388608)return d.putSignedInt(m,24);if(m>=-2147483648&&m<2147483648)return d.putSignedInt(m,32);var f=new Error("Integer too large; max is 32-bits.");throw f.integer=m,f},e.derToInteger=function(m){"string"==typeof m&&(m=i.util.createBuffer(m));var d=8*m.length();if(d>32)throw new Error("Integer too large; max is 32-bits.");return m.getSignedInt(d)},e.validate=function(m,d,f,I){var O=!1;if((m.tagClass===d.tagClass||typeof d.tagClass>"u")&&(m.type===d.type||typeof d.type>"u"))if(m.constructed===d.constructed||typeof d.constructed>"u"){if(O=!0,d.value&&i.util.isArray(d.value))for(var P=0,b=0;O&&b<d.value.length;++b)O=d.value[b].optional||!1,m.value[P]&&((O=e.validate(m.value[P],d.value[b],f,I))?++P:d.value[b].optional&&(O=!0)),!O&&I&&I.push("["+d.name+'] Tag class "'+d.tagClass+'", type "'+d.type+'" expected value length "'+d.value.length+'", got "'+m.value.length+'"');if(O&&f&&(d.capture&&(f[d.capture]=m.value),d.captureAsn1&&(f[d.captureAsn1]=m),d.captureBitStringContents&&"bitStringContents"in m&&(f[d.captureBitStringContents]=m.bitStringContents),d.captureBitStringValue&&"bitStringContents"in m))if(m.bitStringContents.length<2)f[d.captureBitStringValue]="";else{if(0!==m.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");f[d.captureBitStringValue]=m.bitStringContents.slice(1)}}else I&&I.push("["+d.name+'] Expected constructed "'+d.constructed+'", got "'+m.constructed+'"');else I&&(m.tagClass!==d.tagClass&&I.push("["+d.name+'] Expected tag class "'+d.tagClass+'", got "'+m.tagClass+'"'),m.type!==d.type&&I.push("["+d.name+'] Expected type "'+d.type+'", got "'+m.type+'"'));return O};var C=/[^\\u0000-\\u00ff]/;e.prettyPrint=function(m,d,f){var I="";f=f||2,(d=d||0)>0&&(I+="\n");for(var O="",P=0;P<d*f;++P)O+=" ";switch(I+=O+"Tag: ",m.tagClass){case e.Class.UNIVERSAL:I+="Universal:";break;case e.Class.APPLICATION:I+="Application:";break;case e.Class.CONTEXT_SPECIFIC:I+="Context-Specific:";break;case e.Class.PRIVATE:I+="Private:"}if(m.tagClass===e.Class.UNIVERSAL)switch(I+=m.type,m.type){case e.Type.NONE:I+=" (None)";break;case e.Type.BOOLEAN:I+=" (Boolean)";break;case e.Type.INTEGER:I+=" (Integer)";break;case e.Type.BITSTRING:I+=" (Bit string)";break;case e.Type.OCTETSTRING:I+=" (Octet string)";break;case e.Type.NULL:I+=" (Null)";break;case e.Type.OID:I+=" (Object Identifier)";break;case e.Type.ODESC:I+=" (Object Descriptor)";break;case e.Type.EXTERNAL:I+=" (External or Instance of)";break;case e.Type.REAL:I+=" (Real)";break;case e.Type.ENUMERATED:I+=" (Enumerated)";break;case e.Type.EMBEDDED:I+=" (Embedded PDV)";break;case e.Type.UTF8:I+=" (UTF8)";break;case e.Type.ROID:I+=" (Relative Object Identifier)";break;case e.Type.SEQUENCE:I+=" (Sequence)";break;case e.Type.SET:I+=" (Set)";break;case e.Type.PRINTABLESTRING:I+=" (Printable String)";break;case e.Type.IA5String:I+=" (IA5String (ASCII))";break;case e.Type.UTCTIME:I+=" (UTC time)";break;case e.Type.GENERALIZEDTIME:I+=" (Generalized time)";break;case e.Type.BMPSTRING:I+=" (BMP String)"}else I+=m.type;if(I+="\n",I+=O+"Constructed: "+m.constructed+"\n",m.composed){var b=0,M="";for(P=0;P<m.value.length;++P)void 0!==m.value[P]&&(b+=1,M+=e.prettyPrint(m.value[P],d+1,f),P+1<m.value.length&&(M+=","));I+=O+"Sub values: "+b+M}else{if(I+=O+"Value: ",m.type===e.Type.OID){var k=e.derToOid(m.value);I+=k,i.pki&&i.pki.oids&&k in i.pki.oids&&(I+=" ("+i.pki.oids[k]+") ")}if(m.type===e.Type.INTEGER)try{I+=e.derToInteger(m.value)}catch{I+="0x"+i.util.bytesToHex(m.value)}else if(m.type===e.Type.BITSTRING){if(I+=m.value.length>1?"0x"+i.util.bytesToHex(m.value.slice(1)):"(none)",m.value.length>0){var N=m.value.charCodeAt(0);1==N?I+=" (1 unused bit shown)":N>1&&(I+=" ("+N+" unused bits shown)")}}else if(m.type===e.Type.OCTETSTRING)C.test(m.value)||(I+="("+m.value+") "),I+="0x"+i.util.bytesToHex(m.value);else if(m.type===e.Type.UTF8)try{I+=i.util.decodeUtf8(m.value)}catch(G){if("URI malformed"!==G.message)throw G;I+="0x"+i.util.bytesToHex(m.value)+" (malformed UTF8)"}else m.type===e.Type.PRINTABLESTRING||m.type===e.Type.IA5String?I+=m.value:C.test(m.value)?I+="0x"+i.util.bytesToHex(m.value):I+=0===m.value.length?"[null]":m.value}return I}},3175:nt=>{var fe={};nt.exports=fe;var h={};fe.encode=function(e,y,p){if("string"!=typeof y)throw new TypeError('"alphabet" must be a string.');if(void 0!==p&&"number"!=typeof p)throw new TypeError('"maxline" must be a number.');var w="";if(e instanceof Uint8Array){var C=0,m=y.length,d=y.charAt(0),f=[0];for(C=0;C<e.length;++C){for(var I=0,O=e[C];I<f.length;++I)f[I]=(O+=f[I]<<8)%m,O=O/m|0;for(;O>0;)f.push(O%m),O=O/m|0}for(C=0;0===e[C]&&C<e.length-1;++C)w+=d;for(C=f.length-1;C>=0;--C)w+=y[f[C]]}else w=function i(e,y){var p=0,w=y.length,C=y.charAt(0),m=[0];for(p=0;p<e.length();++p){for(var d=0,f=e.at(p);d<m.length;++d)m[d]=(f+=m[d]<<8)%w,f=f/w|0;for(;f>0;)m.push(f%w),f=f/w|0}var I="";for(p=0;0===e.at(p)&&p<e.length()-1;++p)I+=C;for(p=m.length-1;p>=0;--p)I+=y[m[p]];return I}(e,y);if(p){var P=new RegExp(".{1,"+p+"}","g");w=w.match(P).join("\r\n")}return w},fe.decode=function(e,y){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof y)throw new TypeError('"alphabet" must be a string.');var p=h[y];if(!p){p=h[y]=[];for(var w=0;w<y.length;++w)p[y.charCodeAt(w)]=w}e=e.replace(/\s/g,"");var C=y.length,m=y.charAt(0),d=[0];for(w=0;w<e.length;w++){var f=p[e.charCodeAt(w)];if(void 0===f)return;for(var I=0,O=f;I<d.length;++I)d[I]=255&(O+=d[I]*C),O>>=8;for(;O>0;)d.push(255&O),O>>=8}for(var P=0;e[P]===m&&P<e.length-1;++P)d.push(0);return typeof Buffer<"u"?Buffer.from(d.reverse()):new Uint8Array(d.reverse())}},5855:(nt,fe,h)=>{var i=h(6589);h(812),nt.exports=i.cipher=i.cipher||{},i.cipher.algorithms=i.cipher.algorithms||{},i.cipher.createCipher=function(y,p){var w=y;if("string"==typeof w&&(w=i.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+y);return new i.cipher.BlockCipher({algorithm:w,key:p,decrypt:!1})},i.cipher.createDecipher=function(y,p){var w=y;if("string"==typeof w&&(w=i.cipher.getAlgorithm(w))&&(w=w()),!w)throw new Error("Unsupported algorithm: "+y);return new i.cipher.BlockCipher({algorithm:w,key:p,decrypt:!0})},i.cipher.registerAlgorithm=function(y,p){y=y.toUpperCase(),i.cipher.algorithms[y]=p},i.cipher.getAlgorithm=function(y){return(y=y.toUpperCase())in i.cipher.algorithms?i.cipher.algorithms[y]:null};var e=i.cipher.BlockCipher=function(y){this.algorithm=y.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=y.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=y.decrypt,this.algorithm.initialize(y)};e.prototype.start=function(y){y=y||{};var p={};for(var w in y)p[w]=y[w];p.decrypt=this._decrypt,this._finish=!1,this._input=i.util.createBuffer(),this.output=y.output||i.util.createBuffer(),this.mode.start(p)},e.prototype.update=function(y){for(y&&this._input.putBuffer(y);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},e.prototype.finish=function(y){y&&("ECB"===this.mode.name||"CBC"===this.mode.name)&&(this.mode.pad=function(w){return y(this.blockSize,w,!1)},this.mode.unpad=function(w){return y(this.blockSize,w,!0)});var p={};return p.decrypt=this._decrypt,p.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,p)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,p))||this.mode.afterFinish&&!this.mode.afterFinish(this.output,p))}},8580:(nt,fe,h)=>{var i=h(6589);h(812),i.cipher=i.cipher||{};var e=nt.exports=i.cipher.modes=i.cipher.modes||{};function y(C,m){if("string"==typeof C&&(C=i.util.createBuffer(C)),i.util.isArray(C)&&C.length>4){var d=C;C=i.util.createBuffer();for(var f=0;f<d.length;++f)C.putByte(d[f])}if(C.length()<m)throw new Error("Invalid IV length; got "+C.length()+" bytes and expected "+m+" bytes.");if(!i.util.isArray(C)){var I=[],O=m/4;for(f=0;f<O;++f)I.push(C.getInt32());C=I}return C}function p(C){C[C.length-1]=C[C.length-1]+1&4294967295}function w(C){return[C/4294967296|0,4294967295&C]}e.ecb=function(C){C=C||{},this.name="ECB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.ecb.prototype.start=function(C){},e.ecb.prototype.encrypt=function(C,m,d){if(C.length()<this.blockSize&&!(d&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f])},e.ecb.prototype.decrypt=function(C,m,d){if(C.length()<this.blockSize&&!(d&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f])},e.ecb.prototype.pad=function(C,m){var d=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(d,d),!0},e.ecb.prototype.unpad=function(C,m){if(m.overflow>0)return!1;var d=C.length(),f=C.at(d-1);return!(f>this.blockSize<<2||(C.truncate(f),0))},e.cbc=function(C){C=C||{},this.name="CBC",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},e.cbc.prototype.start=function(C){if(null===C.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._prev=this._iv.slice(0)}},e.cbc.prototype.encrypt=function(C,m,d){if(C.length()<this.blockSize&&!(d&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=this._prev[f]^C.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._outBlock[f]);this._prev=this._outBlock},e.cbc.prototype.decrypt=function(C,m,d){if(C.length()<this.blockSize&&!(d&&C.length()>0))return!0;for(var f=0;f<this._ints;++f)this._inBlock[f]=C.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),f=0;f<this._ints;++f)m.putInt32(this._prev[f]^this._outBlock[f]);this._prev=this._inBlock.slice(0)},e.cbc.prototype.pad=function(C,m){var d=C.length()===this.blockSize?this.blockSize:this.blockSize-C.length();return C.fillWithByte(d,d),!0},e.cbc.prototype.unpad=function(C,m){if(m.overflow>0)return!1;var d=C.length(),f=C.at(d-1);return!(f>this.blockSize<<2||(C.truncate(f),0))},e.cfb=function(C){C=C||{},this.name="CFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.cfb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.cfb.prototype.encrypt=function(C,m,d){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=C.getInt32()^this._outBlock[I],m.putInt32(this._inBlock[I]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=C.getInt32()^this._outBlock[I],this._partialOutput.putInt32(this._partialBlock[I]);if(O>0)C.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!d)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.cfb.prototype.decrypt=function(C,m,d){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var I=0;I<this._ints;++I)this._inBlock[I]=C.getInt32(),m.putInt32(this._inBlock[I]^this._outBlock[I]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialBlock[I]=C.getInt32(),this._partialOutput.putInt32(this._partialBlock[I]^this._outBlock[I]);if(O>0)C.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._partialBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!d)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb=function(C){C=C||{},this.name="OFB",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ofb.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ofb.prototype.encrypt=function(C,m,d){var f=C.length();if(0===C.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var I=0;I<this._ints;++I)m.putInt32(C.getInt32()^this._outBlock[I]),this._inBlock[I]=this._outBlock[I];else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(C.getInt32()^this._outBlock[I]);if(O>0)C.read-=this.blockSize;else for(I=0;I<this._ints;++I)this._inBlock[I]=this._outBlock[I];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!d)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}},e.ofb.prototype.decrypt=e.ofb.prototype.encrypt,e.ctr=function(C){C=C||{},this.name="CTR",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0},e.ctr.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");this._iv=y(C.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},e.ctr.prototype.encrypt=function(C,m,d){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize)for(var I=0;I<this._ints;++I)m.putInt32(C.getInt32()^this._outBlock[I]);else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(C.getInt32()^this._outBlock[I]);if(O>0&&(C.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!d)return m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}p(this._inBlock)},e.ctr.prototype.decrypt=e.ctr.prototype.encrypt,e.gcm=function(C){C=C||{},this.name="GCM",this.cipher=C.cipher,this.blockSize=C.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=i.util.createBuffer(),this._partialBytes=0,this._R=3774873600},e.gcm.prototype.start=function(C){if(!("iv"in C))throw new Error("Invalid IV parameter.");var d,m=i.util.createBuffer(C.iv);if(this._cipherLength=0,d="additionalData"in C?i.util.createBuffer(C.additionalData):i.util.createBuffer(),this._tagLength="tagLength"in C?C.tagLength:128,this._tag=null,C.decrypt&&(this._tag=i.util.createBuffer(C.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var f=m.length();if(12===f)this._j0=[m.getInt32(),m.getInt32(),m.getInt32(),1];else{for(this._j0=[0,0,0,0];m.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[m.getInt32(),m.getInt32(),m.getInt32(),m.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(w(8*f)))}this._inBlock=this._j0.slice(0),p(this._inBlock),this._partialBytes=0,d=i.util.createBuffer(d),this._aDataLength=w(8*d.length());var I=d.length()%this.blockSize;for(I&&d.fillWithByte(0,this.blockSize-I),this._s=[0,0,0,0];d.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[d.getInt32(),d.getInt32(),d.getInt32(),d.getInt32()])},e.gcm.prototype.encrypt=function(C,m,d){var f=C.length();if(0===f)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&f>=this.blockSize){for(var I=0;I<this._ints;++I)m.putInt32(this._outBlock[I]^=C.getInt32());this._cipherLength+=this.blockSize}else{var O=(this.blockSize-f)%this.blockSize;for(O>0&&(O=this.blockSize-O),this._partialOutput.clear(),I=0;I<this._ints;++I)this._partialOutput.putInt32(C.getInt32()^this._outBlock[I]);if(O<=0||d){if(d){var P=f%this.blockSize;this._cipherLength+=P,this._partialOutput.truncate(this.blockSize-P)}else this._cipherLength+=this.blockSize;for(I=0;I<this._ints;++I)this._outBlock[I]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),O>0&&!d)return C.read-=this.blockSize,m.putBytes(this._partialOutput.getBytes(O-this._partialBytes)),this._partialBytes=O,!0;m.putBytes(this._partialOutput.getBytes(f-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),p(this._inBlock)},e.gcm.prototype.decrypt=function(C,m,d){var f=C.length();if(f<this.blockSize&&!(d&&f>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),p(this._inBlock),this._hashBlock[0]=C.getInt32(),this._hashBlock[1]=C.getInt32(),this._hashBlock[2]=C.getInt32(),this._hashBlock[3]=C.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var I=0;I<this._ints;++I)m.putInt32(this._outBlock[I]^this._hashBlock[I]);this._cipherLength+=f<this.blockSize?f%this.blockSize:this.blockSize},e.gcm.prototype.afterFinish=function(C,m){var d=!0;m.decrypt&&m.overflow&&C.truncate(this.blockSize-m.overflow),this.tag=i.util.createBuffer();var f=this._aDataLength.concat(w(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,f);var I=[];this.cipher.encrypt(this._j0,I);for(var O=0;O<this._ints;++O)this.tag.putInt32(this._s[O]^I[O]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),m.decrypt&&this.tag.bytes()!==this._tag&&(d=!1),d},e.gcm.prototype.multiply=function(C,m){for(var d=[0,0,0,0],f=m.slice(0),I=0;I<128;++I)C[I/32|0]&1<<31-I%32&&(d[0]^=f[0],d[1]^=f[1],d[2]^=f[2],d[3]^=f[3]),this.pow(f,f);return d},e.gcm.prototype.pow=function(C,m){for(var d=1&C[3],f=3;f>0;--f)m[f]=C[f]>>>1|(1&C[f-1])<<31;m[0]=C[0]>>>1,d&&(m[0]^=this._R)},e.gcm.prototype.tableMultiply=function(C){for(var m=[0,0,0,0],d=0;d<32;++d){var O=this._m[d][C[d/8|0]>>>4*(7-d%8)&15];m[0]^=O[0],m[1]^=O[1],m[2]^=O[2],m[3]^=O[3]}return m},e.gcm.prototype.ghash=function(C,m,d){return m[0]^=d[0],m[1]^=d[1],m[2]^=d[2],m[3]^=d[3],this.tableMultiply(m)},e.gcm.prototype.generateHashTable=function(C,m){for(var d=8/m,f=4*d,I=16*d,O=new Array(I),P=0;P<I;++P){var b=[0,0,0,0];b[P/f|0]=1<<m-1<<(f-1-P%f)*m,O[P]=this.generateSubHashTable(this.multiply(b,C),m)}return O},e.gcm.prototype.generateSubHashTable=function(C,m){var d=1<<m,f=d>>>1,I=new Array(d);I[f]=C.slice(0);for(var O=f>>>1;O>0;)this.pow(I[2*O],I[O]=[]),O>>=1;for(O=2;O<f;){for(var P=1;P<O;++P){var b=I[O],M=I[P];I[O+P]=[b[0]^M[0],b[1]^M[1],b[2]^M[2],b[3]^M[3]]}O*=2}for(I[0]=[0,0,0,0],O=f+1;O<d;++O){var k=I[O^f];I[O]=[C[0]^k[0],C[1]^k[1],C[2]^k[2],C[3]^k[3]]}return I}},3674:(nt,fe,h)=>{var i=h(6589);function e(M,k){i.cipher.registerAlgorithm(M,function(){return new i.des.Algorithm(M,k)})}h(5855),h(8580),h(812),nt.exports=i.des=i.des||{},i.des.startEncrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!1,mode:G||(null===k?"ECB":"CBC")});return R.start(k),R},i.des.createEncryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!1,mode:k})},i.des.startDecrypting=function(M,k,N,G){var R=b({key:M,output:N,decrypt:!0,mode:G||(null===k?"ECB":"CBC")});return R.start(k),R},i.des.createDecryptionCipher=function(M,k){return b({key:M,output:null,decrypt:!0,mode:k})},i.des.Algorithm=function(M,k){var N=this;N.name=M,N.mode=new k({blockSize:8,cipher:{encrypt:function(G,R){return P(N._keys,G,R,!1)},decrypt:function(G,R){return P(N._keys,G,R,!0)}}}),N._init=!1},i.des.Algorithm.prototype.initialize=function(M){if(!this._init){var k=i.util.createBuffer(M.key);if(0===this.name.indexOf("3DES")&&24!==k.length())throw new Error("Invalid Triple-DES key size: "+8*k.length());this._keys=function O(M){for(var xe,k=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],N=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],G=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],R=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],j=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],U=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],$=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],ne=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],se=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],L=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],J=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],te=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],E=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],re=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],K=M.length()>8?3:1,me=[],Ne=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],Ae=0,Qe=0;Qe<K;Qe++){var Ee=M.getInt32(),be=M.getInt32();Ee^=(xe=252645135&(Ee>>>4^be))<<4,Ee^=xe=65535&((be^=xe)>>>-16^Ee),Ee^=(xe=858993459&(Ee>>>2^(be^=xe<<-16)))<<2,Ee^=xe=65535&((be^=xe)>>>-16^Ee),Ee^=(xe=1431655765&(Ee>>>1^(be^=xe<<-16)))<<1,Ee^=xe=16711935&((be^=xe)>>>8^Ee),xe=(Ee^=(xe=1431655765&(Ee>>>1^(be^=xe<<8)))<<1)<<8|(be^=xe)>>>20&240,Ee=be<<24|be<<8&16711680|be>>>8&65280|be>>>24&240,be=xe;for(var le=0;le<Ne.length;++le){Ne[le]?(Ee=Ee<<2|Ee>>>26,be=be<<2|be>>>26):(Ee=Ee<<1|Ee>>>27,be=be<<1|be>>>27);var Pe=k[(Ee&=-15)>>>28]|N[Ee>>>24&15]|G[Ee>>>20&15]|R[Ee>>>16&15]|j[Ee>>>12&15]|U[Ee>>>8&15]|$[Ee>>>4&15],Ie=ne[(be&=-15)>>>28]|se[be>>>24&15]|L[be>>>20&15]|J[be>>>16&15]|te[be>>>12&15]|E[be>>>8&15]|re[be>>>4&15];me[Ae++]=Pe^(xe=65535&(Ie>>>16^Pe)),me[Ae++]=Ie^xe<<16}}return me}(k),this._init=!0}},e("DES-ECB",i.cipher.modes.ecb),e("DES-CBC",i.cipher.modes.cbc),e("DES-CFB",i.cipher.modes.cfb),e("DES-OFB",i.cipher.modes.ofb),e("DES-CTR",i.cipher.modes.ctr),e("3DES-ECB",i.cipher.modes.ecb),e("3DES-CBC",i.cipher.modes.cbc),e("3DES-CFB",i.cipher.modes.cfb),e("3DES-OFB",i.cipher.modes.ofb),e("3DES-CTR",i.cipher.modes.ctr);var y=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],p=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],w=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],C=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],m=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],d=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],f=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],I=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function P(M,k,N,G){var j,R=32===M.length?3:9;j=3===R?G?[30,-2,-2]:[0,32,2]:G?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var U,$=k[0],ne=k[1];$^=(U=252645135&($>>>4^ne))<<4,$^=(U=65535&($>>>16^(ne^=U)))<<16,$^=U=858993459&((ne^=U)>>>2^$),$^=U=16711935&((ne^=U<<2)>>>8^$),$=($^=(U=1431655765&($>>>1^(ne^=U<<8)))<<1)<<1|$>>>31,ne=(ne^=U)<<1|ne>>>31;for(var se=0;se<R;se+=3){for(var L=j[se+1],J=j[se+2],te=j[se];te!=L;te+=J){var E=ne^M[te],re=(ne>>>4|ne<<28)^M[te+1];U=$,$=ne,ne=U^(p[E>>>24&63]|C[E>>>16&63]|d[E>>>8&63]|I[63&E]|y[re>>>24&63]|w[re>>>16&63]|m[re>>>8&63]|f[63&re])}U=$,$=ne,ne=U}ne=ne>>>1|ne<<31,ne^=U=1431655765&(($=$>>>1|$<<31)>>>1^ne),ne^=(U=16711935&(ne>>>8^($^=U<<1)))<<8,ne^=(U=858993459&(ne>>>2^($^=U)))<<2,ne^=U=65535&(($^=U)>>>16^ne),ne^=U=252645135&(($^=U<<16)>>>4^ne),N[0]=$^=U<<4,N[1]=ne}function b(M){var G,N="DES-"+((M=M||{}).mode||"CBC").toUpperCase(),R=(G=M.decrypt?i.cipher.createDecipher(N,M.key):i.cipher.createCipher(N,M.key)).start;return G.start=function(j,U){var $=null;U instanceof i.util.ByteBuffer&&($=U,U={}),(U=U||{}).output=$,U.iv=j,R.call(G,U)},G}},651:(nt,fe,h)=>{var i=h(6589);h(3364),h(1675),h(1290),h(812);var e=h(2758),y=e.publicKeyValidator,p=e.privateKeyValidator;if(typeof w>"u")var w=i.jsbn.BigInteger;var C=i.util.ByteBuffer,m=typeof Buffer>"u"?Uint8Array:Buffer;i.pki=i.pki||{},nt.exports=i.pki.ed25519=i.ed25519=i.ed25519||{};var d=i.ed25519;function f(Dt){var wt=Dt.message;if(wt instanceof Uint8Array||wt instanceof m)return wt;var z=Dt.encoding;if(void 0===wt){if(!Dt.md)throw new TypeError('"options.message" or "options.md" not specified.');wt=Dt.md.digest().getBytes(),z="binary"}if("string"==typeof wt&&!z)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof wt){if(typeof Buffer<"u")return Buffer.from(wt,z);wt=new C(wt,z)}else if(!(wt instanceof C))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var Y=new m(wt.length()),Z=0;Z<Y.length;++Z)Y[Z]=wt.at(Z);return Y}d.constants={},d.constants.PUBLIC_KEY_BYTE_LENGTH=32,d.constants.PRIVATE_KEY_BYTE_LENGTH=64,d.constants.SEED_BYTE_LENGTH=32,d.constants.SIGN_BYTE_LENGTH=64,d.constants.HASH_BYTE_LENGTH=64,d.generateKeyPair=function(Dt){var wt=(Dt=Dt||{}).seed;if(void 0===wt)wt=i.random.getBytesSync(d.constants.SEED_BYTE_LENGTH);else if("string"==typeof wt){if(wt.length!==d.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+d.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(wt instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');wt=f({message:wt,encoding:"binary"});for(var z=new m(d.constants.PUBLIC_KEY_BYTE_LENGTH),Y=new m(d.constants.PRIVATE_KEY_BYTE_LENGTH),Z=0;Z<32;++Z)Y[Z]=wt[Z];return function j(Dt,wt){var Y,z=[Oe(),Oe(),Oe(),Oe()],Z=R(wt,32);for(Z[0]&=248,Z[31]&=127,Z[31]|=64,be(z,Z),te(Dt,z),Y=0;Y<32;++Y)wt[Y+32]=Dt[Y]}(z,Y),{publicKey:z,privateKey:Y}},d.privateKeyFromAsn1=function(Dt){var wt={},z=[];if(!i.asn1.validate(Dt,p,wt,z)){var Z=new Error("Invalid Key.");throw Z.errors=z,Z}var Ce=i.asn1.derToOid(wt.privateKeyOid),we=i.oids.EdDSA25519;if(Ce!==we)throw new Error('Invalid OID "'+Ce+'"; OID must be "'+we+'".');return{privateKeyBytes:f({message:i.asn1.fromDer(wt.privateKey).value,encoding:"binary"})}},d.publicKeyFromAsn1=function(Dt){var wt={},z=[];if(!i.asn1.validate(Dt,y,wt,z)){var Z=new Error("Invalid Key.");throw Z.errors=z,Z}var Ce=i.asn1.derToOid(wt.publicKeyOid),we=i.oids.EdDSA25519;if(Ce!==we)throw new Error('Invalid OID "'+Ce+'"; OID must be "'+we+'".');var at=wt.ed25519PublicKey;if(at.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return f({message:at,encoding:"binary"})},d.publicKeyFromPrivateKey=function(Dt){var wt=f({message:(Dt=Dt||{}).privateKey,encoding:"binary"});if(wt.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.PRIVATE_KEY_BYTE_LENGTH);for(var z=new m(d.constants.PUBLIC_KEY_BYTE_LENGTH),Y=0;Y<z.length;++Y)z[Y]=wt[32+Y];return z},d.sign=function(Dt){var wt=f(Dt=Dt||{}),z=f({message:Dt.privateKey,encoding:"binary"});if(z.length===d.constants.SEED_BYTE_LENGTH)z=d.generateKeyPair({seed:z}).privateKey;else if(z.length!==d.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+d.constants.SEED_BYTE_LENGTH+" or "+d.constants.PRIVATE_KEY_BYTE_LENGTH);var Z=new m(d.constants.SIGN_BYTE_LENGTH+wt.length);!function U(Dt,wt,z,Y){var Z,Ce,we=new Float64Array(64),at=[Oe(),Oe(),Oe(),Oe()],Be=R(Y,32);Be[0]&=248,Be[31]&=127,Be[31]|=64;var ot=z+64;for(Z=0;Z<z;++Z)Dt[64+Z]=wt[Z];for(Z=0;Z<32;++Z)Dt[32+Z]=Be[32+Z];var Ft=R(Dt.subarray(32),z+32);for(se(Ft),be(at,Ft),te(Dt,at),Z=32;Z<64;++Z)Dt[Z]=Y[Z];var mt=R(Dt,z+64);for(se(mt),Z=32;Z<64;++Z)we[Z]=0;for(Z=0;Z<32;++Z)we[Z]=Ft[Z];for(Z=0;Z<32;++Z)for(Ce=0;Ce<32;Ce++)we[Z+Ce]+=mt[Z]*Be[Ce];ne(Dt.subarray(32),we)}(Z,wt,wt.length,z);for(var Ce=new m(d.constants.SIGN_BYTE_LENGTH),we=0;we<Ce.length;++we)Ce[we]=Z[we];return Ce},d.verify=function(Dt){var wt=f(Dt=Dt||{});if(void 0===Dt.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var z=f({message:Dt.signature,encoding:"binary"});if(z.length!==d.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+d.constants.SIGN_BYTE_LENGTH);var Y=f({message:Dt.publicKey,encoding:"binary"});if(Y.length!==d.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+d.constants.PUBLIC_KEY_BYTE_LENGTH);var we,Z=new m(d.constants.SIGN_BYTE_LENGTH+wt.length),Ce=new m(d.constants.SIGN_BYTE_LENGTH+wt.length);for(we=0;we<d.constants.SIGN_BYTE_LENGTH;++we)Z[we]=z[we];for(we=0;we<wt.length;++we)Z[we+d.constants.SIGN_BYTE_LENGTH]=wt[we];return function $(Dt,wt,z,Y){var Z,we=new m(32),at=[Oe(),Oe(),Oe(),Oe()],Be=[Oe(),Oe(),Oe(),Oe()];if(-1,z<64||function re(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe(),Ce=Oe(),we=Oe(),at=Oe(),Be=Oe();return le(Dt[2],O),function K(Dt,wt){var z;for(z=0;z<16;++z)Dt[z]=wt[2*z]+(wt[2*z+1]<<8);Dt[15]&=32767}(Dt[1],wt),qt(Z,Dt[1]),jt(Ce,Z,P),Ye(Z,Z,Dt[2]),pt(Ce,Dt[2],Ce),qt(we,Ce),qt(at,we),jt(Be,at,we),jt(z,Be,Z),jt(z,z,Ce),function me(Dt,wt){var Y,z=Oe();for(Y=0;Y<16;++Y)z[Y]=wt[Y];for(Y=250;Y>=0;--Y)qt(z,z),1!==Y&&jt(z,z,wt);for(Y=0;Y<16;++Y)Dt[Y]=z[Y]}(z,z),jt(z,z,Z),jt(z,z,Ce),jt(z,z,Ce),jt(Dt[0],z,Ce),qt(Y,Dt[0]),jt(Y,Y,Ce),Ne(Y,Z)&&jt(Dt[0],Dt[0],G),qt(Y,Dt[0]),jt(Y,Y,Ce),Ne(Y,Z)?-1:(Qe(Dt[0])===wt[31]>>7&&Ye(Dt[0],I,Dt[0]),jt(Dt[3],Dt[0],Dt[1]),0)}(Be,Y))return-1;for(Z=0;Z<z;++Z)Dt[Z]=wt[Z];for(Z=0;Z<32;++Z)Dt[Z+32]=Y[Z];var ot=R(Dt,z);if(se(ot),Ee(at,Be,ot),be(Be,wt.subarray(32)),L(at,Be),te(we,at),z-=64,Ae(wt,0,we,0)){for(Z=0;Z<z;++Z)Dt[Z]=0;return-1}for(Z=0;Z<z;++Z)Dt[Z]=wt[Z+64];return z}(Ce,Z,Z.length,Y)>=0};var I=Oe(),O=Oe([1]),P=Oe([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),b=Oe([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),M=Oe([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),k=Oe([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),N=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),G=Oe([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function R(Dt,wt){var z=i.md.sha512.create(),Y=new C(Dt);z.update(Y.getBytes(wt),"binary");var Z=z.digest().getBytes();if(typeof Buffer<"u")return Buffer.from(Z,"binary");for(var Ce=new m(d.constants.HASH_BYTE_LENGTH),we=0;we<64;++we)Ce[we]=Z.charCodeAt(we);return Ce}function ne(Dt,wt){var z,Y,Z,Ce;for(Y=63;Y>=32;--Y){for(z=0,Z=Y-32,Ce=Y-12;Z<Ce;++Z)wt[Z]+=z-16*wt[Y]*N[Z-(Y-32)],wt[Z]-=256*(z=wt[Z]+128>>8);wt[Z]+=z,wt[Y]=0}for(z=0,Z=0;Z<32;++Z)wt[Z]+=z-(wt[31]>>4)*N[Z],z=wt[Z]>>8,wt[Z]&=255;for(Z=0;Z<32;++Z)wt[Z]-=z*N[Z];for(Y=0;Y<32;++Y)wt[Y+1]+=wt[Y]>>8,Dt[Y]=255&wt[Y]}function se(Dt){for(var wt=new Float64Array(64),z=0;z<64;++z)wt[z]=Dt[z],Dt[z]=0;ne(Dt,wt)}function L(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe(),Ce=Oe(),we=Oe(),at=Oe(),Be=Oe(),ot=Oe(),Ft=Oe();Ye(z,Dt[1],Dt[0]),Ye(Ft,wt[1],wt[0]),jt(z,z,Ft),pt(Y,Dt[0],Dt[1]),pt(Ft,wt[0],wt[1]),jt(Y,Y,Ft),jt(Z,Dt[3],wt[3]),jt(Z,Z,b),jt(Ce,Dt[2],wt[2]),pt(Ce,Ce,Ce),Ye(we,Y,z),Ye(at,Ce,Z),pt(Be,Ce,Z),pt(ot,Y,z),jt(Dt[0],we,at),jt(Dt[1],ot,Be),jt(Dt[2],Be,at),jt(Dt[3],we,ot)}function J(Dt,wt,z){for(var Y=0;Y<4;++Y)st(Dt[Y],wt[Y],z)}function te(Dt,wt){var z=Oe(),Y=Oe(),Z=Oe();(function Pe(Dt,wt){var Y,z=Oe();for(Y=0;Y<16;++Y)z[Y]=wt[Y];for(Y=253;Y>=0;--Y)qt(z,z),2!==Y&&4!==Y&&jt(z,z,wt);for(Y=0;Y<16;++Y)Dt[Y]=z[Y]})(Z,wt[2]),jt(z,wt[0],Z),jt(Y,wt[1],Z),E(Dt,Y),Dt[31]^=Qe(z)<<7}function E(Dt,wt){var z,Y,Z,Ce=Oe(),we=Oe();for(z=0;z<16;++z)we[z]=wt[z];for(Ie(we),Ie(we),Ie(we),Y=0;Y<2;++Y){for(Ce[0]=we[0]-65517,z=1;z<15;++z)Ce[z]=we[z]-65535-(Ce[z-1]>>16&1),Ce[z-1]&=65535;Ce[15]=we[15]-32767-(Ce[14]>>16&1),Z=Ce[15]>>16&1,Ce[14]&=65535,st(we,Ce,1-Z)}for(z=0;z<16;z++)Dt[2*z]=255&we[z],Dt[2*z+1]=we[z]>>8}function Ne(Dt,wt){var z=new m(32),Y=new m(32);return E(z,Dt),E(Y,wt),Ae(z,0,Y,0)}function Ae(Dt,wt,z,Y){return function xe(Dt,wt,z,Y,Z){var Ce,we=0;for(Ce=0;Ce<Z;++Ce)we|=Dt[wt+Ce]^z[Y+Ce];return(1&we-1>>>8)-1}(Dt,wt,z,Y,32)}function Qe(Dt){var wt=new m(32);return E(wt,Dt),1&wt[0]}function Ee(Dt,wt,z){var Y,Z;for(le(Dt[0],I),le(Dt[1],O),le(Dt[2],O),le(Dt[3],I),Z=255;Z>=0;--Z)J(Dt,wt,Y=z[Z/8|0]>>(7&Z)&1),L(wt,Dt),L(Dt,Dt),J(Dt,wt,Y)}function be(Dt,wt){var z=[Oe(),Oe(),Oe(),Oe()];le(z[0],M),le(z[1],k),le(z[2],O),jt(z[3],M,k),Ee(Dt,z,wt)}function le(Dt,wt){var z;for(z=0;z<16;z++)Dt[z]=0|wt[z]}function Ie(Dt){var wt,z,Y=1;for(wt=0;wt<16;++wt)z=Dt[wt]+Y+65535,Y=Math.floor(z/65536),Dt[wt]=z-65536*Y;Dt[0]+=Y-1+37*(Y-1)}function st(Dt,wt,z){for(var Y,Z=~(z-1),Ce=0;Ce<16;++Ce)Dt[Ce]^=Y=Z&(Dt[Ce]^wt[Ce]),wt[Ce]^=Y}function Oe(Dt){var wt,z=new Float64Array(16);if(Dt)for(wt=0;wt<Dt.length;++wt)z[wt]=Dt[wt];return z}function pt(Dt,wt,z){for(var Y=0;Y<16;++Y)Dt[Y]=wt[Y]+z[Y]}function Ye(Dt,wt,z){for(var Y=0;Y<16;++Y)Dt[Y]=wt[Y]-z[Y]}function qt(Dt,wt){jt(Dt,wt,wt)}function jt(Dt,wt,z){var Y,Z,Ce=0,we=0,at=0,Be=0,ot=0,Ft=0,mt=0,it=0,Kt=0,on=0,Pt=0,Jt=0,je=0,ce=0,X=0,oe=0,Ve=0,tt=0,gt=0,Bt=0,cn=0,hn=0,Mn=0,kn=0,Bn=0,It=0,Rn=0,Ht=0,lt=0,Ct=0,yt=0,Ot=z[0],tn=z[1],In=z[2],Un=z[3],fn=z[4],hi=z[5],Hn=z[6],Mt=z[7],ht=z[8],kt=z[9],Gt=z[10],sn=z[11],bn=z[12],yn=z[13],Jn=z[14],An=z[15];Ce+=(Y=wt[0])*Ot,we+=Y*tn,at+=Y*In,Be+=Y*Un,ot+=Y*fn,Ft+=Y*hi,mt+=Y*Hn,it+=Y*Mt,Kt+=Y*ht,on+=Y*kt,Pt+=Y*Gt,Jt+=Y*sn,je+=Y*bn,ce+=Y*yn,X+=Y*Jn,oe+=Y*An,we+=(Y=wt[1])*Ot,at+=Y*tn,Be+=Y*In,ot+=Y*Un,Ft+=Y*fn,mt+=Y*hi,it+=Y*Hn,Kt+=Y*Mt,on+=Y*ht,Pt+=Y*kt,Jt+=Y*Gt,je+=Y*sn,ce+=Y*bn,X+=Y*yn,oe+=Y*Jn,Ve+=Y*An,at+=(Y=wt[2])*Ot,Be+=Y*tn,ot+=Y*In,Ft+=Y*Un,mt+=Y*fn,it+=Y*hi,Kt+=Y*Hn,on+=Y*Mt,Pt+=Y*ht,Jt+=Y*kt,je+=Y*Gt,ce+=Y*sn,X+=Y*bn,oe+=Y*yn,Ve+=Y*Jn,tt+=Y*An,Be+=(Y=wt[3])*Ot,ot+=Y*tn,Ft+=Y*In,mt+=Y*Un,it+=Y*fn,Kt+=Y*hi,on+=Y*Hn,Pt+=Y*Mt,Jt+=Y*ht,je+=Y*kt,ce+=Y*Gt,X+=Y*sn,oe+=Y*bn,Ve+=Y*yn,tt+=Y*Jn,gt+=Y*An,ot+=(Y=wt[4])*Ot,Ft+=Y*tn,mt+=Y*In,it+=Y*Un,Kt+=Y*fn,on+=Y*hi,Pt+=Y*Hn,Jt+=Y*Mt,je+=Y*ht,ce+=Y*kt,X+=Y*Gt,oe+=Y*sn,Ve+=Y*bn,tt+=Y*yn,gt+=Y*Jn,Bt+=Y*An,Ft+=(Y=wt[5])*Ot,mt+=Y*tn,it+=Y*In,Kt+=Y*Un,on+=Y*fn,Pt+=Y*hi,Jt+=Y*Hn,je+=Y*Mt,ce+=Y*ht,X+=Y*kt,oe+=Y*Gt,Ve+=Y*sn,tt+=Y*bn,gt+=Y*yn,Bt+=Y*Jn,cn+=Y*An,mt+=(Y=wt[6])*Ot,it+=Y*tn,Kt+=Y*In,on+=Y*Un,Pt+=Y*fn,Jt+=Y*hi,je+=Y*Hn,ce+=Y*Mt,X+=Y*ht,oe+=Y*kt,Ve+=Y*Gt,tt+=Y*sn,gt+=Y*bn,Bt+=Y*yn,cn+=Y*Jn,hn+=Y*An,it+=(Y=wt[7])*Ot,Kt+=Y*tn,on+=Y*In,Pt+=Y*Un,Jt+=Y*fn,je+=Y*hi,ce+=Y*Hn,X+=Y*Mt,oe+=Y*ht,Ve+=Y*kt,tt+=Y*Gt,gt+=Y*sn,Bt+=Y*bn,cn+=Y*yn,hn+=Y*Jn,Mn+=Y*An,Kt+=(Y=wt[8])*Ot,on+=Y*tn,Pt+=Y*In,Jt+=Y*Un,je+=Y*fn,ce+=Y*hi,X+=Y*Hn,oe+=Y*Mt,Ve+=Y*ht,tt+=Y*kt,gt+=Y*Gt,Bt+=Y*sn,cn+=Y*bn,hn+=Y*yn,Mn+=Y*Jn,kn+=Y*An,on+=(Y=wt[9])*Ot,Pt+=Y*tn,Jt+=Y*In,je+=Y*Un,ce+=Y*fn,X+=Y*hi,oe+=Y*Hn,Ve+=Y*Mt,tt+=Y*ht,gt+=Y*kt,Bt+=Y*Gt,cn+=Y*sn,hn+=Y*bn,Mn+=Y*yn,kn+=Y*Jn,Bn+=Y*An,Pt+=(Y=wt[10])*Ot,Jt+=Y*tn,je+=Y*In,ce+=Y*Un,X+=Y*fn,oe+=Y*hi,Ve+=Y*Hn,tt+=Y*Mt,gt+=Y*ht,Bt+=Y*kt,cn+=Y*Gt,hn+=Y*sn,Mn+=Y*bn,kn+=Y*yn,Bn+=Y*Jn,It+=Y*An,Jt+=(Y=wt[11])*Ot,je+=Y*tn,ce+=Y*In,X+=Y*Un,oe+=Y*fn,Ve+=Y*hi,tt+=Y*Hn,gt+=Y*Mt,Bt+=Y*ht,cn+=Y*kt,hn+=Y*Gt,Mn+=Y*sn,kn+=Y*bn,Bn+=Y*yn,It+=Y*Jn,Rn+=Y*An,je+=(Y=wt[12])*Ot,ce+=Y*tn,X+=Y*In,oe+=Y*Un,Ve+=Y*fn,tt+=Y*hi,gt+=Y*Hn,Bt+=Y*Mt,cn+=Y*ht,hn+=Y*kt,Mn+=Y*Gt,kn+=Y*sn,Bn+=Y*bn,It+=Y*yn,Rn+=Y*Jn,Ht+=Y*An,ce+=(Y=wt[13])*Ot,X+=Y*tn,oe+=Y*In,Ve+=Y*Un,tt+=Y*fn,gt+=Y*hi,Bt+=Y*Hn,cn+=Y*Mt,hn+=Y*ht,Mn+=Y*kt,kn+=Y*Gt,Bn+=Y*sn,It+=Y*bn,Rn+=Y*yn,Ht+=Y*Jn,lt+=Y*An,X+=(Y=wt[14])*Ot,oe+=Y*tn,Ve+=Y*In,tt+=Y*Un,gt+=Y*fn,Bt+=Y*hi,cn+=Y*Hn,hn+=Y*Mt,Mn+=Y*ht,kn+=Y*kt,Bn+=Y*Gt,It+=Y*sn,Rn+=Y*bn,Ht+=Y*yn,lt+=Y*Jn,Ct+=Y*An,oe+=(Y=wt[15])*Ot,we+=38*(tt+=Y*In),at+=38*(gt+=Y*Un),Be+=38*(Bt+=Y*fn),ot+=38*(cn+=Y*hi),Ft+=38*(hn+=Y*Hn),mt+=38*(Mn+=Y*Mt),it+=38*(kn+=Y*ht),Kt+=38*(Bn+=Y*kt),on+=38*(It+=Y*Gt),Pt+=38*(Rn+=Y*sn),Jt+=38*(Ht+=Y*bn),je+=38*(lt+=Y*yn),ce+=38*(Ct+=Y*Jn),X+=38*(yt+=Y*An),Ce=(Y=(Ce+=38*(Ve+=Y*tn))+(Z=1)+65535)-65536*(Z=Math.floor(Y/65536)),we=(Y=we+Z+65535)-65536*(Z=Math.floor(Y/65536)),at=(Y=at+Z+65535)-65536*(Z=Math.floor(Y/65536)),Be=(Y=Be+Z+65535)-65536*(Z=Math.floor(Y/65536)),ot=(Y=ot+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ft=(Y=Ft+Z+65535)-65536*(Z=Math.floor(Y/65536)),mt=(Y=mt+Z+65535)-65536*(Z=Math.floor(Y/65536)),it=(Y=it+Z+65535)-65536*(Z=Math.floor(Y/65536)),Kt=(Y=Kt+Z+65535)-65536*(Z=Math.floor(Y/65536)),on=(Y=on+Z+65535)-65536*(Z=Math.floor(Y/65536)),Pt=(Y=Pt+Z+65535)-65536*(Z=Math.floor(Y/65536)),Jt=(Y=Jt+Z+65535)-65536*(Z=Math.floor(Y/65536)),je=(Y=je+Z+65535)-65536*(Z=Math.floor(Y/65536)),ce=(Y=ce+Z+65535)-65536*(Z=Math.floor(Y/65536)),X=(Y=X+Z+65535)-65536*(Z=Math.floor(Y/65536)),oe=(Y=oe+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ce=(Y=(Ce+=Z-1+37*(Z-1))+(Z=1)+65535)-65536*(Z=Math.floor(Y/65536)),we=(Y=we+Z+65535)-65536*(Z=Math.floor(Y/65536)),at=(Y=at+Z+65535)-65536*(Z=Math.floor(Y/65536)),Be=(Y=Be+Z+65535)-65536*(Z=Math.floor(Y/65536)),ot=(Y=ot+Z+65535)-65536*(Z=Math.floor(Y/65536)),Ft=(Y=Ft+Z+65535)-65536*(Z=Math.floor(Y/65536)),mt=(Y=mt+Z+65535)-65536*(Z=Math.floor(Y/65536)),it=(Y=it+Z+65535)-65536*(Z=Math.floor(Y/65536)),Kt=(Y=Kt+Z+65535)-65536*(Z=Math.floor(Y/65536)),on=(Y=on+Z+65535)-65536*(Z=Math.floor(Y/65536)),Pt=(Y=Pt+Z+65535)-65536*(Z=Math.floor(Y/65536)),Jt=(Y=Jt+Z+65535)-65536*(Z=Math.floor(Y/65536)),je=(Y=je+Z+65535)-65536*(Z=Math.floor(Y/65536)),ce=(Y=ce+Z+65535)-65536*(Z=Math.floor(Y/65536)),X=(Y=X+Z+65535)-65536*(Z=Math.floor(Y/65536)),oe=(Y=oe+Z+65535)-65536*(Z=Math.floor(Y/65536)),Dt[0]=Ce+=Z-1+37*(Z-1),Dt[1]=we,Dt[2]=at,Dt[3]=Be,Dt[4]=ot,Dt[5]=Ft,Dt[6]=mt,Dt[7]=it,Dt[8]=Kt,Dt[9]=on,Dt[10]=Pt,Dt[11]=Jt,Dt[12]=je,Dt[13]=ce,Dt[14]=X,Dt[15]=oe}},6589:nt=>{nt.exports={options:{usePureJavaScript:!1}}},4579:(nt,fe,h)=>{var i=h(6589);h(5437),h(812),(nt.exports=i.hmac=i.hmac||{}).create=function(){var y=null,p=null,w=null,C=null,m={start:function(d,f){if(null!==d)if("string"==typeof d){if(!((d=d.toLowerCase())in i.md.algorithms))throw new Error('Unknown hash algorithm "'+d+'"');p=i.md.algorithms[d].create()}else p=d;if(null===f)f=y;else{if("string"==typeof f)f=i.util.createBuffer(f);else if(i.util.isArray(f)){var I=f;f=i.util.createBuffer();for(var O=0;O<I.length;++O)f.putByte(I[O])}var P=f.length();for(P>p.blockLength&&(p.start(),p.update(f.bytes()),f=p.digest()),w=i.util.createBuffer(),C=i.util.createBuffer(),P=f.length(),O=0;O<P;++O)I=f.at(O),w.putByte(54^I),C.putByte(92^I);if(P<p.blockLength)for(I=p.blockLength-P,O=0;O<I;++O)w.putByte(54),C.putByte(92);y=f,w=w.bytes(),C=C.bytes()}p.start(),p.update(w)},update:function(d){p.update(d)},getMac:function(){var d=p.digest().bytes();return p.start(),p.update(C),p.update(d),p.digest()}};return m.digest=m.getMac,m}},2114:(nt,fe,h)=>{nt.exports=h(6589),h(57),h(3707),h(7097),h(5855),h(3674),h(651),h(4579),h(8321),h(872),h(9228),h(5833),h(1097),h(9368),h(8788),h(4724),h(8645),h(9622),h(3697),h(409),h(8588),h(1675),h(1881),h(3120),h(9807),h(812)},3364:(nt,fe,h)=>{var e,i=h(6589);function w(_e,De,ye){this.data=[],null!=_e&&("number"==typeof _e?this.fromNumber(_e,De,ye):this.fromString(_e,null==De&&"string"!=typeof _e?256:De))}function C(){return new w(null)}function f(_e,De,ye,ft,ze,Tt){for(var vt=16383&De,Xt=De>>14;--Tt>=0;){var Vn=16383&this.data[_e],ai=this.data[_e++]>>14,yi=Xt*Vn+ai*vt;ze=((Vn=vt*Vn+((16383&yi)<<14)+ye.data[ft]+ze)>>28)+(yi>>14)+Xt*ai,ye.data[ft++]=268435455&Vn}return ze}nt.exports=i.jsbn=i.jsbn||{},i.jsbn.BigInteger=w,typeof navigator>"u"?(w.prototype.am=f,e=28):"Microsoft Internet Explorer"==navigator.appName?(w.prototype.am=function d(_e,De,ye,ft,ze,Tt){for(var vt=32767&De,Xt=De>>15;--Tt>=0;){var Vn=32767&this.data[_e],ai=this.data[_e++]>>15,yi=Xt*Vn+ai*vt;ze=((Vn=vt*Vn+((32767&yi)<<15)+ye.data[ft]+(1073741823&ze))>>>30)+(yi>>>15)+Xt*ai+(ze>>>30),ye.data[ft++]=1073741823&Vn}return ze},e=30):"Netscape"!=navigator.appName?(w.prototype.am=function m(_e,De,ye,ft,ze,Tt){for(;--Tt>=0;){var vt=De*this.data[_e++]+ye.data[ft]+ze;ze=Math.floor(vt/67108864),ye.data[ft++]=67108863&vt}return ze},e=26):(w.prototype.am=f,e=28),w.prototype.DB=e,w.prototype.DM=(1<<e)-1,w.prototype.DV=1<<e,w.prototype.FV=Math.pow(2,52),w.prototype.F1=52-e,w.prototype.F2=2*e-52;var b,M,P=new Array;for(b=48,M=0;M<=9;++M)P[b++]=M;for(b=97,M=10;M<36;++M)P[b++]=M;for(b=65,M=10;M<36;++M)P[b++]=M;function k(_e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(_e)}function N(_e,De){return P[_e.charCodeAt(De)]??-1}function j(_e){var De=C();return De.fromInt(_e),De}function te(_e){var ye,De=1;return 0!=(ye=_e>>>16)&&(_e=ye,De+=16),0!=(ye=_e>>8)&&(_e=ye,De+=8),0!=(ye=_e>>4)&&(_e=ye,De+=4),0!=(ye=_e>>2)&&(_e=ye,De+=2),0!=(ye=_e>>1)&&(_e=ye,De+=1),De}function le(_e){this.m=_e}function qt(_e){this.m=_e,this.mp=_e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<_e.DB-15)-1,this.mt2=2*_e.t}function Ve(_e,De){return _e&De}function gt(_e,De){return _e|De}function cn(_e,De){return _e^De}function Mn(_e,De){return _e&~De}function Ht(_e){if(0==_e)return-1;var De=0;return 65535&_e||(_e>>=16,De+=16),255&_e||(_e>>=8,De+=8),15&_e||(_e>>=4,De+=4),3&_e||(_e>>=2,De+=2),1&_e||++De,De}function Ct(_e){for(var De=0;0!=_e;)_e&=_e-1,++De;return De}function Jn(){}function An(_e){return _e}function Qn(_e){this.r2=C(),this.q3=C(),w.ONE.dlShiftTo(2*_e.t,this.r2),this.mu=this.r2.divide(_e),this.m=_e}le.prototype.convert=function Pe(_e){return _e.s<0||_e.compareTo(this.m)>=0?_e.mod(this.m):_e},le.prototype.revert=function Ie(_e){return _e},le.prototype.reduce=function st(_e){_e.divRemTo(this.m,null,_e)},le.prototype.mulTo=function Oe(_e,De,ye){_e.multiplyTo(De,ye),this.reduce(ye)},le.prototype.sqrTo=function pt(_e,De){_e.squareTo(De),this.reduce(De)},qt.prototype.convert=function jt(_e){var De=C();return _e.abs().dlShiftTo(this.m.t,De),De.divRemTo(this.m,null,De),_e.s<0&&De.compareTo(w.ZERO)>0&&this.m.subTo(De,De),De},qt.prototype.revert=function Dt(_e){var De=C();return _e.copyTo(De),this.reduce(De),De},qt.prototype.reduce=function wt(_e){for(;_e.t<=this.mt2;)_e.data[_e.t++]=0;for(var De=0;De<this.m.t;++De){var ye=32767&_e.data[De],ft=ye*this.mpl+((ye*this.mph+(_e.data[De]>>15)*this.mpl&this.um)<<15)&_e.DM;for(_e.data[ye=De+this.m.t]+=this.m.am(0,ft,_e,De,0,this.m.t);_e.data[ye]>=_e.DV;)_e.data[ye]-=_e.DV,_e.data[++ye]++}_e.clamp(),_e.drShiftTo(this.m.t,_e),_e.compareTo(this.m)>=0&&_e.subTo(this.m,_e)},qt.prototype.mulTo=function Y(_e,De,ye){_e.multiplyTo(De,ye),this.reduce(ye)},qt.prototype.sqrTo=function z(_e,De){_e.squareTo(De),this.reduce(De)},w.prototype.copyTo=function G(_e){for(var De=this.t-1;De>=0;--De)_e.data[De]=this.data[De];_e.t=this.t,_e.s=this.s},w.prototype.fromInt=function R(_e){this.t=1,this.s=_e<0?-1:0,_e>0?this.data[0]=_e:_e<-1?this.data[0]=_e+this.DV:this.t=0},w.prototype.fromString=function U(_e,De){var ye;if(16==De)ye=4;else if(8==De)ye=3;else if(256==De)ye=8;else if(2==De)ye=1;else if(32==De)ye=5;else{if(4!=De)return void this.fromRadix(_e,De);ye=2}this.t=0,this.s=0;for(var ft=_e.length,ze=!1,Tt=0;--ft>=0;){var vt=8==ye?255&_e[ft]:N(_e,ft);vt<0?"-"==_e.charAt(ft)&&(ze=!0):(ze=!1,0==Tt?this.data[this.t++]=vt:Tt+ye>this.DB?(this.data[this.t-1]|=(vt&(1<<this.DB-Tt)-1)<<Tt,this.data[this.t++]=vt>>this.DB-Tt):this.data[this.t-1]|=vt<<Tt,(Tt+=ye)>=this.DB&&(Tt-=this.DB))}8==ye&&128&_e[0]&&(this.s=-1,Tt>0&&(this.data[this.t-1]|=(1<<this.DB-Tt)-1<<Tt)),this.clamp(),ze&&w.ZERO.subTo(this,this)},w.prototype.clamp=function $(){for(var _e=this.s&this.DM;this.t>0&&this.data[this.t-1]==_e;)--this.t},w.prototype.dlShiftTo=function re(_e,De){var ye;for(ye=this.t-1;ye>=0;--ye)De.data[ye+_e]=this.data[ye];for(ye=_e-1;ye>=0;--ye)De.data[ye]=0;De.t=this.t+_e,De.s=this.s},w.prototype.drShiftTo=function K(_e,De){for(var ye=_e;ye<this.t;++ye)De.data[ye-_e]=this.data[ye];De.t=Math.max(this.t-_e,0),De.s=this.s},w.prototype.lShiftTo=function me(_e,De){var Xt,ye=_e%this.DB,ft=this.DB-ye,ze=(1<<ft)-1,Tt=Math.floor(_e/this.DB),vt=this.s<<ye&this.DM;for(Xt=this.t-1;Xt>=0;--Xt)De.data[Xt+Tt+1]=this.data[Xt]>>ft|vt,vt=(this.data[Xt]&ze)<<ye;for(Xt=Tt-1;Xt>=0;--Xt)De.data[Xt]=0;De.data[Tt]=vt,De.t=this.t+Tt+1,De.s=this.s,De.clamp()},w.prototype.rShiftTo=function Ne(_e,De){De.s=this.s;var ye=Math.floor(_e/this.DB);if(ye>=this.t)De.t=0;else{var ft=_e%this.DB,ze=this.DB-ft,Tt=(1<<ft)-1;De.data[0]=this.data[ye]>>ft;for(var vt=ye+1;vt<this.t;++vt)De.data[vt-ye-1]|=(this.data[vt]&Tt)<<ze,De.data[vt-ye]=this.data[vt]>>ft;ft>0&&(De.data[this.t-ye-1]|=(this.s&Tt)<<ze),De.t=this.t-ye,De.clamp()}},w.prototype.subTo=function Ae(_e,De){for(var ye=0,ft=0,ze=Math.min(_e.t,this.t);ye<ze;)ft+=this.data[ye]-_e.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;if(_e.t<this.t){for(ft-=_e.s;ye<this.t;)ft+=this.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=this.s}else{for(ft+=this.s;ye<_e.t;)ft-=_e.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;ft-=_e.s}De.s=ft<0?-1:0,ft<-1?De.data[ye++]=this.DV+ft:ft>0&&(De.data[ye++]=ft),De.t=ye,De.clamp()},w.prototype.multiplyTo=function xe(_e,De){var ye=this.abs(),ft=_e.abs(),ze=ye.t;for(De.t=ze+ft.t;--ze>=0;)De.data[ze]=0;for(ze=0;ze<ft.t;++ze)De.data[ze+ye.t]=ye.am(0,ft.data[ze],De,ze,0,ye.t);De.s=0,De.clamp(),this.s!=_e.s&&w.ZERO.subTo(De,De)},w.prototype.squareTo=function Qe(_e){for(var De=this.abs(),ye=_e.t=2*De.t;--ye>=0;)_e.data[ye]=0;for(ye=0;ye<De.t-1;++ye){var ft=De.am(ye,De.data[ye],_e,2*ye,0,1);(_e.data[ye+De.t]+=De.am(ye+1,2*De.data[ye],_e,2*ye+1,ft,De.t-ye-1))>=De.DV&&(_e.data[ye+De.t]-=De.DV,_e.data[ye+De.t+1]=1)}_e.t>0&&(_e.data[_e.t-1]+=De.am(ye,De.data[ye],_e,2*ye,0,1)),_e.s=0,_e.clamp()},w.prototype.divRemTo=function Ee(_e,De,ye){var ft=_e.abs();if(!(ft.t<=0)){var ze=this.abs();if(ze.t<ft.t)return De?.fromInt(0),void(null!=ye&&this.copyTo(ye));null==ye&&(ye=C());var Tt=C(),vt=this.s,Xt=_e.s,Vn=this.DB-te(ft.data[ft.t-1]);Vn>0?(ft.lShiftTo(Vn,Tt),ze.lShiftTo(Vn,ye)):(ft.copyTo(Tt),ze.copyTo(ye));var ai=Tt.t,yi=Tt.data[ai-1];if(0!=yi){var ri=yi*(1<<this.F1)+(ai>1?Tt.data[ai-2]>>this.F2:0),Ui=this.FV/ri,hr=(1<<this.F1)/ri,Wn=1<<this.F2,li=ye.t,lr=li-ai,xi=De??C();for(Tt.dlShiftTo(lr,xi),ye.compareTo(xi)>=0&&(ye.data[ye.t++]=1,ye.subTo(xi,ye)),w.ONE.dlShiftTo(ai,xi),xi.subTo(Tt,Tt);Tt.t<ai;)Tt.data[Tt.t++]=0;for(;--lr>=0;){var Mr=ye.data[--li]==yi?this.DM:Math.floor(ye.data[li]*Ui+(ye.data[li-1]+Wn)*hr);if((ye.data[li]+=Tt.am(0,Mr,ye,lr,0,ai))<Mr)for(Tt.dlShiftTo(lr,xi),ye.subTo(xi,ye);ye.data[li]<--Mr;)ye.subTo(xi,ye)}null!=De&&(ye.drShiftTo(ai,De),vt!=Xt&&w.ZERO.subTo(De,De)),ye.t=ai,ye.clamp(),Vn>0&&ye.rShiftTo(Vn,ye),vt<0&&w.ZERO.subTo(ye,ye)}}},w.prototype.invDigit=function Ye(){if(this.t<1)return 0;var _e=this.data[0];if(!(1&_e))return 0;var De=3&_e;return(De=(De=(De=(De=De*(2-(15&_e)*De)&15)*(2-(255&_e)*De)&255)*(2-((65535&_e)*De&65535))&65535)*(2-_e*De%this.DV)%this.DV)>0?this.DV-De:-De},w.prototype.isEven=function Z(){return 0==(this.t>0?1&this.data[0]:this.s)},w.prototype.exp=function Ce(_e,De){if(_e>4294967295||_e<1)return w.ONE;var ye=C(),ft=C(),ze=De.convert(this),Tt=te(_e)-1;for(ze.copyTo(ye);--Tt>=0;)if(De.sqrTo(ye,ft),(_e&1<<Tt)>0)De.mulTo(ft,ze,ye);else{var vt=ye;ye=ft,ft=vt}return De.revert(ye)},w.prototype.toString=function ne(_e){if(this.s<0)return"-"+this.negate().toString(_e);var De;if(16==_e)De=4;else if(8==_e)De=3;else if(2==_e)De=1;else if(32==_e)De=5;else{if(4!=_e)return this.toRadix(_e);De=2}var ft,ye=(1<<De)-1,ze=!1,Tt="",vt=this.t,Xt=this.DB-vt*this.DB%De;if(vt-- >0)for(Xt<this.DB&&(ft=this.data[vt]>>Xt)>0&&(ze=!0,Tt=k(ft));vt>=0;)Xt<De?(ft=(this.data[vt]&(1<<Xt)-1)<<De-Xt,ft|=this.data[--vt]>>(Xt+=this.DB-De)):(ft=this.data[vt]>>(Xt-=De)&ye,Xt<=0&&(Xt+=this.DB,--vt)),ft>0&&(ze=!0),ze&&(Tt+=k(ft));return ze?Tt:"0"},w.prototype.negate=function se(){var _e=C();return w.ZERO.subTo(this,_e),_e},w.prototype.abs=function L(){return this.s<0?this.negate():this},w.prototype.compareTo=function J(_e){var De=this.s-_e.s;if(0!=De)return De;var ye=this.t;if(0!=(De=ye-_e.t))return this.s<0?-De:De;for(;--ye>=0;)if(0!=(De=this.data[ye]-_e.data[ye]))return De;return 0},w.prototype.bitLength=function E(){return this.t<=0?0:this.DB*(this.t-1)+te(this.data[this.t-1]^this.s&this.DM)},w.prototype.mod=function be(_e){var De=C();return this.abs().divRemTo(_e,null,De),this.s<0&&De.compareTo(w.ZERO)>0&&_e.subTo(De,De),De},w.prototype.modPowInt=function we(_e,De){var ye;return ye=_e<256||De.isEven()?new le(De):new qt(De),this.exp(_e,ye)},w.ZERO=j(0),w.ONE=j(1),Jn.prototype.convert=An,Jn.prototype.revert=An,Jn.prototype.mulTo=function gn(_e,De,ye){_e.multiplyTo(De,ye)},Jn.prototype.sqrTo=function di(_e,De){_e.squareTo(De)},Qn.prototype.convert=function Ti(_e){if(_e.s<0||_e.t>2*this.m.t)return _e.mod(this.m);if(_e.compareTo(this.m)<0)return _e;var De=C();return _e.copyTo(De),this.reduce(De),De},Qn.prototype.revert=function gi(_e){return _e},Qn.prototype.reduce=function Hi(_e){for(_e.drShiftTo(this.m.t-1,this.r2),_e.t>this.m.t+1&&(_e.t=this.m.t+1,_e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);_e.compareTo(this.r2)<0;)_e.dAddOffset(1,this.m.t+1);for(_e.subTo(this.r2,_e);_e.compareTo(this.m)>=0;)_e.subTo(this.m,_e)},Qn.prototype.mulTo=function Ii(_e,De,ye){_e.multiplyTo(De,ye),this.reduce(ye)},Qn.prototype.sqrTo=function $i(_e,De){_e.squareTo(De),this.reduce(De)};var ct=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Yt=(1<<26)/ct[ct.length-1];w.prototype.chunkSize=function mt(_e){return Math.floor(Math.LN2*this.DB/Math.log(_e))},w.prototype.toRadix=function Kt(_e){if(null==_e&&(_e=10),0==this.signum()||_e<2||_e>36)return"0";var De=this.chunkSize(_e),ye=Math.pow(_e,De),ft=j(ye),ze=C(),Tt=C(),vt="";for(this.divRemTo(ft,ze,Tt);ze.signum()>0;)vt=(ye+Tt.intValue()).toString(_e).substr(1)+vt,ze.divRemTo(ft,ze,Tt);return Tt.intValue().toString(_e)+vt},w.prototype.fromRadix=function on(_e,De){this.fromInt(0),null==De&&(De=10);for(var ye=this.chunkSize(De),ft=Math.pow(De,ye),ze=!1,Tt=0,vt=0,Xt=0;Xt<_e.length;++Xt){var Vn=N(_e,Xt);Vn<0?"-"==_e.charAt(Xt)&&0==this.signum()&&(ze=!0):(vt=De*vt+Vn,++Tt>=ye&&(this.dMultiply(ft),this.dAddOffset(vt,0),Tt=0,vt=0))}Tt>0&&(this.dMultiply(Math.pow(De,Tt)),this.dAddOffset(vt,0)),ze&&w.ZERO.subTo(this,this)},w.prototype.fromNumber=function Pt(_e,De,ye){if("number"==typeof De)if(_e<2)this.fromInt(1);else for(this.fromNumber(_e,ye),this.testBit(_e-1)||this.bitwiseTo(w.ONE.shiftLeft(_e-1),gt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(De);)this.dAddOffset(2,0),this.bitLength()>_e&&this.subTo(w.ONE.shiftLeft(_e-1),this);else{var ft=new Array,ze=7&_e;ft.length=1+(_e>>3),De.nextBytes(ft),ze>0?ft[0]&=(1<<ze)-1:ft[0]=0,this.fromString(ft,256)}},w.prototype.bitwiseTo=function oe(_e,De,ye){var ft,ze,Tt=Math.min(_e.t,this.t);for(ft=0;ft<Tt;++ft)ye.data[ft]=De(this.data[ft],_e.data[ft]);if(_e.t<this.t){for(ze=_e.s&this.DM,ft=Tt;ft<this.t;++ft)ye.data[ft]=De(this.data[ft],ze);ye.t=this.t}else{for(ze=this.s&this.DM,ft=Tt;ft<_e.t;++ft)ye.data[ft]=De(ze,_e.data[ft]);ye.t=_e.t}ye.s=De(this.s,_e.s),ye.clamp()},w.prototype.changeBit=function tn(_e,De){var ye=w.ONE.shiftLeft(_e);return this.bitwiseTo(ye,De,ye),ye},w.prototype.addTo=function hi(_e,De){for(var ye=0,ft=0,ze=Math.min(_e.t,this.t);ye<ze;)ft+=this.data[ye]+_e.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;if(_e.t<this.t){for(ft+=_e.s;ye<this.t;)ft+=this.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=this.s}else{for(ft+=this.s;ye<_e.t;)ft+=_e.data[ye],De.data[ye++]=ft&this.DM,ft>>=this.DB;ft+=_e.s}De.s=ft<0?-1:0,ft>0?De.data[ye++]=ft:ft<-1&&(De.data[ye++]=this.DV+ft),De.t=ye,De.clamp()},w.prototype.dMultiply=function bn(_e){this.data[this.t]=this.am(0,_e-1,this,0,0,this.t),++this.t,this.clamp()},w.prototype.dAddOffset=function yn(_e,De){if(0!=_e){for(;this.t<=De;)this.data[this.t++]=0;for(this.data[De]+=_e;this.data[De]>=this.DV;)this.data[De]-=this.DV,++De>=this.t&&(this.data[this.t++]=0),++this.data[De]}},w.prototype.multiplyLowerTo=function ii(_e,De,ye){var ze,ft=Math.min(this.t+_e.t,De);for(ye.s=0,ye.t=ft;ft>0;)ye.data[--ft]=0;for(ze=ye.t-this.t;ft<ze;++ft)ye.data[ft+this.t]=this.am(0,_e.data[ft],ye,ft,0,this.t);for(ze=Math.min(_e.t,De);ft<ze;++ft)this.am(0,_e.data[ft],ye,ft,0,De-ft);ye.clamp()},w.prototype.multiplyUpperTo=function Pi(_e,De,ye){--De;var ft=ye.t=this.t+_e.t-De;for(ye.s=0;--ft>=0;)ye.data[ft]=0;for(ft=Math.max(De-this.t,0);ft<_e.t;++ft)ye.data[this.t+ft-De]=this.am(De-ft,_e.data[ft],ye,0,0,this.t+ft-De);ye.clamp(),ye.drShiftTo(1,ye)},w.prototype.modInt=function Ke(_e){if(_e<=0)return 0;var De=this.DV%_e,ye=this.s<0?_e-1:0;if(this.t>0)if(0==De)ye=this.data[0]%_e;else for(var ft=this.t-1;ft>=0;--ft)ye=(De*ye+this.data[ft])%_e;return ye},w.prototype.millerRabin=function Zt(_e){var De=this.subtract(w.ONE),ye=De.getLowestSetBit();if(ye<=0)return!1;for(var Tt,ft=De.shiftRight(ye),ze=function ut(){return{nextBytes:function(_e){for(var De=0;De<_e.length;++De)_e[De]=Math.floor(256*Math.random())}}}(),vt=0;vt<_e;++vt){do{Tt=new w(this.bitLength(),ze)}while(Tt.compareTo(w.ONE)<=0||Tt.compareTo(De)>=0);var Xt=Tt.modPow(ft,this);if(0!=Xt.compareTo(w.ONE)&&0!=Xt.compareTo(De)){for(var Vn=1;Vn++<ye&&0!=Xt.compareTo(De);)if(0==(Xt=Xt.modPowInt(2,this)).compareTo(w.ONE))return!1;if(0!=Xt.compareTo(De))return!1}}return!0},w.prototype.clone=function at(){var _e=C();return this.copyTo(_e),_e},w.prototype.intValue=function Be(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},w.prototype.byteValue=function ot(){return 0==this.t?this.s:this.data[0]<<24>>24},w.prototype.shortValue=function Ft(){return 0==this.t?this.s:this.data[0]<<16>>16},w.prototype.signum=function it(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},w.prototype.toByteArray=function Jt(){var _e=this.t,De=new Array;De[0]=this.s;var ft,ye=this.DB-_e*this.DB%8,ze=0;if(_e-- >0)for(ye<this.DB&&(ft=this.data[_e]>>ye)!=(this.s&this.DM)>>ye&&(De[ze++]=ft|this.s<<this.DB-ye);_e>=0;)ye<8?(ft=(this.data[_e]&(1<<ye)-1)<<8-ye,ft|=this.data[--_e]>>(ye+=this.DB-8)):(ft=this.data[_e]>>(ye-=8)&255,ye<=0&&(ye+=this.DB,--_e)),128&ft&&(ft|=-256),0==ze&&(128&this.s)!=(128&ft)&&++ze,(ze>0||ft!=this.s)&&(De[ze++]=ft);return De},w.prototype.equals=function je(_e){return 0==this.compareTo(_e)},w.prototype.min=function ce(_e){return this.compareTo(_e)<0?this:_e},w.prototype.max=function X(_e){return this.compareTo(_e)>0?this:_e},w.prototype.and=function tt(_e){var De=C();return this.bitwiseTo(_e,Ve,De),De},w.prototype.or=function Bt(_e){var De=C();return this.bitwiseTo(_e,gt,De),De},w.prototype.xor=function hn(_e){var De=C();return this.bitwiseTo(_e,cn,De),De},w.prototype.andNot=function kn(_e){var De=C();return this.bitwiseTo(_e,Mn,De),De},w.prototype.not=function Bn(){for(var _e=C(),De=0;De<this.t;++De)_e.data[De]=this.DM&~this.data[De];return _e.t=this.t,_e.s=~this.s,_e},w.prototype.shiftLeft=function It(_e){var De=C();return _e<0?this.rShiftTo(-_e,De):this.lShiftTo(_e,De),De},w.prototype.shiftRight=function Rn(_e){var De=C();return _e<0?this.lShiftTo(-_e,De):this.rShiftTo(_e,De),De},w.prototype.getLowestSetBit=function lt(){for(var _e=0;_e<this.t;++_e)if(0!=this.data[_e])return _e*this.DB+Ht(this.data[_e]);return this.s<0?this.t*this.DB:-1},w.prototype.bitCount=function yt(){for(var _e=0,De=this.s&this.DM,ye=0;ye<this.t;++ye)_e+=Ct(this.data[ye]^De);return _e},w.prototype.testBit=function Ot(_e){var De=Math.floor(_e/this.DB);return De>=this.t?0!=this.s:!!(this.data[De]&1<<_e%this.DB)},w.prototype.setBit=function In(_e){return this.changeBit(_e,gt)},w.prototype.clearBit=function Un(_e){return this.changeBit(_e,Mn)},w.prototype.flipBit=function fn(_e){return this.changeBit(_e,cn)},w.prototype.add=function Hn(_e){var De=C();return this.addTo(_e,De),De},w.prototype.subtract=function Mt(_e){var De=C();return this.subTo(_e,De),De},w.prototype.multiply=function ht(_e){var De=C();return this.multiplyTo(_e,De),De},w.prototype.divide=function kt(_e){var De=C();return this.divRemTo(_e,De,null),De},w.prototype.remainder=function Gt(_e){var De=C();return this.divRemTo(_e,null,De),De},w.prototype.divideAndRemainder=function sn(_e){var De=C(),ye=C();return this.divRemTo(_e,De,ye),new Array(De,ye)},w.prototype.modPow=function et(_e,De){var ft,Tt,ye=_e.bitLength(),ze=j(1);if(ye<=0)return ze;ft=ye<18?1:ye<48?3:ye<144?4:ye<768?5:6,Tt=ye<8?new le(De):De.isEven()?new Qn(De):new qt(De);var vt=new Array,Xt=3,Vn=ft-1,ai=(1<<ft)-1;if(vt[1]=Tt.convert(this),ft>1){var yi=C();for(Tt.sqrTo(vt[1],yi);Xt<=ai;)vt[Xt]=C(),Tt.mulTo(yi,vt[Xt-2],vt[Xt]),Xt+=2}var Ui,li,ri=_e.t-1,hr=!0,Wn=C();for(ye=te(_e.data[ri])-1;ri>=0;){for(ye>=Vn?Ui=_e.data[ri]>>ye-Vn&ai:(Ui=(_e.data[ri]&(1<<ye+1)-1)<<Vn-ye,ri>0&&(Ui|=_e.data[ri-1]>>this.DB+ye-Vn)),Xt=ft;!(1&Ui);)Ui>>=1,--Xt;if((ye-=Xt)<0&&(ye+=this.DB,--ri),hr)vt[Ui].copyTo(ze),hr=!1;else{for(;Xt>1;)Tt.sqrTo(ze,Wn),Tt.sqrTo(Wn,ze),Xt-=2;Xt>0?Tt.sqrTo(ze,Wn):(li=ze,ze=Wn,Wn=li),Tt.mulTo(Wn,vt[Ui],ze)}for(;ri>=0&&!(_e.data[ri]&1<<ye);)Tt.sqrTo(ze,Wn),li=ze,ze=Wn,Wn=li,--ye<0&&(ye=this.DB-1,--ri)}return Tt.revert(ze)},w.prototype.modInverse=function zt(_e){var De=_e.isEven();if(this.isEven()&&De||0==_e.signum())return w.ZERO;for(var ye=_e.clone(),ft=this.clone(),ze=j(1),Tt=j(0),vt=j(0),Xt=j(1);0!=ye.signum();){for(;ye.isEven();)ye.rShiftTo(1,ye),De?((!ze.isEven()||!Tt.isEven())&&(ze.addTo(this,ze),Tt.subTo(_e,Tt)),ze.rShiftTo(1,ze)):Tt.isEven()||Tt.subTo(_e,Tt),Tt.rShiftTo(1,Tt);for(;ft.isEven();)ft.rShiftTo(1,ft),De?((!vt.isEven()||!Xt.isEven())&&(vt.addTo(this,vt),Xt.subTo(_e,Xt)),vt.rShiftTo(1,vt)):Xt.isEven()||Xt.subTo(_e,Xt),Xt.rShiftTo(1,Xt);ye.compareTo(ft)>=0?(ye.subTo(ft,ye),De&&ze.subTo(vt,ze),Tt.subTo(Xt,Tt)):(ft.subTo(ye,ft),De&&vt.subTo(ze,vt),Xt.subTo(Tt,Xt))}return 0!=ft.compareTo(w.ONE)?w.ZERO:Xt.compareTo(_e)>=0?Xt.subtract(_e):Xt.signum()<0?(Xt.addTo(_e,Xt),Xt.signum()<0?Xt.add(_e):Xt):Xt},w.prototype.pow=function mi(_e){return this.exp(_e,new Jn)},w.prototype.gcd=function At(_e){var De=this.s<0?this.negate():this.clone(),ye=_e.s<0?_e.negate():_e.clone();if(De.compareTo(ye)<0){var ft=De;De=ye,ye=ft}var ze=De.getLowestSetBit(),Tt=ye.getLowestSetBit();if(Tt<0)return De;for(ze<Tt&&(Tt=ze),Tt>0&&(De.rShiftTo(Tt,De),ye.rShiftTo(Tt,ye));De.signum()>0;)(ze=De.getLowestSetBit())>0&&De.rShiftTo(ze,De),(ze=ye.getLowestSetBit())>0&&ye.rShiftTo(ze,ye),De.compareTo(ye)>=0?(De.subTo(ye,De),De.rShiftTo(1,De)):(ye.subTo(De,ye),ye.rShiftTo(1,ye));return Tt>0&&ye.lShiftTo(Tt,ye),ye},w.prototype.isProbablePrime=function Xe(_e){var De,ye=this.abs();if(1==ye.t&&ye.data[0]<=ct[ct.length-1]){for(De=0;De<ct.length;++De)if(ye.data[0]==ct[De])return!0;return!1}if(ye.isEven())return!1;for(De=1;De<ct.length;){for(var ft=ct[De],ze=De+1;ze<ct.length&&ft<Yt;)ft*=ct[ze++];for(ft=ye.modInt(ft);De<ze;)if(ft%ct[De++]==0)return!1}return ye.millerRabin(_e)}},8321:(nt,fe,h)=>{var i=h(6589);h(812),h(1675),h(3364),nt.exports=i.kem=i.kem||{};var e=i.jsbn.BigInteger;function y(p,w,C,m){p.generate=function(d,f){for(var I=new i.util.ByteBuffer,O=Math.ceil(f/m)+C,P=new i.util.ByteBuffer,b=C;b<O;++b){P.putInt32(b),w.start(),w.update(d+P.getBytes());var M=w.digest();I.putBytes(M.getBytes(m))}return I.truncate(I.length()-f),I.getBytes()}}i.kem.rsa={},i.kem.rsa.create=function(p,w){var C=(w=w||{}).prng||i.random;return{encrypt:function(d,f){var O,I=Math.ceil(d.n.bitLength()/8);do{O=new e(i.util.bytesToHex(C.getBytesSync(I)),16).mod(d.n)}while(O.compareTo(e.ONE)<=0);var P=I-(O=i.util.hexToBytes(O.toString(16))).length;return P>0&&(O=i.util.fillString("\0",P)+O),{encapsulation:d.encrypt(O,"NONE"),key:p.generate(O,f)}},decrypt:function(d,f,I){var O=d.decrypt(f,"NONE");return p.generate(O,I)}}},i.kem.kdf1=function(p,w){y(this,p,0,w||p.digestLength)},i.kem.kdf2=function(p,w){y(this,p,1,w||p.digestLength)}},872:(nt,fe,h)=>{var i=h(6589);h(812),nt.exports=i.log=i.log||{},i.log.levels=["none","error","warning","info","debug","verbose","max"];var e={},y=[],p=null;i.log.LEVEL_LOCKED=2,i.log.NO_LEVEL_CHECK=4,i.log.INTERPOLATE=8;for(var w=0;w<i.log.levels.length;++w){var C=i.log.levels[w];e[C]={index:w,name:C.toUpperCase()}}i.log.logMessage=function(b){for(var M=e[b.level].index,k=0;k<y.length;++k){var N=y[k];N.flags&i.log.NO_LEVEL_CHECK?N.f(b):M<=e[N.level].index&&N.f(N,b)}},i.log.prepareStandard=function(b){"standard"in b||(b.standard=e[b.level].name+" ["+b.category+"] "+b.message)},i.log.prepareFull=function(b){if(!("full"in b)){var M=[b.message];M=M.concat([]),b.full=i.util.format.apply(this,M)}},i.log.prepareStandardFull=function(b){"standardFull"in b||(i.log.prepareStandard(b),b.standardFull=b.standard)};var m=["error","warning","info","debug","verbose"];for(w=0;w<m.length;++w)!function(M){i.log[M]=function(k,N){var G=Array.prototype.slice.call(arguments).slice(2);i.log.logMessage({timestamp:new Date,level:M,category:k,message:N,arguments:G})}}(m[w]);if(i.log.makeLogger=function(b){var M={flags:0,f:b};return i.log.setLevel(M,"none"),M},i.log.setLevel=function(b,M){var k=!1;if(b&&!(b.flags&i.log.LEVEL_LOCKED))for(var N=0;N<i.log.levels.length;++N)if(M==i.log.levels[N]){b.level=M,k=!0;break}return k},i.log.lock=function(b,M){typeof M>"u"||M?b.flags|=i.log.LEVEL_LOCKED:b.flags&=~i.log.LEVEL_LOCKED},i.log.addLogger=function(b){y.push(b)},typeof console<"u"&&"log"in console){var d;if(console.error&&console.warn&&console.info&&console.debug){var f={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},I=function(b,M){i.log.prepareStandard(M);var k=f[M.level],N=[M.standard];N=N.concat(M.arguments.slice()),k.apply(console,N)};d=i.log.makeLogger(I)}else I=function(M,k){i.log.prepareStandardFull(k),console.log(k.standardFull)},d=i.log.makeLogger(I);i.log.setLevel(d,"debug"),i.log.addLogger(d),p=d}else console={log:function(){}};if(null!==p&&typeof window<"u"&&window.location){var O=new URL(window.location.href).searchParams;O.has("console.level")&&i.log.setLevel(p,O.get("console.level").slice(-1)[0]),O.has("console.lock")&&"true"==O.get("console.lock").slice(-1)[0]&&i.log.lock(p)}i.log.consoleLogger=p},9228:(nt,fe,h)=>{nt.exports=h(5437),h(4846),h(8825),h(2507),h(1290)},5437:(nt,fe,h)=>{var i=h(6589);nt.exports=i.md=i.md||{},i.md.algorithms=i.md.algorithms||{}},4846:(nt,fe,h)=>{var i=h(6589);h(5437),h(812);var e=nt.exports=i.md5=i.md5||{};i.md.md5=i.md.algorithms.md5=e,e.create=function(){m||function d(){y="\x80",y+=i.util.fillString("\0",64),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],w=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],C=new Array(64);for(var I=0;I<64;++I)C[I]=Math.floor(4294967296*Math.abs(Math.sin(I+1)));m=!0}();var I=null,O=i.util.createBuffer(),P=new Array(16),b={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){b.messageLength=0,b.fullMessageLength=b.messageLength64=[];for(var M=b.messageLengthSize/4,k=0;k<M;++k)b.fullMessageLength.push(0);return O=i.util.createBuffer(),I={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},b}};return b.start(),b.update=function(M,k){"utf8"===k&&(M=i.util.encodeUtf8(M));var N=M.length;b.messageLength+=N,N=[N/4294967296>>>0,N>>>0];for(var G=b.fullMessageLength.length-1;G>=0;--G)b.fullMessageLength[G]+=N[1],N[1]=N[0]+(b.fullMessageLength[G]/4294967296>>>0),b.fullMessageLength[G]=b.fullMessageLength[G]>>>0,N[0]=N[1]/4294967296>>>0;return O.putBytes(M),f(I,P,O),(O.read>2048||0===O.length())&&O.compact(),b},b.digest=function(){var M=i.util.createBuffer();M.putBytes(O.bytes()),M.putBytes(y.substr(0,b.blockLength-(b.fullMessageLength[b.fullMessageLength.length-1]+b.messageLengthSize&b.blockLength-1)));for(var G,R=0,j=b.fullMessageLength.length-1;j>=0;--j)R=(G=8*b.fullMessageLength[j]+R)/4294967296>>>0,M.putInt32Le(G>>>0);var U={h0:I.h0,h1:I.h1,h2:I.h2,h3:I.h3};f(U,P,M);var $=i.util.createBuffer();return $.putInt32Le(U.h0),$.putInt32Le(U.h1),$.putInt32Le(U.h2),$.putInt32Le(U.h3),$},b};var y=null,p=null,w=null,C=null,m=!1;function f(I,O,P){for(var b,M,k,N,G,j,U,$=P.length();$>=64;){for(M=I.h0,k=I.h1,N=I.h2,G=I.h3,U=0;U<16;++U)O[U]=P.getInt32Le(),b=M+(G^k&(N^G))+C[U]+O[U],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<32;++U)b=M+(N^G&(k^N))+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<48;++U)b=M+(k^N^G)+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;for(;U<64;++U)b=M+(N^(k|~G))+C[U]+O[p[U]],M=G,G=N,N=k,k+=b<<(j=w[U])|b>>>32-j;I.h0=I.h0+M|0,I.h1=I.h1+k|0,I.h2=I.h2+N|0,I.h3=I.h3+G|0,$-=64}}},8040:(nt,fe,h)=>{var i=h(6589);h(5833),nt.exports=i.mgf=i.mgf||{},i.mgf.mgf1=i.mgf1},5833:(nt,fe,h)=>{var i=h(6589);h(812),i.mgf=i.mgf||{},(nt.exports=i.mgf.mgf1=i.mgf1=i.mgf1||{}).create=function(y){return{generate:function(w,C){for(var m=new i.util.ByteBuffer,d=Math.ceil(C/y.digestLength),f=0;f<d;f++){var I=new i.util.ByteBuffer;I.putInt32(f),y.start(),y.update(w+I.getBytes()),m.putBuffer(y.digest())}return m.truncate(m.length()-C),m.getBytes()}}}},1817:(nt,fe,h)=>{var i=h(6589);i.pki=i.pki||{};var e=nt.exports=i.pki.oids=i.oids=i.oids||{};function y(w,C){e[w]=C,e[C]=w}function p(w,C){e[w]=C}y("1.2.840.113549.1.1.1","rsaEncryption"),y("1.2.840.113549.1.1.4","md5WithRSAEncryption"),y("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),y("1.2.840.113549.1.1.7","RSAES-OAEP"),y("1.2.840.113549.1.1.8","mgf1"),y("1.2.840.113549.1.1.9","pSpecified"),y("1.2.840.113549.1.1.10","RSASSA-PSS"),y("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),y("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),y("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),y("1.3.101.112","EdDSA25519"),y("1.2.840.10040.4.3","dsa-with-sha1"),y("1.3.14.3.2.7","desCBC"),y("1.3.14.3.2.26","sha1"),y("1.3.14.3.2.29","sha1WithRSASignature"),y("2.16.840.1.101.3.4.2.1","sha256"),y("2.16.840.1.101.3.4.2.2","sha384"),y("2.16.840.1.101.3.4.2.3","sha512"),y("2.16.840.1.101.3.4.2.4","sha224"),y("2.16.840.1.101.3.4.2.5","sha512-224"),y("2.16.840.1.101.3.4.2.6","sha512-256"),y("1.2.840.113549.2.2","md2"),y("1.2.840.113549.2.5","md5"),y("1.2.840.113549.1.7.1","data"),y("1.2.840.113549.1.7.2","signedData"),y("1.2.840.113549.1.7.3","envelopedData"),y("1.2.840.113549.1.7.4","signedAndEnvelopedData"),y("1.2.840.113549.1.7.5","digestedData"),y("1.2.840.113549.1.7.6","encryptedData"),y("1.2.840.113549.1.9.1","emailAddress"),y("1.2.840.113549.1.9.2","unstructuredName"),y("1.2.840.113549.1.9.3","contentType"),y("1.2.840.113549.1.9.4","messageDigest"),y("1.2.840.113549.1.9.5","signingTime"),y("1.2.840.113549.1.9.6","counterSignature"),y("1.2.840.113549.1.9.7","challengePassword"),y("1.2.840.113549.1.9.8","unstructuredAddress"),y("1.2.840.113549.1.9.14","extensionRequest"),y("1.2.840.113549.1.9.20","friendlyName"),y("1.2.840.113549.1.9.21","localKeyId"),y("1.2.840.113549.1.9.22.1","x509Certificate"),y("1.2.840.113549.1.12.10.1.1","keyBag"),y("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),y("1.2.840.113549.1.12.10.1.3","certBag"),y("1.2.840.113549.1.12.10.1.4","crlBag"),y("1.2.840.113549.1.12.10.1.5","secretBag"),y("1.2.840.113549.1.12.10.1.6","safeContentsBag"),y("1.2.840.113549.1.5.13","pkcs5PBES2"),y("1.2.840.113549.1.5.12","pkcs5PBKDF2"),y("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),y("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),y("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),y("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),y("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),y("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),y("1.2.840.113549.2.7","hmacWithSHA1"),y("1.2.840.113549.2.8","hmacWithSHA224"),y("1.2.840.113549.2.9","hmacWithSHA256"),y("1.2.840.113549.2.10","hmacWithSHA384"),y("1.2.840.113549.2.11","hmacWithSHA512"),y("1.2.840.113549.3.7","des-EDE3-CBC"),y("2.16.840.1.101.3.4.1.2","aes128-CBC"),y("2.16.840.1.101.3.4.1.22","aes192-CBC"),y("2.16.840.1.101.3.4.1.42","aes256-CBC"),y("2.5.4.3","commonName"),y("2.5.4.4","surname"),y("2.5.4.5","serialNumber"),y("2.5.4.6","countryName"),y("2.5.4.7","localityName"),y("2.5.4.8","stateOrProvinceName"),y("2.5.4.9","streetAddress"),y("2.5.4.10","organizationName"),y("2.5.4.11","organizationalUnitName"),y("2.5.4.12","title"),y("2.5.4.13","description"),y("2.5.4.15","businessCategory"),y("2.5.4.17","postalCode"),y("2.5.4.42","givenName"),y("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),y("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),y("2.16.840.1.113730.1.1","nsCertType"),y("2.16.840.1.113730.1.13","nsComment"),p("2.5.29.1","authorityKeyIdentifier"),p("2.5.29.2","keyAttributes"),p("2.5.29.3","certificatePolicies"),p("2.5.29.4","keyUsageRestriction"),p("2.5.29.5","policyMapping"),p("2.5.29.6","subtreesConstraint"),p("2.5.29.7","subjectAltName"),p("2.5.29.8","issuerAltName"),p("2.5.29.9","subjectDirectoryAttributes"),p("2.5.29.10","basicConstraints"),p("2.5.29.11","nameConstraints"),p("2.5.29.12","policyConstraints"),p("2.5.29.13","basicConstraints"),y("2.5.29.14","subjectKeyIdentifier"),y("2.5.29.15","keyUsage"),p("2.5.29.16","privateKeyUsagePeriod"),y("2.5.29.17","subjectAltName"),y("2.5.29.18","issuerAltName"),y("2.5.29.19","basicConstraints"),p("2.5.29.20","cRLNumber"),p("2.5.29.21","cRLReason"),p("2.5.29.22","expirationDate"),p("2.5.29.23","instructionCode"),p("2.5.29.24","invalidityDate"),p("2.5.29.25","cRLDistributionPoints"),p("2.5.29.26","issuingDistributionPoint"),p("2.5.29.27","deltaCRLIndicator"),p("2.5.29.28","issuingDistributionPoint"),p("2.5.29.29","certificateIssuer"),p("2.5.29.30","nameConstraints"),y("2.5.29.31","cRLDistributionPoints"),y("2.5.29.32","certificatePolicies"),p("2.5.29.33","policyMappings"),p("2.5.29.34","policyConstraints"),y("2.5.29.35","authorityKeyIdentifier"),p("2.5.29.36","policyConstraints"),y("2.5.29.37","extKeyUsage"),p("2.5.29.46","freshestCRL"),p("2.5.29.54","inhibitAnyPolicy"),y("1.3.6.1.4.1.11129.2.4.2","timestampList"),y("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),y("1.3.6.1.5.5.7.3.1","serverAuth"),y("1.3.6.1.5.5.7.3.2","clientAuth"),y("1.3.6.1.5.5.7.3.3","codeSigning"),y("1.3.6.1.5.5.7.3.4","emailProtection"),y("1.3.6.1.5.5.7.3.8","timeStamping")},1347:(nt,fe,h)=>{var i=h(6589);if(h(57),h(7097),h(3674),h(5437),h(1817),h(1097),h(9368),h(1675),h(1881),h(2880),h(812),typeof e>"u")var e=i.jsbn.BigInteger;var y=i.asn1,p=i.pki=i.pki||{};nt.exports=p.pbe=i.pbe=i.pbe||{};var w=p.oids,C={name:"EncryptedPrivateKeyInfo",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},m={name:"PBES2Algorithms",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:y.Class.UNIVERSAL,type:y.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},d={name:"pkcs-12PbeParams",tagClass:y.Class.UNIVERSAL,type:y.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:y.Class.UNIVERSAL,type:y.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:y.Class.UNIVERSAL,type:y.Type.INTEGER,constructed:!1,capture:"iterations"}]};function f(b,M){return b.start().update(M).digest().getBytes()}function I(b){var M;if(b){if(!(M=p.oids[y.derToOid(b)])){var k=new Error("Unsupported PRF OID.");throw k.oid=b,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}}else M="hmacWithSHA1";return O(M)}function O(b){var M=i.md;switch(b){case"hmacWithSHA224":M=i.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":b=b.substr(8).toLowerCase();break;default:var k=new Error("Unsupported PRF algorithm.");throw k.algorithm=b,k.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],k}if(!M||!(b in M))throw new Error("Unknown hash algorithm: "+b);return M[b].create()}p.encryptPrivateKeyInfo=function(b,M,k){(k=k||{}).saltSize=k.saltSize||8,k.count=k.count||2048,k.algorithm=k.algorithm||"aes128",k.prfAlgorithm=k.prfAlgorithm||"sha1";var j,U,$,N=i.random.getBytesSync(k.saltSize),G=k.count,R=y.integerToDer(G);if(0===k.algorithm.indexOf("aes")||"des"===k.algorithm){var ne,se,L;switch(k.algorithm){case"aes128":j=16,ne=16,se=w["aes128-CBC"],L=i.aes.createEncryptionCipher;break;case"aes192":j=24,ne=16,se=w["aes192-CBC"],L=i.aes.createEncryptionCipher;break;case"aes256":j=32,ne=16,se=w["aes256-CBC"],L=i.aes.createEncryptionCipher;break;case"des":j=8,ne=8,se=w.desCBC,L=i.des.createEncryptionCipher;break;default:throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,J}var te="hmacWith"+k.prfAlgorithm.toUpperCase(),E=O(te),re=i.pkcs5.pbkdf2(M,N,G,j,E),K=i.random.getBytesSync(ne);(me=L(re)).start(K),me.update(y.toDer(b)),me.finish(),$=me.output.getBytes();var Ne=function P(b,M,k,N){var G=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,b),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,M.getBytes())]);return"hmacWithSHA1"!==N&&G.value.push(y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,i.util.hexToBytes(k.toString(16))),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(p.oids[N]).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.NULL,!1,"")])),G}(N,R,j,te);U=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w.pkcs5PBES2).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w.pkcs5PBKDF2).getBytes()),Ne]),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(se).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,K)])])])}else{var J;if("3des"!==k.algorithm)throw(J=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=k.algorithm,J;j=24;var me,Ae=new i.util.ByteBuffer(N);re=p.pbe.generatePkcs12Key(M,Ae,1,G,j),K=p.pbe.generatePkcs12Key(M,Ae,2,G,j),(me=i.des.createEncryptionCipher(re)).start(K),me.update(y.toDer(b)),me.finish(),$=me.output.getBytes(),U=y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OID,!1,y.oidToDer(w["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,N),y.create(y.Class.UNIVERSAL,y.Type.INTEGER,!1,R.getBytes())])])}return y.create(y.Class.UNIVERSAL,y.Type.SEQUENCE,!0,[U,y.create(y.Class.UNIVERSAL,y.Type.OCTETSTRING,!1,$)])},p.decryptPrivateKeyInfo=function(b,M){var k=null,N={},G=[];if(!y.validate(b,C,N,G)){var R=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw R.errors=G,R}var j=y.derToOid(N.encryptionOid),U=p.pbe.getCipher(j,N.encryptionParams,M),$=i.util.createBuffer(N.encryptedData);return U.update($),U.finish()&&(k=y.fromDer(U.output)),k},p.encryptedPrivateKeyToPem=function(b,M){var k={type:"ENCRYPTED PRIVATE KEY",body:y.toDer(b).getBytes()};return i.pem.encode(k,{maxline:M})},p.encryptedPrivateKeyFromPem=function(b){var M=i.pem.decode(b)[0];if("ENCRYPTED PRIVATE KEY"!==M.type){var k=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw k.headerType=M.type,k}if(M.procType&&"ENCRYPTED"===M.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return y.fromDer(M.body)},p.encryptRsaPrivateKey=function(b,M,k){if(!(k=k||{}).legacy){var N=p.wrapRsaPrivateKey(p.privateKeyToAsn1(b));return N=p.encryptPrivateKeyInfo(N,M,k),p.encryptedPrivateKeyToPem(N)}var G,R,j,U;switch(k.algorithm){case"aes128":G="AES-128-CBC",j=16,R=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"aes192":G="AES-192-CBC",j=24,R=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"aes256":G="AES-256-CBC",j=32,R=i.random.getBytesSync(16),U=i.aes.createEncryptionCipher;break;case"3des":G="DES-EDE3-CBC",j=24,R=i.random.getBytesSync(8),U=i.des.createEncryptionCipher;break;case"des":G="DES-CBC",j=8,R=i.random.getBytesSync(8),U=i.des.createEncryptionCipher;break;default:var $=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+k.algorithm+'".');throw $.algorithm=k.algorithm,$}var se=U(i.pbe.opensslDeriveBytes(M,R.substr(0,8),j));se.start(R),se.update(y.toDer(p.privateKeyToAsn1(b))),se.finish();var L={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:G,parameters:i.util.bytesToHex(R).toUpperCase()},body:se.output.getBytes()};return i.pem.encode(L)},p.decryptRsaPrivateKey=function(b,M){var k=null,N=i.pem.decode(b)[0];if("ENCRYPTED PRIVATE KEY"!==N.type&&"PRIVATE KEY"!==N.type&&"RSA PRIVATE KEY"!==N.type)throw(G=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=G,G;if(N.procType&&"ENCRYPTED"===N.procType.type){var R,j;switch(N.dekInfo.algorithm){case"DES-CBC":R=8,j=i.des.createDecryptionCipher;break;case"DES-EDE3-CBC":R=24,j=i.des.createDecryptionCipher;break;case"AES-128-CBC":R=16,j=i.aes.createDecryptionCipher;break;case"AES-192-CBC":R=24,j=i.aes.createDecryptionCipher;break;case"AES-256-CBC":R=32,j=i.aes.createDecryptionCipher;break;case"RC2-40-CBC":R=5,j=function(L){return i.rc2.createDecryptionCipher(L,40)};break;case"RC2-64-CBC":R=8,j=function(L){return i.rc2.createDecryptionCipher(L,64)};break;case"RC2-128-CBC":R=16,j=function(L){return i.rc2.createDecryptionCipher(L,128)};break;default:var G;throw(G=new Error('Could not decrypt private key; unsupported encryption algorithm "'+N.dekInfo.algorithm+'".')).algorithm=N.dekInfo.algorithm,G}var U=i.util.hexToBytes(N.dekInfo.parameters),ne=j(i.pbe.opensslDeriveBytes(M,U.substr(0,8),R));if(ne.start(U),ne.update(i.util.createBuffer(N.body)),!ne.finish())return k;k=ne.output.getBytes()}else k=N.body;return null!==(k="ENCRYPTED PRIVATE KEY"===N.type?p.decryptPrivateKeyInfo(y.fromDer(k),M):y.fromDer(k))&&(k=p.privateKeyFromAsn1(k)),k},p.pbe.generatePkcs12Key=function(b,M,k,N,G,R){var j,U;if(typeof R>"u"||null===R){if(!("sha1"in i.md))throw new Error('"sha1" hash algorithm unavailable.');R=i.md.sha1.create()}var $=R.digestLength,ne=R.blockLength,se=new i.util.ByteBuffer,L=new i.util.ByteBuffer;if(null!=b){for(U=0;U<b.length;U++)L.putInt16(b.charCodeAt(U));L.putInt16(0)}var J=L.length(),te=M.length(),E=new i.util.ByteBuffer;E.fillWithByte(k,ne);var re=ne*Math.ceil(te/ne),K=new i.util.ByteBuffer;for(U=0;U<re;U++)K.putByte(M.at(U%te));var me=ne*Math.ceil(J/ne),Ne=new i.util.ByteBuffer;for(U=0;U<me;U++)Ne.putByte(L.at(U%J));var Ae=K;Ae.putBuffer(Ne);for(var xe=Math.ceil(G/$),Qe=1;Qe<=xe;Qe++){var Ee=new i.util.ByteBuffer;Ee.putBytes(E.bytes()),Ee.putBytes(Ae.bytes());for(var be=0;be<N;be++)R.start(),R.update(Ee.getBytes()),Ee=R.digest();var le=new i.util.ByteBuffer;for(U=0;U<ne;U++)le.putByte(Ee.at(U%$));var Pe=Math.ceil(te/ne)+Math.ceil(J/ne),Ie=new i.util.ByteBuffer;for(j=0;j<Pe;j++){var st=new i.util.ByteBuffer(Ae.getBytes(ne)),Oe=511;for(U=le.length()-1;U>=0;U--)Oe>>=8,Oe+=le.at(U)+st.at(U),st.setAt(U,255&Oe);Ie.putBuffer(st)}Ae=Ie,se.putBuffer(Ee)}return se.truncate(se.length()-G),se},p.pbe.getCipher=function(b,M,k){switch(b){case p.oids.pkcs5PBES2:return p.pbe.getCipherForPBES2(b,M,k);case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case p.oids["pbewithSHAAnd40BitRC2-CBC"]:return p.pbe.getCipherForPKCS12PBE(b,M,k);default:var N=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw N.oid=b,N.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],N}},p.pbe.getCipherForPBES2=function(b,M,k){var R,N={},G=[];if(!y.validate(M,m,N,G))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,R;if((b=y.derToOid(N.kdfOid))!==p.oids.pkcs5PBKDF2)throw(R=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=b,R.supportedOids=["pkcs5PBKDF2"],R;if((b=y.derToOid(N.encOid))!==p.oids["aes128-CBC"]&&b!==p.oids["aes192-CBC"]&&b!==p.oids["aes256-CBC"]&&b!==p.oids["des-EDE3-CBC"]&&b!==p.oids.desCBC)throw(R=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=b,R.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],R;var $,ne,j=N.kdfSalt,U=i.util.createBuffer(N.kdfIterationCount);switch(U=U.getInt(U.length()<<3),p.oids[b]){case"aes128-CBC":$=16,ne=i.aes.createDecryptionCipher;break;case"aes192-CBC":$=24,ne=i.aes.createDecryptionCipher;break;case"aes256-CBC":$=32,ne=i.aes.createDecryptionCipher;break;case"des-EDE3-CBC":$=24,ne=i.des.createDecryptionCipher;break;case"desCBC":$=8,ne=i.des.createDecryptionCipher}var se=I(N.prfOid),L=i.pkcs5.pbkdf2(k,j,U,$,se),J=N.encIv,te=ne(L);return te.start(J),te},p.pbe.getCipherForPKCS12PBE=function(b,M,k){var N={},G=[];if(!y.validate(M,d,N,G))throw(R=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=G,R;var $,ne,se,j=i.util.createBuffer(N.salt),U=i.util.createBuffer(N.iterations);switch(U=U.getInt(U.length()<<3),b){case p.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:$=24,ne=8,se=i.des.startDecrypting;break;case p.oids["pbewithSHAAnd40BitRC2-CBC"]:$=5,ne=8,se=function(re,K){var me=i.rc2.createDecryptionCipher(re,40);return me.start(K,null),me};break;default:var R;throw(R=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=b,R}var L=I(N.prfOid),J=p.pbe.generatePkcs12Key(k,j,1,U,$,L);return L.start(),se(J,p.pbe.generatePkcs12Key(k,j,2,U,ne,L))},p.pbe.opensslDeriveBytes=function(b,M,k,N){if(typeof N>"u"||null===N){if(!("md5"in i.md))throw new Error('"md5" hash algorithm unavailable.');N=i.md.md5.create()}null===M&&(M="");for(var G=[f(N,b+M)],R=16,j=1;R<k;++j,R+=16)G.push(f(N,G[j-1]+b+M));return G.join("").substr(0,k)}},1097:(nt,fe,h)=>{var i=h(6589);h(4579),h(5437),h(812);var y,e=i.pkcs5=i.pkcs5||{};i.util.isNodejs&&!i.options.usePureJavaScript&&(y=h(310)),nt.exports=i.pbkdf2=e.pbkdf2=function(p,w,C,m,d,f){if("function"==typeof d&&(f=d,d=null),i.util.isNodejs&&!i.options.usePureJavaScript&&y.pbkdf2&&(null===d||"object"!=typeof d)&&(y.pbkdf2Sync.length>4||!d||"sha1"===d))return"string"!=typeof d&&(d="sha1"),p=Buffer.from(p,"binary"),w=Buffer.from(w,"binary"),f?4===y.pbkdf2Sync.length?y.pbkdf2(p,w,C,m,function(se,L){if(se)return f(se);f(null,L.toString("binary"))}):y.pbkdf2(p,w,C,m,d,function(se,L){if(se)return f(se);f(null,L.toString("binary"))}):4===y.pbkdf2Sync.length?y.pbkdf2Sync(p,w,C,m).toString("binary"):y.pbkdf2Sync(p,w,C,m,d).toString("binary");if((typeof d>"u"||null===d)&&(d="sha1"),"string"==typeof d){if(!(d in i.md.algorithms))throw new Error("Unknown hash algorithm: "+d);d=i.md[d].create()}var I=d.digestLength;if(m>4294967295*I){var O=new Error("Derived key is too long.");if(f)return f(O);throw O}var P=Math.ceil(m/I),b=m-(P-1)*I,M=i.hmac.create();M.start(d,p);var N,G,R,k="";if(!f){for(var j=1;j<=P;++j){M.start(null,null),M.update(w),M.update(i.util.int32ToBytes(j)),N=R=M.digest().getBytes();for(var U=2;U<=C;++U)M.start(null,null),M.update(R),G=M.digest().getBytes(),N=i.util.xorBytes(N,G,I),R=G;k+=j<P?N:N.substr(0,b)}return k}function $(){if(j>P)return f(null,k);M.start(null,null),M.update(w),M.update(i.util.int32ToBytes(j)),N=R=M.digest().getBytes(),U=2,ne()}function ne(){if(U<=C)return M.start(null,null),M.update(R),G=M.digest().getBytes(),N=i.util.xorBytes(N,G,I),R=G,++U,i.util.setImmediate(ne);k+=j<P?N:N.substr(0,b),++j,$()}j=1,$()}},9368:(nt,fe,h)=>{var i=h(6589);h(812);var e=nt.exports=i.pem=i.pem||{};function y(w){for(var C=w.name+": ",m=[],d=function(b,M){return" "+M},f=0;f<w.values.length;++f)m.push(w.values[f].replace(/^(\S+\r\n)/,d));C+=m.join(",")+"\r\n";var I=0,O=-1;for(f=0;f<C.length;++f,++I)if(I>65&&-1!==O){var P=C[O];","===P?(++O,C=C.substr(0,O)+"\r\n "+C.substr(O)):C=C.substr(0,O)+"\r\n"+P+C.substr(O+1),I=f-O-1,O=-1,++f}else(" "===C[f]||"\t"===C[f]||","===C[f])&&(O=f);return C}function p(w){return w.replace(/^\s+/,"")}e.encode=function(w,C){C=C||{};var d,m="-----BEGIN "+w.type+"-----\r\n";if(w.procType&&(m+=y(d={name:"Proc-Type",values:[String(w.procType.version),w.procType.type]})),w.contentDomain&&(m+=y(d={name:"Content-Domain",values:[w.contentDomain]})),w.dekInfo&&(d={name:"DEK-Info",values:[w.dekInfo.algorithm]},w.dekInfo.parameters&&d.values.push(w.dekInfo.parameters),m+=y(d)),w.headers)for(var f=0;f<w.headers.length;++f)m+=y(w.headers[f]);return w.procType&&(m+="\r\n"),(m+=i.util.encode64(w.body,C.maxline||64)+"\r\n")+"-----END "+w.type+"-----\r\n"},e.decode=function(w){for(var I,C=[],m=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,d=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,f=/\r?\n/;I=m.exec(w);){var O=I[1];"NEW CERTIFICATE REQUEST"===O&&(O="CERTIFICATE REQUEST");var P={type:O,procType:null,contentDomain:null,dekInfo:null,headers:[],body:i.util.decode64(I[3])};if(C.push(P),I[2]){for(var b=I[2].split(f),M=0;I&&M<b.length;){for(var k=b[M].replace(/\s+$/,""),N=M+1;N<b.length;++N){var G=b[N];if(!/\s/.test(G[0]))break;k+=G,M=N}if(I=k.match(d)){for(var R={name:I[1],values:[]},j=I[2].split(","),U=0;U<j.length;++U)R.values.push(p(j[U]));if(P.procType)if(P.contentDomain||"Content-Domain"!==R.name)if(P.dekInfo||"DEK-Info"!==R.name)P.headers.push(R);else{if(0===R.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');P.dekInfo={algorithm:j[0],parameters:j[1]||null}}else P.contentDomain=j[0]||"";else{if("Proc-Type"!==R.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==R.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');P.procType={version:j[0],type:j[1]}}}++M}if("ENCRYPTED"===P.procType&&!P.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===C.length)throw new Error("Invalid PEM formatted message.");return C}},8788:(nt,fe,h)=>{var i=h(6589);h(812),h(1675),h(8825);var e=nt.exports=i.pkcs1=i.pkcs1||{};function y(p,w,C){C||(C=i.md.sha1.create());for(var m="",d=Math.ceil(w/C.digestLength),f=0;f<d;++f){var I=String.fromCharCode(f>>24&255,f>>16&255,f>>8&255,255&f);C.start(),C.update(p+I),m+=C.digest().getBytes()}return m.substring(0,w)}e.encode_rsa_oaep=function(p,w,C){var m,d,f,I;"string"==typeof C?(m=C,d=arguments[3]||void 0,f=arguments[4]||void 0):C&&(m=C.label||void 0,d=C.seed||void 0,f=C.md||void 0,C.mgf1&&C.mgf1.md&&(I=C.mgf1.md)),f?f.start():f=i.md.sha1.create(),I||(I=f);var O=Math.ceil(p.n.bitLength()/8),P=O-2*f.digestLength-2;if(w.length>P)throw(b=new Error("RSAES-OAEP input message length is too long.")).length=w.length,b.maxLength=P,b;m||(m=""),f.update(m,"raw");for(var M=f.digest(),k="",N=P-w.length,G=0;G<N;G++)k+="\0";var R=M.getBytes()+k+"\x01"+w;if(d){if(d.length!==f.digestLength){var b;throw(b=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=d.length,b.digestLength=f.digestLength,b}}else d=i.random.getBytes(f.digestLength);var j=y(d,O-f.digestLength-1,I),U=i.util.xorBytes(R,j,R.length),$=y(U,f.digestLength,I);return"\0"+i.util.xorBytes(d,$,d.length)+U},e.decode_rsa_oaep=function(p,w,C){var m,d,f;"string"==typeof C?(m=C,d=arguments[3]||void 0):C&&(m=C.label||void 0,d=C.md||void 0,C.mgf1&&C.mgf1.md&&(f=C.mgf1.md));var I=Math.ceil(p.n.bitLength()/8);if(w.length!==I)throw(U=new Error("RSAES-OAEP encoded message length is invalid.")).length=w.length,U.expectedLength=I,U;if(void 0===d?d=i.md.sha1.create():d.start(),f||(f=d),I<2*d.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");m||(m=""),d.update(m,"raw");for(var O=d.digest().getBytes(),P=w.charAt(0),b=w.substring(1,d.digestLength+1),M=w.substring(1+d.digestLength),k=y(M,d.digestLength,f),G=y(i.util.xorBytes(b,k,b.length),I-d.digestLength-1,f),R=i.util.xorBytes(M,G,M.length),j=R.substring(0,d.digestLength),U="\0"!==P,$=0;$<d.digestLength;++$)U|=O.charAt($)!==j.charAt($);for(var ne=1,se=d.digestLength,L=d.digestLength;L<R.length;L++){var J=R.charCodeAt(L);U|=J&(ne?65534:0),se+=ne&=1&J^1}if(U||1!==R.charCodeAt(se))throw new Error("Invalid RSAES-OAEP padding.");return R.substring(se+1)}},4724:(nt,fe,h)=>{var i=h(6589);h(7097),h(4579),h(1817),h(8291),h(1347),h(1675),h(2880),h(8825),h(812),h(9436);var e=i.asn1,y=i.pki,p=nt.exports=i.pkcs12=i.pkcs12||{},w={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},C={name:"PFX",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},w,{name:"PFX.macData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},m={name:"SafeBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},d={name:"Attribute",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,capture:"values"}]},f={name:"CertBag",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:e.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:e.Class.UNIVERSAL,type:e.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function I(N,G,R,j){for(var U=[],$=0;$<N.length;$++)for(var ne=0;ne<N[$].safeBags.length;ne++){var se=N[$].safeBags[ne];if(void 0===j||se.type===j){if(null===G){U.push(se);continue}void 0!==se.attributes[G]&&se.attributes[G].indexOf(R)>=0&&U.push(se)}}return U}function O(N){if(N.composed||N.constructed){for(var G=i.util.createBuffer(),R=0;R<N.value.length;++R)G.putBytes(N.value[R].value);N.composed=N.constructed=!1,N.value=G.getBytes()}return N}function b(N,G){var R={},j=[];if(!e.validate(N,i.pkcs7.asn1.encryptedDataValidator,R,j))throw(U=new Error("Cannot read EncryptedContentInfo.")).errors=j,U;var U,$=e.derToOid(R.contentType);if($!==y.oids.data)throw(U=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=$,U;$=e.derToOid(R.encAlgorithm);var ne=y.pbe.getCipher($,R.encParameter,G),se=O(R.encryptedContentAsn1),L=i.util.createBuffer(se.value);if(ne.update(L),!ne.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return ne.output.getBytes()}function M(N,G,R){if(!G&&0===N.length)return[];if((N=e.fromDer(N,G)).tagClass!==e.Class.UNIVERSAL||N.type!==e.Type.SEQUENCE||!0!==N.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var j=[],U=0;U<N.value.length;U++){var ne={},se=[];if(!e.validate(N.value[U],m,ne,se))throw(L=new Error("Cannot read SafeBag.")).errors=se,L;var J={type:e.derToOid(ne.bagId),attributes:k(ne.bagAttributes)};j.push(J);var te,E,re=ne.bagValue.value[0];switch(J.type){case y.oids.pkcs8ShroudedKeyBag:if(null===(re=y.decryptPrivateKeyInfo(re,R)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case y.oids.keyBag:try{J.key=y.privateKeyFromAsn1(re)}catch{J.key=null,J.asn1=re}continue;case y.oids.certBag:te=f,E=function(){if(e.derToOid(ne.certId)!==y.oids.x509Certificate){var me=new Error("Unsupported certificate type, only X.509 supported.");throw me.oid=e.derToOid(ne.certId),me}var Ne=e.fromDer(ne.cert,G);try{J.cert=y.certificateFromAsn1(Ne,!0)}catch{J.cert=null,J.asn1=Ne}};break;default:var L;throw(L=new Error("Unsupported PKCS#12 SafeBag type.")).oid=J.type,L}if(void 0!==te&&!e.validate(re,te,ne,se))throw(L=new Error("Cannot read PKCS#12 "+te.name)).errors=se,L;E()}return j}function k(N){var G={};if(void 0!==N)for(var R=0;R<N.length;++R){var j={},U=[];if(!e.validate(N[R],d,j,U)){var $=new Error("Cannot read PKCS#12 BagAttribute.");throw $.errors=U,$}var ne=e.derToOid(j.oid);if(void 0!==y.oids[ne]){G[y.oids[ne]]=[];for(var se=0;se<j.values.length;++se)G[y.oids[ne]].push(j.values[se].value)}}return G}p.pkcs12FromAsn1=function(N,G,R){"string"==typeof G?(R=G,G=!0):void 0===G&&(G=!0);var j={};if(!e.validate(N,C,j,[]))throw($=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=$,$;var $,ne={version:j.version.charCodeAt(0),safeContents:[],getBags:function(Ae){var Qe,xe={};return"localKeyId"in Ae?Qe=Ae.localKeyId:"localKeyIdHex"in Ae&&(Qe=i.util.hexToBytes(Ae.localKeyIdHex)),void 0===Qe&&!("friendlyName"in Ae)&&"bagType"in Ae&&(xe[Ae.bagType]=I(ne.safeContents,null,null,Ae.bagType)),void 0!==Qe&&(xe.localKeyId=I(ne.safeContents,"localKeyId",Qe,Ae.bagType)),"friendlyName"in Ae&&(xe.friendlyName=I(ne.safeContents,"friendlyName",Ae.friendlyName,Ae.bagType)),xe},getBagsByFriendlyName:function(Ae,xe){return I(ne.safeContents,"friendlyName",Ae,xe)},getBagsByLocalKeyId:function(Ae,xe){return I(ne.safeContents,"localKeyId",Ae,xe)}};if(3!==j.version.charCodeAt(0))throw($=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=j.version.charCodeAt(0),$;if(e.derToOid(j.contentType)!==y.oids.data)throw($=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=e.derToOid(j.contentType),$;var se=j.content.value[0];if(se.tagClass!==e.Class.UNIVERSAL||se.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(se=O(se),j.mac){var L=null,J=0,te=e.derToOid(j.macAlgorithm);switch(te){case y.oids.sha1:L=i.md.sha1.create(),J=20;break;case y.oids.sha256:L=i.md.sha256.create(),J=32;break;case y.oids.sha384:L=i.md.sha384.create(),J=48;break;case y.oids.sha512:L=i.md.sha512.create(),J=64;break;case y.oids.md5:L=i.md.md5.create(),J=16}if(null===L)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+te);var E=new i.util.ByteBuffer(j.macSalt),re="macIterations"in j?parseInt(i.util.bytesToHex(j.macIterations),16):1,K=p.generateKey(R,E,3,re,J,L),me=i.hmac.create();if(me.start(L,K),me.update(se.value),me.getMac().getBytes()!==j.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function P(N,G,R,j){if((G=e.fromDer(G,R)).tagClass!==e.Class.UNIVERSAL||G.type!==e.Type.SEQUENCE||!0!==G.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var U=0;U<G.value.length;U++){var ne={},se=[];if(!e.validate(G.value[U],w,ne,se))throw(L=new Error("Cannot read ContentInfo.")).errors=se,L;var J={encrypted:!1},te=null,E=ne.content.value[0];switch(e.derToOid(ne.contentType)){case y.oids.data:if(E.tagClass!==e.Class.UNIVERSAL||E.type!==e.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");te=O(E).value;break;case y.oids.encryptedData:te=b(E,j),J.encrypted=!0;break;default:var L;throw(L=new Error("Unsupported PKCS#12 contentType.")).contentType=e.derToOid(ne.contentType),L}J.safeBags=M(te,R,j),N.safeContents.push(J)}}(ne,se.value,G,R),ne},p.toPkcs12Asn1=function(N,G,R,j){(j=j||{}).saltSize=j.saltSize||8,j.count=j.count||2048,j.algorithm=j.algorithm||j.encAlgorithm||"aes128","useMac"in j||(j.useMac=!0),"localKeyId"in j||(j.localKeyId=null),"generateLocalKeyId"in j||(j.generateLocalKeyId=!0);var $,U=j.localKeyId;if(null!==U)U=i.util.hexToBytes(U);else if(j.generateLocalKeyId)if(G){var ne=i.util.isArray(G)?G[0]:G;"string"==typeof ne&&(ne=y.certificateFromPem(ne)),(se=i.md.sha1.create()).update(e.toDer(y.certificateToAsn1(ne)).getBytes()),U=se.digest().getBytes()}else U=i.random.getBytes(20);var L=[];null!==U&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.localKeyId).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)])])),"friendlyName"in j&&L.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.friendlyName).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.BMPSTRING,!1,j.friendlyName)])])),L.length>0&&($=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,L));var J=[],te=[];null!==G&&(te=i.util.isArray(G)?G:[G]);for(var E=[],re=0;re<te.length;++re){"string"==typeof(G=te[re])&&(G=y.certificateFromPem(G));var K=0===re?$:void 0,me=y.certificateToAsn1(G),Ne=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.certBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.x509Certificate).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(me).getBytes())])])]),K]);E.push(Ne)}if(E.length>0){var Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,E),xe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Ae).getBytes())])]);J.push(xe)}var Qe=null;if(null!==N){var Ee=y.wrapRsaPrivateKey(y.privateKeyToAsn1(N));Qe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,null===R?[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.keyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[Ee]),$]:[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.pkcs8ShroudedKeyBag).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[y.encryptPrivateKeyInfo(Ee,R,j)]),$]);var be=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[Qe]),le=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(be).getBytes())])]);J.push(le)}var Ie,Pe=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,J);if(j.useMac){var se=i.md.sha1.create(),st=new i.util.ByteBuffer(i.random.getBytes(j.saltSize)),Oe=j.count,pt=(N=p.generateKey(R,st,3,Oe,20),i.hmac.create());pt.start(se,N),pt.update(e.toDer(Pe).getBytes());var Ye=pt.getMac();Ie=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.sha1).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ye.getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,st.getBytes()),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(Oe).getBytes())])}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(3).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(y.oids.data).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,e.toDer(Pe).getBytes())])]),Ie])},p.generateKey=i.pbe.generatePkcs12Key},8645:(nt,fe,h)=>{var i=h(6589);h(57),h(7097),h(3674),h(1817),h(9368),h(8291),h(1675),h(812),h(9436);var e=i.asn1,y=nt.exports=i.pkcs7=i.pkcs7||{};function p(N){var G={},R=[];if(!e.validate(N,y.asn1.recipientInfoValidator,G,R)){var j=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw j.errors=R,j}return{version:G.version.charCodeAt(0),issuer:i.pki.RDNAttributesAsArray(G.issuer),serialNumber:i.util.createBuffer(G.serial).toHex(),encryptedContent:{algorithm:e.derToOid(G.encAlgorithm),parameter:G.encParameter?G.encParameter.value:void 0,content:G.encKey}}}function w(N){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:N.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(N.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.encryptedContent.algorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]),e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.encryptedContent.content)])}function m(N){for(var G=[],R=0;R<N.length;++R)G.push(w(N[R]));return G}function f(N){var G=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[i.pki.distinguishedNameToAsn1({attributes:N.issuer}),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(N.serialNumber))]),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.digestAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])]);if(N.authenticatedAttributesAsn1&&G.value.push(N.authenticatedAttributesAsn1),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.signatureAlgorithm).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])),G.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.signature)),N.unauthenticatedAttributes.length>0){for(var R=e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[]),j=0;j<N.unauthenticatedAttributes.length;++j)R.values.push(P(N.unauthenticatedAttributes[j]));G.value.push(R)}return G}function P(N){var G;if(N.type===i.pki.oids.contentType)G=e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.value).getBytes());else if(N.type===i.pki.oids.messageDigest)G=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.value.bytes());else if(N.type===i.pki.oids.signingTime){var R=new Date("1950-01-01T00:00:00Z"),j=new Date("2050-01-01T00:00:00Z"),U=N.value;if("string"==typeof U){var $=Date.parse(U);U=isNaN($)?13===U.length?e.utcTimeToDate(U):e.generalizedTimeToDate(U):new Date($)}G=U>=R&&U<j?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(U)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(U))}return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[G])])}function b(N){return[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.algorithm).getBytes()),N.parameter?e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.parameter.getBytes()):void 0]),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,N.content.getBytes())])]}function M(N,G,R){var j={};if(!e.validate(G,R,j,[])){var $=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw $.errors=$,$}if(e.derToOid(j.contentType)!==i.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(j.encryptedContent){var se="";if(i.util.isArray(j.encryptedContent))for(var L=0;L<j.encryptedContent.length;++L){if(j.encryptedContent[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");se+=j.encryptedContent[L].value}else se=j.encryptedContent;N.encryptedContent={algorithm:e.derToOid(j.encAlgorithm),parameter:i.util.createBuffer(j.encParameter.value),content:i.util.createBuffer(se)}}if(j.content){if(se="",i.util.isArray(j.content))for(L=0;L<j.content.length;++L){if(j.content[L].type!==e.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");se+=j.content[L].value}else se=j.content;N.content=i.util.createBuffer(se)}return N.version=j.version.charCodeAt(0),N.rawCapture=j,j}function k(N){if(void 0===N.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===N.content){var G;switch(N.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:case i.pki.oids["aes192-CBC"]:case i.pki.oids["aes256-CBC"]:G=i.aes.createDecryptionCipher(N.encryptedContent.key);break;case i.pki.oids.desCBC:case i.pki.oids["des-EDE3-CBC"]:G=i.des.createDecryptionCipher(N.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+N.encryptedContent.algorithm)}if(G.start(N.encryptedContent.parameter),G.update(N.encryptedContent.content),!G.finish())throw new Error("Symmetric decryption failed.");N.content=G.output}}y.messageFromPem=function(N){var G=i.pem.decode(N)[0];if("PKCS7"!==G.type){var R=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw R.headerType=G.type,R}if(G.procType&&"ENCRYPTED"===G.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var j=e.fromDer(G.body);return y.messageFromAsn1(j)},y.messageToPem=function(N,G){var R={type:"PKCS7",body:e.toDer(N.toAsn1()).getBytes()};return i.pem.encode(R,{maxline:G})},y.messageFromAsn1=function(N){var G={},R=[];if(!e.validate(N,y.asn1.contentInfoValidator,G,R)){var j=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw j.errors=R,j}var $,U=e.derToOid(G.contentType);switch(U){case i.pki.oids.envelopedData:$=y.createEnvelopedData();break;case i.pki.oids.encryptedData:$=y.createEncryptedData();break;case i.pki.oids.signedData:$=y.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+U+" is not (yet) supported.")}return $.fromAsn1(G.content.value[0]),$},y.createSignedData=function(){var N=null;return N={type:i.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(j){if(M(N,j,y.asn1.signedDataValidator),N.certificates=[],N.crls=[],N.digestAlgorithmIdentifiers=[],N.contentInfo=null,N.signerInfos=[],N.rawCapture.certificates)for(var U=N.rawCapture.certificates.value,$=0;$<U.length;++$)N.certificates.push(i.pki.certificateFromAsn1(U[$]))},toAsn1:function(){N.contentInfo||N.sign();for(var j=[],U=0;U<N.certificates.length;++U)j.push(i.pki.certificateToAsn1(N.certificates[U]));var $=[],ne=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,N.digestAlgorithmIdentifiers),N.contentInfo])]);return j.length>0&&ne.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,j)),$.length>0&&ne.value[0].value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,$)),ne.value[0].value.push(e.create(e.Class.UNIVERSAL,e.Type.SET,!0,N.signerInfos)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),ne])},addSigner:function(j){var U=j.issuer,$=j.serialNumber;if(j.certificate){var ne=j.certificate;"string"==typeof ne&&(ne=i.pki.certificateFromPem(ne)),U=ne.issuer.attributes,$=ne.serialNumber}var se=j.key;if(!se)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof se&&(se=i.pki.privateKeyFromPem(se));var L=j.digestAlgorithm||i.pki.oids.sha1;switch(L){case i.pki.oids.sha1:case i.pki.oids.sha256:case i.pki.oids.sha384:case i.pki.oids.sha512:case i.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+L)}var J=j.authenticatedAttributes||[];if(J.length>0){for(var te=!1,E=!1,re=0;re<J.length;++re){var K=J[re];if(te||K.type!==i.pki.oids.contentType){if(E||K.type!==i.pki.oids.messageDigest);else if(E=!0,te)break}else if(te=!0,E)break}if(!te||!E)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}N.signers.push({key:se,version:1,issuer:U,serialNumber:$,digestAlgorithm:L,signatureAlgorithm:i.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:J,unauthenticatedAttributes:[]})},sign:function(j){var U;if(j=j||{},"object"==typeof N.content&&null!==N.contentInfo||(N.contentInfo=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(i.pki.oids.data).getBytes())]),!("content"in N))||(N.content instanceof i.util.ByteBuffer?U=N.content.bytes():"string"==typeof N.content&&(U=i.util.encodeUtf8(N.content)),j.detached?N.detachedContent=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U):N.contentInfo.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,U)]))),0!==N.signers.length){var $=function G(){for(var j={},U=0;U<N.signers.length;++U){var $=N.signers[U];(ne=$.digestAlgorithm)in j||(j[ne]=i.md[i.pki.oids[ne]].create()),$.md=0===$.authenticatedAttributes.length?j[ne]:i.md[i.pki.oids[ne]].create()}for(var ne in N.digestAlgorithmIdentifiers=[],j)N.digestAlgorithmIdentifiers.push(e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(ne).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")]));return j}();!function R(j){var U;if(N.detachedContent?U=N.detachedContent:U=(U=N.contentInfo.value[1]).value[0],!U)throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var $=e.derToOid(N.contentInfo.value[0].value),ne=e.toDer(U);for(var se in ne.getByte(),e.getBerValueLength(ne),ne=ne.getBytes(),j)j[se].start().update(ne);for(var L=new Date,J=0;J<N.signers.length;++J){var te=N.signers[J];if(0===te.authenticatedAttributes.length){if($!==i.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{te.authenticatedAttributesAsn1=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[]),re=0;re<te.authenticatedAttributes.length;++re){var K=te.authenticatedAttributes[re];K.type===i.pki.oids.messageDigest?K.value=j[te.digestAlgorithm].digest():K.type===i.pki.oids.signingTime&&(K.value||(K.value=L)),E.value.push(P(K)),te.authenticatedAttributesAsn1.value.push(P(K))}ne=e.toDer(E).getBytes(),te.md.start().update(ne)}te.signature=te.key.sign(te.md,"RSASSA-PKCS1-V1_5")}N.signerInfos=function O(N){for(var G=[],R=0;R<N.length;++R)G.push(f(N[R]));return G}(N.signers)}($)}},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(j){"string"==typeof j&&(j=i.pki.certificateFromPem(j)),N.certificates.push(j)},addCertificateRevokationList:function(j){throw new Error("PKCS#7 CRL support not yet implemented.")}}},y.createEncryptedData=function(){var N=null;return N={type:i.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(G){M(N,G,y.asn1.encryptedDataValidator)},decrypt:function(G){void 0!==G&&(N.encryptedContent.key=G),k(N)}}},y.createEnvelopedData=function(){var N=null;return N={type:i.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:i.pki.oids["aes256-CBC"]},fromAsn1:function(G){var R=M(N,G,y.asn1.envelopedDataValidator);N.recipients=function C(N){for(var G=[],R=0;R<N.length;++R)G.push(p(N[R]));return G}(R.recipientInfos.value)},toAsn1:function(){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(N.type).getBytes()),e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(N.version).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,m(N.recipients)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,b(N.encryptedContent))])])])},findRecipient:function(G){for(var R=G.issuer.attributes,j=0;j<N.recipients.length;++j){var U=N.recipients[j],$=U.issuer;if(U.serialNumber===G.serialNumber&&$.length===R.length){for(var ne=!0,se=0;se<R.length;++se)if($[se].type!==R[se].type||$[se].value!==R[se].value){ne=!1;break}if(ne)return U}}return null},decrypt:function(G,R){if(void 0===N.encryptedContent.key&&void 0!==G&&void 0!==R)switch(G.encryptedContent.algorithm){case i.pki.oids.rsaEncryption:case i.pki.oids.desCBC:var j=R.decrypt(G.encryptedContent.content);N.encryptedContent.key=i.util.createBuffer(j);break;default:throw new Error("Unsupported asymmetric cipher, OID "+G.encryptedContent.algorithm)}k(N)},addRecipient:function(G){N.recipients.push({version:0,issuer:G.issuer.attributes,serialNumber:G.serialNumber,encryptedContent:{algorithm:i.pki.oids.rsaEncryption,key:G.publicKey}})},encrypt:function(G,R){if(void 0===N.encryptedContent.content){var j,U,$;switch(G=G||N.encryptedContent.key,R=R||N.encryptedContent.algorithm){case i.pki.oids["aes128-CBC"]:j=16,U=16,$=i.aes.createEncryptionCipher;break;case i.pki.oids["aes192-CBC"]:j=24,U=16,$=i.aes.createEncryptionCipher;break;case i.pki.oids["aes256-CBC"]:j=32,U=16,$=i.aes.createEncryptionCipher;break;case i.pki.oids["des-EDE3-CBC"]:j=24,U=8,$=i.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+R)}if(void 0===G)G=i.util.createBuffer(i.random.getBytes(j));else if(G.length()!=j)throw new Error("Symmetric key has wrong length; got "+G.length()+" bytes, expected "+j+".");N.encryptedContent.algorithm=R,N.encryptedContent.key=G,N.encryptedContent.parameter=i.util.createBuffer(i.random.getBytes(U));var ne=$(G);if(ne.start(N.encryptedContent.parameter.copy()),ne.update(N.content),!ne.finish())throw new Error("Symmetric encryption failed.");N.encryptedContent.content=ne.output}for(var se=0;se<N.recipients.length;++se){var L=N.recipients[se];if(void 0===L.encryptedContent.content){if(L.encryptedContent.algorithm!==i.pki.oids.rsaEncryption)throw new Error("Unsupported asymmetric cipher, OID "+L.encryptedContent.algorithm);L.encryptedContent.content=L.encryptedContent.key.encrypt(N.encryptedContent.key.data)}}}}}},8291:(nt,fe,h)=>{var i=h(6589);h(7097),h(812);var e=i.asn1,y=nt.exports=i.pkcs7asn1=i.pkcs7asn1||{};i.pkcs7=i.pkcs7||{},i.pkcs7.asn1=y;var p={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};y.contentInfoValidator=p;var w={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};y.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(w)},y.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(w)},y.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},p,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},y.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}},9622:(nt,fe,h)=>{var i=h(6589);h(7097),h(1817),h(1347),h(9368),h(1097),h(4724),h(8588),h(2880),h(812),h(9436);var e=i.asn1,y=nt.exports=i.pki=i.pki||{};y.pemToDer=function(p){var w=i.pem.decode(p)[0];if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return i.util.createBuffer(w.body)},y.privateKeyFromPem=function(p){var w=i.pem.decode(p)[0];if("PRIVATE KEY"!==w.type&&"RSA PRIVATE KEY"!==w.type){var C=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw C.headerType=w.type,C}if(w.procType&&"ENCRYPTED"===w.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var m=e.fromDer(w.body);return y.privateKeyFromAsn1(m)},y.privateKeyToPem=function(p,w){var C={type:"RSA PRIVATE KEY",body:e.toDer(y.privateKeyToAsn1(p)).getBytes()};return i.pem.encode(C,{maxline:w})},y.privateKeyInfoToPem=function(p,w){var C={type:"PRIVATE KEY",body:e.toDer(p).getBytes()};return i.pem.encode(C,{maxline:w})}},3697:(nt,fe,h)=>{var i=h(6589);h(812),h(3364),h(1675),function(){if(i.prime)nt.exports=i.prime;else{var e=nt.exports=i.prime=i.prime||{},y=i.jsbn.BigInteger,p=[6,4,2,4,2,4,6,2],w=new y(null);w.fromInt(30);var C=function(b,M){return b|M};e.generateProbablePrime=function(b,M,k){"function"==typeof M&&(k=M,M={});var N=(M=M||{}).algorithm||"PRIMEINC";"string"==typeof N&&(N={name:N}),N.options=N.options||{};var G=M.prng||i.random;if("PRIMEINC"===N.name)return function m(b,M,k,N){return"workers"in k?function I(b,M,k,N){if(typeof Worker>"u")return d(b,M,k,N);var G=O(b,M),R=k.workers,j=k.workLoad||100,U=30*j/8,$=k.workerScript||"forge/prime.worker.js";if(-1===R)return i.util.estimateCores(function(se,L){se&&(L=2),R=L-1,ne()});function ne(){R=Math.max(1,R);for(var se=[],L=0;L<R;++L)se[L]=new Worker($);for(L=0;L<R;++L)se[L].addEventListener("message",E);var te=!1;function E(re){if(!te){var K=re.data;if(K.found){for(var me=0;me<se.length;++me)se[me].terminate();return te=!0,N(null,new y(K.prime,16))}G.bitLength()>b&&(G=O(b,M));var Ne=G.toString(16);re.target.postMessage({hex:Ne,workLoad:j}),G.dAddOffset(U,0)}}}ne()}(b,M,k,N):d(b,M,k,N)}(b,{nextBytes:function(j){for(var U=G.getBytesSync(j.length),$=0;$<j.length;++$)j[$]=U.charCodeAt($)}},N.options,k);throw new Error("Invalid prime generation algorithm: "+N.name)}}function d(b,M,k,N){var G=O(b,M),j=function P(b){return b<=100?27:b<=150?18:b<=200?15:b<=250?12:b<=300?9:b<=350?8:b<=400?7:b<=500?6:b<=600?5:b<=800?4:b<=1250?3:2}(G.bitLength());"millerRabinTests"in k&&(j=k.millerRabinTests);var U=10;"maxBlockTime"in k&&(U=k.maxBlockTime),f(G,b,M,0,j,U,N)}function f(b,M,k,N,G,R,j){var U=+new Date;do{if(b.bitLength()>M&&(b=O(M,k)),b.isProbablePrime(G))return j(null,b);b.dAddOffset(p[N++%8],0)}while(R<0||+new Date-U<R);i.util.setImmediate(function(){f(b,M,k,N,G,R,j)})}function O(b,M){var k=new y(b,M),N=b-1;return k.testBit(N)||k.bitwiseTo(y.ONE.shiftLeft(N),C,k),k.dAddOffset(31-k.mod(w).byteValue(),0),k}}()},409:(nt,fe,h)=>{var i=h(6589);h(812);var e=null;i.util.isNodejs&&!i.options.usePureJavaScript&&!process.versions["node-webkit"]&&(e=h(310)),(nt.exports=i.prng=i.prng||{}).create=function(p){for(var w={plugin:p,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},C=p.md,m=new Array(32),d=0;d<32;++d)m[d]=C.create();function I(){if(w.pools[0].messageLength>=32)return O();w.collect(w.seedFileSync(32-w.pools[0].messageLength<<5)),O()}function O(){w.reseeds=4294967295===w.reseeds?0:w.reseeds+1;var b=w.plugin.md.create();b.update(w.keyBytes);for(var M=1,k=0;k<32;++k)w.reseeds%M==0&&(b.update(w.pools[k].digest().getBytes()),w.pools[k].start()),M<<=1;w.keyBytes=b.digest().getBytes(),b.start(),b.update(w.keyBytes);var N=b.digest().getBytes();w.key=w.plugin.formatKey(w.keyBytes),w.seed=w.plugin.formatSeed(N),w.generated=0}function P(b){var M=null,k=i.util.globalScope,N=k.crypto||k.msCrypto;N&&N.getRandomValues&&(M=function(J){return N.getRandomValues(J)});var G=i.util.createBuffer();if(M)for(;G.length()<b;){var R=Math.max(1,Math.min(b-G.length(),65536)/4),j=new Uint32Array(Math.floor(R));try{M(j);for(var U=0;U<j.length;++U)G.putInt32(j[U])}catch(J){if(!(typeof QuotaExceededError<"u"&&J instanceof QuotaExceededError))throw J}}if(G.length()<b)for(var $,ne,se,L=Math.floor(65536*Math.random());G.length()<b;)for(ne=16807*(65535&L),ne+=(32767&($=16807*(L>>16)))<<16,L=4294967295&(ne=(2147483647&(ne+=$>>15))+(ne>>31)),U=0;U<3;++U)se=L>>>(U<<3),se^=Math.floor(256*Math.random()),G.putByte(255&se);return G.getBytes(b)}return w.pools=m,w.pool=0,w.generate=function(b,M){if(!M)return w.generateSync(b);var k=w.plugin.cipher,N=w.plugin.increment,G=w.plugin.formatKey,R=w.plugin.formatSeed,j=i.util.createBuffer();w.key=null,function U($){if($)return M($);if(j.length()>=b)return M(null,j.getBytes(b));if(w.generated>1048575&&(w.key=null),null===w.key)return i.util.nextTick(function(){!function f(b){if(w.pools[0].messageLength>=32)return O(),b();w.seedFile(32-w.pools[0].messageLength<<5,function(k,N){if(k)return b(k);w.collect(N),O(),b()})}(U)});var ne=k(w.key,w.seed);w.generated+=ne.length,j.putBytes(ne),w.key=G(k(w.key,N(w.seed))),w.seed=R(k(w.key,w.seed)),i.util.setImmediate(U)}()},w.generateSync=function(b){var M=w.plugin.cipher,k=w.plugin.increment,N=w.plugin.formatKey,G=w.plugin.formatSeed;w.key=null;for(var R=i.util.createBuffer();R.length()<b;){w.generated>1048575&&(w.key=null),null===w.key&&I();var j=M(w.key,w.seed);w.generated+=j.length,R.putBytes(j),w.key=N(M(w.key,k(w.seed))),w.seed=G(M(w.key,w.seed))}return R.getBytes(b)},e?(w.seedFile=function(b,M){e.randomBytes(b,function(k,N){if(k)return M(k);M(null,N.toString())})},w.seedFileSync=function(b){return e.randomBytes(b).toString()}):(w.seedFile=function(b,M){try{M(null,P(b))}catch(k){M(k)}},w.seedFileSync=P),w.collect=function(b){for(var M=b.length,k=0;k<M;++k)w.pools[w.pool].update(b.substr(k,1)),w.pool=31===w.pool?0:w.pool+1},w.collectInt=function(b,M){for(var k="",N=0;N<M;N+=8)k+=String.fromCharCode(b>>N&255);w.collect(k)},w.registerWorker=function(b){b===self?w.seedFile=function(k,N){self.addEventListener("message",function G(R){var j=R.data;j.forge&&j.forge.prng&&(self.removeEventListener("message",G),N(j.forge.prng.err,j.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:k}}})}:b.addEventListener("message",function(k){var N=k.data;N.forge&&N.forge.prng&&w.seedFile(N.forge.prng.needed,function(G,R){b.postMessage({forge:{prng:{err:G,bytes:R}}})})})},w}},8588:(nt,fe,h)=>{var i=h(6589);h(1675),h(812),(nt.exports=i.pss=i.pss||{}).create=function(y){3===arguments.length&&(y={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var d,p=y.md,w=y.mgf,C=p.digestLength,m=y.salt||null;if("string"==typeof m&&(m=i.util.createBuffer(m)),"saltLength"in y)d=y.saltLength;else{if(null===m)throw new Error("Salt length not specified or specific salt not given.");d=m.length()}if(null!==m&&m.length()!==d)throw new Error("Given salt length does not match length of given salt.");var f=y.prng||i.random;return{encode:function(O,P){var b,G,M=P-1,k=Math.ceil(M/8),N=O.digest().getBytes();if(k<C+d+2)throw new Error("Message is too long to encrypt.");G=null===m?f.getBytesSync(d):m.bytes();var R=new i.util.ByteBuffer;R.fillWithByte(0,8),R.putBytes(N),R.putBytes(G),p.start(),p.update(R.getBytes());var j=p.digest().getBytes(),U=new i.util.ByteBuffer;U.fillWithByte(0,k-d-C-2),U.putByte(1),U.putBytes(G);var $=U.getBytes(),ne=k-C-1,se=w.generate(j,ne),L="";for(b=0;b<ne;b++)L+=String.fromCharCode($.charCodeAt(b)^se.charCodeAt(b));var J=65280>>8*k-M&255;return(L=String.fromCharCode(L.charCodeAt(0)&~J)+L.substr(1))+j+"\xbc"},verify:function(O,P,b){var M,k=b-1,N=Math.ceil(k/8);if(P=P.substr(-N),N<C+d+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==P.charCodeAt(N-1))throw new Error("Encoded message does not end in 0xBC.");var G=N-C-1,R=P.substr(0,G),j=P.substr(G,C),U=65280>>8*N-k&255;if(R.charCodeAt(0)&U)throw new Error("Bits beyond keysize not zero as expected.");var $=w.generate(j,G),ne="";for(M=0;M<G;M++)ne+=String.fromCharCode(R.charCodeAt(M)^$.charCodeAt(M));ne=String.fromCharCode(ne.charCodeAt(0)&~U)+ne.substr(1);var se=N-C-d-2;for(M=0;M<se;M++)if(0!==ne.charCodeAt(M))throw new Error("Leftmost octets not zero as expected");if(1!==ne.charCodeAt(se))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var L=ne.substr(-d),J=new i.util.ByteBuffer;return J.fillWithByte(0,8),J.putBytes(O),J.putBytes(L),p.start(),p.update(J.getBytes()),j===p.digest().getBytes()}}}},1675:(nt,fe,h)=>{var i=h(6589);h(57),h(2507),h(409),h(812),i.random&&i.random.getBytes?nt.exports=i.random:function(e){var y={},p=new Array(4),w=i.util.createBuffer();function C(){var b=i.prng.create(y);return b.getBytes=function(M,k){return b.generate(M,k)},b.getBytesSync=function(M){return b.generate(M)},b}y.formatKey=function(b){var M=i.util.createBuffer(b);return(b=new Array(4))[0]=M.getInt32(),b[1]=M.getInt32(),b[2]=M.getInt32(),b[3]=M.getInt32(),i.aes._expandKey(b,!1)},y.formatSeed=function(b){var M=i.util.createBuffer(b);return(b=new Array(4))[0]=M.getInt32(),b[1]=M.getInt32(),b[2]=M.getInt32(),b[3]=M.getInt32(),b},y.cipher=function(b,M){return i.aes._updateBlock(b,M,p,!1),w.putInt32(p[0]),w.putInt32(p[1]),w.putInt32(p[2]),w.putInt32(p[3]),w.getBytes()},y.increment=function(b){return++b[3],b},y.md=i.md.sha256;var m=C(),d=null,f=i.util.globalScope,I=f.crypto||f.msCrypto;if(I&&I.getRandomValues&&(d=function(b){return I.getRandomValues(b)}),i.options.usePureJavaScript||!i.util.isNodejs&&!d){if(typeof window>"u"||window,m.collectInt(+new Date,32),typeof navigator<"u"){var O="";for(var P in navigator)try{"string"==typeof navigator[P]&&(O+=navigator[P])}catch{}m.collect(O),O=null}e&&(e().mousemove(function(b){m.collectInt(b.clientX,16),m.collectInt(b.clientY,16)}),e().keypress(function(b){m.collectInt(b.charCode,8)}))}if(i.random)for(var P in m)i.random[P]=m[P];else i.random=m;i.random.createInstance=C,nt.exports=i.random}(typeof jQuery<"u"?jQuery:null)},1881:(nt,fe,h)=>{var i=h(6589);h(812);var e=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],y=[1,2,3,5],p=function(m,d){return m<<d&65535|(65535&m)>>16-d},w=function(m,d){return(65535&m)>>d|m<<16-d&65535};nt.exports=i.rc2=i.rc2||{},i.rc2.expandKey=function(m,d){"string"==typeof m&&(m=i.util.createBuffer(m)),d=d||128;var M,f=m,I=m.length(),O=d,P=Math.ceil(O/8),b=255>>(7&O);for(M=I;M<128;M++)f.putByte(e[f.at(M-1)+f.at(M-I)&255]);for(f.setAt(128-P,e[f.at(128-P)&b]),M=127-P;M>=0;M--)f.setAt(M,e[f.at(M+1)^f.at(M+P)]);return f};var C=function(m,d,f){var M,k,N,G,I=!1,O=null,P=null,b=null,R=[];for(m=i.rc2.expandKey(m,d),N=0;N<64;N++)R.push(m.getInt16Le());f?(M=function($){for(N=0;N<4;N++)$[N]+=R[G]+($[(N+3)%4]&$[(N+2)%4])+(~$[(N+3)%4]&$[(N+1)%4]),$[N]=p($[N],y[N]),G++},k=function($){for(N=0;N<4;N++)$[N]+=R[63&$[(N+3)%4]]}):(M=function($){for(N=3;N>=0;N--)$[N]=w($[N],y[N]),$[N]-=R[G]+($[(N+3)%4]&$[(N+2)%4])+(~$[(N+3)%4]&$[(N+1)%4]),G--},k=function($){for(N=3;N>=0;N--)$[N]-=R[63&$[(N+3)%4]]});var j=function($){var ne=[];for(N=0;N<4;N++){var se=O.getInt16Le();null!==b&&(f?se^=b.getInt16Le():b.putInt16Le(se)),ne.push(65535&se)}G=f?0:63;for(var L=0;L<$.length;L++)for(var J=0;J<$[L][0];J++)$[L][1](ne);for(N=0;N<4;N++)null!==b&&(f?b.putInt16Le(ne[N]):ne[N]^=b.getInt16Le()),P.putInt16Le(ne[N])},U=null;return U={start:function($,ne){$&&"string"==typeof $&&($=i.util.createBuffer($)),I=!1,O=i.util.createBuffer(),P=ne||new i.util.createBuffer,b=$,U.output=P},update:function($){for(I||O.putBuffer($);O.length()>=8;)j([[5,M],[1,k],[6,M],[1,k],[5,M]])},finish:function($){var ne=!0;if(f)if($)ne=$(8,O,!f);else{var se=8===O.length()?8:8-O.length();O.fillWithByte(se,se)}if(ne&&(I=!0,U.update()),!f&&(ne=0===O.length()))if($)ne=$(8,P,!f);else{var L=P.length(),J=P.at(L-1);J>L?ne=!1:P.truncate(J)}return ne}}};i.rc2.startEncrypting=function(m,d,f){var I=i.rc2.createEncryptionCipher(m,128);return I.start(d,f),I},i.rc2.createEncryptionCipher=function(m,d){return C(m,d,!0)},i.rc2.startDecrypting=function(m,d,f){var I=i.rc2.createDecryptionCipher(m,128);return I.start(d,f),I},i.rc2.createDecryptionCipher=function(m,d){return C(m,d,!1)}},2880:(nt,fe,h)=>{var i=h(6589);if(h(7097),h(3364),h(1817),h(8788),h(3697),h(1675),h(812),typeof e>"u")var e=i.jsbn.BigInteger;var y=i.util.isNodejs?h(310):null,p=i.asn1,w=i.util;i.pki=i.pki||{},nt.exports=i.pki.rsa=i.rsa=i.rsa||{};var C=i.pki,m=[6,4,2,4,2,4,6,2],d={name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},f={name:"RSAPrivateKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},I={name:"RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:p.Class.UNIVERSAL,type:p.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},O=i.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},P={name:"DigestInfo",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:p.Class.UNIVERSAL,type:p.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:p.Class.UNIVERSAL,type:p.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:p.Class.UNIVERSAL,type:p.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:p.Class.UNIVERSAL,type:p.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},b=function(E){if(!(E.algorithm in C.oids)){var K=new Error("Unknown message digest algorithm.");throw K.algorithm=E.algorithm,K}var me=p.oidToDer(C.oids[E.algorithm]).getBytes(),Ne=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]),Ae=p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[]);Ae.value.push(p.create(p.Class.UNIVERSAL,p.Type.OID,!1,me)),Ae.value.push(p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,""));var xe=p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,E.digest().getBytes());return Ne.value.push(Ae),Ne.value.push(xe),p.toDer(Ne).getBytes()},M=function(E,re,K){if(K)return E.modPow(re.e,re.n);if(!re.p||!re.q)return E.modPow(re.d,re.n);var me;re.dP||(re.dP=re.d.mod(re.p.subtract(e.ONE))),re.dQ||(re.dQ=re.d.mod(re.q.subtract(e.ONE))),re.qInv||(re.qInv=re.q.modInverse(re.p));do{me=new e(i.util.bytesToHex(i.random.getBytes(re.n.bitLength()/8)),16)}while(me.compareTo(re.n)>=0||!me.gcd(re.n).equals(e.ONE));for(var Ne=(E=E.multiply(me.modPow(re.e,re.n)).mod(re.n)).mod(re.p).modPow(re.dP,re.p),Ae=E.mod(re.q).modPow(re.dQ,re.q);Ne.compareTo(Ae)<0;)Ne=Ne.add(re.p);var xe=Ne.subtract(Ae).multiply(re.qInv).mod(re.p).multiply(re.q).add(Ae);return xe.multiply(me.modInverse(re.n)).mod(re.n)};function k(E,re,K){var me=i.util.createBuffer(),Ne=Math.ceil(re.n.bitLength()/8);if(E.length>Ne-11){var Ae=new Error("Message is too long for PKCS#1 v1.5 padding.");throw Ae.length=E.length,Ae.max=Ne-11,Ae}me.putByte(0),me.putByte(K);var Qe,xe=Ne-3-E.length;if(0===K||1===K){Qe=0===K?0:255;for(var Ee=0;Ee<xe;++Ee)me.putByte(Qe)}else for(;xe>0;){var be=0,le=i.random.getBytes(xe);for(Ee=0;Ee<xe;++Ee)0===(Qe=le.charCodeAt(Ee))?++be:me.putByte(Qe);xe=be}return me.putByte(0),me.putBytes(E),me}function N(E,re,K,me){var Ne=Math.ceil(re.n.bitLength()/8),Ae=i.util.createBuffer(E),xe=Ae.getByte(),Qe=Ae.getByte();if(0!==xe||K&&0!==Qe&&1!==Qe||!K&&2!=Qe||K&&0===Qe&&typeof me>"u")throw new Error("Encryption block is invalid.");var Ee=0;if(0===Qe){Ee=Ne-3-me;for(var be=0;be<Ee;++be)if(0!==Ae.getByte())throw new Error("Encryption block is invalid.")}else if(1===Qe)for(Ee=0;Ae.length()>1;){if(255!==Ae.getByte()){--Ae.read;break}++Ee}else if(2===Qe)for(Ee=0;Ae.length()>1;){if(0===Ae.getByte()){--Ae.read;break}++Ee}if(0!==Ae.getByte()||Ee!==Ne-3-Ae.length())throw new Error("Encryption block is invalid.");return Ae.getBytes()}function R(E){var re=E.toString(16);re[0]>="8"&&(re="00"+re);var K=i.util.hexToBytes(re);return!(K.length>1)||(0!==K.charCodeAt(0)||128&K.charCodeAt(1))&&(255!==K.charCodeAt(0)||128&~K.charCodeAt(1))?K:K.substr(1)}function j(E){return E<=100?27:E<=150?18:E<=200?15:E<=250?12:E<=300?9:E<=350?8:E<=400?7:E<=500?6:E<=600?5:E<=800?4:E<=1250?3:2}function U(E){return i.util.isNodejs&&"function"==typeof y[E]}function $(E){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.crypto&&"object"==typeof w.globalScope.crypto.subtle&&"function"==typeof w.globalScope.crypto.subtle[E]}function ne(E){return typeof w.globalScope<"u"&&"object"==typeof w.globalScope.msCrypto&&"object"==typeof w.globalScope.msCrypto.subtle&&"function"==typeof w.globalScope.msCrypto.subtle[E]}function se(E){for(var re=i.util.hexToBytes(E.toString(16)),K=new Uint8Array(re.length),me=0;me<re.length;++me)K[me]=re.charCodeAt(me);return K}C.rsa.encrypt=function(E,re,K){var Ne,me=K,Ae=Math.ceil(re.n.bitLength()/8);!1!==K&&!0!==K?(me=2===K,Ne=k(E,re,K)):(Ne=i.util.createBuffer()).putBytes(E);for(var xe=new e(Ne.toHex(),16),Ee=M(xe,re,me).toString(16),be=i.util.createBuffer(),le=Ae-Math.ceil(Ee.length/2);le>0;)be.putByte(0),--le;return be.putBytes(i.util.hexToBytes(Ee)),be.getBytes()},C.rsa.decrypt=function(E,re,K,me){var Ne=Math.ceil(re.n.bitLength()/8);if(E.length!==Ne){var Ae=new Error("Encrypted message length is invalid.");throw Ae.length=E.length,Ae.expected=Ne,Ae}var xe=new e(i.util.createBuffer(E).toHex(),16);if(xe.compareTo(re.n)>=0)throw new Error("Encrypted message is invalid.");for(var Ee=M(xe,re,K).toString(16),be=i.util.createBuffer(),le=Ne-Math.ceil(Ee.length/2);le>0;)be.putByte(0),--le;return be.putBytes(i.util.hexToBytes(Ee)),!1!==me?N(be.getBytes(),re,K):be.getBytes()},C.rsa.createKeyPairGenerationState=function(E,re,K){"string"==typeof E&&(E=parseInt(E,10)),E=E||2048;var xe,me=(K=K||{}).prng||i.random,Ne={nextBytes:function(Qe){for(var Ee=me.getBytesSync(Qe.length),be=0;be<Qe.length;++be)Qe[be]=Ee.charCodeAt(be)}},Ae=K.algorithm||"PRIMEINC";if("PRIMEINC"!==Ae)throw new Error("Invalid key generation algorithm: "+Ae);return(xe={algorithm:Ae,state:0,bits:E,rng:Ne,eInt:re||65537,e:new e(null),p:null,q:null,qBits:E>>1,pBits:E-(E>>1),pqState:0,num:null,keys:null}).e.fromInt(xe.eInt),xe},C.rsa.stepKeyPairGenerationState=function(E,re){"algorithm"in E||(E.algorithm="PRIMEINC");var K=new e(null);K.fromInt(30);for(var xe,me=0,Ne=function(Pe,Ie){return Pe|Ie},Ae=+new Date,Qe=0;null===E.keys&&(re<=0||Qe<re);){if(0===E.state){var Ee=null===E.p?E.pBits:E.qBits,be=Ee-1;0===E.pqState?(E.num=new e(Ee,E.rng),E.num.testBit(be)||E.num.bitwiseTo(e.ONE.shiftLeft(be),Ne,E.num),E.num.dAddOffset(31-E.num.mod(K).byteValue(),0),me=0,++E.pqState):1===E.pqState?E.num.bitLength()>Ee?E.pqState=0:E.num.isProbablePrime(j(E.num.bitLength()))?++E.pqState:E.num.dAddOffset(m[me++%8],0):2===E.pqState?E.pqState=0===E.num.subtract(e.ONE).gcd(E.e).compareTo(e.ONE)?3:0:3===E.pqState&&(E.pqState=0,null===E.p?E.p=E.num:E.q=E.num,null!==E.p&&null!==E.q&&++E.state,E.num=null)}else if(1===E.state)E.p.compareTo(E.q)<0&&(E.num=E.p,E.p=E.q,E.q=E.num),++E.state;else if(2===E.state)E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),++E.state;else if(3===E.state)0===E.phi.gcd(E.e).compareTo(e.ONE)?++E.state:(E.p=null,E.q=null,E.state=0);else if(4===E.state)E.n=E.p.multiply(E.q),E.n.bitLength()===E.bits?++E.state:(E.q=null,E.state=0);else if(5===E.state){var le=E.e.modInverse(E.phi);E.keys={privateKey:C.rsa.setPrivateKey(E.n,E.e,le,E.p,E.q,le.mod(E.p1),le.mod(E.q1),E.q.modInverse(E.p)),publicKey:C.rsa.setPublicKey(E.n,E.e)}}Qe+=(xe=+new Date)-Ae,Ae=xe}return null!==E.keys},C.rsa.generateKeyPair=function(E,re,K,me){if(1===arguments.length?"object"==typeof E?(K=E,E=void 0):"function"==typeof E&&(me=E,E=void 0):2===arguments.length?"number"==typeof E?"function"==typeof re?(me=re,re=void 0):"number"!=typeof re&&(K=re,re=void 0):(K=E,me=re,E=void 0,re=void 0):3===arguments.length&&("number"==typeof re?"function"==typeof K&&(me=K,K=void 0):(me=K,K=re,re=void 0)),K=K||{},void 0===E&&(E=K.bits||2048),void 0===re&&(re=K.e||65537),!i.options.usePureJavaScript&&!K.prng&&E>=256&&E<=16384&&(65537===re||3===re))if(me){if(U("generateKeyPair"))return y.generateKeyPair("rsa",{modulusLength:E,publicExponent:re,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(Qe,Ee,be){if(Qe)return me(Qe);me(null,{privateKey:C.privateKeyFromPem(be),publicKey:C.publicKeyFromPem(Ee)})});if($("generateKey")&&$("exportKey"))return w.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:se(re),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(Qe){return w.globalScope.crypto.subtle.exportKey("pkcs8",Qe.privateKey)}).then(void 0,function(Qe){me(Qe)}).then(function(Qe){if(Qe){var Ee=C.privateKeyFromAsn1(p.fromDer(i.util.createBuffer(Qe)));me(null,{privateKey:Ee,publicKey:C.setRsaPublicKey(Ee.n,Ee.e)})}});if(ne("generateKey")&&ne("exportKey")){var Ne=w.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:E,publicExponent:se(re),hash:{name:"SHA-256"}},!0,["sign","verify"]);return Ne.oncomplete=function(Qe){var be=w.globalScope.msCrypto.subtle.exportKey("pkcs8",Qe.target.result.privateKey);be.oncomplete=function(le){var Ie=C.privateKeyFromAsn1(p.fromDer(i.util.createBuffer(le.target.result)));me(null,{privateKey:Ie,publicKey:C.setRsaPublicKey(Ie.n,Ie.e)})},be.onerror=function(le){me(le)}},void(Ne.onerror=function(Qe){me(Qe)})}}else if(U("generateKeyPairSync")){var Ae=y.generateKeyPairSync("rsa",{modulusLength:E,publicExponent:re,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:C.privateKeyFromPem(Ae.privateKey),publicKey:C.publicKeyFromPem(Ae.publicKey)}}var xe=C.rsa.createKeyPairGenerationState(E,re,K);if(!me)return C.rsa.stepKeyPairGenerationState(xe,0),xe.keys;!function G(E,re,K){"function"==typeof re&&(K=re,re={});var me={algorithm:{name:(re=re||{}).algorithm||"PRIMEINC",options:{workers:re.workers||2,workLoad:re.workLoad||100,workerScript:re.workerScript}}};function Ne(){Ae(E.pBits,function(Qe,Ee){return Qe?K(Qe):(E.p=Ee,null!==E.q?xe(Qe,E.q):void Ae(E.qBits,xe))})}function Ae(Qe,Ee){i.prime.generateProbablePrime(Qe,me,Ee)}function xe(Qe,Ee){if(Qe)return K(Qe);if(E.q=Ee,E.p.compareTo(E.q)<0){var be=E.p;E.p=E.q,E.q=be}if(0!==E.p.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.p=null,void Ne();if(0!==E.q.subtract(e.ONE).gcd(E.e).compareTo(e.ONE))return E.q=null,void Ae(E.qBits,xe);if(E.p1=E.p.subtract(e.ONE),E.q1=E.q.subtract(e.ONE),E.phi=E.p1.multiply(E.q1),0!==E.phi.gcd(E.e).compareTo(e.ONE))return E.p=E.q=null,void Ne();if(E.n=E.p.multiply(E.q),E.n.bitLength()!==E.bits)return E.q=null,void Ae(E.qBits,xe);var le=E.e.modInverse(E.phi);E.keys={privateKey:C.rsa.setPrivateKey(E.n,E.e,le,E.p,E.q,le.mod(E.p1),le.mod(E.q1),E.q.modInverse(E.p)),publicKey:C.rsa.setPublicKey(E.n,E.e)},K(null,E.keys)}"prng"in re&&(me.prng=re.prng),Ne()}(xe,K,me)},C.setRsaPublicKey=C.rsa.setPublicKey=function(E,re){var K={n:E,e:re,encrypt:function(me,Ne,Ae){if("string"==typeof Ne?Ne=Ne.toUpperCase():void 0===Ne&&(Ne="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===Ne)Ne={encode:function(Qe,Ee,be){return k(Qe,Ee,2).getBytes()}};else if("RSA-OAEP"===Ne||"RSAES-OAEP"===Ne)Ne={encode:function(Qe,Ee){return i.pkcs1.encode_rsa_oaep(Ee,Qe,Ae)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(Ne))Ne={encode:function(Qe){return Qe}};else if("string"==typeof Ne)throw new Error('Unsupported encryption scheme: "'+Ne+'".');var xe=Ne.encode(me,K,!0);return C.rsa.encrypt(xe,K,!0)},verify:function(me,Ne,Ae,xe){"string"==typeof Ae?Ae=Ae.toUpperCase():void 0===Ae&&(Ae="RSASSA-PKCS1-V1_5"),void 0===xe&&(xe={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in xe||(xe._parseAllDigestBytes=!0),"RSASSA-PKCS1-V1_5"===Ae?Ae={verify:function(Ee,be){be=N(be,K,!0);var le=p.fromDer(be,{parseAllBytes:xe._parseAllDigestBytes}),Pe={},Ie=[];if(!p.validate(le,P,Pe,Ie))throw(st=new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Ie,st;var st,Oe=p.derToOid(Pe.algorithmIdentifier);if(Oe!==i.oids.md2&&Oe!==i.oids.md5&&Oe!==i.oids.sha1&&Oe!==i.oids.sha224&&Oe!==i.oids.sha256&&Oe!==i.oids.sha384&&Oe!==i.oids.sha512&&Oe!==i.oids["sha512-224"]&&Oe!==i.oids["sha512-256"])throw(st=new Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Oe,st;if((Oe===i.oids.md2||Oe===i.oids.md5)&&!("parameters"in Pe))throw new Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return Ee===Pe.digest}}:("NONE"===Ae||"NULL"===Ae||null===Ae)&&(Ae={verify:function(Ee,be){return Ee===N(be,K,!0)}});var Qe=C.rsa.decrypt(Ne,K,!0,!1);return Ae.verify(me,Qe,K.n.bitLength())}};return K},C.setRsaPrivateKey=C.rsa.setPrivateKey=function(E,re,K,me,Ne,Ae,xe,Qe){var Ee={n:E,e:re,d:K,p:me,q:Ne,dP:Ae,dQ:xe,qInv:Qe,decrypt:function(be,le,Pe){"string"==typeof le?le=le.toUpperCase():void 0===le&&(le="RSAES-PKCS1-V1_5");var Ie=C.rsa.decrypt(be,Ee,!1,!1);if("RSAES-PKCS1-V1_5"===le)le={decode:N};else if("RSA-OAEP"===le||"RSAES-OAEP"===le)le={decode:function(st,Oe){return i.pkcs1.decode_rsa_oaep(Oe,st,Pe)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(le))throw new Error('Unsupported encryption scheme: "'+le+'".');le={decode:function(st){return st}}}return le.decode(Ie,Ee,!1)},sign:function(be,le){var Pe=!1;"string"==typeof le&&(le=le.toUpperCase()),void 0===le||"RSASSA-PKCS1-V1_5"===le?(le={encode:b},Pe=1):("NONE"===le||"NULL"===le||null===le)&&(le={encode:function(){return be}},Pe=1);var Ie=le.encode(be,Ee.n.bitLength());return C.rsa.encrypt(Ie,Ee,Pe)}};return Ee},C.wrapRsaPrivateKey=function(E){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.OCTETSTRING,!1,p.toDer(E).getBytes())])},C.privateKeyFromAsn1=function(E){var Ne,Ae,xe,Qe,Ee,be,le,Pe,re={},K=[];if(p.validate(E,d,re,K)&&(E=p.fromDer(i.util.createBuffer(re.privateKey))),!p.validate(E,f,re={},K=[])){var me=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw me.errors=K,me}return Ne=i.util.createBuffer(re.privateKeyModulus).toHex(),Ae=i.util.createBuffer(re.privateKeyPublicExponent).toHex(),xe=i.util.createBuffer(re.privateKeyPrivateExponent).toHex(),Qe=i.util.createBuffer(re.privateKeyPrime1).toHex(),Ee=i.util.createBuffer(re.privateKeyPrime2).toHex(),be=i.util.createBuffer(re.privateKeyExponent1).toHex(),le=i.util.createBuffer(re.privateKeyExponent2).toHex(),Pe=i.util.createBuffer(re.privateKeyCoefficient).toHex(),C.setRsaPrivateKey(new e(Ne,16),new e(Ae,16),new e(xe,16),new e(Qe,16),new e(Ee,16),new e(be,16),new e(le,16),new e(Pe,16))},C.privateKeyToAsn1=C.privateKeyToRSAPrivateKey=function(E){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,p.integerToDer(0).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.e)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.d)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.p)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.q)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.dP)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.dQ)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.qInv))])},C.publicKeyFromAsn1=function(E){var re={},K=[];if(p.validate(E,O,re,K)){var Ne,me=p.derToOid(re.publicKeyOid);if(me!==C.oids.rsaEncryption)throw(Ne=new Error("Cannot read public key. Unknown OID.")).oid=me,Ne;E=re.rsaPublicKey}if(!p.validate(E,I,re,K=[]))throw(Ne=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=K,Ne;var Ae=i.util.createBuffer(re.publicKeyModulus).toHex(),xe=i.util.createBuffer(re.publicKeyExponent).toHex();return C.setRsaPublicKey(new e(Ae,16),new e(xe,16))},C.publicKeyToAsn1=C.publicKeyToSubjectPublicKeyInfo=function(E){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.OID,!1,p.oidToDer(C.oids.rsaEncryption).getBytes()),p.create(p.Class.UNIVERSAL,p.Type.NULL,!1,"")]),p.create(p.Class.UNIVERSAL,p.Type.BITSTRING,!1,[C.publicKeyToRSAPublicKey(E)])])},C.publicKeyToRSAPublicKey=function(E){return p.create(p.Class.UNIVERSAL,p.Type.SEQUENCE,!0,[p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.n)),p.create(p.Class.UNIVERSAL,p.Type.INTEGER,!1,R(E.e))])}},8825:(nt,fe,h)=>{var i=h(6589);h(5437),h(812);var e=nt.exports=i.sha1=i.sha1||{};i.md.sha1=i.md.algorithms.sha1=e,e.create=function(){p||function w(){y="\x80",y+=i.util.fillString("\0",64),p=!0}();var m=null,d=i.util.createBuffer(),f=new Array(80),I={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){I.messageLength=0,I.fullMessageLength=I.messageLength64=[];for(var O=I.messageLengthSize/4,P=0;P<O;++P)I.fullMessageLength.push(0);return d=i.util.createBuffer(),m={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},I}};return I.start(),I.update=function(O,P){"utf8"===P&&(O=i.util.encodeUtf8(O));var b=O.length;I.messageLength+=b,b=[b/4294967296>>>0,b>>>0];for(var M=I.fullMessageLength.length-1;M>=0;--M)I.fullMessageLength[M]+=b[1],b[1]=b[0]+(I.fullMessageLength[M]/4294967296>>>0),I.fullMessageLength[M]=I.fullMessageLength[M]>>>0,b[0]=b[1]/4294967296>>>0;return d.putBytes(O),C(m,f,d),(d.read>2048||0===d.length())&&d.compact(),I},I.digest=function(){var O=i.util.createBuffer();O.putBytes(d.bytes()),O.putBytes(y.substr(0,I.blockLength-(I.fullMessageLength[I.fullMessageLength.length-1]+I.messageLengthSize&I.blockLength-1)));for(var M,N=8*I.fullMessageLength[0],G=0;G<I.fullMessageLength.length-1;++G)O.putInt32((N+=(M=8*I.fullMessageLength[G+1])/4294967296>>>0)>>>0),N=M>>>0;O.putInt32(N);var R={h0:m.h0,h1:m.h1,h2:m.h2,h3:m.h3,h4:m.h4};C(R,f,O);var j=i.util.createBuffer();return j.putInt32(R.h0),j.putInt32(R.h1),j.putInt32(R.h2),j.putInt32(R.h3),j.putInt32(R.h4),j},I};var y=null,p=!1;function C(m,d,f){for(var I,O,P,b,M,k,G,R=f.length();R>=64;){for(O=m.h0,P=m.h1,b=m.h2,M=m.h3,k=m.h4,G=0;G<16;++G)I=f.getInt32(),d[G]=I,I=(O<<5|O>>>27)+(M^P&(b^M))+k+1518500249+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;for(;G<20;++G)d[G]=I=(I=d[G-3]^d[G-8]^d[G-14]^d[G-16])<<1|I>>>31,I=(O<<5|O>>>27)+(M^P&(b^M))+k+1518500249+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;for(;G<32;++G)d[G]=I=(I=d[G-3]^d[G-8]^d[G-14]^d[G-16])<<1|I>>>31,I=(O<<5|O>>>27)+(P^b^M)+k+1859775393+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;for(;G<40;++G)d[G]=I=(I=d[G-6]^d[G-16]^d[G-28]^d[G-32])<<2|I>>>30,I=(O<<5|O>>>27)+(P^b^M)+k+1859775393+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;for(;G<60;++G)d[G]=I=(I=d[G-6]^d[G-16]^d[G-28]^d[G-32])<<2|I>>>30,I=(O<<5|O>>>27)+(P&b|M&(P^b))+k+2400959708+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;for(;G<80;++G)d[G]=I=(I=d[G-6]^d[G-16]^d[G-28]^d[G-32])<<2|I>>>30,I=(O<<5|O>>>27)+(P^b^M)+k+3395469782+I,k=M,M=b,b=(P<<30|P>>>2)>>>0,P=O,O=I;m.h0=m.h0+O|0,m.h1=m.h1+P|0,m.h2=m.h2+b|0,m.h3=m.h3+M|0,m.h4=m.h4+k|0,R-=64}}},2507:(nt,fe,h)=>{var i=h(6589);h(5437),h(812);var e=nt.exports=i.sha256=i.sha256||{};i.md.sha256=i.md.algorithms.sha256=e,e.create=function(){p||function C(){y="\x80",y+=i.util.fillString("\0",64),w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=!0}();var d=null,f=i.util.createBuffer(),I=new Array(64),O={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){O.messageLength=0,O.fullMessageLength=O.messageLength64=[];for(var P=O.messageLengthSize/4,b=0;b<P;++b)O.fullMessageLength.push(0);return f=i.util.createBuffer(),d={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},O}};return O.start(),O.update=function(P,b){"utf8"===b&&(P=i.util.encodeUtf8(P));var M=P.length;O.messageLength+=M,M=[M/4294967296>>>0,M>>>0];for(var k=O.fullMessageLength.length-1;k>=0;--k)O.fullMessageLength[k]+=M[1],M[1]=M[0]+(O.fullMessageLength[k]/4294967296>>>0),O.fullMessageLength[k]=O.fullMessageLength[k]>>>0,M[0]=M[1]/4294967296>>>0;return f.putBytes(P),m(d,I,f),(f.read>2048||0===f.length())&&f.compact(),O},O.digest=function(){var P=i.util.createBuffer();P.putBytes(f.bytes()),P.putBytes(y.substr(0,O.blockLength-(O.fullMessageLength[O.fullMessageLength.length-1]+O.messageLengthSize&O.blockLength-1)));for(var k,G=8*O.fullMessageLength[0],R=0;R<O.fullMessageLength.length-1;++R)P.putInt32((G+=(k=8*O.fullMessageLength[R+1])/4294967296>>>0)>>>0),G=k>>>0;P.putInt32(G);var j={h0:d.h0,h1:d.h1,h2:d.h2,h3:d.h3,h4:d.h4,h5:d.h5,h6:d.h6,h7:d.h7};m(j,I,P);var U=i.util.createBuffer();return U.putInt32(j.h0),U.putInt32(j.h1),U.putInt32(j.h2),U.putInt32(j.h3),U.putInt32(j.h4),U.putInt32(j.h5),U.putInt32(j.h6),U.putInt32(j.h7),U},O};var y=null,p=!1,w=null;function m(d,f,I){for(var O,P,N,G,R,j,U,$,ne,se,L,J,te=I.length();te>=64;){for(G=0;G<16;++G)f[G]=I.getInt32();for(;G<64;++G)f[G]=(O=((O=f[G-2])>>>17|O<<15)^(O>>>19|O<<13)^O>>>10)+f[G-7]+(P=((P=f[G-15])>>>7|P<<25)^(P>>>18|P<<14)^P>>>3)+f[G-16]|0;for(R=d.h0,j=d.h1,U=d.h2,$=d.h3,ne=d.h4,se=d.h5,L=d.h6,J=d.h7,G=0;G<64;++G)N=R&j|U&(R^j),O=J+((ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7))+(L^ne&(se^L))+w[G]+f[G],J=L,L=se,se=ne,ne=$+O>>>0,$=U,U=j,j=R,R=O+(P=((R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10))+N)>>>0;d.h0=d.h0+R|0,d.h1=d.h1+j|0,d.h2=d.h2+U|0,d.h3=d.h3+$|0,d.h4=d.h4+ne|0,d.h5=d.h5+se|0,d.h6=d.h6+L|0,d.h7=d.h7+J|0,te-=64}}},1290:(nt,fe,h)=>{var i=h(6589);h(5437),h(812);var e=nt.exports=i.sha512=i.sha512||{};i.md.sha512=i.md.algorithms.sha512=e;var y=i.sha384=i.sha512.sha384=i.sha512.sha384||{};y.create=function(){return e.create("SHA-384")},i.md.sha384=i.md.algorithms.sha384=y,i.sha512.sha256=i.sha512.sha256||{create:function(){return e.create("SHA-512/256")}},i.md["sha512/256"]=i.md.algorithms["sha512/256"]=i.sha512.sha256,i.sha512.sha224=i.sha512.sha224||{create:function(){return e.create("SHA-512/224")}},i.md["sha512/224"]=i.md.algorithms["sha512/224"]=i.sha512.sha224,e.create=function(I){if(w||function d(){p="\x80",p+=i.util.fillString("\0",128),C=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(m={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],m["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],m["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],m["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],w=!0}(),typeof I>"u"&&(I="SHA-512"),!(I in m))throw new Error("Invalid SHA-512 algorithm: "+I);for(var O=m[I],P=null,b=i.util.createBuffer(),M=new Array(80),k=0;k<80;++k)M[k]=new Array(2);var N=64;switch(I){case"SHA-384":N=48;break;case"SHA-512/256":N=32;break;case"SHA-512/224":N=28}var G={algorithm:I.replace("-","").toLowerCase(),blockLength:128,digestLength:N,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){G.messageLength=0,G.fullMessageLength=G.messageLength128=[];for(var R=G.messageLengthSize/4,j=0;j<R;++j)G.fullMessageLength.push(0);for(b=i.util.createBuffer(),P=new Array(O.length),j=0;j<O.length;++j)P[j]=O[j].slice(0);return G}};return G.start(),G.update=function(R,j){"utf8"===j&&(R=i.util.encodeUtf8(R));var U=R.length;G.messageLength+=U,U=[U/4294967296>>>0,U>>>0];for(var $=G.fullMessageLength.length-1;$>=0;--$)G.fullMessageLength[$]+=U[1],U[1]=U[0]+(G.fullMessageLength[$]/4294967296>>>0),G.fullMessageLength[$]=G.fullMessageLength[$]>>>0,U[0]=U[1]/4294967296>>>0;return b.putBytes(R),f(P,M,b),(b.read>2048||0===b.length())&&b.compact(),G},G.digest=function(){var R=i.util.createBuffer();R.putBytes(b.bytes()),R.putBytes(p.substr(0,G.blockLength-(G.fullMessageLength[G.fullMessageLength.length-1]+G.messageLengthSize&G.blockLength-1)));for(var $,se=8*G.fullMessageLength[0],L=0;L<G.fullMessageLength.length-1;++L)R.putInt32((se+=($=8*G.fullMessageLength[L+1])/4294967296>>>0)>>>0),se=$>>>0;R.putInt32(se);var J=new Array(P.length);for(L=0;L<P.length;++L)J[L]=P[L].slice(0);f(J,M,R);var E,te=i.util.createBuffer();for(E="SHA-512"===I?J.length:"SHA-384"===I?J.length-2:J.length-4,L=0;L<E;++L)te.putInt32(J[L][0]),(L!==E-1||"SHA-512/224"!==I)&&te.putInt32(J[L][1]);return te},G};var p=null,w=!1,C=null,m=null;function f(I,O,P){for(var b,M,k,N,J,te,E,re,K,me,Ne,Ae,xe,Qe,Ee,be,le,Pe,Ie,st,Oe,pt,Ye,qt,jt,Dt,wt,z=P.length();z>=128;){for(Oe=0;Oe<16;++Oe)O[Oe][0]=P.getInt32()>>>0,O[Oe][1]=P.getInt32()>>>0;for(;Oe<80;++Oe)M=(((pt=(qt=O[Oe-2])[0])<<13|(Ye=qt[1])>>>19)^(Ye<<3|pt>>>29)^(pt<<26|Ye>>>6))>>>0,O[Oe][0]=(b=((pt>>>19|Ye<<13)^(Ye>>>29|pt<<3)^pt>>>6)>>>0)+(jt=O[Oe-7])[0]+(k=(((pt=(Dt=O[Oe-15])[0])>>>1|(Ye=Dt[1])<<31)^(pt>>>8|Ye<<24)^pt>>>7)>>>0)+(wt=O[Oe-16])[0]+((Ye=M+jt[1]+(N=((pt<<31|Ye>>>1)^(pt<<24|Ye>>>8)^(pt<<25|Ye>>>7))>>>0)+wt[1])/4294967296>>>0)>>>0,O[Oe][1]=Ye>>>0;for(J=I[0][0],te=I[0][1],E=I[1][0],re=I[1][1],K=I[2][0],me=I[2][1],Ne=I[3][0],Ae=I[3][1],xe=I[4][0],Qe=I[4][1],Ee=I[5][0],be=I[5][1],le=I[6][0],Pe=I[6][1],Ie=I[7][0],st=I[7][1],Oe=0;Oe<80;++Oe)b=Ie+(((xe>>>14|Qe<<18)^(xe>>>18|Qe<<14)^(Qe>>>9|xe<<23))>>>0)+((le^xe&(Ee^le))>>>0)+C[Oe][0]+O[Oe][0]+((Ye=st+(((xe<<18|Qe>>>14)^(xe<<14|Qe>>>18)^(Qe<<23|xe>>>9))>>>0)+((Pe^Qe&(be^Pe))>>>0)+C[Oe][1]+O[Oe][1])/4294967296>>>0)>>>0,M=Ye>>>0,k=(((J>>>28|te<<4)^(te>>>2|J<<30)^(te>>>7|J<<25))>>>0)+((J&E|K&(J^E))>>>0)+((Ye=(((J<<4|te>>>28)^(te<<30|J>>>2)^(te<<25|J>>>7))>>>0)+((te&re|me&(te^re))>>>0))/4294967296>>>0)>>>0,N=Ye>>>0,Ie=le,st=Pe,le=Ee,Pe=be,Ee=xe,be=Qe,xe=Ne+b+((Ye=Ae+M)/4294967296>>>0)>>>0,Qe=Ye>>>0,Ne=K,Ae=me,K=E,me=re,E=J,re=te,J=b+k+((Ye=M+N)/4294967296>>>0)>>>0,te=Ye>>>0;I[0][0]=I[0][0]+J+((Ye=I[0][1]+te)/4294967296>>>0)>>>0,I[0][1]=Ye>>>0,I[1][0]=I[1][0]+E+((Ye=I[1][1]+re)/4294967296>>>0)>>>0,I[1][1]=Ye>>>0,I[2][0]=I[2][0]+K+((Ye=I[2][1]+me)/4294967296>>>0)>>>0,I[2][1]=Ye>>>0,I[3][0]=I[3][0]+Ne+((Ye=I[3][1]+Ae)/4294967296>>>0)>>>0,I[3][1]=Ye>>>0,I[4][0]=I[4][0]+xe+((Ye=I[4][1]+Qe)/4294967296>>>0)>>>0,I[4][1]=Ye>>>0,I[5][0]=I[5][0]+Ee+((Ye=I[5][1]+be)/4294967296>>>0)>>>0,I[5][1]=Ye>>>0,I[6][0]=I[6][0]+le+((Ye=I[6][1]+Pe)/4294967296>>>0)>>>0,I[6][1]=Ye>>>0,I[7][0]=I[7][0]+Ie+((Ye=I[7][1]+st)/4294967296>>>0)>>>0,I[7][1]=Ye>>>0,z-=128}}},3120:(nt,fe,h)=>{var i=h(6589);h(57),h(4579),h(4846),h(8825),h(812);var e=nt.exports=i.ssh=i.ssh||{};function y(C,m){var d=m.toString(16);d[0]>="8"&&(d="00"+d);var f=i.util.hexToBytes(d);C.putInt32(f.length),C.putBytes(f)}function p(C,m){C.putInt32(m.length),C.putString(m)}function w(){for(var C=i.md.sha1.create(),m=arguments.length,d=0;d<m;++d)C.update(arguments[d]);return C.digest()}e.privateKeyToPutty=function(C,m,d){var f="ssh-rsa",I=""===(m=m||"")?"none":"aes256-cbc",O="PuTTY-User-Key-File-2: "+f+"\r\n";O+="Encryption: "+I+"\r\n",O+="Comment: "+(d=d||"")+"\r\n";var P=i.util.createBuffer();p(P,f),y(P,C.e),y(P,C.n);var b=i.util.encode64(P.bytes(),64),M=Math.floor(b.length/66)+1;O+="Public-Lines: "+M+"\r\n",O+=b;var N,k=i.util.createBuffer();if(y(k,C.d),y(k,C.p),y(k,C.q),y(k,C.qInv),m){var G=k.length()+16-1;G-=G%16;var R=w(k.bytes());R.truncate(R.length()-G+k.length()),k.putBuffer(R);var j=i.util.createBuffer();j.putBuffer(w("\0\0\0\0",m)),j.putBuffer(w("\0\0\0\x01",m));var U=i.aes.createEncryptionCipher(j.truncate(8),"CBC");U.start(i.util.createBuffer().fillWithByte(0,16)),U.update(k.copy()),U.finish();var $=U.output;$.truncate(16),N=i.util.encode64($.bytes(),64)}else N=i.util.encode64(k.bytes(),64);O+="\r\nPrivate-Lines: "+(M=Math.floor(N.length/66)+1)+"\r\n",O+=N;var ne=w("putty-private-key-file-mac-key",m),se=i.util.createBuffer();p(se,f),p(se,I),p(se,d),se.putInt32(P.length()),se.putBuffer(P),se.putInt32(k.length()),se.putBuffer(k);var L=i.hmac.create();return L.start("sha1",ne),L.update(se.bytes()),O+"\r\nPrivate-MAC: "+L.digest().toHex()+"\r\n"},e.publicKeyToOpenSSH=function(C,m){var d="ssh-rsa";m=m||"";var f=i.util.createBuffer();return p(f,d),y(f,C.e),y(f,C.n),d+" "+i.util.encode64(f.bytes())+" "+m},e.privateKeyToOpenSSH=function(C,m){return m?i.pki.encryptRsaPrivateKey(C,m,{legacy:!0,algorithm:"aes128"}):i.pki.privateKeyToPem(C)},e.getPublicKeyFingerprint=function(C,m){var d=(m=m||{}).md||i.md.md5.create(),I=i.util.createBuffer();p(I,"ssh-rsa"),y(I,C.e),y(I,C.n),d.start(),d.update(I.getBytes());var O=d.digest();if("hex"===m.encoding){var P=O.toHex();return m.delimiter?P.match(/.{2}/g).join(m.delimiter):P}if("binary"===m.encoding)return O.getBytes();if(m.encoding)throw new Error('Unknown encoding "'+m.encoding+'".');return O}},9807:(nt,fe,h)=>{var i=h(6589);h(7097),h(4579),h(4846),h(9368),h(9622),h(1675),h(8825),h(812);var e=function(z,Y,Z,Ce){var we=i.util.createBuffer(),at=z.length>>1,Be=at+(1&z.length),ot=z.substr(0,Be),Ft=z.substr(at,Be),mt=i.util.createBuffer(),it=i.hmac.create();Z=Y+Z;var Kt=Math.ceil(Ce/16),on=Math.ceil(Ce/20);it.start("MD5",ot);var Pt=i.util.createBuffer();mt.putBytes(Z);for(var Jt=0;Jt<Kt;++Jt)it.start(null,null),it.update(mt.getBytes()),mt.putBuffer(it.digest()),it.start(null,null),it.update(mt.bytes()+Z),Pt.putBuffer(it.digest());it.start("SHA1",Ft);var je=i.util.createBuffer();for(mt.clear(),mt.putBytes(Z),Jt=0;Jt<on;++Jt)it.start(null,null),it.update(mt.getBytes()),mt.putBuffer(it.digest()),it.start(null,null),it.update(mt.bytes()+Z),je.putBuffer(it.digest());return we.putBytes(i.util.xorBytes(Pt.getBytes(),je.getBytes(),Ce)),we},w=function(z,Y,Z){var Ce=!1;try{var we=z.deflate(Y.fragment.getBytes());Y.fragment=i.util.createBuffer(we),Y.length=we.length,Ce=!0}catch{}return Ce},C=function(z,Y,Z){var Ce=!1;try{var we=z.inflate(Y.fragment.getBytes());Y.fragment=i.util.createBuffer(we),Y.length=we.length,Ce=!0}catch{}return Ce},m=function(z,Y){var Z=0;switch(Y){case 1:Z=z.getByte();break;case 2:Z=z.getInt16();break;case 3:Z=z.getInt24();break;case 4:Z=z.getInt32()}return i.util.createBuffer(z.getBytes(Z))},d=function(z,Y,Z){z.putInt(Z.length(),Y<<3),z.putBuffer(Z)},f={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};f.SupportedVersions=[f.Versions.TLS_1_1,f.Versions.TLS_1_0],f.Version=f.SupportedVersions[0],f.MaxFragment=15360,f.ConnectionEnd={server:0,client:1},f.PRFAlgorithm={tls_prf_sha256:0},f.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},f.CipherType={stream:0,block:1,aead:2},f.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},f.CompressionMethod={none:0,deflate:1},f.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},f.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},f.Alert={},f.Alert.Level={warning:1,fatal:2},f.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},f.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},f.CipherSuites={},f.getCipherSuite=function(z){var Y=null;for(var Z in f.CipherSuites){var Ce=f.CipherSuites[Z];if(Ce.id[0]===z.charCodeAt(0)&&Ce.id[1]===z.charCodeAt(1)){Y=Ce;break}}return Y},f.handleUnexpected=function(z,Y){!z.open&&z.entity===f.ConnectionEnd.client||z.error(z,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})},f.handleHelloRequest=function(z,Y,Z){!z.handshaking&&z.handshakes>0&&(f.queue(z,f.createAlert(z,{level:f.Alert.Level.warning,description:f.Alert.Description.no_renegotiation})),f.flush(z)),z.process()},f.parseHelloMessage=function(z,Y,Z){var Ce=null,we=z.entity===f.ConnectionEnd.client;if(Z<38)z.error(z,{message:we?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});else{var at=Y.fragment,Be=at.length();if(Ce={version:{major:at.getByte(),minor:at.getByte()},random:i.util.createBuffer(at.getBytes(32)),session_id:m(at,1),extensions:[]},we?(Ce.cipher_suite=at.getBytes(2),Ce.compression_method=at.getByte()):(Ce.cipher_suites=m(at,2),Ce.compression_methods=m(at,1)),(Be=Z-(Be-at.length()))>0){for(var ot=m(at,2);ot.length()>0;)Ce.extensions.push({type:[ot.getByte(),ot.getByte()],data:m(ot,2)});if(!we)for(var Ft=0;Ft<Ce.extensions.length;++Ft){var mt=Ce.extensions[Ft];if(0===mt.type[0]&&0===mt.type[1])for(var it=m(mt.data,2);it.length()>0&&0===it.getByte();)z.session.extensions.server_name.serverNameList.push(m(it,2).getBytes())}}if(z.session.version&&(Ce.version.major!==z.session.version.major||Ce.version.minor!==z.session.version.minor))return z.error(z,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});if(we)z.session.cipherSuite=f.getCipherSuite(Ce.cipher_suite);else for(var on=i.util.createBuffer(Ce.cipher_suites.bytes());on.length()>0&&(z.session.cipherSuite=f.getCipherSuite(on.getBytes(2)),null===z.session.cipherSuite););if(null===z.session.cipherSuite)return z.error(z,{message:"No cipher suites in common.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure},cipherSuite:i.util.bytesToHex(Ce.cipher_suite)});z.session.compressionMethod=we?Ce.compression_method:f.CompressionMethod.none}return Ce},f.createSecurityParameters=function(z,Y){var Z=z.entity===f.ConnectionEnd.client,Ce=Y.random.bytes(),we=Z?z.session.sp.client_random:Ce,at=Z?Ce:f.createRandom().getBytes();z.session.sp={entity:z.entity,prf_algorithm:f.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:z.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:we,server_random:at}},f.handleServerHello=function(z,Y,Z){var Ce=f.parseHelloMessage(z,Y,Z);if(!z.fail){if(!(Ce.version.minor<=z.version.minor))return z.error(z,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}});z.version.minor=Ce.version.minor,z.session.version=z.version;var we=Ce.session_id.bytes();we.length>0&&we===z.session.id?(z.expect=k,z.session.resuming=!0,z.session.sp.server_random=Ce.random.bytes()):(z.expect=O,z.session.resuming=!1,f.createSecurityParameters(z,Ce)),z.session.id=we,z.process()}},f.handleClientHello=function(z,Y,Z){var Ce=f.parseHelloMessage(z,Y,Z);if(!z.fail){var we=Ce.session_id.bytes(),at=null;if(z.sessionCache&&(null===(at=z.sessionCache.getSession(we))?we="":(at.version.major!==Ce.version.major||at.version.minor>Ce.version.minor)&&(at=null,we="")),0===we.length&&(we=i.random.getBytes(32)),z.session.id=we,z.session.clientHelloVersion=Ce.version,z.session.sp={},at)z.version=z.session.version=at.version,z.session.sp=at.sp;else{for(var Be,ot=1;ot<f.SupportedVersions.length&&!((Be=f.SupportedVersions[ot]).minor<=Ce.version.minor);++ot);z.version={major:Be.major,minor:Be.minor},z.session.version=z.version}null!==at?(z.expect=se,z.session.resuming=!0,z.session.sp.client_random=Ce.random.bytes()):(z.expect=!1!==z.verifyClient?U:$,z.session.resuming=!1,f.createSecurityParameters(z,Ce)),z.open=!0,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHello(z)})),z.session.resuming?(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.pending=f.createConnectionState(z),z.state.current.write=z.state.pending.write,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))):(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)})),z.fail||(f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerKeyExchange(z)})),!1!==z.verifyClient&&f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificateRequest(z)})),f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createServerHelloDone(z)})))),f.flush(z),z.process()}},f.handleCertificate=function(z,Y,Z){if(Z<3)return z.error(z,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var at,Be,we={certificate_list:m(Y.fragment,3)},ot=[];try{for(;we.certificate_list.length()>0;)at=m(we.certificate_list,3),Be=i.asn1.fromDer(at),at=i.pki.certificateFromAsn1(Be,!0),ot.push(at)}catch(mt){return z.error(z,{message:"Could not parse certificate list.",cause:mt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Ft=z.entity===f.ConnectionEnd.client;!Ft&&!0!==z.verifyClient||0!==ot.length?0===ot.length?z.expect=Ft?P:$:(Ft?z.session.serverCertificate=ot[0]:z.session.clientCertificate=ot[0],f.verifyCertificateChain(z,ot)&&(z.expect=Ft?P:$)):z.error(z,{message:Ft?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}}),z.process()},f.handleServerKeyExchange=function(z,Y,Z){if(Z>0)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});z.expect=b,z.process()},f.handleClientKeyExchange=function(z,Y,Z){if(Z<48)return z.error(z,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unsupported_certificate}});var we={enc_pre_master_secret:m(Y.fragment,2).getBytes()},at=null;if(z.getPrivateKey)try{at=z.getPrivateKey(z,z.session.serverCertificate),at=i.pki.privateKeyFromPem(at)}catch(Ft){z.error(z,{message:"Could not get private key.",cause:Ft,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}if(null===at)return z.error(z,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}});try{var Be=z.session.sp;Be.pre_master_secret=at.decrypt(we.enc_pre_master_secret);var ot=z.session.clientHelloVersion;if(ot.major!==Be.pre_master_secret.charCodeAt(0)||ot.minor!==Be.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch{Be.pre_master_secret=i.random.getBytes(48)}z.expect=se,null!==z.session.clientCertificate&&(z.expect=ne),z.process()},f.handleCertificateRequest=function(z,Y,Z){if(Z<3)return z.error(z,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Ce=Y.fragment,we={certificate_types:m(Ce,1),certificate_authorities:m(Ce,2)};z.session.certificateRequest=we,z.expect=M,z.process()},f.handleCertificateVerify=function(z,Y,Z){if(Z<2)return z.error(z,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Ce=Y.fragment;Ce.read-=4;var we=Ce.bytes();Ce.read+=4;var at={signature:m(Ce,2).getBytes()},Be=i.util.createBuffer();Be.putBuffer(z.session.md5.digest()),Be.putBuffer(z.session.sha1.digest()),Be=Be.getBytes();try{if(!z.session.clientCertificate.publicKey.verify(Be,at.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");z.session.md5.update(we),z.session.sha1.update(we)}catch{return z.error(z,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.handshake_failure}})}z.expect=se,z.process()},f.handleServerHelloDone=function(z,Y,Z){if(Z>0)return z.error(z,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.record_overflow}});if(null===z.serverCertificate){var Ce={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.insufficient_security}},at=z.verify(z,Ce.alert.description,0,[]);if(!0!==at)return(at||0===at)&&("object"!=typeof at||i.util.isArray(at)?"number"==typeof at&&(Ce.alert.description=at):(at.message&&(Ce.message=at.message),at.alert&&(Ce.alert.description=at.alert))),z.error(z,Ce)}null!==z.session.certificateRequest&&(Y=f.createRecord(z,{type:f.ContentType.handshake,data:f.createCertificate(z)}),f.queue(z,Y)),Y=f.createRecord(z,{type:f.ContentType.handshake,data:f.createClientKeyExchange(z)}),f.queue(z,Y),z.expect=R;var Be=function(ot,Ft){null!==ot.session.certificateRequest&&null!==ot.session.clientCertificate&&f.queue(ot,f.createRecord(ot,{type:f.ContentType.handshake,data:f.createCertificateVerify(ot,Ft)})),f.queue(ot,f.createRecord(ot,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),ot.state.pending=f.createConnectionState(ot),ot.state.current.write=ot.state.pending.write,f.queue(ot,f.createRecord(ot,{type:f.ContentType.handshake,data:f.createFinished(ot)})),ot.expect=k,f.flush(ot),ot.process()};if(null===z.session.certificateRequest||null===z.session.clientCertificate)return Be(z,null);f.getClientSignature(z,Be)},f.handleChangeCipherSpec=function(z,Y){if(1!==Y.fragment.getByte())return z.error(z,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.illegal_parameter}});var Z=z.entity===f.ConnectionEnd.client;(z.session.resuming&&Z||!z.session.resuming&&!Z)&&(z.state.pending=f.createConnectionState(z)),z.state.current.read=z.state.pending.read,(!z.session.resuming&&Z||z.session.resuming&&!Z)&&(z.state.pending=null),z.expect=Z?N:L,z.process()},f.handleFinished=function(z,Y,Z){var Ce=Y.fragment;Ce.read-=4;var we=Ce.bytes();Ce.read+=4;var at=Y.fragment.getBytes();(Ce=i.util.createBuffer()).putBuffer(z.session.md5.digest()),Ce.putBuffer(z.session.sha1.digest());var Be=z.entity===f.ConnectionEnd.client;if((Ce=e(z.session.sp.master_secret,Be?"server finished":"client finished",Ce.getBytes(),12)).getBytes()!==at)return z.error(z,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decrypt_error}});z.session.md5.update(we),z.session.sha1.update(we),(z.session.resuming&&Be||!z.session.resuming&&!Be)&&(f.queue(z,f.createRecord(z,{type:f.ContentType.change_cipher_spec,data:f.createChangeCipherSpec()})),z.state.current.write=z.state.pending.write,z.state.pending=null,f.queue(z,f.createRecord(z,{type:f.ContentType.handshake,data:f.createFinished(z)}))),z.expect=Be?G:J,z.handshaking=!1,++z.handshakes,z.peerCertificate=Be?z.session.serverCertificate:z.session.clientCertificate,f.flush(z),z.isConnected=!0,z.connected(z),z.process()},f.handleAlert=function(z,Y){var we,Z=Y.fragment,Ce={level:Z.getByte(),description:Z.getByte()};switch(Ce.description){case f.Alert.Description.close_notify:we="Connection closed.";break;case f.Alert.Description.unexpected_message:we="Unexpected message.";break;case f.Alert.Description.bad_record_mac:we="Bad record MAC.";break;case f.Alert.Description.decryption_failed:we="Decryption failed.";break;case f.Alert.Description.record_overflow:we="Record overflow.";break;case f.Alert.Description.decompression_failure:we="Decompression failed.";break;case f.Alert.Description.handshake_failure:we="Handshake failure.";break;case f.Alert.Description.bad_certificate:we="Bad certificate.";break;case f.Alert.Description.unsupported_certificate:we="Unsupported certificate.";break;case f.Alert.Description.certificate_revoked:we="Certificate revoked.";break;case f.Alert.Description.certificate_expired:we="Certificate expired.";break;case f.Alert.Description.certificate_unknown:we="Certificate unknown.";break;case f.Alert.Description.illegal_parameter:we="Illegal parameter.";break;case f.Alert.Description.unknown_ca:we="Unknown certificate authority.";break;case f.Alert.Description.access_denied:we="Access denied.";break;case f.Alert.Description.decode_error:we="Decode error.";break;case f.Alert.Description.decrypt_error:we="Decrypt error.";break;case f.Alert.Description.export_restriction:we="Export restriction.";break;case f.Alert.Description.protocol_version:we="Unsupported protocol version.";break;case f.Alert.Description.insufficient_security:we="Insufficient security.";break;case f.Alert.Description.internal_error:we="Internal error.";break;case f.Alert.Description.user_canceled:we="User canceled.";break;case f.Alert.Description.no_renegotiation:we="Renegotiation not supported.";break;default:we="Unknown error."}if(Ce.description===f.Alert.Description.close_notify)return z.close();z.error(z,{message:we,send:!1,origin:z.entity===f.ConnectionEnd.client?"server":"client",alert:Ce}),z.process()},f.handleHandshake=function(z,Y){var Z=Y.fragment,Ce=Z.getByte(),we=Z.getInt24();if(we>Z.length())return z.fragmented=Y,Y.fragment=i.util.createBuffer(),Z.read-=4,z.process();z.fragmented=null,Z.read-=4;var at=Z.bytes(we+4);Z.read+=4,Ce in Oe[z.entity][z.expect]?(z.entity===f.ConnectionEnd.server&&!z.open&&!z.fail&&(z.handshaking=!0,z.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:i.md.md5.create(),sha1:i.md.sha1.create()}),Ce!==f.HandshakeType.hello_request&&Ce!==f.HandshakeType.certificate_verify&&Ce!==f.HandshakeType.finished&&(z.session.md5.update(at),z.session.sha1.update(at)),Oe[z.entity][z.expect][Ce](z,Y,we)):f.handleUnexpected(z,Y)},f.handleApplicationData=function(z,Y){z.data.putBuffer(Y.fragment),z.dataReady(z),z.process()},f.handleHeartbeat=function(z,Y){var Z=Y.fragment,Ce=Z.getByte(),we=Z.getInt16(),at=Z.getBytes(we);if(Ce===f.HeartbeatMessageType.heartbeat_request){if(z.handshaking||we>at.length)return z.process();f.queue(z,f.createRecord(z,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_response,at)})),f.flush(z)}else if(Ce===f.HeartbeatMessageType.heartbeat_response){if(at!==z.expectedHeartbeatPayload)return z.process();z.heartbeatReceived&&z.heartbeatReceived(z,i.util.createBuffer(at))}z.process()};var O=1,P=2,b=3,M=4,k=5,N=6,G=7,R=8,U=1,$=2,ne=3,se=4,L=5,J=6,E=f.handleUnexpected,re=f.handleChangeCipherSpec,K=f.handleAlert,me=f.handleHandshake,Ne=f.handleApplicationData,Ae=f.handleHeartbeat,xe=[];xe[f.ConnectionEnd.client]=[[E,K,me,E,Ae],[E,K,me,E,Ae],[E,K,me,E,Ae],[E,K,me,E,Ae],[E,K,me,E,Ae],[re,K,E,E,Ae],[E,K,me,E,Ae],[E,K,me,Ne,Ae],[E,K,me,E,Ae]],xe[f.ConnectionEnd.server]=[[E,K,me,E,Ae],[E,K,me,E,Ae],[E,K,me,E,Ae],[E,K,me,E,Ae],[re,K,E,E,Ae],[E,K,me,E,Ae],[E,K,me,Ne,Ae],[E,K,me,E,Ae]];var Qe=f.handleHelloRequest,be=f.handleCertificate,le=f.handleServerKeyExchange,Pe=f.handleCertificateRequest,Ie=f.handleServerHelloDone,st=f.handleFinished,Oe=[];Oe[f.ConnectionEnd.client]=[[E,E,f.handleServerHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,be,le,Pe,Ie,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,le,Pe,Ie,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,Pe,Ie,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,E,Ie,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,st],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[Qe,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],Oe[f.ConnectionEnd.server]=[[E,f.handleClientHello,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,be,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,f.handleClientKeyExchange,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,f.handleCertificateVerify,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,st],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E],[E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E,E]],f.generateKeys=function(z,Y){var Z=e,Ce=Y.client_random+Y.server_random;z.session.resuming||(Y.master_secret=Z(Y.pre_master_secret,"master secret",Ce,48).bytes(),Y.pre_master_secret=null);var we=2*Y.mac_key_length+2*Y.enc_key_length,at=z.version.major===f.Versions.TLS_1_0.major&&z.version.minor===f.Versions.TLS_1_0.minor;at&&(we+=2*Y.fixed_iv_length);var Be=Z(Y.master_secret,"key expansion",Ce=Y.server_random+Y.client_random,we),ot={client_write_MAC_key:Be.getBytes(Y.mac_key_length),server_write_MAC_key:Be.getBytes(Y.mac_key_length),client_write_key:Be.getBytes(Y.enc_key_length),server_write_key:Be.getBytes(Y.enc_key_length)};return at&&(ot.client_write_IV=Be.getBytes(Y.fixed_iv_length),ot.server_write_IV=Be.getBytes(Y.fixed_iv_length)),ot},f.createConnectionState=function(z){var Y=z.entity===f.ConnectionEnd.client,Z=function(){var at={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(Be){return!0},compressionState:null,compressFunction:function(Be){return!0},updateSequenceNumber:function(){4294967295===at.sequenceNumber[1]?(at.sequenceNumber[1]=0,++at.sequenceNumber[0]):++at.sequenceNumber[1]}};return at},Ce={read:Z(),write:Z()};if(Ce.read.update=function(at,Be){return Ce.read.cipherFunction(Be,Ce.read)?Ce.read.compressFunction(at,Be,Ce.read)||at.error(at,{message:"Could not decompress record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.decompression_failure}}):at.error(at,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_record_mac}}),!at.fail},Ce.write.update=function(at,Be){return Ce.write.compressFunction(at,Be,Ce.write)?Ce.write.cipherFunction(Be,Ce.write)||at.error(at,{message:"Could not encrypt record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):at.error(at,{message:"Could not compress record.",send:!1,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}),!at.fail},z.session){var we=z.session.sp;switch(z.session.cipherSuite.initSecurityParameters(we),we.keys=f.generateKeys(z,we),Ce.read.macKey=Y?we.keys.server_write_MAC_key:we.keys.client_write_MAC_key,Ce.write.macKey=Y?we.keys.client_write_MAC_key:we.keys.server_write_MAC_key,z.session.cipherSuite.initConnectionState(Ce,z,we),we.compression_algorithm){case f.CompressionMethod.none:break;case f.CompressionMethod.deflate:Ce.read.compressFunction=C,Ce.write.compressFunction=w;break;default:throw new Error("Unsupported compression algorithm.")}}return Ce},f.createRandom=function(){var z=new Date,Y=+z+6e4*z.getTimezoneOffset(),Z=i.util.createBuffer();return Z.putInt32(Y),Z.putBytes(i.random.getBytes(28)),Z},f.createRecord=function(z,Y){return Y.data?{type:Y.type,version:{major:z.version.major,minor:z.version.minor},length:Y.data.length(),fragment:Y.data}:null},f.createAlert=function(z,Y){var Z=i.util.createBuffer();return Z.putByte(Y.level),Z.putByte(Y.description),f.createRecord(z,{type:f.ContentType.alert,data:Z})},f.createClientHello=function(z){z.session.clientHelloVersion={major:z.version.major,minor:z.version.minor};for(var Y=i.util.createBuffer(),Z=0;Z<z.cipherSuites.length;++Z){var Ce=z.cipherSuites[Z];Y.putByte(Ce.id[0]),Y.putByte(Ce.id[1])}var we=Y.length(),at=i.util.createBuffer();at.putByte(f.CompressionMethod.none);var Be=at.length(),ot=i.util.createBuffer();if(z.virtualHost){var Ft=i.util.createBuffer();Ft.putByte(0),Ft.putByte(0);var mt=i.util.createBuffer();mt.putByte(0),d(mt,2,i.util.createBuffer(z.virtualHost));var it=i.util.createBuffer();d(it,2,mt),d(Ft,2,it),ot.putBuffer(Ft)}var Kt=ot.length();Kt>0&&(Kt+=2);var on=z.session.id,Pt=on.length+1+2+4+28+2+we+1+Be+Kt,Jt=i.util.createBuffer();return Jt.putByte(f.HandshakeType.client_hello),Jt.putInt24(Pt),Jt.putByte(z.version.major),Jt.putByte(z.version.minor),Jt.putBytes(z.session.sp.client_random),d(Jt,1,i.util.createBuffer(on)),d(Jt,2,Y),d(Jt,1,at),Kt>0&&d(Jt,2,ot),Jt},f.createServerHello=function(z){var Y=z.session.id,Z=Y.length+1+2+4+28+2+1,Ce=i.util.createBuffer();return Ce.putByte(f.HandshakeType.server_hello),Ce.putInt24(Z),Ce.putByte(z.version.major),Ce.putByte(z.version.minor),Ce.putBytes(z.session.sp.server_random),d(Ce,1,i.util.createBuffer(Y)),Ce.putByte(z.session.cipherSuite.id[0]),Ce.putByte(z.session.cipherSuite.id[1]),Ce.putByte(z.session.compressionMethod),Ce},f.createCertificate=function(z){var Y=z.entity===f.ConnectionEnd.client,Z=null;z.getCertificate&&(Z=z.getCertificate(z,Y?z.session.certificateRequest:z.session.extensions.server_name.serverNameList));var we=i.util.createBuffer();if(null!==Z)try{i.util.isArray(Z)||(Z=[Z]);for(var at=null,Be=0;Be<Z.length;++Be){var ot=i.pem.decode(Z[Be])[0];if("CERTIFICATE"!==ot.type&&"X509 CERTIFICATE"!==ot.type&&"TRUSTED CERTIFICATE"!==ot.type){var Ft=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw Ft.headerType=ot.type,Ft}if(ot.procType&&"ENCRYPTED"===ot.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var mt=i.util.createBuffer(ot.body);null===at&&(at=i.asn1.fromDer(mt.bytes(),!1));var it=i.util.createBuffer();d(it,3,mt),we.putBuffer(it)}Z=i.pki.certificateFromAsn1(at),Y?z.session.clientCertificate=Z:z.session.serverCertificate=Z}catch(Pt){return z.error(z,{message:"Could not send certificate list.",cause:Pt,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate}})}var Kt=3+we.length(),on=i.util.createBuffer();return on.putByte(f.HandshakeType.certificate),on.putInt24(Kt),d(on,3,we),on},f.createClientKeyExchange=function(z){var Y=i.util.createBuffer();Y.putByte(z.session.clientHelloVersion.major),Y.putByte(z.session.clientHelloVersion.minor),Y.putBytes(i.random.getBytes(46));var Z=z.session.sp;Z.pre_master_secret=Y.getBytes();var we=(Y=z.session.serverCertificate.publicKey.encrypt(Z.pre_master_secret)).length+2,at=i.util.createBuffer();return at.putByte(f.HandshakeType.client_key_exchange),at.putInt24(we),at.putInt16(Y.length),at.putBytes(Y),at},f.createServerKeyExchange=function(z){return i.util.createBuffer()},f.getClientSignature=function(z,Y){var Z=i.util.createBuffer();Z.putBuffer(z.session.md5.digest()),Z.putBuffer(z.session.sha1.digest()),Z=Z.getBytes(),z.getSignature=z.getSignature||function(Ce,we,at){var Be=null;if(Ce.getPrivateKey)try{Be=Ce.getPrivateKey(Ce,Ce.session.clientCertificate),Be=i.pki.privateKeyFromPem(Be)}catch(ot){Ce.error(Ce,{message:"Could not get private key.",cause:ot,send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}})}null===Be?Ce.error(Ce,{message:"No private key set.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.internal_error}}):we=Be.sign(we,null),at(Ce,we)},z.getSignature(z,Z,Y)},f.createCertificateVerify=function(z,Y){var Z=Y.length+2,Ce=i.util.createBuffer();return Ce.putByte(f.HandshakeType.certificate_verify),Ce.putInt24(Z),Ce.putInt16(Y.length),Ce.putBytes(Y),Ce},f.createCertificateRequest=function(z){var Y=i.util.createBuffer();Y.putByte(1);var Z=i.util.createBuffer();for(var Ce in z.caStore.certs){var at=i.pki.distinguishedNameToAsn1(z.caStore.certs[Ce].subject),Be=i.asn1.toDer(at);Z.putInt16(Be.length()),Z.putBuffer(Be)}var ot=1+Y.length()+2+Z.length(),Ft=i.util.createBuffer();return Ft.putByte(f.HandshakeType.certificate_request),Ft.putInt24(ot),d(Ft,1,Y),d(Ft,2,Z),Ft},f.createServerHelloDone=function(z){var Y=i.util.createBuffer();return Y.putByte(f.HandshakeType.server_hello_done),Y.putInt24(0),Y},f.createChangeCipherSpec=function(){var z=i.util.createBuffer();return z.putByte(1),z},f.createFinished=function(z){var Y=i.util.createBuffer();Y.putBuffer(z.session.md5.digest()),Y.putBuffer(z.session.sha1.digest()),Y=e(z.session.sp.master_secret,z.entity===f.ConnectionEnd.client?"client finished":"server finished",Y.getBytes(),12);var ot=i.util.createBuffer();return ot.putByte(f.HandshakeType.finished),ot.putInt24(Y.length()),ot.putBuffer(Y),ot},f.createHeartbeat=function(z,Y,Z){typeof Z>"u"&&(Z=Y.length);var Ce=i.util.createBuffer();Ce.putByte(z),Ce.putInt16(Z),Ce.putBytes(Y);var we=Ce.length(),at=Math.max(16,we-Z-3);return Ce.putBytes(i.random.getBytes(at)),Ce},f.queue=function(z,Y){if(Y&&(0!==Y.fragment.length()||Y.type!==f.ContentType.handshake&&Y.type!==f.ContentType.alert&&Y.type!==f.ContentType.change_cipher_spec)){if(Y.type===f.ContentType.handshake){var Z=Y.fragment.bytes();z.session.md5.update(Z),z.session.sha1.update(Z),Z=null}var Ce;if(Y.fragment.length()<=f.MaxFragment)Ce=[Y];else{Ce=[];for(var we=Y.fragment.bytes();we.length>f.MaxFragment;)Ce.push(f.createRecord(z,{type:Y.type,data:i.util.createBuffer(we.slice(0,f.MaxFragment))})),we=we.slice(f.MaxFragment);we.length>0&&Ce.push(f.createRecord(z,{type:Y.type,data:i.util.createBuffer(we)}))}for(var at=0;at<Ce.length&&!z.fail;++at){var Be=Ce[at];z.state.current.write.update(z,Be)&&z.records.push(Be)}}},f.flush=function(z){for(var Y=0;Y<z.records.length;++Y){var Z=z.records[Y];z.tlsData.putByte(Z.type),z.tlsData.putByte(Z.version.major),z.tlsData.putByte(Z.version.minor),z.tlsData.putInt16(Z.fragment.length()),z.tlsData.putBuffer(z.records[Y].fragment)}return z.records=[],z.tlsDataReady(z)};var jt=function(z){switch(z){case!0:return!0;case i.pki.certificateError.bad_certificate:return f.Alert.Description.bad_certificate;case i.pki.certificateError.unsupported_certificate:return f.Alert.Description.unsupported_certificate;case i.pki.certificateError.certificate_revoked:return f.Alert.Description.certificate_revoked;case i.pki.certificateError.certificate_expired:return f.Alert.Description.certificate_expired;case i.pki.certificateError.certificate_unknown:return f.Alert.Description.certificate_unknown;case i.pki.certificateError.unknown_ca:return f.Alert.Description.unknown_ca;default:return f.Alert.Description.bad_certificate}};for(var wt in f.verifyCertificateChain=function(z,Y){try{var Z={};for(var Ce in z.verifyOptions)Z[Ce]=z.verifyOptions[Ce];Z.verify=function(at,Be,ot){jt(at);var mt=z.verify(z,at,Be,ot);if(!0!==mt){if("object"==typeof mt&&!i.util.isArray(mt)){var it=new Error("The application rejected the certificate.");throw it.send=!0,it.alert={level:f.Alert.Level.fatal,description:f.Alert.Description.bad_certificate},mt.message&&(it.message=mt.message),mt.alert&&(it.alert.description=mt.alert),it}mt!==at&&(mt=function(z){switch(z){case!0:return!0;case f.Alert.Description.bad_certificate:return i.pki.certificateError.bad_certificate;case f.Alert.Description.unsupported_certificate:return i.pki.certificateError.unsupported_certificate;case f.Alert.Description.certificate_revoked:return i.pki.certificateError.certificate_revoked;case f.Alert.Description.certificate_expired:return i.pki.certificateError.certificate_expired;case f.Alert.Description.certificate_unknown:return i.pki.certificateError.certificate_unknown;case f.Alert.Description.unknown_ca:return i.pki.certificateError.unknown_ca;default:return i.pki.certificateError.bad_certificate}}(mt))}return mt},i.pki.verifyCertificateChain(z.caStore,Y,Z)}catch(at){var we=at;("object"!=typeof we||i.util.isArray(we))&&(we={send:!0,alert:{level:f.Alert.Level.fatal,description:jt(at)}}),"send"in we||(we.send=!0),"alert"in we||(we.alert={level:f.Alert.Level.fatal,description:jt(we.error)}),z.error(z,we)}return!z.fail},f.createSessionCache=function(z,Y){var Z=null;if(z&&z.getSession&&z.setSession&&z.order)Z=z;else{for(var Ce in(Z={}).cache=z||{},Z.capacity=Math.max(Y||100,1),Z.order=[],z)Z.order.length<=Y?Z.order.push(Ce):delete z[Ce];Z.getSession=function(we){var at=null,Be=null;if(we?Be=i.util.bytesToHex(we):Z.order.length>0&&(Be=Z.order[0]),null!==Be&&Be in Z.cache)for(var ot in at=Z.cache[Be],delete Z.cache[Be],Z.order)if(Z.order[ot]===Be){Z.order.splice(ot,1);break}return at},Z.setSession=function(we,at){if(Z.order.length===Z.capacity){var Be=Z.order.shift();delete Z.cache[Be]}Be=i.util.bytesToHex(we),Z.order.push(Be),Z.cache[Be]=at}}return Z},f.createConnection=function(z){var Y;Y=z.caStore?i.util.isArray(z.caStore)?i.pki.createCaStore(z.caStore):z.caStore:i.pki.createCaStore();var Z=z.cipherSuites||null;if(null===Z)for(var Ce in Z=[],f.CipherSuites)Z.push(f.CipherSuites[Ce]);var we=z.server?f.ConnectionEnd.server:f.ConnectionEnd.client,at=z.sessionCache?f.createSessionCache(z.sessionCache):null,Be={version:{major:f.Version.major,minor:f.Version.minor},entity:we,sessionId:z.sessionId,caStore:Y,sessionCache:at,cipherSuites:Z,connected:z.connected,virtualHost:z.virtualHost||null,verifyClient:z.verifyClient||!1,verify:z.verify||function(it,Kt,on,Pt){return Kt},verifyOptions:z.verifyOptions||{},getCertificate:z.getCertificate||null,getPrivateKey:z.getPrivateKey||null,getSignature:z.getSignature||null,input:i.util.createBuffer(),tlsData:i.util.createBuffer(),data:i.util.createBuffer(),tlsDataReady:z.tlsDataReady,dataReady:z.dataReady,heartbeatReceived:z.heartbeatReceived,closed:z.closed,error:function(it,Kt){Kt.origin=Kt.origin||(it.entity===f.ConnectionEnd.client?"client":"server"),Kt.send&&(f.queue(it,f.createAlert(it,Kt.alert)),f.flush(it));var on=!1!==Kt.fatal;on&&(it.fail=!0),z.error(it,Kt),on&&it.close(!1)},deflate:z.deflate||null,inflate:z.inflate||null,reset:function(it){Be.version={major:f.Version.major,minor:f.Version.minor},Be.record=null,Be.session=null,Be.peerCertificate=null,Be.state={pending:null,current:null},Be.expect=0,Be.fragmented=null,Be.records=[],Be.open=!1,Be.handshakes=0,Be.handshaking=!1,Be.isConnected=!1,Be.fail=!(it||typeof it>"u"),Be.input.clear(),Be.tlsData.clear(),Be.data.clear(),Be.state.current=f.createConnectionState(Be)}};return Be.reset(),Be.handshake=function(it){if(Be.entity!==f.ConnectionEnd.client)Be.error(Be,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(Be.handshaking)Be.error(Be,{message:"Handshake already in progress.",fatal:!1});else{Be.fail&&!Be.open&&0===Be.handshakes&&(Be.fail=!1),Be.handshaking=!0;var Kt=null;(it=it||"").length>0&&(Be.sessionCache&&(Kt=Be.sessionCache.getSession(it)),null===Kt&&(it="")),0===it.length&&Be.sessionCache&&null!==(Kt=Be.sessionCache.getSession())&&(it=Kt.id),Be.session={id:it,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:i.md.md5.create(),sha1:i.md.sha1.create()},Kt&&(Be.version=Kt.version,Be.session.sp=Kt.sp),Be.session.sp.client_random=f.createRandom().getBytes(),Be.open=!0,f.queue(Be,f.createRecord(Be,{type:f.ContentType.handshake,data:f.createClientHello(Be)})),f.flush(Be)}},Be.process=function(it){var Kt=0;return it&&Be.input.putBytes(it),Be.fail||(null!==Be.record&&Be.record.ready&&Be.record.fragment.isEmpty()&&(Be.record=null),null===Be.record&&(Kt=function(it){var Kt=0,on=it.input,Pt=on.length();if(Pt<5)Kt=5-Pt;else{it.record={type:on.getByte(),version:{major:on.getByte(),minor:on.getByte()},length:on.getInt16(),fragment:i.util.createBuffer(),ready:!1};var Jt=it.record.version.major===it.version.major;Jt&&it.session&&it.session.version&&(Jt=it.record.version.minor===it.version.minor),Jt||it.error(it,{message:"Incompatible TLS version.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.protocol_version}})}return Kt}(Be)),!Be.fail&&null!==Be.record&&!Be.record.ready&&(Kt=function(it){var Kt=0,on=it.input,Pt=on.length();return Pt<it.record.length?Kt=it.record.length-Pt:(it.record.fragment.putBytes(on.getBytes(it.record.length)),on.compact(),it.state.current.read.update(it,it.record)&&(null!==it.fragmented&&(it.fragmented.type===it.record.type?(it.fragmented.fragment.putBuffer(it.record.fragment),it.record=it.fragmented):it.error(it,{message:"Invalid fragmented record.",send:!0,alert:{level:f.Alert.Level.fatal,description:f.Alert.Description.unexpected_message}})),it.record.ready=!0)),Kt}(Be)),!Be.fail&&null!==Be.record&&Be.record.ready&&function(it,Kt){var on=Kt.type-f.ContentType.change_cipher_spec,Pt=xe[it.entity][it.expect];on in Pt?Pt[on](it,Kt):f.handleUnexpected(it,Kt)}(Be,Be.record)),Kt},Be.prepare=function(it){return f.queue(Be,f.createRecord(Be,{type:f.ContentType.application_data,data:i.util.createBuffer(it)})),f.flush(Be)},Be.prepareHeartbeatRequest=function(it,Kt){return it instanceof i.util.ByteBuffer&&(it=it.bytes()),typeof Kt>"u"&&(Kt=it.length),Be.expectedHeartbeatPayload=it,f.queue(Be,f.createRecord(Be,{type:f.ContentType.heartbeat,data:f.createHeartbeat(f.HeartbeatMessageType.heartbeat_request,it,Kt)})),f.flush(Be)},Be.close=function(it){if(!Be.fail&&Be.sessionCache&&Be.session){var Kt={id:Be.session.id,version:Be.session.version,sp:Be.session.sp};Kt.sp.keys=null,Be.sessionCache.setSession(Kt.id,Kt)}Be.open&&(Be.open=!1,Be.input.clear(),(Be.isConnected||Be.handshaking)&&(Be.isConnected=Be.handshaking=!1,f.queue(Be,f.createAlert(Be,{level:f.Alert.Level.warning,description:f.Alert.Description.close_notify})),f.flush(Be)),Be.closed(Be)),Be.reset(it)},Be},nt.exports=i.tls=i.tls||{},f)"function"!=typeof f[wt]&&(i.tls[wt]=f[wt]);i.tls.prf_tls1=e,i.tls.hmac_sha1=function(z,Y,Z){var Ce=i.hmac.create();Ce.start("SHA1",z);var we=i.util.createBuffer();return we.putInt32(Y[0]),we.putInt32(Y[1]),we.putByte(Z.type),we.putByte(Z.version.major),we.putByte(Z.version.minor),we.putInt16(Z.length),we.putBytes(Z.fragment.bytes()),Ce.update(we.getBytes()),Ce.digest().getBytes()},i.tls.createSessionCache=f.createSessionCache,i.tls.createConnection=f.createConnection},812:(nt,fe,h)=>{var i=h(6589),e=h(3175),y=nt.exports=i.util=i.util||{};function p(R){if(8!==R&&16!==R&&24!==R&&32!==R)throw new Error("Only 8, 16, 24, or 32 bits supported: "+R)}function w(R){if(this.data="",this.read=0,"string"==typeof R)this.data=R;else if(y.isArrayBuffer(R)||y.isArrayBufferView(R))if(typeof Buffer<"u"&&R instanceof Buffer)this.data=R.toString("binary");else{var j=new Uint8Array(R);try{this.data=String.fromCharCode.apply(null,j)}catch{for(var U=0;U<j.length;++U)this.putByte(j[U])}}else(R instanceof w||"object"==typeof R&&"string"==typeof R.data&&"number"==typeof R.read)&&(this.data=R.data,this.read=R.read);this._constructedStringLength=0}(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)return y.nextTick=process.nextTick,void(y.setImmediate="function"==typeof setImmediate?setImmediate:y.nextTick);if("function"==typeof setImmediate)return y.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(y.nextTick=function(J){return setImmediate(J)});if(y.setImmediate=function(J){setTimeout(J,0)},typeof window<"u"&&"function"==typeof window.postMessage){let J=function(te){if(te.source===window&&te.data===R){te.stopPropagation();var E=j.slice();j.length=0,E.forEach(function(re){re()})}};var R="forge.setImmediate",j=[];y.setImmediate=function(te){j.push(te),1===j.length&&window.postMessage(R,"*")},window.addEventListener("message",J,!0)}if(typeof MutationObserver<"u"){var U=Date.now(),$=!0,ne=document.createElement("div");j=[],new MutationObserver(function(){var te=j.slice();j.length=0,te.forEach(function(E){E()})}).observe(ne,{attributes:!0});var se=y.setImmediate;y.setImmediate=function(te){Date.now()-U>15?(U=Date.now(),se(te)):(j.push(te),1===j.length&&ne.setAttribute("a",$=!$))}}y.nextTick=y.setImmediate})(),y.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,y.globalScope=y.isNodejs?global:typeof self>"u"?window:self,y.isArray=Array.isArray||function(R){return"[object Array]"===Object.prototype.toString.call(R)},y.isArrayBuffer=function(R){return typeof ArrayBuffer<"u"&&R instanceof ArrayBuffer},y.isArrayBufferView=function(R){return R&&y.isArrayBuffer(R.buffer)&&void 0!==R.byteLength},y.ByteBuffer=w,y.ByteStringBuffer=w,y.ByteStringBuffer.prototype._optimizeConstructedString=function(R){this._constructedStringLength+=R,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},y.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},y.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},y.ByteStringBuffer.prototype.putByte=function(R){return this.putBytes(String.fromCharCode(R))},y.ByteStringBuffer.prototype.fillWithByte=function(R,j){R=String.fromCharCode(R);for(var U=this.data;j>0;)1&j&&(U+=R),(j>>>=1)>0&&(R+=R);return this.data=U,this._optimizeConstructedString(j),this},y.ByteStringBuffer.prototype.putBytes=function(R){return this.data+=R,this._optimizeConstructedString(R.length),this},y.ByteStringBuffer.prototype.putString=function(R){return this.putBytes(y.encodeUtf8(R))},y.ByteStringBuffer.prototype.putInt16=function(R){return this.putBytes(String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt24=function(R){return this.putBytes(String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt32=function(R){return this.putBytes(String.fromCharCode(R>>24&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R))},y.ByteStringBuffer.prototype.putInt16Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255))},y.ByteStringBuffer.prototype.putInt24Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255)+String.fromCharCode(R>>16&255))},y.ByteStringBuffer.prototype.putInt32Le=function(R){return this.putBytes(String.fromCharCode(255&R)+String.fromCharCode(R>>8&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>24&255))},y.ByteStringBuffer.prototype.putInt=function(R,j){p(j);var U="";do{j-=8,U+=String.fromCharCode(R>>j&255)}while(j>0);return this.putBytes(U)},y.ByteStringBuffer.prototype.putSignedInt=function(R,j){return R<0&&(R+=2<<j-1),this.putInt(R,j)},y.ByteStringBuffer.prototype.putBuffer=function(R){return this.putBytes(R.getBytes())},y.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},y.ByteStringBuffer.prototype.getInt16=function(){var R=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,R},y.ByteStringBuffer.prototype.getInt24=function(){var R=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,R},y.ByteStringBuffer.prototype.getInt32=function(){var R=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,R},y.ByteStringBuffer.prototype.getInt16Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,R},y.ByteStringBuffer.prototype.getInt24Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,R},y.ByteStringBuffer.prototype.getInt32Le=function(){var R=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,R},y.ByteStringBuffer.prototype.getInt=function(R){p(R);var j=0;do{j=(j<<8)+this.data.charCodeAt(this.read++),R-=8}while(R>0);return j},y.ByteStringBuffer.prototype.getSignedInt=function(R){var j=this.getInt(R),U=2<<R-2;return j>=U&&(j-=U<<1),j},y.ByteStringBuffer.prototype.getBytes=function(R){var j;return R?(R=Math.min(this.length(),R),j=this.data.slice(this.read,this.read+R),this.read+=R):0===R?j="":(j=0===this.read?this.data:this.data.slice(this.read),this.clear()),j},y.ByteStringBuffer.prototype.bytes=function(R){return typeof R>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+R)},y.ByteStringBuffer.prototype.at=function(R){return this.data.charCodeAt(this.read+R)},y.ByteStringBuffer.prototype.setAt=function(R,j){return this.data=this.data.substr(0,this.read+R)+String.fromCharCode(j)+this.data.substr(this.read+R+1),this},y.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},y.ByteStringBuffer.prototype.copy=function(){var R=y.createBuffer(this.data);return R.read=this.read,R},y.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},y.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},y.ByteStringBuffer.prototype.truncate=function(R){var j=Math.max(0,this.length()-R);return this.data=this.data.substr(this.read,j),this.read=0,this},y.ByteStringBuffer.prototype.toHex=function(){for(var R="",j=this.read;j<this.data.length;++j){var U=this.data.charCodeAt(j);U<16&&(R+="0"),R+=U.toString(16)}return R},y.ByteStringBuffer.prototype.toString=function(){return y.decodeUtf8(this.bytes())},y.DataBuffer=function m(R,j){this.read=(j=j||{}).readOffset||0,this.growSize=j.growSize||1024;var U=y.isArrayBuffer(R),$=y.isArrayBufferView(R);if(U||$)return this.data=U?new DataView(R):new DataView(R.buffer,R.byteOffset,R.byteLength),void(this.write="writeOffset"in j?j.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=R&&this.putBytes(R),"writeOffset"in j&&(this.write=j.writeOffset)},y.DataBuffer.prototype.length=function(){return this.write-this.read},y.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},y.DataBuffer.prototype.accommodate=function(R,j){if(this.length()>=R)return this;j=Math.max(j||this.growSize,R);var U=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),$=new Uint8Array(this.length()+j);return $.set(U),this.data=new DataView($.buffer),this},y.DataBuffer.prototype.putByte=function(R){return this.accommodate(1),this.data.setUint8(this.write++,R),this},y.DataBuffer.prototype.fillWithByte=function(R,j){this.accommodate(j);for(var U=0;U<j;++U)this.data.setUint8(R);return this},y.DataBuffer.prototype.putBytes=function(R,j){if(y.isArrayBufferView(R)){var $=(U=new Uint8Array(R.buffer,R.byteOffset,R.byteLength)).byteLength-U.byteOffset;return this.accommodate($),new Uint8Array(this.data.buffer,this.write).set(U),this.write+=$,this}if(y.isArrayBuffer(R)){var U=new Uint8Array(R);return this.accommodate(U.byteLength),new Uint8Array(this.data.buffer).set(U,this.write),this.write+=U.byteLength,this}if(R instanceof y.DataBuffer||"object"==typeof R&&"number"==typeof R.read&&"number"==typeof R.write&&y.isArrayBufferView(R.data))return U=new Uint8Array(R.data.byteLength,R.read,R.length()),this.accommodate(U.byteLength),new Uint8Array(R.data.byteLength,this.write).set(U),this.write+=U.byteLength,this;if(R instanceof y.ByteStringBuffer&&(R=R.data,j="binary"),j=j||"binary","string"==typeof R){var se;if("hex"===j)return this.accommodate(Math.ceil(R.length/2)),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.hex.decode(R,se,this.write),this;if("base64"===j)return this.accommodate(3*Math.ceil(R.length/4)),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.base64.decode(R,se,this.write),this;if("utf8"===j&&(R=y.encodeUtf8(R),j="binary"),"binary"===j||"raw"===j)return this.accommodate(R.length),se=new Uint8Array(this.data.buffer,this.write),this.write+=y.binary.raw.decode(se),this;if("utf16"===j)return this.accommodate(2*R.length),se=new Uint16Array(this.data.buffer,this.write),this.write+=y.text.utf16.encode(se),this;throw new Error("Invalid encoding: "+j)}throw Error("Invalid parameter: "+R)},y.DataBuffer.prototype.putBuffer=function(R){return this.putBytes(R),R.clear(),this},y.DataBuffer.prototype.putString=function(R){return this.putBytes(R,"utf16")},y.DataBuffer.prototype.putInt16=function(R){return this.accommodate(2),this.data.setInt16(this.write,R),this.write+=2,this},y.DataBuffer.prototype.putInt24=function(R){return this.accommodate(3),this.data.setInt16(this.write,R>>8&65535),this.data.setInt8(this.write,R>>16&255),this.write+=3,this},y.DataBuffer.prototype.putInt32=function(R){return this.accommodate(4),this.data.setInt32(this.write,R),this.write+=4,this},y.DataBuffer.prototype.putInt16Le=function(R){return this.accommodate(2),this.data.setInt16(this.write,R,!0),this.write+=2,this},y.DataBuffer.prototype.putInt24Le=function(R){return this.accommodate(3),this.data.setInt8(this.write,R>>16&255),this.data.setInt16(this.write,R>>8&65535,!0),this.write+=3,this},y.DataBuffer.prototype.putInt32Le=function(R){return this.accommodate(4),this.data.setInt32(this.write,R,!0),this.write+=4,this},y.DataBuffer.prototype.putInt=function(R,j){p(j),this.accommodate(j/8);do{j-=8,this.data.setInt8(this.write++,R>>j&255)}while(j>0);return this},y.DataBuffer.prototype.putSignedInt=function(R,j){return p(j),this.accommodate(j/8),R<0&&(R+=2<<j-1),this.putInt(R,j)},y.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},y.DataBuffer.prototype.getInt16=function(){var R=this.data.getInt16(this.read);return this.read+=2,R},y.DataBuffer.prototype.getInt24=function(){var R=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,R},y.DataBuffer.prototype.getInt32=function(){var R=this.data.getInt32(this.read);return this.read+=4,R},y.DataBuffer.prototype.getInt16Le=function(){var R=this.data.getInt16(this.read,!0);return this.read+=2,R},y.DataBuffer.prototype.getInt24Le=function(){var R=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,R},y.DataBuffer.prototype.getInt32Le=function(){var R=this.data.getInt32(this.read,!0);return this.read+=4,R},y.DataBuffer.prototype.getInt=function(R){p(R);var j=0;do{j=(j<<8)+this.data.getInt8(this.read++),R-=8}while(R>0);return j},y.DataBuffer.prototype.getSignedInt=function(R){var j=this.getInt(R),U=2<<R-2;return j>=U&&(j-=U<<1),j},y.DataBuffer.prototype.getBytes=function(R){var j;return R?(R=Math.min(this.length(),R),j=this.data.slice(this.read,this.read+R),this.read+=R):0===R?j="":(j=0===this.read?this.data:this.data.slice(this.read),this.clear()),j},y.DataBuffer.prototype.bytes=function(R){return typeof R>"u"?this.data.slice(this.read):this.data.slice(this.read,this.read+R)},y.DataBuffer.prototype.at=function(R){return this.data.getUint8(this.read+R)},y.DataBuffer.prototype.setAt=function(R,j){return this.data.setUint8(R,j),this},y.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},y.DataBuffer.prototype.copy=function(){return new y.DataBuffer(this)},y.DataBuffer.prototype.compact=function(){if(this.read>0){var R=new Uint8Array(this.data.buffer,this.read),j=new Uint8Array(R.byteLength);j.set(R),this.data=new DataView(j),this.write-=this.read,this.read=0}return this},y.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},y.DataBuffer.prototype.truncate=function(R){return this.write=Math.max(0,this.length()-R),this.read=Math.min(this.read,this.write),this},y.DataBuffer.prototype.toHex=function(){for(var R="",j=this.read;j<this.data.byteLength;++j){var U=this.data.getUint8(j);U<16&&(R+="0"),R+=U.toString(16)}return R},y.DataBuffer.prototype.toString=function(R){var j=new Uint8Array(this.data,this.read,this.length());if("binary"===(R=R||"utf8")||"raw"===R)return y.binary.raw.encode(j);if("hex"===R)return y.binary.hex.encode(j);if("base64"===R)return y.binary.base64.encode(j);if("utf8"===R)return y.text.utf8.decode(j);if("utf16"===R)return y.text.utf16.decode(j);throw new Error("Invalid encoding: "+R)},y.createBuffer=function(R,j){return j=j||"raw",void 0!==R&&"utf8"===j&&(R=y.encodeUtf8(R)),new y.ByteBuffer(R)},y.fillString=function(R,j){for(var U="";j>0;)1&j&&(U+=R),(j>>>=1)>0&&(R+=R);return U},y.xorBytes=function(R,j,U){for(var $="",ne="",se="",L=0,J=0;U>0;--U,++L)ne=R.charCodeAt(L)^j.charCodeAt(L),J>=10&&($+=se,se="",J=0),se+=String.fromCharCode(ne),++J;return $+se},y.hexToBytes=function(R){var j="",U=0;for(!0&R.length&&(U=1,j+=String.fromCharCode(parseInt(R[0],16)));U<R.length;U+=2)j+=String.fromCharCode(parseInt(R.substr(U,2),16));return j},y.bytesToHex=function(R){return y.createBuffer(R).toHex()},y.int32ToBytes=function(R){return String.fromCharCode(R>>24&255)+String.fromCharCode(R>>16&255)+String.fromCharCode(R>>8&255)+String.fromCharCode(255&R)};var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",f=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],I="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";y.encode64=function(R,j){for(var ne,se,L,U="",$="",J=0;J<R.length;)ne=R.charCodeAt(J++),se=R.charCodeAt(J++),L=R.charCodeAt(J++),U+=d.charAt(ne>>2),U+=d.charAt((3&ne)<<4|se>>4),isNaN(se)?U+="==":(U+=d.charAt((15&se)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),j&&U.length>j&&($+=U.substr(0,j)+"\r\n",U=U.substr(j));return $+U},y.decode64=function(R){R=R.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var U,$,ne,se,j="",L=0;L<R.length;)U=f[R.charCodeAt(L++)-43],$=f[R.charCodeAt(L++)-43],ne=f[R.charCodeAt(L++)-43],se=f[R.charCodeAt(L++)-43],j+=String.fromCharCode(U<<2|$>>4),64!==ne&&(j+=String.fromCharCode((15&$)<<4|ne>>2),64!==se&&(j+=String.fromCharCode((3&ne)<<6|se)));return j},y.encodeUtf8=function(R){return unescape(encodeURIComponent(R))},y.decodeUtf8=function(R){return decodeURIComponent(escape(R))},y.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:e.encode,decode:e.decode}},y.binary.raw.encode=function(R){return String.fromCharCode.apply(null,R)},y.binary.raw.decode=function(R,j,U){var $=j;$||($=new Uint8Array(R.length));for(var ne=U=U||0,se=0;se<R.length;++se)$[ne++]=R.charCodeAt(se);return j?ne-U:$},y.binary.hex.encode=y.bytesToHex,y.binary.hex.decode=function(R,j,U){var $=j;$||($=new Uint8Array(Math.ceil(R.length/2)));var ne=0,se=U=U||0;for(1&R.length&&(ne=1,$[se++]=parseInt(R[0],16));ne<R.length;ne+=2)$[se++]=parseInt(R.substr(ne,2),16);return j?se-U:$},y.binary.base64.encode=function(R,j){for(var ne,se,L,U="",$="",J=0;J<R.byteLength;)ne=R[J++],se=R[J++],L=R[J++],U+=d.charAt(ne>>2),U+=d.charAt((3&ne)<<4|se>>4),isNaN(se)?U+="==":(U+=d.charAt((15&se)<<2|L>>6),U+=isNaN(L)?"=":d.charAt(63&L)),j&&U.length>j&&($+=U.substr(0,j)+"\r\n",U=U.substr(j));return $+U},y.binary.base64.decode=function(R,j,U){var $=j;$||($=new Uint8Array(3*Math.ceil(R.length/4))),R=R.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var ne,se,L,J,te=0,E=U=U||0;te<R.length;)ne=f[R.charCodeAt(te++)-43],se=f[R.charCodeAt(te++)-43],L=f[R.charCodeAt(te++)-43],J=f[R.charCodeAt(te++)-43],$[E++]=ne<<2|se>>4,64!==L&&($[E++]=(15&se)<<4|L>>2,64!==J&&($[E++]=(3&L)<<6|J));return j?E-U:$.subarray(0,E)},y.binary.base58.encode=function(R,j){return y.binary.baseN.encode(R,I,j)},y.binary.base58.decode=function(R,j){return y.binary.baseN.decode(R,I,j)},y.text={utf8:{},utf16:{}},y.text.utf8.encode=function(R,j,U){R=y.encodeUtf8(R);var $=j;$||($=new Uint8Array(R.length));for(var ne=U=U||0,se=0;se<R.length;++se)$[ne++]=R.charCodeAt(se);return j?ne-U:$},y.text.utf8.decode=function(R){return y.decodeUtf8(String.fromCharCode.apply(null,R))},y.text.utf16.encode=function(R,j,U){var $=j;$||($=new Uint8Array(2*R.length));for(var ne=new Uint16Array($.buffer),se=U=U||0,L=U,J=0;J<R.length;++J)ne[L++]=R.charCodeAt(J),se+=2;return j?se-U:$},y.text.utf16.decode=function(R){return String.fromCharCode.apply(null,new Uint16Array(R.buffer))},y.deflate=function(R,j,U){if(j=y.decode64(R.deflate(y.encode64(j)).rval),U){var $=2;32&j.charCodeAt(1)&&($=6),j=j.substring($,j.length-4)}return j},y.inflate=function(R,j,U){var $=R.inflate(y.encode64(j)).rval;return null===$?null:y.decode64($)};var O=function(R,j,U){if(!R)throw new Error("WebStorage not available.");var $;if(null===U?$=R.removeItem(j):(U=y.encode64(JSON.stringify(U)),$=R.setItem(j,U)),typeof $<"u"&&!0!==$.rval){var ne=new Error($.error.message);throw ne.id=$.error.id,ne.name=$.error.name,ne}},P=function(R,j){if(!R)throw new Error("WebStorage not available.");var U=R.getItem(j);if(R.init)if(null===U.rval){if(U.error){var $=new Error(U.error.message);throw $.id=U.error.id,$.name=U.error.name,$}U=null}else U=U.rval;return null!==U&&(U=JSON.parse(y.decode64(U))),U},b=function(R,j,U,$){var ne=P(R,j);null===ne&&(ne={}),ne[U]=$,O(R,j,ne)},M=function(R,j,U){var $=P(R,j);return null!==$&&($=U in $?$[U]:null),$},k=function(R,j,U){var $=P(R,j);if(null!==$&&U in $){delete $[U];var ne=!0;for(var se in $){ne=!1;break}ne&&($=null),O(R,j,$)}},N=function(R,j){O(R,j,null)},G=function(R,j,U){var $=null;typeof U>"u"&&(U=["web","flash"]);var ne,se=!1,L=null;for(var J in U){ne=U[J];try{if("flash"===ne||"both"===ne){if(null===j[0])throw new Error("Flash local storage not available.");$=R.apply(this,j),se="flash"===ne}("web"===ne||"both"===ne)&&(j[0]=localStorage,$=R.apply(this,j),se=!0)}catch(te){L=te}if(se)break}if(!se)throw L;return $};y.setItem=function(R,j,U,$,ne){G(b,arguments,ne)},y.getItem=function(R,j,U,$){return G(M,arguments,$)},y.removeItem=function(R,j,U,$){G(k,arguments,$)},y.clearItems=function(R,j,U){G(N,arguments,U)},y.isEmpty=function(R){for(var j in R)if(R.hasOwnProperty(j))return!1;return!0},y.format=function(R){for(var U,$,j=/%./g,ne=0,se=[],L=0;U=j.exec(R);){($=R.substring(L,j.lastIndex-2)).length>0&&se.push($),L=j.lastIndex;var J=U[0][1];switch(J){case"s":case"o":se.push(ne<arguments.length?arguments[1+ne++]:"<?>");break;case"%":se.push("%");break;default:se.push("<%"+J+"?>")}}return se.push(R.substring(L)),se.join("")},y.formatNumber=function(R,j,U,$){var ne=R,se=isNaN(j=Math.abs(j))?2:j,L=void 0===U?",":U,J=void 0===$?".":$,te=ne<0?"-":"",E=parseInt(ne=Math.abs(+ne||0).toFixed(se),10)+"",re=E.length>3?E.length%3:0;return te+(re?E.substr(0,re)+J:"")+E.substr(re).replace(/(\d{3})(?=\d)/g,"$1"+J)+(se?L+Math.abs(ne-E).toFixed(se).slice(2):"")},y.formatSize=function(R){return R>=1073741824?y.formatNumber(R/1073741824,2,".","")+" GiB":R>=1048576?y.formatNumber(R/1048576,2,".","")+" MiB":R>=1024?y.formatNumber(R/1024,0)+" KiB":y.formatNumber(R,0)+" bytes"},y.bytesFromIP=function(R){return-1!==R.indexOf(".")?y.bytesFromIPv4(R):-1!==R.indexOf(":")?y.bytesFromIPv6(R):null},y.bytesFromIPv4=function(R){if(4!==(R=R.split(".")).length)return null;for(var j=y.createBuffer(),U=0;U<R.length;++U){var $=parseInt(R[U],10);if(isNaN($))return null;j.putByte($)}return j.getBytes()},y.bytesFromIPv6=function(R){for(var j=0,U=2*(8-(R=R.split(":").filter(function(L){return 0===L.length&&++j,!0})).length+j),$=y.createBuffer(),ne=0;ne<8;++ne)if(R[ne]&&0!==R[ne].length){var se=y.hexToBytes(R[ne]);se.length<2&&$.putByte(0),$.putBytes(se)}else $.fillWithByte(0,U),U=0;return $.getBytes()},y.bytesToIP=function(R){return 4===R.length?y.bytesToIPv4(R):16===R.length?y.bytesToIPv6(R):null},y.bytesToIPv4=function(R){if(4!==R.length)return null;for(var j=[],U=0;U<R.length;++U)j.push(R.charCodeAt(U));return j.join(".")},y.bytesToIPv6=function(R){if(16!==R.length)return null;for(var j=[],U=[],$=0,ne=0;ne<R.length;ne+=2){for(var se=y.bytesToHex(R[ne]+R[ne+1]);"0"===se[0]&&"0"!==se;)se=se.substr(1);if("0"===se){var L=U[U.length-1],J=j.length;L&&J===L.end+1?(L.end=J,L.end-L.start>U[$].end-U[$].start&&($=U.length-1)):U.push({start:J,end:J})}j.push(se)}if(U.length>0){var te=U[$];te.end-te.start>0&&(j.splice(te.start,te.end-te.start+1,""),0===te.start&&j.unshift(""),7===te.end&&j.push(""))}return j.join(":")},y.estimateCores=function(R,j){if("function"==typeof R&&(j=R,R={}),R=R||{},"cores"in y&&!R.update)return j(null,y.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return y.cores=navigator.hardwareConcurrency,j(null,y.cores);if(typeof Worker>"u")return y.cores=1,j(null,y.cores);if(typeof Blob>"u")return y.cores=2,j(null,y.cores);var U=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(L){for(var J=Date.now(),te=J+4;Date.now()<te;);self.postMessage({st:J,et:te})})}.toString(),")()"],{type:"application/javascript"}));!function $(L,J,te){if(0===J){var E=Math.floor(L.reduce(function(re,K){return re+K},0)/L.length);return y.cores=Math.max(1,E),URL.revokeObjectURL(U),j(null,y.cores)}!function ne(L,J){for(var te=[],E=[],re=0;re<L;++re){var K=new Worker(U);K.addEventListener("message",function(me){if(E.push(me.data),E.length===L){for(var Ne=0;Ne<L;++Ne)te[Ne].terminate();J(null,E)}}),te.push(K)}for(re=0;re<L;++re)te[re].postMessage(re)}(te,function(re,K){L.push(function se(L,J){for(var te=[],E=0;E<L;++E)for(var re=J[E],K=te[E]=[],me=0;me<L;++me)if(E!==me){var Ne=J[me];(re.st>Ne.st&&re.st<Ne.et||Ne.st>re.st&&Ne.st<re.et)&&K.push(me)}return te.reduce(function(Ae,xe){return Math.max(Ae,xe.length)},0)}(te,K)),$(L,J-1,te)})}([],5,16)}},9436:(nt,fe,h)=>{var i=h(6589);h(57),h(7097),h(3674),h(5437),h(8040),h(1817),h(9368),h(8588),h(2880),h(812);var e=i.asn1,y=nt.exports=i.pki=i.pki||{},p=y.oids,w={};w.CN=p.commonName,w.commonName="CN",w.C=p.countryName,w.countryName="C",w.L=p.localityName,w.localityName="L",w.ST=p.stateOrProvinceName,w.stateOrProvinceName="ST",w.O=p.organizationName,w.organizationName="O",w.OU=p.organizationalUnitName,w.organizationalUnitName="OU",w.E=p.emailAddress,w.emailAddress="E";var C=i.pki.rsa.publicKeyValidator,m={name:"Certificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:e.Class.UNIVERSAL,type:e.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:e.Class.UNIVERSAL,type:e.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},C,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},d={name:"rsapss",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:e.Class.UNIVERSAL,type:e.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:e.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:e.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:e.Class.UNIVERSAL,type:e.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},I={name:"CertificationRequest",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},C,{name:"CertificationRequestInfo.attributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:e.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:e.Class.UNIVERSAL,type:e.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function O(L,J){"string"==typeof J&&(J={shortName:J});for(var E,te=null,re=0;null===te&&re<L.attributes.length;++re)E=L.attributes[re],(J.type&&J.type===E.type||J.name&&J.name===E.name||J.shortName&&J.shortName===E.shortName)&&(te=E);return te}y.RDNAttributesAsArray=function(L,J){for(var E,re,K,te=[],me=0;me<L.value.length;++me){E=L.value[me];for(var Ne=0;Ne<E.value.length;++Ne)(K={}).type=e.derToOid((re=E.value[Ne]).value[0].value),K.value=re.value[1].value,K.valueTagClass=re.value[1].type,K.type in p&&(K.name=p[K.type],K.name in w&&(K.shortName=w[K.name])),J&&(J.update(K.type),J.update(K.value)),te.push(K)}return te},y.CRIAttributesAsArray=function(L){for(var J=[],te=0;te<L.length;++te)for(var E=L[te],re=e.derToOid(E.value[0].value),K=E.value[1].value,me=0;me<K.length;++me){var Ne={};if(Ne.type=re,Ne.value=K[me].value,Ne.valueTagClass=K[me].type,Ne.type in p&&(Ne.name=p[Ne.type],Ne.name in w&&(Ne.shortName=w[Ne.name])),Ne.type===p.extensionRequest){Ne.extensions=[];for(var Ae=0;Ae<Ne.value.length;++Ae)Ne.extensions.push(y.certificateExtensionFromAsn1(Ne.value[Ae]))}J.push(Ne)}return J};var P=function(L,J,te){var E={};if(L!==p["RSASSA-PSS"])return E;te&&(E={hash:{algorithmOid:p.sha1},mgf:{algorithmOid:p.mgf1,hash:{algorithmOid:p.sha1}},saltLength:20});var re={},K=[];if(!e.validate(J,d,re,K)){var me=new Error("Cannot read RSASSA-PSS parameter block.");throw me.errors=K,me}return void 0!==re.hashOid&&(E.hash=E.hash||{},E.hash.algorithmOid=e.derToOid(re.hashOid)),void 0!==re.maskGenOid&&(E.mgf=E.mgf||{},E.mgf.algorithmOid=e.derToOid(re.maskGenOid),E.mgf.hash=E.mgf.hash||{},E.mgf.hash.algorithmOid=e.derToOid(re.maskGenHashOid)),void 0!==re.saltLength&&(E.saltLength=re.saltLength.charCodeAt(0)),E},b=function(L){switch(p[L.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return i.md.sha1.create();case"md5WithRSAEncryption":return i.md.md5.create();case"sha256WithRSAEncryption":case"RSASSA-PSS":return i.md.sha256.create();case"sha384WithRSAEncryption":return i.md.sha384.create();case"sha512WithRSAEncryption":return i.md.sha512.create();default:var J=new Error("Could not compute "+L.type+" digest. Unknown signature OID.");throw J.signatureOid=L.signatureOid,J}},M=function(L){var te,J=L.certificate;switch(J.signatureOid){case p.sha1WithRSAEncryption:case p.sha1WithRSASignature:break;case p["RSASSA-PSS"]:var E,re,K;if(void 0===(E=p[J.signatureParameters.mgf.hash.algorithmOid])||void 0===i.md[E])throw(K=new Error("Unsupported MGF hash function.")).oid=J.signatureParameters.mgf.hash.algorithmOid,K.name=E,K;if(void 0===(re=p[J.signatureParameters.mgf.algorithmOid])||void 0===i.mgf[re])throw(K=new Error("Unsupported MGF function.")).oid=J.signatureParameters.mgf.algorithmOid,K.name=re,K;if(re=i.mgf[re].create(i.md[E].create()),void 0===(E=p[J.signatureParameters.hash.algorithmOid])||void 0===i.md[E])throw(K=new Error("Unsupported RSASSA-PSS hash function.")).oid=J.signatureParameters.hash.algorithmOid,K.name=E,K;te=i.pss.create(i.md[E].create(),re,J.signatureParameters.saltLength)}return J.publicKey.verify(L.md.digest().getBytes(),L.signature,te)};function k(L){for(var te,E,J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),re=L.attributes,K=0;K<re.length;++K){var me=(te=re[K]).value,Ne=e.Type.PRINTABLESTRING;"valueTagClass"in te&&(Ne=te.valueTagClass)===e.Type.UTF8&&(me=i.util.encodeUtf8(me)),E=e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(te.type).getBytes()),e.create(e.Class.UNIVERSAL,Ne,!1,me)])]),J.value.push(E)}return J}function G(L){for(var J,te=0;te<L.length;++te){if(typeof(J=L[te]).name>"u"&&(J.type&&J.type in y.oids?J.name=y.oids[J.type]:J.shortName&&J.shortName in w&&(J.name=y.oids[w[J.shortName]])),typeof J.type>"u"){if(!J.name||!(J.name in y.oids))throw(E=new Error("Attribute type not specified.")).attribute=J,E;J.type=y.oids[J.name]}if(typeof J.shortName>"u"&&J.name&&J.name in w&&(J.shortName=w[J.name]),J.type===p.extensionRequest&&(J.valueConstructed=!0,J.valueTagClass=e.Type.SEQUENCE,!J.value&&J.extensions)){J.value=[];for(var re=0;re<J.extensions.length;++re)J.value.push(y.certificateExtensionToAsn1(R(J.extensions[re])))}var E;if(typeof J.value>"u")throw(E=new Error("Attribute value not specified.")).attribute=J,E}}function R(L,J){if(J=J||{},typeof L.name>"u"&&L.id&&L.id in y.oids&&(L.name=y.oids[L.id]),typeof L.id>"u"){if(!L.name||!(L.name in y.oids))throw(te=new Error("Extension ID not specified.")).extension=L,te;L.id=y.oids[L.name]}if(typeof L.value<"u")return L;if("keyUsage"===L.name){var E=0,re=0,K=0;L.digitalSignature&&(re|=128,E=7),L.nonRepudiation&&(re|=64,E=6),L.keyEncipherment&&(re|=32,E=5),L.dataEncipherment&&(re|=16,E=4),L.keyAgreement&&(re|=8,E=3),L.keyCertSign&&(re|=4,E=2),L.cRLSign&&(re|=2,E=1),L.encipherOnly&&(re|=1,E=0),L.decipherOnly&&(K|=128,E=7);var me=String.fromCharCode(E);0!==K?me+=String.fromCharCode(re)+String.fromCharCode(K):0!==re&&(me+=String.fromCharCode(re)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,me)}else if("basicConstraints"===L.name)L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),L.cA&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff")),"pathLenConstraint"in L&&L.value.value.push(e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.pathLenConstraint).getBytes()));else if("extKeyUsage"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);var Ne=L.value.value;for(var Ae in L)!0===L[Ae]&&(Ae in p?Ne.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(p[Ae]).getBytes())):-1!==Ae.indexOf(".")&&Ne.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(Ae).getBytes())))}else if("nsCertType"===L.name)E=0,re=0,L.client&&(re|=128,E=7),L.server&&(re|=64,E=6),L.email&&(re|=32,E=5),L.objsign&&(re|=16,E=4),L.reserved&&(re|=8,E=3),L.sslCA&&(re|=4,E=2),L.emailCA&&(re|=2,E=1),L.objCA&&(re|=1,E=0),me=String.fromCharCode(E),0!==re&&(me+=String.fromCharCode(re)),L.value=e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,me);else if("subjectAltName"===L.name||"issuerAltName"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);for(var Qe=0;Qe<L.altNames.length;++Qe){if(me=(xe=L.altNames[Qe]).value,7===xe.type&&xe.ip){if(null===(me=i.util.bytesFromIP(xe.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===xe.type&&(me=e.oidToDer(xe.oid?e.oidToDer(xe.oid):me));L.value.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,me))}}else if("nsComment"===L.name&&J.cert){if(!/^[\x00-\x7F]*$/.test(L.comment)||L.comment.length<1||L.comment.length>128)throw new Error('Invalid "nsComment" content.');L.value=e.create(e.Class.UNIVERSAL,e.Type.IA5STRING,!1,L.comment)}else if("subjectKeyIdentifier"===L.name&&J.cert){var Ee=J.cert.generateSubjectKeyIdentifier();L.subjectKeyIdentifier=Ee.toHex(),L.value=e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,Ee.getBytes())}else if("authorityKeyIdentifier"===L.name&&J.cert){if(L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ne=L.value.value,L.keyIdentifier){var be=!0===L.keyIdentifier?J.cert.generateSubjectKeyIdentifier().getBytes():L.keyIdentifier;Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!1,be))}if(L.authorityCertIssuer){var le=[e.create(e.Class.CONTEXT_SPECIFIC,4,!0,[k(!0===L.authorityCertIssuer?J.cert.issuer:L.authorityCertIssuer)])];Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,le))}if(L.serialNumber){var Pe=i.util.hexToBytes(!0===L.serialNumber?J.cert.serialNumber:L.serialNumber);Ne.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!1,Pe))}}else if("cRLDistributionPoints"===L.name){L.value=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),Ne=L.value.value;var xe,Ie=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]),st=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);for(Qe=0;Qe<L.altNames.length;++Qe){if(me=(xe=L.altNames[Qe]).value,7===xe.type&&xe.ip){if(null===(me=i.util.bytesFromIP(xe.ip)))throw(te=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=L,te}else 8===xe.type&&(me=e.oidToDer(xe.oid?e.oidToDer(xe.oid):me));st.value.push(e.create(e.Class.CONTEXT_SPECIFIC,xe.type,!1,me))}Ie.value.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[st])),Ne.push(Ie)}var te;if(typeof L.value>"u")throw(te=new Error("Extension value not specified.")).extension=L,te;return L}function j(L,J){if(L===p["RSASSA-PSS"]){var te=[];return void 0!==J.hash.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])),void 0!==J.mgf.algorithmOid&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(J.mgf.hash.algorithmOid).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")])])])),void 0!==J.saltLength&&te.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(J.saltLength).getBytes())])),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,te)}return e.create(e.Class.UNIVERSAL,e.Type.NULL,!1,"")}function U(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===L.attributes.length)return J;for(var te=L.attributes,E=0;E<te.length;++E){var re=te[E],K=re.value,me=e.Type.UTF8;"valueTagClass"in re&&(me=re.valueTagClass),me===e.Type.UTF8&&(K=i.util.encodeUtf8(K));var Ne=!1;"valueConstructed"in re&&(Ne=re.valueConstructed);var Ae=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(re.type).getBytes()),e.create(e.Class.UNIVERSAL,e.Type.SET,!0,[e.create(e.Class.UNIVERSAL,me,Ne,K)])]);J.value.push(Ae)}return J}y.certificateFromPem=function(L,J,te){var E=i.pem.decode(L)[0];if("CERTIFICATE"!==E.type&&"X509 CERTIFICATE"!==E.type&&"TRUSTED CERTIFICATE"!==E.type){var re=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw re.headerType=E.type,re}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var K=e.fromDer(E.body,te);return y.certificateFromAsn1(K,J)},y.certificateToPem=function(L,J){var te={type:"CERTIFICATE",body:e.toDer(y.certificateToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:J})},y.publicKeyFromPem=function(L){var J=i.pem.decode(L)[0];if("PUBLIC KEY"!==J.type&&"RSA PUBLIC KEY"!==J.type){var te=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw te.headerType=J.type,te}if(J.procType&&"ENCRYPTED"===J.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var E=e.fromDer(J.body);return y.publicKeyFromAsn1(E)},y.publicKeyToPem=function(L,J){var te={type:"PUBLIC KEY",body:e.toDer(y.publicKeyToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:J})},y.publicKeyToRSAPublicKeyPem=function(L,J){var te={type:"RSA PUBLIC KEY",body:e.toDer(y.publicKeyToRSAPublicKey(L)).getBytes()};return i.pem.encode(te,{maxline:J})},y.getPublicKeyFingerprint=function(L,J){var re,te=(J=J||{}).md||i.md.sha1.create();switch(J.type||"RSAPublicKey"){case"RSAPublicKey":re=e.toDer(y.publicKeyToRSAPublicKey(L)).getBytes();break;case"SubjectPublicKeyInfo":re=e.toDer(y.publicKeyToAsn1(L)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+J.type+'".')}te.start(),te.update(re);var K=te.digest();if("hex"===J.encoding){var me=K.toHex();return J.delimiter?me.match(/.{2}/g).join(J.delimiter):me}if("binary"===J.encoding)return K.getBytes();if(J.encoding)throw new Error('Unknown encoding "'+J.encoding+'".');return K},y.certificationRequestFromPem=function(L,J,te){var E=i.pem.decode(L)[0];if("CERTIFICATE REQUEST"!==E.type){var re=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw re.headerType=E.type,re}if(E.procType&&"ENCRYPTED"===E.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var K=e.fromDer(E.body,te);return y.certificationRequestFromAsn1(K,J)},y.certificationRequestToPem=function(L,J){var te={type:"CERTIFICATE REQUEST",body:e.toDer(y.certificationRequestToAsn1(L)).getBytes()};return i.pem.encode(te,{maxline:J})},y.createCertificate=function(){var L={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.validity={},L.validity.notBefore=new Date,L.validity.notAfter=new Date,L.issuer={},L.issuer.getField=function(J){return O(L.issuer,J)},L.issuer.addField=function(J){G([J]),L.issuer.attributes.push(J)},L.issuer.attributes=[],L.issuer.hash=null,L.subject={},L.subject.getField=function(J){return O(L.subject,J)},L.subject.addField=function(J){G([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.extensions=[],L.publicKey=null,L.md=null,L.setSubject=function(J,te){G(J),L.subject.attributes=J,delete L.subject.uniqueId,te&&(L.subject.uniqueId=te),L.subject.hash=null},L.setIssuer=function(J,te){G(J),L.issuer.attributes=J,delete L.issuer.uniqueId,te&&(L.issuer.uniqueId=te),L.issuer.hash=null},L.setExtensions=function(J){for(var te=0;te<J.length;++te)R(J[te],{cert:L});L.extensions=J},L.getExtension=function(J){"string"==typeof J&&(J={name:J});for(var E,te=null,re=0;null===te&&re<L.extensions.length;++re)E=L.extensions[re],(J.id&&E.id===J.id||J.name&&E.name===J.name)&&(te=E);return te},L.sign=function(J,te){L.md=te||i.md.sha1.create();var E=p[L.md.algorithm+"WithRSAEncryption"];if(!E){var re=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw re.algorithm=L.md.algorithm,re}L.signatureOid=L.siginfo.algorithmOid=E,L.tbsCertificate=y.getTBSCertificate(L);var K=e.toDer(L.tbsCertificate);L.md.update(K.getBytes()),L.signature=J.sign(L.md)},L.verify=function(J){var te=!1;if(!L.issued(J)){var E=J.issuer,re=L.subject,K=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.");throw K.expectedIssuer=re.attributes,K.actualIssuer=E.attributes,K}var me=J.md;if(null===me){me=b({signatureOid:J.signatureOid,type:"certificate"});var Ne=J.tbsCertificate||y.getTBSCertificate(J),Ae=e.toDer(Ne);me.update(Ae.getBytes())}return null!==me&&(te=M({certificate:L,md:me,signature:J.signature})),te},L.isIssuer=function(J){var te=!1,E=L.issuer,re=J.subject;if(E.hash&&re.hash)te=E.hash===re.hash;else if(E.attributes.length===re.attributes.length){te=!0;for(var K,me,Ne=0;te&&Ne<E.attributes.length;++Ne)((K=E.attributes[Ne]).type!==(me=re.attributes[Ne]).type||K.value!==me.value)&&(te=!1)}return te},L.issued=function(J){return J.isIssuer(L)},L.generateSubjectKeyIdentifier=function(){return y.getPublicKeyFingerprint(L.publicKey,{type:"RSAPublicKey"})},L.verifySubjectKeyIdentifier=function(){for(var J=p.subjectKeyIdentifier,te=0;te<L.extensions.length;++te){var E=L.extensions[te];if(E.id===J){var re=L.generateSubjectKeyIdentifier().getBytes();return i.util.hexToBytes(E.subjectKeyIdentifier)===re}}return!1},L},y.certificateFromAsn1=function(L,J){var te={},E=[];if(!e.validate(L,m,te,E)){var re=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.");throw re.errors=E,re}if(e.derToOid(te.publicKeyOid)!==y.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var me=y.createCertificate();me.version=te.certVersion?te.certVersion.charCodeAt(0):0;var Ne=i.util.createBuffer(te.certSerialNumber);me.serialNumber=Ne.toHex(),me.signatureOid=i.asn1.derToOid(te.certSignatureOid),me.signatureParameters=P(me.signatureOid,te.certSignatureParams,!0),me.siginfo.algorithmOid=i.asn1.derToOid(te.certinfoSignatureOid),me.siginfo.parameters=P(me.siginfo.algorithmOid,te.certinfoSignatureParams,!1),me.signature=te.certSignature;var Ae=[];if(void 0!==te.certValidity1UTCTime&&Ae.push(e.utcTimeToDate(te.certValidity1UTCTime)),void 0!==te.certValidity2GeneralizedTime&&Ae.push(e.generalizedTimeToDate(te.certValidity2GeneralizedTime)),void 0!==te.certValidity3UTCTime&&Ae.push(e.utcTimeToDate(te.certValidity3UTCTime)),void 0!==te.certValidity4GeneralizedTime&&Ae.push(e.generalizedTimeToDate(te.certValidity4GeneralizedTime)),Ae.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(Ae.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(me.validity.notBefore=Ae[0],me.validity.notAfter=Ae[1],me.tbsCertificate=te.tbsCertificate,J){me.md=b({signatureOid:me.signatureOid,type:"certificate"});var xe=e.toDer(me.tbsCertificate);me.md.update(xe.getBytes())}var Qe=i.md.sha1.create(),Ee=e.toDer(te.certIssuer);Qe.update(Ee.getBytes()),me.issuer.getField=function(Pe){return O(me.issuer,Pe)},me.issuer.addField=function(Pe){G([Pe]),me.issuer.attributes.push(Pe)},me.issuer.attributes=y.RDNAttributesAsArray(te.certIssuer),te.certIssuerUniqueId&&(me.issuer.uniqueId=te.certIssuerUniqueId),me.issuer.hash=Qe.digest().toHex();var be=i.md.sha1.create(),le=e.toDer(te.certSubject);return be.update(le.getBytes()),me.subject.getField=function(Pe){return O(me.subject,Pe)},me.subject.addField=function(Pe){G([Pe]),me.subject.attributes.push(Pe)},me.subject.attributes=y.RDNAttributesAsArray(te.certSubject),te.certSubjectUniqueId&&(me.subject.uniqueId=te.certSubjectUniqueId),me.subject.hash=be.digest().toHex(),me.extensions=te.certExtensions?y.certificateExtensionsFromAsn1(te.certExtensions):[],me.publicKey=y.publicKeyFromAsn1(te.subjectPublicKeyInfo),me},y.certificateExtensionsFromAsn1=function(L){for(var J=[],te=0;te<L.value.length;++te)for(var E=L.value[te],re=0;re<E.value.length;++re)J.push(y.certificateExtensionFromAsn1(E.value[re]));return J},y.certificateExtensionFromAsn1=function(L){var J={};if(J.id=e.derToOid(L.value[0].value),J.critical=!1,L.value[1].type===e.Type.BOOLEAN?(J.critical=0!==L.value[1].value.charCodeAt(0),J.value=L.value[2].value):J.value=L.value[1].value,J.id in p)if(J.name=p[J.id],"keyUsage"===J.name){var E=0,re=0;(te=e.fromDer(J.value)).value.length>1&&(E=te.value.charCodeAt(1),re=te.value.length>2?te.value.charCodeAt(2):0),J.digitalSignature=!(128&~E),J.nonRepudiation=!(64&~E),J.keyEncipherment=!(32&~E),J.dataEncipherment=!(16&~E),J.keyAgreement=!(8&~E),J.keyCertSign=!(4&~E),J.cRLSign=!(2&~E),J.encipherOnly=!(1&~E),J.decipherOnly=!(128&~re)}else if("basicConstraints"===J.name){var te=e.fromDer(J.value);J.cA=te.value.length>0&&te.value[0].type===e.Type.BOOLEAN&&0!==te.value[0].value.charCodeAt(0);var K=null;te.value.length>0&&te.value[0].type===e.Type.INTEGER?K=te.value[0].value:te.value.length>1&&(K=te.value[1].value),null!==K&&(J.pathLenConstraint=e.derToInteger(K))}else if("extKeyUsage"===J.name){te=e.fromDer(J.value);for(var me=0;me<te.value.length;++me){var Ne=e.derToOid(te.value[me].value);Ne in p?J[p[Ne]]=!0:J[Ne]=!0}}else if("nsCertType"===J.name)E=0,(te=e.fromDer(J.value)).value.length>1&&(E=te.value.charCodeAt(1)),J.client=!(128&~E),J.server=!(64&~E),J.email=!(32&~E),J.objsign=!(16&~E),J.reserved=!(8&~E),J.sslCA=!(4&~E),J.emailCA=!(2&~E),J.objCA=!(1&~E);else if("subjectAltName"===J.name||"issuerAltName"===J.name){J.altNames=[],te=e.fromDer(J.value);for(var Ae,xe=0;xe<te.value.length;++xe){var Qe={type:(Ae=te.value[xe]).type,value:Ae.value};switch(J.altNames.push(Qe),Ae.type){case 1:case 2:case 6:break;case 7:Qe.ip=i.util.bytesToIP(Ae.value);break;case 8:Qe.oid=e.derToOid(Ae.value)}}}else"subjectKeyIdentifier"===J.name&&(te=e.fromDer(J.value),J.subjectKeyIdentifier=i.util.bytesToHex(te.value));return J},y.certificationRequestFromAsn1=function(L,J){var te={},E=[];if(!e.validate(L,I,te,E)){var re=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.");throw re.errors=E,re}if(e.derToOid(te.publicKeyOid)!==y.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var me=y.createCertificationRequest();if(me.version=te.csrVersion?te.csrVersion.charCodeAt(0):0,me.signatureOid=i.asn1.derToOid(te.csrSignatureOid),me.signatureParameters=P(me.signatureOid,te.csrSignatureParams,!0),me.siginfo.algorithmOid=i.asn1.derToOid(te.csrSignatureOid),me.siginfo.parameters=P(me.siginfo.algorithmOid,te.csrSignatureParams,!1),me.signature=te.csrSignature,me.certificationRequestInfo=te.certificationRequestInfo,J){me.md=b({signatureOid:me.signatureOid,type:"certification request"});var Ne=e.toDer(me.certificationRequestInfo);me.md.update(Ne.getBytes())}var Ae=i.md.sha1.create();return me.subject.getField=function(xe){return O(me.subject,xe)},me.subject.addField=function(xe){G([xe]),me.subject.attributes.push(xe)},me.subject.attributes=y.RDNAttributesAsArray(te.certificationRequestInfoSubject,Ae),me.subject.hash=Ae.digest().toHex(),me.publicKey=y.publicKeyFromAsn1(te.subjectPublicKeyInfo),me.getAttribute=function(xe){return O(me,xe)},me.addAttribute=function(xe){G([xe]),me.attributes.push(xe)},me.attributes=y.CRIAttributesAsArray(te.certificationRequestInfoAttributes||[]),me},y.createCertificationRequest=function(){var L={version:0,signatureOid:null,signature:null,siginfo:{}};return L.siginfo.algorithmOid=null,L.subject={},L.subject.getField=function(J){return O(L.subject,J)},L.subject.addField=function(J){G([J]),L.subject.attributes.push(J)},L.subject.attributes=[],L.subject.hash=null,L.publicKey=null,L.attributes=[],L.getAttribute=function(J){return O(L,J)},L.addAttribute=function(J){G([J]),L.attributes.push(J)},L.md=null,L.setSubject=function(J){G(J),L.subject.attributes=J,L.subject.hash=null},L.setAttributes=function(J){G(J),L.attributes=J},L.sign=function(J,te){L.md=te||i.md.sha1.create();var E=p[L.md.algorithm+"WithRSAEncryption"];if(!E){var re=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw re.algorithm=L.md.algorithm,re}L.signatureOid=L.siginfo.algorithmOid=E,L.certificationRequestInfo=y.getCertificationRequestInfo(L);var K=e.toDer(L.certificationRequestInfo);L.md.update(K.getBytes()),L.signature=J.sign(L.md)},L.verify=function(){var J=!1,te=L.md;if(null===te){te=b({signatureOid:L.signatureOid,type:"certification request"});var E=L.certificationRequestInfo||y.getCertificationRequestInfo(L),re=e.toDer(E);te.update(re.getBytes())}return null!==te&&(J=M({certificate:L,md:te,signature:L.signature})),J},L};var $=new Date("1950-01-01T00:00:00Z"),ne=new Date("2050-01-01T00:00:00Z");function se(L){return L>=$&&L<ne?e.create(e.Class.UNIVERSAL,e.Type.UTCTIME,!1,e.dateToUtcTime(L)):e.create(e.Class.UNIVERSAL,e.Type.GENERALIZEDTIME,!1,e.dateToGeneralizedTime(L))}y.getTBSCertificate=function(L){var J=se(L.validity.notBefore),te=se(L.validity.notAfter),E=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.CONTEXT_SPECIFIC,0,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes())]),e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,i.util.hexToBytes(L.serialNumber)),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.siginfo.algorithmOid).getBytes()),j(L.siginfo.algorithmOid,L.siginfo.parameters)]),k(L.issuer),e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,te]),k(L.subject),y.publicKeyToAsn1(L.publicKey)]);return L.issuer.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,1,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.issuer.uniqueId)])),L.subject.uniqueId&&E.value.push(e.create(e.Class.CONTEXT_SPECIFIC,2,!0,[e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.subject.uniqueId)])),L.extensions.length>0&&E.value.push(y.certificateExtensionsToAsn1(L.extensions)),E},y.getCertificationRequestInfo=function(L){return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.INTEGER,!1,e.integerToDer(L.version).getBytes()),k(L.subject),y.publicKeyToAsn1(L.publicKey),U(L)])},y.distinguishedNameToAsn1=function(L){return k(L)},y.certificateToAsn1=function(L){var J=L.tbsCertificate||y.getTBSCertificate(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),j(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},y.certificateExtensionsToAsn1=function(L){var J=e.create(e.Class.CONTEXT_SPECIFIC,3,!0,[]),te=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(te);for(var E=0;E<L.length;++E)te.value.push(y.certificateExtensionToAsn1(L[E]));return J},y.certificateExtensionToAsn1=function(L){var J=e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[]);J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.id).getBytes())),L.critical&&J.value.push(e.create(e.Class.UNIVERSAL,e.Type.BOOLEAN,!1,"\xff"));var te=L.value;return"string"!=typeof L.value&&(te=e.toDer(te).getBytes()),J.value.push(e.create(e.Class.UNIVERSAL,e.Type.OCTETSTRING,!1,te)),J},y.certificationRequestToAsn1=function(L){var J=L.certificationRequestInfo||y.getCertificationRequestInfo(L);return e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[J,e.create(e.Class.UNIVERSAL,e.Type.SEQUENCE,!0,[e.create(e.Class.UNIVERSAL,e.Type.OID,!1,e.oidToDer(L.signatureOid).getBytes()),j(L.signatureOid,L.signatureParameters)]),e.create(e.Class.UNIVERSAL,e.Type.BITSTRING,!1,"\0"+L.signature)])},y.createCaStore=function(L){var J={certs:{}};function te(me){return E(me),J.certs[me.hash]||null}function E(me){if(!me.hash){var Ne=i.md.sha1.create();me.attributes=y.RDNAttributesAsArray(k(me),Ne),me.hash=Ne.digest().toHex()}}if(J.getIssuer=function(me){return te(me.issuer)},J.addCertificate=function(me){if("string"==typeof me&&(me=i.pki.certificateFromPem(me)),E(me.subject),!J.hasCertificate(me))if(me.subject.hash in J.certs){var Ne=J.certs[me.subject.hash];i.util.isArray(Ne)||(Ne=[Ne]),Ne.push(me),J.certs[me.subject.hash]=Ne}else J.certs[me.subject.hash]=me},J.hasCertificate=function(me){"string"==typeof me&&(me=i.pki.certificateFromPem(me));var Ne=te(me.subject);if(!Ne)return!1;i.util.isArray(Ne)||(Ne=[Ne]);for(var Ae=e.toDer(y.certificateToAsn1(me)).getBytes(),xe=0;xe<Ne.length;++xe)if(Ae===e.toDer(y.certificateToAsn1(Ne[xe])).getBytes())return!0;return!1},J.listAllCertificates=function(){var me=[];for(var Ne in J.certs)if(J.certs.hasOwnProperty(Ne)){var Ae=J.certs[Ne];if(i.util.isArray(Ae))for(var xe=0;xe<Ae.length;++xe)me.push(Ae[xe]);else me.push(Ae)}return me},J.removeCertificate=function(me){var Ne;if("string"==typeof me&&(me=i.pki.certificateFromPem(me)),E(me.subject),!J.hasCertificate(me))return null;var Ae=te(me.subject);if(!i.util.isArray(Ae))return Ne=J.certs[me.subject.hash],delete J.certs[me.subject.hash],Ne;for(var xe=e.toDer(y.certificateToAsn1(me)).getBytes(),Qe=0;Qe<Ae.length;++Qe)xe===e.toDer(y.certificateToAsn1(Ae[Qe])).getBytes()&&(Ne=Ae[Qe],Ae.splice(Qe,1));return 0===Ae.length&&delete J.certs[me.subject.hash],Ne},L)for(var re=0;re<L.length;++re)J.addCertificate(L[re]);return J},y.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},y.verifyCertificateChain=function(L,J,te){"function"==typeof te&&(te={verify:te}),te=te||{};var E=(J=J.slice(0)).slice(0),re=te.validityCheckDate;typeof re>"u"&&(re=new Date);var K=!0,me=null,Ne=0;do{var Ae=J.shift(),xe=null,Qe=!1;if(re&&(re<Ae.validity.notBefore||re>Ae.validity.notAfter)&&(me={message:"Certificate is not valid yet or has expired.",error:y.certificateError.certificate_expired,notBefore:Ae.validity.notBefore,notAfter:Ae.validity.notAfter,now:re}),null===me){if(null===(xe=J[0]||L.getIssuer(Ae))&&Ae.isIssuer(Ae)&&(Qe=!0,xe=Ae),xe){var Ee=xe;i.util.isArray(Ee)||(Ee=[Ee]);for(var be=!1;!be&&Ee.length>0;){xe=Ee.shift();try{be=xe.verify(Ae)}catch{}}be||(me={message:"Certificate signature is invalid.",error:y.certificateError.bad_certificate})}null===me&&(!xe||Qe)&&!L.hasCertificate(Ae)&&(me={message:"Certificate is not trusted.",error:y.certificateError.unknown_ca})}if(null===me&&xe&&!Ae.isIssuer(xe)&&(me={message:"Certificate issuer is invalid.",error:y.certificateError.bad_certificate}),null===me)for(var le={keyUsage:!0,basicConstraints:!0},Pe=0;null===me&&Pe<Ae.extensions.length;++Pe){var Ie=Ae.extensions[Pe];Ie.critical&&!(Ie.name in le)&&(me={message:"Certificate has an unsupported critical extension.",error:y.certificateError.unsupported_certificate})}if(null===me&&(!K||0===J.length&&(!xe||Qe))){var st=Ae.getExtension("basicConstraints"),Oe=Ae.getExtension("keyUsage");null!==Oe&&(!Oe.keyCertSign||null===st)&&(me={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:y.certificateError.bad_certificate}),null===me&&null!==st&&!st.cA&&(me={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:y.certificateError.bad_certificate}),null===me&&null!==Oe&&"pathLenConstraint"in st&&Ne-1>st.pathLenConstraint&&(me={message:"Certificate basicConstraints pathLenConstraint violated.",error:y.certificateError.bad_certificate})}var Ye=null===me||me.error,qt=te.verify?te.verify(Ye,Ne,E):Ye;if(!0!==qt)throw!0===Ye&&(me={message:"The application rejected the certificate.",error:y.certificateError.bad_certificate}),(qt||0===qt)&&("object"!=typeof qt||i.util.isArray(qt)?"string"==typeof qt&&(me.error=qt):(qt.message&&(me.message=qt.message),qt.error&&(me.error=qt.error))),me;me=null,K=!1,++Ne}while(J.length>0);return!0}},4531:(nt,fe,h)=>{"use strict";fe.hc=void 0;const e=h(2114);fe.hc=(w,C)=>{const m=e.asn1.fromDer(w.toString("binary")),f=e.pkcs12.pkcs12FromAsn1(m,!1,C).getBags({bagType:e.pki.oids.certBag});if(!f||!f?.[e.pki.oids.certBag]?.[0])throw new Error("Unable to parse certificate. Incorrect Password?");return f[e.pki.oids.certBag][0]}},5955:(nt,fe)=>{"use strict";class e{static isArrayBuffer(M){return"[object ArrayBuffer]"===Object.prototype.toString.call(M)}static toArrayBuffer(M){return this.isArrayBuffer(M)?M:M.byteLength===M.buffer.byteLength||0===M.byteOffset&&M.byteLength===M.buffer.byteLength?M.buffer:this.toUint8Array(M.buffer).slice(M.byteOffset,M.byteOffset+M.byteLength).buffer}static toUint8Array(M){return this.toView(M,Uint8Array)}static toView(M,k){if(M.constructor===k)return M;if(this.isArrayBuffer(M))return new k(M);if(this.isArrayBufferView(M))return new k(M.buffer,M.byteOffset,M.byteLength);throw new TypeError("The provided value is not of type '(ArrayBuffer or ArrayBufferView)'")}static isBufferSource(M){return this.isArrayBufferView(M)||this.isArrayBuffer(M)}static isArrayBufferView(M){return ArrayBuffer.isView(M)||M&&this.isArrayBuffer(M.buffer)}static isEqual(M,k){const N=e.toUint8Array(M),G=e.toUint8Array(k);if(N.length!==G.byteLength)return!1;for(let R=0;R<N.length;R++)if(N[R]!==G[R])return!1;return!0}static concat(...M){let k;k=Array.isArray(M[0])&&!(M[1]instanceof Function)||Array.isArray(M[0])&&M[1]instanceof Function?M[0]:M[M.length-1]instanceof Function?M.slice(0,M.length-1):M;let N=0;for(const j of k)N+=j.byteLength;const G=new Uint8Array(N);let R=0;for(const j of k){const U=this.toUint8Array(j);G.set(U,R),R+=U.length}return M[M.length-1]instanceof Function?this.toView(G,M[M.length-1]):G.buffer}}const y="string",p=/^[0-9a-f]+$/i,w=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/,C=/^[a-zA-Z0-9-_]+$/;class m{static fromString(M){const k=unescape(encodeURIComponent(M)),N=new Uint8Array(k.length);for(let G=0;G<k.length;G++)N[G]=k.charCodeAt(G);return N.buffer}static toString(M){const k=e.toUint8Array(M);let N="";for(let R=0;R<k.length;R++)N+=String.fromCharCode(k[R]);return decodeURIComponent(escape(N))}}class d{static toString(M,k=!1){const N=e.toArrayBuffer(M),G=new DataView(N);let R="";for(let j=0;j<N.byteLength;j+=2){const U=G.getUint16(j,k);R+=String.fromCharCode(U)}return R}static fromString(M,k=!1){const N=new ArrayBuffer(2*M.length),G=new DataView(N);for(let R=0;R<M.length;R++)G.setUint16(2*R,M.charCodeAt(R),k);return N}}let f=(()=>{class b{static isHex(k){return typeof k===y&&p.test(k)}static isBase64(k){return typeof k===y&&w.test(k)}static isBase64Url(k){return typeof k===y&&C.test(k)}static ToString(k,N="utf8"){const G=e.toUint8Array(k);switch(N.toLowerCase()){case"utf8":return this.ToUtf8String(G);case"binary":return this.ToBinary(G);case"hex":return this.ToHex(G);case"base64":return this.ToBase64(G);case"base64url":return this.ToBase64Url(G);case"utf16le":return d.toString(G,!0);case"utf16":case"utf16be":return d.toString(G);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromString(k,N="utf8"){if(!k)return new ArrayBuffer(0);switch(N.toLowerCase()){case"utf8":return this.FromUtf8String(k);case"binary":return this.FromBinary(k);case"hex":return this.FromHex(k);case"base64":return this.FromBase64(k);case"base64url":return this.FromBase64Url(k);case"utf16le":return d.fromString(k,!0);case"utf16":case"utf16be":return d.fromString(k);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToBase64(k){const N=e.toUint8Array(k);if(typeof btoa<"u"){const G=this.ToString(N,"binary");return btoa(G)}return Buffer.from(N).toString("base64")}static FromBase64(k){const N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isBase64(N))throw new TypeError("Argument 'base64Text' is not Base64 encoded");return typeof atob<"u"?this.FromBinary(atob(N)):new Uint8Array(Buffer.from(N,"base64")).buffer}static FromBase64Url(k){const N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isBase64Url(N))throw new TypeError("Argument 'base64url' is not Base64Url encoded");return this.FromBase64(this.Base64Padding(N.replace(/\-/g,"+").replace(/\_/g,"/")))}static ToBase64Url(k){return this.ToBase64(k).replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,"")}static FromUtf8String(k,N=b.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.FromBinary(k);case"utf8":return m.fromString(k);case"utf16":case"utf16be":return d.fromString(k);case"utf16le":case"usc2":return d.fromString(k,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static ToUtf8String(k,N=b.DEFAULT_UTF8_ENCODING){switch(N){case"ascii":return this.ToBinary(k);case"utf8":return m.toString(k);case"utf16":case"utf16be":return d.toString(k);case"utf16le":case"usc2":return d.toString(k,!0);default:throw new Error(`Unknown type of encoding '${N}'`)}}static FromBinary(k){const N=k.length,G=new Uint8Array(N);for(let R=0;R<N;R++)G[R]=k.charCodeAt(R);return G.buffer}static ToBinary(k){const N=e.toUint8Array(k);let G="";for(let R=0;R<N.length;R++)G+=String.fromCharCode(N[R]);return G}static ToHex(k){const N=e.toUint8Array(k);let G="";const R=N.length;for(let j=0;j<R;j++){const U=N[j];U<16&&(G+="0"),G+=U.toString(16)}return G}static FromHex(k){let N=this.formatString(k);if(!N)return new ArrayBuffer(0);if(!b.isHex(N))throw new TypeError("Argument 'hexString' is not HEX encoded");N.length%2&&(N=`0${N}`);const G=new Uint8Array(N.length/2);for(let R=0;R<N.length;R+=2){const j=N.slice(R,R+2);G[R/2]=parseInt(j,16)}return G.buffer}static ToUtf16String(k,N=!1){return d.toString(k,N)}static FromUtf16String(k,N=!1){return d.fromString(k,N)}static Base64Padding(k){const N=4-k.length%4;if(N<4)for(let G=0;G<N;G++)k+="=";return k}static formatString(k){return k?.replace(/[\n\r\t ]/g,"")||""}}return b.DEFAULT_UTF8_ENCODING="utf8",b})();fe._H=e,fe.U$=f},4412:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>e});var i=h(1413);class e extends i.B{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const w=super._subscribe(p);return!w.closed&&p.next(this._value),w}getValue(){const{hasError:p,thrownError:w,_value:C}=this;if(p)throw w;return this._throwIfClosed(),C}next(p){super.next(this._value=p)}}},1985:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>d});var i=h(7707),e=h(8359),y=h(3494),p=h(1203),w=h(1026),C=h(8071),m=h(9786);let d=(()=>{class P{constructor(M){M&&(this._subscribe=M)}lift(M){const k=new P;return k.source=this,k.operator=M,k}subscribe(M,k,N){const G=function O(P){return P&&P instanceof i.vU||function I(P){return P&&(0,C.T)(P.next)&&(0,C.T)(P.error)&&(0,C.T)(P.complete)}(P)&&(0,e.Uv)(P)}(M)?M:new i.Ms(M,k,N);return(0,m.Y)(()=>{const{operator:R,source:j}=this;G.add(R?R.call(G,j):j?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(M){try{return this._subscribe(M)}catch(k){M.error(k)}}forEach(M,k){return new(k=f(k))((N,G)=>{const R=new i.Ms({next:j=>{try{M(j)}catch(U){G(U),R.unsubscribe()}},error:G,complete:N});this.subscribe(R)})}_subscribe(M){var k;return null===(k=this.source)||void 0===k?void 0:k.subscribe(M)}[y.s](){return this}pipe(...M){return(0,p.m)(M)(this)}toPromise(M){return new(M=f(M))((k,N)=>{let G;this.subscribe(R=>G=R,R=>N(R),()=>k(G))})}}return P.create=b=>new P(b),P})();function f(P){var b;return null!==(b=P??w.$.Promise)&&void 0!==b?b:Promise}},2771:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var i=h(1413),e=h(6129);class y extends i.B{constructor(w=1/0,C=1/0,m=e.U){super(),this._bufferSize=w,this._windowTime=C,this._timestampProvider=m,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=C===1/0,this._bufferSize=Math.max(1,w),this._windowTime=Math.max(1,C)}next(w){const{isStopped:C,_buffer:m,_infiniteTimeWindow:d,_timestampProvider:f,_windowTime:I}=this;C||(m.push(w),!d&&m.push(f.now()+I)),this._trimBuffer(),super.next(w)}_subscribe(w){this._throwIfClosed(),this._trimBuffer();const C=this._innerSubscribe(w),{_infiniteTimeWindow:m,_buffer:d}=this,f=d.slice();for(let I=0;I<f.length&&!w.closed;I+=m?1:2)w.next(f[I]);return this._checkFinalizedStatuses(w),C}_trimBuffer(){const{_bufferSize:w,_timestampProvider:C,_buffer:m,_infiniteTimeWindow:d}=this,f=(d?1:2)*w;if(w<1/0&&f<m.length&&m.splice(0,m.length-f),!d){const I=C.now();let O=0;for(let P=1;P<m.length&&m[P]<=I;P+=2)O=P;O&&m.splice(0,O+1)}}}},1413:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>m});var i=h(1985),e=h(8359);const p=(0,h(1853).L)(f=>function(){f(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var w=h(7908),C=h(9786);let m=(()=>{class f extends i.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(O){const P=new d(this,this);return P.operator=O,P}_throwIfClosed(){if(this.closed)throw new p}next(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const P of this.currentObservers)P.next(O)}})}error(O){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=O;const{observers:P}=this;for(;P.length;)P.shift().error(O)}})}complete(){(0,C.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:O}=this;for(;O.length;)O.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var O;return(null===(O=this.observers)||void 0===O?void 0:O.length)>0}_trySubscribe(O){return this._throwIfClosed(),super._trySubscribe(O)}_subscribe(O){return this._throwIfClosed(),this._checkFinalizedStatuses(O),this._innerSubscribe(O)}_innerSubscribe(O){const{hasError:P,isStopped:b,observers:M}=this;return P||b?e.Kn:(this.currentObservers=null,M.push(O),new e.yU(()=>{this.currentObservers=null,(0,w.o)(M,O)}))}_checkFinalizedStatuses(O){const{hasError:P,thrownError:b,isStopped:M}=this;P?O.error(b):M&&O.complete()}asObservable(){const O=new i.c;return O.source=this,O}}return f.create=(I,O)=>new d(I,O),f})();class d extends m{constructor(I,O){super(),this.destination=I,this.source=O}next(I){var O,P;null===(P=null===(O=this.destination)||void 0===O?void 0:O.next)||void 0===P||P.call(O,I)}error(I){var O,P;null===(P=null===(O=this.destination)||void 0===O?void 0:O.error)||void 0===P||P.call(O,I)}complete(){var I,O;null===(O=null===(I=this.destination)||void 0===I?void 0:I.complete)||void 0===O||O.call(I)}_subscribe(I){var O,P;return null!==(P=null===(O=this.source)||void 0===O?void 0:O.subscribe(I))&&void 0!==P?P:e.Kn}}},7707:(nt,fe,h)=>{"use strict";h.d(fe,{Ms:()=>N,vU:()=>P});var i=h(8071),e=h(8359),y=h(1026),p=h(5334),w=h(5343);const C=f("C",void 0,void 0);function f($,ne,se){return{kind:$,value:ne,error:se}}var I=h(9270),O=h(9786);class P extends e.yU{constructor(ne){super(),this.isStopped=!1,ne?(this.destination=ne,(0,e.Uv)(ne)&&ne.add(this)):this.destination=U}static create(ne,se,L){return new N(ne,se,L)}next(ne){this.isStopped?j(function d($){return f("N",$,void 0)}(ne),this):this._next(ne)}error(ne){this.isStopped?j(function m($){return f("E",void 0,$)}(ne),this):(this.isStopped=!0,this._error(ne))}complete(){this.isStopped?j(C,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ne){this.destination.next(ne)}_error(ne){try{this.destination.error(ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const b=Function.prototype.bind;function M($,ne){return b.call($,ne)}class k{constructor(ne){this.partialObserver=ne}next(ne){const{partialObserver:se}=this;if(se.next)try{se.next(ne)}catch(L){G(L)}}error(ne){const{partialObserver:se}=this;if(se.error)try{se.error(ne)}catch(L){G(L)}else G(ne)}complete(){const{partialObserver:ne}=this;if(ne.complete)try{ne.complete()}catch(se){G(se)}}}class N extends P{constructor(ne,se,L){let J;if(super(),(0,i.T)(ne)||!ne)J={next:ne??void 0,error:se??void 0,complete:L??void 0};else{let te;this&&y.$.useDeprecatedNextContext?(te=Object.create(ne),te.unsubscribe=()=>this.unsubscribe(),J={next:ne.next&&M(ne.next,te),error:ne.error&&M(ne.error,te),complete:ne.complete&&M(ne.complete,te)}):J=ne}this.destination=new k(J)}}function G($){y.$.useDeprecatedSynchronousErrorHandling?(0,O.l)($):(0,p.m)($)}function j($,ne){const{onStoppedNotification:se}=y.$;se&&I.f.setTimeout(()=>se($,ne))}const U={closed:!0,next:w.l,error:function R($){throw $},complete:w.l}},8359:(nt,fe,h)=>{"use strict";h.d(fe,{Kn:()=>C,yU:()=>w,Uv:()=>m});var i=h(8071);const y=(0,h(1853).L)(f=>function(O){f(this),this.message=O?`${O.length} errors occurred during unsubscription:\n${O.map((P,b)=>`${b+1}) ${P.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=O});var p=h(7908);class w{constructor(I){this.initialTeardown=I,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let I;if(!this.closed){this.closed=!0;const{_parentage:O}=this;if(O)if(this._parentage=null,Array.isArray(O))for(const M of O)M.remove(this);else O.remove(this);const{initialTeardown:P}=this;if((0,i.T)(P))try{P()}catch(M){I=M instanceof y?M.errors:[M]}const{_finalizers:b}=this;if(b){this._finalizers=null;for(const M of b)try{d(M)}catch(k){I=I??[],k instanceof y?I=[...I,...k.errors]:I.push(k)}}if(I)throw new y(I)}}add(I){var O;if(I&&I!==this)if(this.closed)d(I);else{if(I instanceof w){if(I.closed||I._hasParent(this))return;I._addParent(this)}(this._finalizers=null!==(O=this._finalizers)&&void 0!==O?O:[]).push(I)}}_hasParent(I){const{_parentage:O}=this;return O===I||Array.isArray(O)&&O.includes(I)}_addParent(I){const{_parentage:O}=this;this._parentage=Array.isArray(O)?(O.push(I),O):O?[O,I]:I}_removeParent(I){const{_parentage:O}=this;O===I?this._parentage=null:Array.isArray(O)&&(0,p.o)(O,I)}remove(I){const{_finalizers:O}=this;O&&(0,p.o)(O,I),I instanceof w&&I._removeParent(this)}}w.EMPTY=(()=>{const f=new w;return f.closed=!0,f})();const C=w.EMPTY;function m(f){return f instanceof w||f&&"closed"in f&&(0,i.T)(f.remove)&&(0,i.T)(f.add)&&(0,i.T)(f.unsubscribe)}function d(f){(0,i.T)(f)?f():f.unsubscribe()}},1026:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(nt,fe,h)=>{"use strict";h.d(fe,{P:()=>O,z:()=>I});var i=h(1985),e=h(3073),y=h(6648),p=h(3669),w=h(6450),C=h(9326),m=h(8496),d=h(4360),f=h(5225);function I(...b){const M=(0,C.lI)(b),k=(0,C.ms)(b),{args:N,keys:G}=(0,e.D)(b);if(0===N.length)return(0,y.H)([],M);const R=new i.c(O(N,M,G?j=>(0,m.e)(G,j):p.D));return k?R.pipe((0,w.I)(k)):R}function O(b,M,k=p.D){return N=>{P(M,()=>{const{length:G}=b,R=new Array(G);let j=G,U=G;for(let $=0;$<G;$++)P(M,()=>{const ne=(0,y.H)(b[$],M);let se=!1;ne.subscribe((0,d._)(N,L=>{R[$]=L,se||(se=!0,U--),U||N.next(k(R.slice()))},()=>{--j||N.complete()}))},N)},N)}}function P(b,M,k){b?(0,f.N)(k,b,M):M()}},8793:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>w});var i=h(6365),y=h(9326),p=h(6648);function w(...C){return function e(){return(0,i.U)(1)}()((0,p.H)(C,(0,y.lI)(C)))}},9030:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>y});var i=h(1985),e=h(8750);function y(p){return new i.c(w=>{(0,e.Tg)(p()).subscribe(w)})}},983:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>y,w:()=>e});var i=h(1985);const e=new i.c(w=>w.complete());function y(w){return w?function p(w){return new i.c(C=>w.schedule(()=>C.complete()))}(w):e}},7468:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>d});var i=h(1985),e=h(3073),y=h(8750),p=h(9326),w=h(4360),C=h(6450),m=h(8496);function d(...f){const I=(0,p.ms)(f),{args:O,keys:P}=(0,e.D)(f),b=new i.c(M=>{const{length:k}=O;if(!k)return void M.complete();const N=new Array(k);let G=k,R=k;for(let j=0;j<k;j++){let U=!1;(0,y.Tg)(O[j]).subscribe((0,w._)(M,$=>{U||(U=!0,R--),N[j]=$},()=>G--,void 0,()=>{(!G||!U)&&(R||M.next(P?(0,m.e)(P,N):N),M.complete())}))}});return I?b.pipe((0,C.I)(I)):b}},6648:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>L});var i=h(8750),e=h(5225),y=h(9974),p=h(4360);function w(J,te=0){return(0,y.N)((E,re)=>{E.subscribe((0,p._)(re,K=>(0,e.N)(re,J,()=>re.next(K),te),()=>(0,e.N)(re,J,()=>re.complete(),te),K=>(0,e.N)(re,J,()=>re.error(K),te)))})}function C(J,te=0){return(0,y.N)((E,re)=>{re.add(J.schedule(()=>E.subscribe(re),te))})}var f=h(1985),O=h(4761),P=h(8071);function M(J,te){if(!J)throw new Error("Iterable cannot be null");return new f.c(E=>{(0,e.N)(E,te,()=>{const re=J[Symbol.asyncIterator]();(0,e.N)(E,te,()=>{re.next().then(K=>{K.done?E.complete():E.next(K.value)})},0,!0)})})}var k=h(5055),N=h(9858),G=h(7441),R=h(5397),j=h(7953),U=h(591),$=h(5196);function L(J,te){return te?function se(J,te){if(null!=J){if((0,k.l)(J))return function m(J,te){return(0,i.Tg)(J).pipe(C(te),w(te))}(J,te);if((0,G.X)(J))return function I(J,te){return new f.c(E=>{let re=0;return te.schedule(function(){re===J.length?E.complete():(E.next(J[re++]),E.closed||this.schedule())})})}(J,te);if((0,N.y)(J))return function d(J,te){return(0,i.Tg)(J).pipe(C(te),w(te))}(J,te);if((0,j.T)(J))return M(J,te);if((0,R.x)(J))return function b(J,te){return new f.c(E=>{let re;return(0,e.N)(E,te,()=>{re=J[O.l](),(0,e.N)(E,te,()=>{let K,me;try{({value:K,done:me}=re.next())}catch(Ne){return void E.error(Ne)}me?E.complete():E.next(K)},0,!0)}),()=>(0,P.T)(re?.return)&&re.return()})}(J,te);if((0,$.U)(J))return function ne(J,te){return M((0,$.C)(J),te)}(J,te)}throw(0,U.L)(J)}(J,te):(0,i.Tg)(J)}},3726:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>I});var i=h(8750),e=h(1985),y=h(1397),p=h(7441),w=h(8071),C=h(6450);const m=["addListener","removeListener"],d=["addEventListener","removeEventListener"],f=["on","off"];function I(k,N,G,R){if((0,w.T)(G)&&(R=G,G=void 0),R)return I(k,N,G).pipe((0,C.I)(R));const[j,U]=function M(k){return(0,w.T)(k.addEventListener)&&(0,w.T)(k.removeEventListener)}(k)?d.map($=>ne=>k[$](N,ne,G)):function P(k){return(0,w.T)(k.addListener)&&(0,w.T)(k.removeListener)}(k)?m.map(O(k,N)):function b(k){return(0,w.T)(k.on)&&(0,w.T)(k.off)}(k)?f.map(O(k,N)):[];if(!j&&(0,p.X)(k))return(0,y.Z)($=>I($,N,G))((0,i.Tg)(k));if(!j)throw new TypeError("Invalid event target");return new e.c($=>{const ne=(...se)=>$.next(1<se.length?se:se[0]);return j(ne),()=>U(ne)})}function O(k,N){return G=>R=>k[G](N,R)}},8750:(nt,fe,h)=>{"use strict";h.d(fe,{Tg:()=>b});var i=h(1635),e=h(7441),y=h(9858),p=h(1985),w=h(5055),C=h(7953),m=h(591),d=h(5397),f=h(5196),I=h(8071),O=h(5334),P=h(3494);function b($){if($ instanceof p.c)return $;if(null!=$){if((0,w.l)($))return function M($){return new p.c(ne=>{const se=$[P.s]();if((0,I.T)(se.subscribe))return se.subscribe(ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($);if((0,e.X)($))return function k($){return new p.c(ne=>{for(let se=0;se<$.length&&!ne.closed;se++)ne.next($[se]);ne.complete()})}($);if((0,y.y)($))return function N($){return new p.c(ne=>{$.then(se=>{ne.closed||(ne.next(se),ne.complete())},se=>ne.error(se)).then(null,O.m)})}($);if((0,C.T)($))return R($);if((0,d.x)($))return function G($){return new p.c(ne=>{for(const se of $)if(ne.next(se),ne.closed)return;ne.complete()})}($);if((0,f.U)($))return function j($){return R((0,f.C)($))}($)}throw(0,m.L)($)}function R($){return new p.c(ne=>{(function U($,ne){var se,L,J,te;return(0,i.sH)(this,void 0,void 0,function*(){try{for(se=(0,i.xN)($);!(L=yield se.next()).done;)if(ne.next(L.value),ne.closed)return}catch(E){J={error:E}}finally{try{L&&!L.done&&(te=se.return)&&(yield te.call(se))}finally{if(J)throw J.error}}ne.complete()})})($,ne).catch(se=>ne.error(se))})}},7786:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>C});var i=h(6365),e=h(8750),y=h(983),p=h(9326),w=h(6648);function C(...m){const d=(0,p.lI)(m),f=(0,p.R0)(m,1/0),I=m;return I.length?1===I.length?(0,e.Tg)(I[0]):(0,i.U)(f)((0,w.H)(I,d)):y.w}},5060:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>y});var i=h(1985),e=h(5343);const y=new i.c(e.l)},7673:(nt,fe,h)=>{"use strict";h.d(fe,{of:()=>y});var i=h(9326),e=h(6648);function y(...p){const w=(0,i.lI)(p);return(0,e.H)(p,w)}},8810:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>y});var i=h(1985),e=h(8071);function y(p,w){const C=(0,e.T)(p)?p:()=>p,m=d=>d.error(C());return new i.c(w?d=>w.schedule(m,0,d):m)}},1584:(nt,fe,h)=>{"use strict";h.d(fe,{O:()=>w});var i=h(1985),e=h(3236),y=h(9470);function w(C=0,m,d=e.b){let f=-1;return null!=m&&((0,y.m)(m)?d=m:f=m),new i.c(I=>{let O=function p(C){return C instanceof Date&&!isNaN(C)}(C)?+C-d.now():C;O<0&&(O=0);let P=0;return d.schedule(function(){I.closed||(I.next(P++),0<=f?this.schedule(void 0,f):I.complete())},O)})}},4360:(nt,fe,h)=>{"use strict";h.d(fe,{_:()=>e});var i=h(7707);function e(p,w,C,m,d){return new y(p,w,C,m,d)}class y extends i.vU{constructor(w,C,m,d,f,I){super(w),this.onFinalize=f,this.shouldUnsubscribe=I,this._next=C?function(O){try{C(O)}catch(P){w.error(P)}}:super._next,this._error=d?function(O){try{d(O)}catch(P){w.error(P)}finally{this.unsubscribe()}}:super._error,this._complete=m?function(){try{m()}catch(O){w.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var w;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:C}=this;super.unsubscribe(),!C&&(null===(w=this.onFinalize)||void 0===w||w.call(this))}}}},9437:(nt,fe,h)=>{"use strict";h.d(fe,{W:()=>p});var i=h(8750),e=h(4360),y=h(9974);function p(w){return(0,y.N)((C,m)=>{let I,d=null,f=!1;d=C.subscribe((0,e._)(m,void 0,void 0,O=>{I=(0,i.Tg)(w(O,p(w)(C))),d?(d.unsubscribe(),d=null,I.subscribe(m)):f=!0})),f&&(d.unsubscribe(),d=null,I.subscribe(m))})}},274:(nt,fe,h)=>{"use strict";h.d(fe,{H:()=>y});var i=h(1397),e=h(8071);function y(p,w){return(0,e.T)(w)?(0,i.Z)(p,w,1):(0,i.Z)(p,1)}},152:(nt,fe,h)=>{"use strict";h.d(fe,{B:()=>p});var i=h(3236),e=h(9974),y=h(4360);function p(w,C=i.E){return(0,e.N)((m,d)=>{let f=null,I=null,O=null;const P=()=>{if(f){f.unsubscribe(),f=null;const M=I;I=null,d.next(M)}};function b(){const M=O+w,k=C.now();if(k<M)return f=this.schedule(void 0,M-k),void d.add(f);P()}m.subscribe((0,y._)(d,M=>{I=M,O=C.now(),f||(f=C.schedule(b,w),d.add(f))},()=>{P(),d.complete()},void 0,()=>{I=f=null}))})}},9901:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>y});var i=h(9974),e=h(4360);function y(p){return(0,i.N)((w,C)=>{let m=!1;w.subscribe((0,e._)(C,d=>{m=!0,C.next(d)},()=>{m||C.next(p),C.complete()}))})}},1986:(nt,fe,h)=>{"use strict";h.d(fe,{c:()=>b});var i=h(3236),e=h(8793),y=h(6697),p=h(9974),w=h(4360),C=h(5343),d=h(3703),f=h(1397),I=h(8750);function O(M,k){return k?N=>(0,e.x)(k.pipe((0,y.s)(1),function m(){return(0,p.N)((M,k)=>{M.subscribe((0,w._)(k,C.l))})}()),N.pipe(O(M))):(0,f.Z)((N,G)=>(0,I.Tg)(M(N,G)).pipe((0,y.s)(1),(0,d.u)(N)))}var P=h(1584);function b(M,k=i.E){const N=(0,P.O)(M,k);return O(()=>N)}},3294:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>p});var i=h(3669),e=h(9974),y=h(4360);function p(C,m=i.D){return C=C??w,(0,e.N)((d,f)=>{let I,O=!0;d.subscribe((0,y._)(f,P=>{const b=m(P);(O||!C(I,b))&&(O=!1,I=b,f.next(P))}))})}function w(C,m){return C===m}},5964:(nt,fe,h)=>{"use strict";h.d(fe,{p:()=>y});var i=h(9974),e=h(4360);function y(p,w){return(0,i.N)((C,m)=>{let d=0;C.subscribe((0,e._)(m,f=>p.call(w,f,d++)&&m.next(f)))})}},980:(nt,fe,h)=>{"use strict";h.d(fe,{j:()=>e});var i=h(9974);function e(y){return(0,i.N)((p,w)=>{try{p.subscribe(w)}finally{w.add(y)}})}},1594:(nt,fe,h)=>{"use strict";h.d(fe,{$:()=>m});var i=h(9350),e=h(5964),y=h(6697),p=h(9901),w=h(3774),C=h(3669);function m(d,f){const I=arguments.length>=2;return O=>O.pipe(d?(0,e.p)((P,b)=>d(P,b,O)):C.D,(0,y.s)(1),I?(0,p.U)(f):(0,w.v)(()=>new i.G))}},6354:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>y});var i=h(9974),e=h(4360);function y(p,w){return(0,i.N)((C,m)=>{let d=0;C.subscribe((0,e._)(m,f=>{m.next(p.call(w,f,d++))}))})}},3703:(nt,fe,h)=>{"use strict";h.d(fe,{u:()=>e});var i=h(6354);function e(y){return(0,i.T)(()=>y)}},1716:(nt,fe,h)=>{"use strict";h.d(fe,{h:()=>C});var i=h(9974),e=h(2326),y=h(6365),p=h(9326),w=h(6648);function C(...m){const d=(0,p.lI)(m),f=(0,p.R0)(m,1/0);return m=(0,e.K)(m),(0,i.N)((I,O)=>{(0,y.U)(f)((0,w.H)([I,...m],d)).subscribe(O)})}},6365:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>y});var i=h(1397),e=h(3669);function y(p=1/0){return(0,i.Z)(e.D,p)}},1397:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>d});var i=h(6354),e=h(8750),y=h(9974),p=h(5225),w=h(4360),m=h(8071);function d(f,I,O=1/0){return(0,m.T)(I)?d((P,b)=>(0,i.T)((M,k)=>I(P,M,b,k))((0,e.Tg)(f(P,b))),O):("number"==typeof I&&(O=I),(0,y.N)((P,b)=>function C(f,I,O,P,b,M,k,N){const G=[];let R=0,j=0,U=!1;const $=()=>{U&&!G.length&&!R&&I.complete()},ne=L=>R<P?se(L):G.push(L),se=L=>{M&&I.next(L),R++;let J=!1;(0,e.Tg)(O(L,j++)).subscribe((0,w._)(I,te=>{b?.(te),M?ne(te):I.next(te)},()=>{J=!0},void 0,()=>{if(J)try{for(R--;G.length&&R<P;){const te=G.shift();k?(0,p.N)(I,k,()=>se(te)):se(te)}$()}catch(te){I.error(te)}}))};return f.subscribe((0,w._)(I,ne,()=>{U=!0,$()})),()=>{N?.()}}(P,b,f,O)))}},8412:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>e});var i=h(1716);function e(...y){return(0,i.h)(...y)}},6649:(nt,fe,h)=>{"use strict";h.d(fe,{S:()=>e});var i=h(4360);function e(y,p,w,C,m){return(d,f)=>{let I=w,O=p,P=0;d.subscribe((0,i._)(f,b=>{const M=P++;O=I?y(O,b,M):(I=!0,b),C&&f.next(O)},m&&(()=>{I&&f.next(O),f.complete()})))}}},9568:(nt,fe,h)=>{"use strict";h.d(fe,{t:()=>d});var i=h(2771),e=h(8750),y=h(1413),p=h(7707),w=h(9974);function m(f,I,...O){if(!0===I)return void f();if(!1===I)return;const P=new p.Ms({next:()=>{P.unsubscribe(),f()}});return(0,e.Tg)(I(...O)).subscribe(P)}function d(f,I,O){let P,b=!1;return f&&"object"==typeof f?({bufferSize:P=1/0,windowTime:I=1/0,refCount:b=!1,scheduler:O}=f):P=f??1/0,function C(f={}){const{connector:I=(()=>new y.B),resetOnError:O=!0,resetOnComplete:P=!0,resetOnRefCountZero:b=!0}=f;return M=>{let k,N,G,R=0,j=!1,U=!1;const $=()=>{N?.unsubscribe(),N=void 0},ne=()=>{$(),k=G=void 0,j=U=!1},se=()=>{const L=k;ne(),L?.unsubscribe()};return(0,w.N)((L,J)=>{R++,!U&&!j&&$();const te=G=G??I();J.add(()=>{R--,0===R&&!U&&!j&&(N=m(se,b))}),te.subscribe(J),!k&&R>0&&(k=new p.Ms({next:E=>te.next(E),error:E=>{U=!0,$(),N=m(ne,O,E),te.error(E)},complete:()=>{j=!0,$(),N=m(ne,P),te.complete()}}),(0,e.Tg)(L).subscribe(k))})(M)}}({connector:()=>new i.m(P,I,O),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:b})}},9172:(nt,fe,h)=>{"use strict";h.d(fe,{Z:()=>p});var i=h(8793),e=h(9326),y=h(9974);function p(...w){const C=(0,e.lI)(w);return(0,y.N)((m,d)=>{(C?(0,i.x)(w,m,C):(0,i.x)(w,m)).subscribe(d)})}},5558:(nt,fe,h)=>{"use strict";h.d(fe,{n:()=>p});var i=h(8750),e=h(9974),y=h(4360);function p(w,C){return(0,e.N)((m,d)=>{let f=null,I=0,O=!1;const P=()=>O&&!f&&d.complete();m.subscribe((0,y._)(d,b=>{f?.unsubscribe();let M=0;const k=I++;(0,i.Tg)(w(b,k)).subscribe(f=(0,y._)(d,N=>d.next(C?C(b,N,k,M++):N),()=>{f=null,P()}))},()=>{O=!0,P()}))})}},6697:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>p});var i=h(983),e=h(9974),y=h(4360);function p(w){return w<=0?()=>i.w:(0,e.N)((C,m)=>{let d=0;C.subscribe((0,y._)(m,f=>{++d<=w&&(m.next(f),w<=d&&m.complete())}))})}},6977:(nt,fe,h)=>{"use strict";h.d(fe,{Q:()=>w});var i=h(9974),e=h(4360),y=h(8750),p=h(5343);function w(C){return(0,i.N)((m,d)=>{(0,y.Tg)(C).subscribe((0,e._)(d,()=>d.complete(),p.l)),!d.closed&&m.subscribe(d)})}},8141:(nt,fe,h)=>{"use strict";h.d(fe,{M:()=>w});var i=h(8071),e=h(9974),y=h(4360),p=h(3669);function w(C,m,d){const f=(0,i.T)(C)||m||d?{next:C,error:m,complete:d}:C;return f?(0,e.N)((I,O)=>{var P;null===(P=f.subscribe)||void 0===P||P.call(f);let b=!0;I.subscribe((0,y._)(O,M=>{var k;null===(k=f.next)||void 0===k||k.call(f,M),O.next(M)},()=>{var M;b=!1,null===(M=f.complete)||void 0===M||M.call(f),O.complete()},M=>{var k;b=!1,null===(k=f.error)||void 0===k||k.call(f,M),O.error(M)},()=>{var M,k;b&&(null===(M=f.unsubscribe)||void 0===M||M.call(f)),null===(k=f.finalize)||void 0===k||k.call(f)}))}):p.D}},3774:(nt,fe,h)=>{"use strict";h.d(fe,{v:()=>p});var i=h(9350),e=h(9974),y=h(4360);function p(C=w){return(0,e.N)((m,d)=>{let f=!1;m.subscribe((0,y._)(d,I=>{f=!0,d.next(I)},()=>f?d.complete():d.error(C())))})}function w(){return new i.G}},3993:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>m});var i=h(9974),e=h(4360),y=h(8750),p=h(3669),w=h(5343),C=h(9326);function m(...d){const f=(0,C.ms)(d);return(0,i.N)((I,O)=>{const P=d.length,b=new Array(P);let M=d.map(()=>!1),k=!1;for(let N=0;N<P;N++)(0,y.Tg)(d[N]).subscribe((0,e._)(O,G=>{b[N]=G,!k&&!M[N]&&(M[N]=!0,(k=M.every(p.D))&&(M=null))},w.l));I.subscribe((0,e._)(O,N=>{if(k){const G=[N,...b];O.next(f?f(...G):G)}}))})}},6780:(nt,fe,h)=>{"use strict";h.d(fe,{R:()=>w});var i=h(8359);class e extends i.yU{constructor(m,d){super()}schedule(m,d=0){return this}}const y={setInterval(C,m,...d){const{delegate:f}=y;return f?.setInterval?f.setInterval(C,m,...d):setInterval(C,m,...d)},clearInterval(C){const{delegate:m}=y;return(m?.clearInterval||clearInterval)(C)},delegate:void 0};var p=h(7908);class w extends e{constructor(m,d){super(m,d),this.scheduler=m,this.work=d,this.pending=!1}schedule(m,d=0){var f;if(this.closed)return this;this.state=m;const I=this.id,O=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(O,I,d)),this.pending=!0,this.delay=d,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(O,this.id,d),this}requestAsyncId(m,d,f=0){return y.setInterval(m.flush.bind(m,this),f)}recycleAsyncId(m,d,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return d;null!=d&&y.clearInterval(d)}execute(m,d){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(m,d);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(m,d){let I,f=!1;try{this.work(m)}catch(O){f=!0,I=O||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),I}unsubscribe(){if(!this.closed){const{id:m,scheduler:d}=this,{actions:f}=d;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.o)(f,this),null!=m&&(this.id=this.recycleAsyncId(d,m,null)),this.delay=null,super.unsubscribe()}}}},9687:(nt,fe,h)=>{"use strict";h.d(fe,{q:()=>y});var i=h(6129);class e{constructor(w,C=e.now){this.schedulerActionCtor=w,this.now=C}schedule(w,C=0,m){return new this.schedulerActionCtor(this,w).schedule(m,C)}}e.now=i.U.now;class y extends e{constructor(w,C=e.now){super(w,C),this.actions=[],this._active=!1}flush(w){const{actions:C}=this;if(this._active)return void C.push(w);let m;this._active=!0;do{if(m=w.execute(w.state,w.delay))break}while(w=C.shift());if(this._active=!1,m){for(;w=C.shift();)w.unsubscribe();throw m}}}},3236:(nt,fe,h)=>{"use strict";h.d(fe,{E:()=>y,b:()=>p});var i=h(6780);const y=new(h(9687).q)(i.R),p=y},6129:(nt,fe,h)=>{"use strict";h.d(fe,{U:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},9270:(nt,fe,h)=>{"use strict";h.d(fe,{f:()=>i});const i={setTimeout(e,y,...p){const{delegate:w}=i;return w?.setTimeout?w.setTimeout(e,y,...p):setTimeout(e,y,...p)},clearTimeout(e){const{delegate:y}=i;return(y?.clearTimeout||clearTimeout)(e)},delegate:void 0}},4761:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>e});const e=function i(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(nt,fe,h)=>{"use strict";h.d(fe,{s:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(nt,fe,h)=>{"use strict";h.d(fe,{G:()=>e});const e=(0,h(1853).L)(y=>function(){y(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(nt,fe,h)=>{"use strict";h.d(fe,{R0:()=>C,lI:()=>w,ms:()=>p});var i=h(8071),e=h(9470);function y(m){return m[m.length-1]}function p(m){return(0,i.T)(y(m))?m.pop():void 0}function w(m){return(0,e.m)(y(m))?m.pop():void 0}function C(m,d){return"number"==typeof y(m)?m.pop():d}},3073:(nt,fe,h)=>{"use strict";h.d(fe,{D:()=>w});const{isArray:i}=Array,{getPrototypeOf:e,prototype:y,keys:p}=Object;function w(m){if(1===m.length){const d=m[0];if(i(d))return{args:d,keys:null};if(function C(m){return m&&"object"==typeof m&&e(m)===y}(d)){const f=p(d);return{args:f.map(I=>d[I]),keys:f}}}return{args:m,keys:null}}},2326:(nt,fe,h)=>{"use strict";h.d(fe,{K:()=>e});const{isArray:i}=Array;function e(y){return 1===y.length&&i(y[0])?y[0]:y}},7908:(nt,fe,h)=>{"use strict";function i(e,y){if(e){const p=e.indexOf(y);0<=p&&e.splice(p,1)}}h.d(fe,{o:()=>i})},1853:(nt,fe,h)=>{"use strict";function i(e){const p=e(w=>{Error.call(w),w.stack=(new Error).stack});return p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p}h.d(fe,{L:()=>i})},8496:(nt,fe,h)=>{"use strict";function i(e,y){return e.reduce((p,w,C)=>(p[w]=y[C],p),{})}h.d(fe,{e:()=>i})},9786:(nt,fe,h)=>{"use strict";h.d(fe,{Y:()=>y,l:()=>p});var i=h(1026);let e=null;function y(w){if(i.$.useDeprecatedSynchronousErrorHandling){const C=!e;if(C&&(e={errorThrown:!1,error:null}),w(),C){const{errorThrown:m,error:d}=e;if(e=null,m)throw d}}else w()}function p(w){i.$.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=w)}},5225:(nt,fe,h)=>{"use strict";function i(e,y,p,w=0,C=!1){const m=y.schedule(function(){p(),C?e.add(this.schedule(null,w)):this.unsubscribe()},w);if(e.add(m),!C)return m}h.d(fe,{N:()=>i})},3669:(nt,fe,h)=>{"use strict";function i(e){return e}h.d(fe,{D:()=>i})},7441:(nt,fe,h)=>{"use strict";h.d(fe,{X:()=>i});const i=e=>e&&"number"==typeof e.length&&"function"!=typeof e},7953:(nt,fe,h)=>{"use strict";h.d(fe,{T:()=>e});var i=h(8071);function e(y){return Symbol.asyncIterator&&(0,i.T)(y?.[Symbol.asyncIterator])}},8071:(nt,fe,h)=>{"use strict";function i(e){return"function"==typeof e}h.d(fe,{T:()=>i})},5055:(nt,fe,h)=>{"use strict";h.d(fe,{l:()=>y});var i=h(3494),e=h(8071);function y(p){return(0,e.T)(p[i.s])}},5397:(nt,fe,h)=>{"use strict";h.d(fe,{x:()=>y});var i=h(4761),e=h(8071);function y(p){return(0,e.T)(p?.[i.l])}},4402:(nt,fe,h)=>{"use strict";h.d(fe,{A:()=>y});var i=h(1985),e=h(8071);function y(p){return!!p&&(p instanceof i.c||(0,e.T)(p.lift)&&(0,e.T)(p.subscribe))}},9858:(nt,fe,h)=>{"use strict";h.d(fe,{y:()=>e});var i=h(8071);function e(y){return(0,i.T)(y?.then)}},5196:(nt,fe,h)=>{"use strict";h.d(fe,{C:()=>y,U:()=>p});var i=h(1635),e=h(8071);function y(w){return(0,i.AQ)(this,arguments,function*(){const m=w.getReader();try{for(;;){const{value:d,done:f}=yield(0,i.N3)(m.read());if(f)return yield(0,i.N3)(void 0);yield yield(0,i.N3)(d)}}finally{m.releaseLock()}})}function p(w){return(0,e.T)(w?.getReader)}},9470:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>e});var i=h(8071);function e(y){return y&&(0,i.T)(y.schedule)}},9974:(nt,fe,h)=>{"use strict";h.d(fe,{N:()=>y,S:()=>e});var i=h(8071);function e(p){return(0,i.T)(p?.lift)}function y(p){return w=>{if(e(w))return w.lift(function(C){try{return p(C,this)}catch(m){this.error(m)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(nt,fe,h)=>{"use strict";h.d(fe,{I:()=>p});var i=h(6354);const{isArray:e}=Array;function p(w){return(0,i.T)(C=>function y(w,C){return e(C)?w(...C):w(C)}(w,C))}},5343:(nt,fe,h)=>{"use strict";function i(){}h.d(fe,{l:()=>i})},1203:(nt,fe,h)=>{"use strict";h.d(fe,{F:()=>e,m:()=>y});var i=h(3669);function e(...p){return y(p)}function y(p){return 0===p.length?i.D:1===p.length?p[0]:function(C){return p.reduce((m,d)=>d(m),C)}}},5334:(nt,fe,h)=>{"use strict";h.d(fe,{m:()=>y});var i=h(1026),e=h(9270);function y(p){e.f.setTimeout(()=>{const{onUnhandledError:w}=i.$;if(!w)throw p;w(p)})}},591:(nt,fe,h)=>{"use strict";function i(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}h.d(fe,{L:()=>i})},9625:function(nt,fe,h){var i;!function(e,y){"use strict";var m="function",d="undefined",f="object",I="string",O="major",P="model",b="name",M="type",k="vendor",N="version",G="architecture",R="console",j="mobile",U="tablet",$="smarttv",ne="wearable",se="embedded",J="Amazon",te="Apple",E="ASUS",re="BlackBerry",K="Browser",me="Chrome",Ae="Firefox",xe="Google",be="Microsoft",le="Motorola",Pe="Opera",Ie="Samsung",Oe="Sony",pt="Xiaomi",Ye="Zebra",qt="Facebook",jt="Chromium OS",z=function(Pt){for(var Jt={},je=0;je<Pt.length;je++)Jt[Pt[je].toUpperCase()]=Pt[je];return Jt},Y=function(Pt,Jt){return typeof Pt===I&&-1!==Z(Jt).indexOf(Z(Pt))},Z=function(Pt){return Pt.toLowerCase()},we=function(Pt,Jt){if(typeof Pt===I)return Pt=Pt.replace(/^\s\s*/,""),typeof Jt===d?Pt:Pt.substring(0,500)},at=function(Pt,Jt){for(var ce,X,oe,Ve,tt,gt,je=0;je<Jt.length&&!tt;){var Bt=Jt[je],cn=Jt[je+1];for(ce=X=0;ce<Bt.length&&!tt&&Bt[ce];)if(tt=Bt[ce++].exec(Pt))for(oe=0;oe<cn.length;oe++)gt=tt[++X],typeof(Ve=cn[oe])===f&&Ve.length>0?2===Ve.length?this[Ve[0]]=typeof Ve[1]==m?Ve[1].call(this,gt):Ve[1]:3===Ve.length?this[Ve[0]]=typeof Ve[1]!==m||Ve[1].exec&&Ve[1].test?gt?gt.replace(Ve[1],Ve[2]):y:gt?Ve[1].call(this,gt,Ve[2]):y:4===Ve.length&&(this[Ve[0]]=gt?Ve[3].call(this,gt.replace(Ve[1],Ve[2])):y):this[Ve]=gt||y;je+=2}},Be=function(Pt,Jt){for(var je in Jt)if(typeof Jt[je]===f&&Jt[je].length>0){for(var ce=0;ce<Jt[je].length;ce++)if(Y(Jt[je][ce],Pt))return"?"===je?y:je}else if(Y(Jt[je],Pt))return"?"===je?y:je;return Pt},Ft={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},mt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[N,[b,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[N,[b,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[b,N],[/opios[\/ ]+([\w\.]+)/i],[N,[b,Pe+" Mini"]],[/\bopr\/([\w\.]+)/i],[N,[b,Pe]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[N,[b,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[b,N],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[N,[b,"UC"+K]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[N,[b,"WeChat"]],[/konqueror\/([\w\.]+)/i],[N,[b,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[N,[b,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[N,[b,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[N,[b,"Smart Lenovo "+K]],[/(avast|avg)\/([\w\.]+)/i],[[b,/(.+)/,"$1 Secure "+K],N],[/\bfocus\/([\w\.]+)/i],[N,[b,Ae+" Focus"]],[/\bopt\/([\w\.]+)/i],[N,[b,Pe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[N,[b,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[N,[b,"Dolphin"]],[/coast\/([\w\.]+)/i],[N,[b,Pe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[N,[b,"MIUI "+K]],[/fxios\/([-\w\.]+)/i],[N,[b,Ae]],[/\bqihu|(qi?ho?o?|360)browser/i],[[b,"360 "+K]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[b,/(.+)/,"$1 "+K],N],[/samsungbrowser\/([\w\.]+)/i],[N,[b,Ie+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[b,/_/g," "],N],[/metasr[\/ ]?([\d\.]+)/i],[N,[b,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[b,"Sogou Mobile"],N],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[b,N],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[b],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[b,qt],N],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[b,N],[/\bgsa\/([\w\.]+) .*safari\//i],[N,[b,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[N,[b,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[N,[b,me+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[b,me+" WebView"],N],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[N,[b,"Android "+K]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[b,N],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[N,[b,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[N,b],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[b,[N,Be,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[b,N],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[b,"Netscape"],N],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[N,[b,Ae+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[b,N],[/(cobalt)\/([\w\.]+)/i],[b,[N,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[G,"amd64"]],[/(ia32(?=;))/i],[[G,Z]],[/((?:i[346]|x)86)[;\)]/i],[[G,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[G,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[G,"armhf"]],[/windows (ce|mobile); ppc;/i],[[G,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[G,/ower/,"",Z]],[/(sun4\w)[;\)]/i],[[G,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[G,Z]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[P,[k,Ie],[M,U]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[P,[k,Ie],[M,j]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[P,[k,te],[M,j]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[P,[k,te],[M,U]],[/(macintosh);/i],[P,[k,te]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[P,[k,"Sharp"],[M,j]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[P,[k,"Huawei"],[M,U]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[P,[k,"Huawei"],[M,j]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[P,/_/g," "],[k,pt],[M,j]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[P,/_/g," "],[k,pt],[M,U]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[P,[k,"OPPO"],[M,j]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[P,[k,"Vivo"],[M,j]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[P,[k,"Realme"],[M,j]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[P,[k,le],[M,j]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[P,[k,le],[M,U]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[P,[k,"LG"],[M,U]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[P,[k,"LG"],[M,j]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[P,[k,"Lenovo"],[M,U]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[P,/_/g," "],[k,"Nokia"],[M,j]],[/(pixel c)\b/i],[P,[k,xe],[M,U]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[P,[k,xe],[M,j]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[P,[k,Oe],[M,j]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[P,"Xperia Tablet"],[k,Oe],[M,U]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[P,[k,"OnePlus"],[M,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[P,[k,J],[M,U]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[P,/(.+)/g,"Fire Phone $1"],[k,J],[M,j]],[/(playbook);[-\w\),; ]+(rim)/i],[P,k,[M,U]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[P,[k,re],[M,j]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[P,[k,E],[M,U]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[P,[k,E],[M,j]],[/(nexus 9)/i],[P,[k,"HTC"],[M,U]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[k,[P,/_/g," "],[M,j]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[P,[k,"Acer"],[M,U]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[P,[k,"Meizu"],[M,j]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[P,[k,"Ulefone"],[M,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[k,P,[M,j]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[k,P,[M,U]],[/(surface duo)/i],[P,[k,be],[M,U]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[P,[k,"Fairphone"],[M,j]],[/(u304aa)/i],[P,[k,"AT&T"],[M,j]],[/\bsie-(\w*)/i],[P,[k,"Siemens"],[M,j]],[/\b(rct\w+) b/i],[P,[k,"RCA"],[M,U]],[/\b(venue[\d ]{2,7}) b/i],[P,[k,"Dell"],[M,U]],[/\b(q(?:mv|ta)\w+) b/i],[P,[k,"Verizon"],[M,U]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[P,[k,"Barnes & Noble"],[M,U]],[/\b(tm\d{3}\w+) b/i],[P,[k,"NuVision"],[M,U]],[/\b(k88) b/i],[P,[k,"ZTE"],[M,U]],[/\b(nx\d{3}j) b/i],[P,[k,"ZTE"],[M,j]],[/\b(gen\d{3}) b.+49h/i],[P,[k,"Swiss"],[M,j]],[/\b(zur\d{3}) b/i],[P,[k,"Swiss"],[M,U]],[/\b((zeki)?tb.*\b) b/i],[P,[k,"Zeki"],[M,U]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[k,"Dragon Touch"],P,[M,U]],[/\b(ns-?\w{0,9}) b/i],[P,[k,"Insignia"],[M,U]],[/\b((nxa|next)-?\w{0,9}) b/i],[P,[k,"NextBook"],[M,U]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[k,"Voice"],P,[M,j]],[/\b(lvtel\-)?(v1[12]) b/i],[[k,"LvTel"],P,[M,j]],[/\b(ph-1) /i],[P,[k,"Essential"],[M,j]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[P,[k,"Envizen"],[M,U]],[/\b(trio[-\w\. ]+) b/i],[P,[k,"MachSpeed"],[M,U]],[/\btu_(1491) b/i],[P,[k,"Rotor"],[M,U]],[/(shield[\w ]+) b/i],[P,[k,"Nvidia"],[M,U]],[/(sprint) (\w+)/i],[k,P,[M,j]],[/(kin\.[onetw]{3})/i],[[P,/\./g," "],[k,be],[M,j]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[P,[k,Ye],[M,U]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[P,[k,Ye],[M,j]],[/smart-tv.+(samsung)/i],[k,[M,$]],[/hbbtv.+maple;(\d+)/i],[[P,/^/,"SmartTV"],[k,Ie],[M,$]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[k,"LG"],[M,$]],[/(apple) ?tv/i],[k,[P,te+" TV"],[M,$]],[/crkey/i],[[P,me+"cast"],[k,xe],[M,$]],[/droid.+aft(\w+)( bui|\))/i],[P,[k,J],[M,$]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[P,[k,"Sharp"],[M,$]],[/(bravia[\w ]+)( bui|\))/i],[P,[k,Oe],[M,$]],[/(mitv-\w{5}) bui/i],[P,[k,pt],[M,$]],[/Hbbtv.*(technisat) (.*);/i],[k,P,[M,$]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[k,we],[P,we],[M,$]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[M,$]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[k,P,[M,R]],[/droid.+; (shield) bui/i],[P,[k,"Nvidia"],[M,R]],[/(playstation [345portablevi]+)/i],[P,[k,Oe],[M,R]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[P,[k,be],[M,R]],[/((pebble))app/i],[k,P,[M,ne]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[P,[k,te],[M,ne]],[/droid.+; (glass) \d/i],[P,[k,xe],[M,ne]],[/droid.+; (wt63?0{2,3})\)/i],[P,[k,Ye],[M,ne]],[/(quest( 2| pro)?)/i],[P,[k,qt],[M,ne]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[k,[M,se]],[/(aeobc)\b/i],[P,[k,J],[M,se]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[P,[M,j]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[P,[M,U]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[M,U]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[M,j]],[/(android[-\w\. ]{0,9});.+buil/i],[P,[k,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[N,[b,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[N,[b,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[b,N],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[N,b]],os:[[/microsoft (windows) (vista|xp)/i],[b,N],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[b,[N,Be,Ft]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[N,Be,Ft],[b,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[N,/_/g,"."],[b,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[b,"Mac OS"],[N,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[N,b],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[b,N],[/\(bb(10);/i],[N,[b,re]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[N,[b,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[N,[b,Ae+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[N,[b,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[N,[b,"watchOS"]],[/crkey\/([\d\.]+)/i],[N,[b,me+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[b,jt],N],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[b,N],[/(sunos) ?([\w\.\d]*)/i],[[b,"Solaris"],N],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[b,N]]},it=function(Pt,Jt){if(typeof Pt===f&&(Jt=Pt,Pt=y),!(this instanceof it))return new it(Pt,Jt).getResult();var je=typeof e!==d&&e.navigator?e.navigator:y,ce=Pt||(je&&je.userAgent?je.userAgent:""),X=je&&je.userAgentData?je.userAgentData:y,oe=Jt?function(Pt,Jt){var je={};for(var ce in Pt)je[ce]=Jt[ce]&&Jt[ce].length%2==0?Jt[ce].concat(Pt[ce]):Pt[ce];return je}(mt,Jt):mt,Ve=je&&je.userAgent==ce;return this.getBrowser=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.browser),tt[O]=function(Pt){return typeof Pt===I?Pt.replace(/[^\d\.]/g,"").split(".")[0]:y}(tt[N]),Ve&&je&&je.brave&&typeof je.brave.isBrave==m&&(tt[b]="Brave"),tt},this.getCPU=function(){var tt={};return tt[G]=y,at.call(tt,ce,oe.cpu),tt},this.getDevice=function(){var tt={};return tt[k]=y,tt[P]=y,tt[M]=y,at.call(tt,ce,oe.device),Ve&&!tt[M]&&X&&X.mobile&&(tt[M]=j),Ve&&"Macintosh"==tt[P]&&je&&typeof je.standalone!==d&&je.maxTouchPoints&&je.maxTouchPoints>2&&(tt[P]="iPad",tt[M]=U),tt},this.getEngine=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.engine),tt},this.getOS=function(){var tt={};return tt[b]=y,tt[N]=y,at.call(tt,ce,oe.os),Ve&&!tt[b]&&X&&"Unknown"!=X.platform&&(tt[b]=X.platform.replace(/chrome os/i,jt).replace(/macos/i,"Mac OS")),tt},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return ce},this.setUA=function(tt){return ce=typeof tt===I&&tt.length>500?we(tt,500):tt,this},this.setUA(ce),this};it.VERSION="1.0.37",it.BROWSER=z([b,N,O]),it.CPU=z([G]),it.DEVICE=z([P,k,M,R,j,$,U,ne,se]),it.ENGINE=it.OS=z([b,N]),typeof fe!==d?(nt.exports&&(fe=nt.exports=it),fe.UAParser=it):h.amdO?(i=function(){return it}.call(fe,h,fe,nt))!==y&&(nt.exports=i):typeof e!==d&&(e.UAParser=it);var Kt=typeof e!==d&&(e.jQuery||e.Zepto);if(Kt&&!Kt.ua){var on=new it;Kt.ua=on.getResult(),Kt.ua.get=function(){return on.getUA()},Kt.ua.set=function(Pt){on.setUA(Pt);var Jt=on.getResult();for(var je in Jt)Kt.ua[je]=Jt[je]}}}("object"==typeof window?window:this)},5568:function(nt,fe){!function(h){"use strict";function i(){for(var Mt=arguments.length,ht=Array(Mt),kt=0;kt<Mt;kt++)ht[kt]=arguments[kt];if(ht.length>1){ht[0]=ht[0].slice(0,-1);for(var Gt=ht.length-1,sn=1;sn<Gt;++sn)ht[sn]=ht[sn].slice(1,-1);return ht[Gt]=ht[Gt].slice(1),ht.join("")}return ht[0]}function e(Mt){return"(?:"+Mt+")"}function y(Mt){return void 0===Mt?"undefined":null===Mt?"null":Object.prototype.toString.call(Mt).split(" ").pop().split("]").shift().toLowerCase()}function p(Mt){return Mt.toUpperCase()}function m(Mt){var ht="[A-Za-z]",Gt="[0-9]",bn=i(Gt,"[A-Fa-f]"),An=e(e("%[EFef]"+bn+"%"+bn+bn+"%"+bn+bn)+"|"+e("%[89A-Fa-f]"+bn+"%"+bn+bn)+"|"+e("%"+bn+bn)),di="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",mi=i("[\\:\\/\\?\\#\\[\\]\\@]",di),Pi=Mt?"[\\uE000-\\uF8FF]":"[]",Qn=i(ht,Gt,"[\\-\\.\\_\\~]",Mt?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),Ti=e(ht+i(ht,Gt,"[\\+\\-\\.]")+"*"),gi=e(e(An+"|"+i(Qn,di,"[\\:]"))+"*"),$i=(e(e("25[0-5]")+"|"+e("2[0-4]"+Gt)+"|"+e("1"+Gt+Gt)+"|"+e("[1-9]"+Gt)+"|"+Gt),e(e("25[0-5]")+"|"+e("2[0-4]"+Gt)+"|"+e("1"+Gt+Gt)+"|"+e("0?[1-9]"+Gt)+"|0?0?"+Gt)),Ii=e($i+"\\."+$i+"\\."+$i+"\\."+$i),et=e(bn+"{1,4}"),At=e(e(et+"\\:"+et)+"|"+Ii),Ke=e(e(et+"\\:")+"{6}"+At),zt=e("\\:\\:"+e(et+"\\:")+"{5}"+At),ct=e(e(et)+"?\\:\\:"+e(et+"\\:")+"{4}"+At),Yt=e(e(e(et+"\\:")+"{0,1}"+et)+"?\\:\\:"+e(et+"\\:")+"{3}"+At),Xe=e(e(e(et+"\\:")+"{0,2}"+et)+"?\\:\\:"+e(et+"\\:")+"{2}"+At),Zt=e(e(e(et+"\\:")+"{0,3}"+et)+"?\\:\\:"+et+"\\:"+At),ut=e(e(e(et+"\\:")+"{0,4}"+et)+"?\\:\\:"+At),_e=e(e(e(et+"\\:")+"{0,5}"+et)+"?\\:\\:"+et),De=e(e(e(et+"\\:")+"{0,6}"+et)+"?\\:\\:"),ye=e([Ke,zt,ct,Yt,Xe,Zt,ut,_e,De].join("|")),ft=e(e(Qn+"|"+An)+"+"),Tt=(e(ye+"\\%25"+ft),e(ye+e("\\%25|\\%(?!"+bn+"{2})")+ft)),vt=e("[vV]"+bn+"+\\."+i(Qn,di,"[\\:]")+"+"),Xt=e("\\["+e(Tt+"|"+ye+"|"+vt)+"\\]"),Vn=e(e(An+"|"+i(Qn,di))+"*"),ai=e(Xt+"|"+Ii+"(?!"+Vn+")|"+Vn),yi=e(Gt+"*"),ri=e(e(gi+"@")+"?"+ai+e("\\:"+yi)+"?"),Ui=e(An+"|"+i(Qn,di,"[\\:\\@]")),hr=e(Ui+"*"),Wn=e(Ui+"+"),li=e(e(An+"|"+i(Qn,di,"[\\@]"))+"+"),lr=e(e("\\/"+hr)+"*"),xi=e("\\/"+e(Wn+lr)+"?"),Mr=e(li+lr),Ys=e(Wn+lr),gs="(?!"+Ui+")",_i=(e(lr+"|"+xi+"|"+Mr+"|"+Ys+"|"+gs),e(e(Ui+"|"+i("[\\/\\?]",Pi))+"*")),js=e(e(Ui+"|[\\/\\?]")+"*"),vs=e(e("\\/\\/"+ri+lr)+"|"+xi+"|"+Ys+"|"+gs),wr=e(Ti+"\\:"+vs+e("\\?"+_i)+"?"+e("\\#"+js)+"?"),Ls=e(e("\\/\\/"+ri+lr)+"|"+xi+"|"+Mr+"|"+gs),vr=e(Ls+e("\\?"+_i)+"?"+e("\\#"+js)+"?");return e(wr+"|"+vr),e(Ti+"\\:"+vs+e("\\?"+_i)+"?"),e(e("\\/\\/("+e("("+gi+")@")+"?("+ai+")"+e("\\:("+yi+")")+"?)")+"?("+lr+"|"+xi+"|"+Ys+"|"+gs+")"),e("\\?("+_i+")"),e("\\#("+js+")"),e(e("\\/\\/("+e("("+gi+")@")+"?("+ai+")"+e("\\:("+yi+")")+"?)")+"?("+lr+"|"+xi+"|"+Mr+"|"+gs+")"),e("\\?("+_i+")"),e("\\#("+js+")"),e(e("\\/\\/("+e("("+gi+")@")+"?("+ai+")"+e("\\:("+yi+")")+"?)")+"?("+lr+"|"+xi+"|"+Ys+"|"+gs+")"),e("\\?("+_i+")"),e("\\#("+js+")"),e("("+gi+")@"),e("\\:("+yi+")"),{NOT_SCHEME:new RegExp(i("[^]",ht,Gt,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Qn,di),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Qn,di),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Qn,di),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Qn,di),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Qn,di,"[\\:\\@\\/\\?]",Pi),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Qn,di,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Qn,di),"g"),UNRESERVED:new RegExp(Qn,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Qn,mi),"g"),PCT_ENCODED:new RegExp(An,"g"),IPV4ADDRESS:new RegExp("^("+Ii+")$"),IPV6ADDRESS:new RegExp("^\\[?("+ye+")"+e(e("\\%25|\\%(?!"+bn+"{2})")+"("+ft+")")+"?\\]?$")}}var d=m(!1),f=m(!0),I=function(){return function(ht,kt){if(Array.isArray(ht))return ht;if(Symbol.iterator in Object(ht))return function Mt(ht,kt){var Gt=[],sn=!0,bn=!1,yn=void 0;try{for(var An,Jn=ht[Symbol.iterator]();!(sn=(An=Jn.next()).done)&&(Gt.push(An.value),!kt||Gt.length!==kt);sn=!0);}catch(gn){bn=!0,yn=gn}finally{try{!sn&&Jn.return&&Jn.return()}finally{if(bn)throw yn}}return Gt}(ht,kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),P=2147483647,b=36,$=/^xn--/,ne=/[^\0-\x7E]/,se=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,E=String.fromCharCode;function re(Mt){throw new RangeError(L[Mt])}function me(Mt,ht){var kt=Mt.split("@"),Gt="";return kt.length>1&&(Gt=kt[0]+"@",Mt=kt[1]),Gt+function K(Mt,ht){for(var kt=[],Gt=Mt.length;Gt--;)kt[Gt]=ht(Mt[Gt]);return kt}((Mt=Mt.replace(se,".")).split("."),ht).join(".")}function Ne(Mt){for(var ht=[],kt=0,Gt=Mt.length;kt<Gt;){var sn=Mt.charCodeAt(kt++);if(sn>=55296&&sn<=56319&&kt<Gt){var bn=Mt.charCodeAt(kt++);56320==(64512&bn)?ht.push(((1023&sn)<<10)+(1023&bn)+65536):(ht.push(sn),kt--)}else ht.push(sn)}return ht}var xe=function(ht){return ht-48<10?ht-22:ht-65<26?ht-65:ht-97<26?ht-97:b},Qe=function(ht,kt){return ht+22+75*(ht<26)-((0!=kt)<<5)},Ee=function(ht,kt,Gt){var sn=0;for(ht=Gt?te(ht/700):ht>>1,ht+=te(ht/kt);ht>455;sn+=b)ht=te(ht/35);return te(sn+36*ht/(ht+38))},be=function(ht){var kt=[],Gt=ht.length,sn=0,bn=128,yn=72,Jn=ht.lastIndexOf("-");Jn<0&&(Jn=0);for(var An=0;An<Jn;++An)ht.charCodeAt(An)>=128&&re("not-basic"),kt.push(ht.charCodeAt(An));for(var gn=Jn>0?Jn+1:0;gn<Gt;){for(var di=sn,mi=1,ii=b;;ii+=b){gn>=Gt&&re("invalid-input");var Pi=xe(ht.charCodeAt(gn++));(Pi>=b||Pi>te((P-sn)/mi))&&re("overflow"),sn+=Pi*mi;var Qn=ii<=yn?1:ii>=yn+26?26:ii-yn;if(Pi<Qn)break;var Ti=b-Qn;mi>te(P/Ti)&&re("overflow"),mi*=Ti}var gi=kt.length+1;yn=Ee(sn-di,gi,0==di),te(sn/gi)>P-bn&&re("overflow"),bn+=te(sn/gi),sn%=gi,kt.splice(sn++,0,bn)}return String.fromCodePoint.apply(String,kt)},le=function(ht){var kt=[],Gt=(ht=Ne(ht)).length,sn=128,bn=0,yn=72,Jn=!0,An=!1,gn=void 0;try{for(var mi,di=ht[Symbol.iterator]();!(Jn=(mi=di.next()).done);Jn=!0){var ii=mi.value;ii<128&&kt.push(E(ii))}}catch(Tt){An=!0,gn=Tt}finally{try{!Jn&&di.return&&di.return()}finally{if(An)throw gn}}var Pi=kt.length,Qn=Pi;for(Pi&&kt.push("-");Qn<Gt;){var Ti=P,gi=!0,Hi=!1,$i=void 0;try{for(var et,Ii=ht[Symbol.iterator]();!(gi=(et=Ii.next()).done);gi=!0){var At=et.value;At>=sn&&At<Ti&&(Ti=At)}}catch(Tt){Hi=!0,$i=Tt}finally{try{!gi&&Ii.return&&Ii.return()}finally{if(Hi)throw $i}}var Ke=Qn+1;Ti-sn>te((P-bn)/Ke)&&re("overflow"),bn+=(Ti-sn)*Ke,sn=Ti;var zt=!0,ct=!1,Yt=void 0;try{for(var Zt,Xe=ht[Symbol.iterator]();!(zt=(Zt=Xe.next()).done);zt=!0){var ut=Zt.value;if(ut<sn&&++bn>P&&re("overflow"),ut==sn){for(var _e=bn,De=b;;De+=b){var ye=De<=yn?1:De>=yn+26?26:De-yn;if(_e<ye)break;var ft=_e-ye,ze=b-ye;kt.push(E(Qe(ye+ft%ze,0))),_e=te(ft/ze)}kt.push(E(Qe(_e,0))),yn=Ee(bn,Ke,Qn==Pi),bn=0,++Qn}}}catch(Tt){ct=!0,Yt=Tt}finally{try{!zt&&Xe.return&&Xe.return()}finally{if(ct)throw Yt}}++bn,++sn}return kt.join("")},st={version:"2.1.0",ucs2:{decode:Ne,encode:function(ht){return String.fromCodePoint.apply(String,function(Mt){if(Array.isArray(Mt)){for(var ht=0,kt=Array(Mt.length);ht<Mt.length;ht++)kt[ht]=Mt[ht];return kt}return Array.from(Mt)}(ht))}},decode:be,encode:le,toASCII:function(ht){return me(ht,function(kt){return ne.test(kt)?"xn--"+le(kt):kt})},toUnicode:function(ht){return me(ht,function(kt){return $.test(kt)?be(kt.slice(4).toLowerCase()):kt})}},Oe={};function pt(Mt){var ht=Mt.charCodeAt(0);return ht<16?"%0"+ht.toString(16).toUpperCase():ht<128?"%"+ht.toString(16).toUpperCase():ht<2048?"%"+(ht>>6|192).toString(16).toUpperCase()+"%"+(63&ht|128).toString(16).toUpperCase():"%"+(ht>>12|224).toString(16).toUpperCase()+"%"+(ht>>6&63|128).toString(16).toUpperCase()+"%"+(63&ht|128).toString(16).toUpperCase()}function Ye(Mt){for(var ht="",kt=0,Gt=Mt.length;kt<Gt;){var sn=parseInt(Mt.substr(kt+1,2),16);if(sn<128)ht+=String.fromCharCode(sn),kt+=3;else if(sn>=194&&sn<224){if(Gt-kt>=6){var bn=parseInt(Mt.substr(kt+4,2),16);ht+=String.fromCharCode((31&sn)<<6|63&bn)}else ht+=Mt.substr(kt,6);kt+=6}else if(sn>=224){if(Gt-kt>=9){var yn=parseInt(Mt.substr(kt+4,2),16),Jn=parseInt(Mt.substr(kt+7,2),16);ht+=String.fromCharCode((15&sn)<<12|(63&yn)<<6|63&Jn)}else ht+=Mt.substr(kt,9);kt+=9}else ht+=Mt.substr(kt,3),kt+=3}return ht}function qt(Mt,ht){function kt(Gt){var sn=Ye(Gt);return sn.match(ht.UNRESERVED)?sn:Gt}return Mt.scheme&&(Mt.scheme=String(Mt.scheme).replace(ht.PCT_ENCODED,kt).toLowerCase().replace(ht.NOT_SCHEME,"")),void 0!==Mt.userinfo&&(Mt.userinfo=String(Mt.userinfo).replace(ht.PCT_ENCODED,kt).replace(ht.NOT_USERINFO,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.host&&(Mt.host=String(Mt.host).replace(ht.PCT_ENCODED,kt).toLowerCase().replace(ht.NOT_HOST,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.path&&(Mt.path=String(Mt.path).replace(ht.PCT_ENCODED,kt).replace(Mt.scheme?ht.NOT_PATH:ht.NOT_PATH_NOSCHEME,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.query&&(Mt.query=String(Mt.query).replace(ht.PCT_ENCODED,kt).replace(ht.NOT_QUERY,pt).replace(ht.PCT_ENCODED,p)),void 0!==Mt.fragment&&(Mt.fragment=String(Mt.fragment).replace(ht.PCT_ENCODED,kt).replace(ht.NOT_FRAGMENT,pt).replace(ht.PCT_ENCODED,p)),Mt}function jt(Mt){return Mt.replace(/^0*(.*)/,"$1")||"0"}function Dt(Mt,ht){var kt=Mt.match(ht.IPV4ADDRESS)||[],sn=I(kt,2)[1];return sn?sn.split(".").map(jt).join("."):Mt}function wt(Mt,ht){var kt=Mt.match(ht.IPV6ADDRESS)||[],Gt=I(kt,3),sn=Gt[1],bn=Gt[2];if(sn){for(var yn=sn.toLowerCase().split("::").reverse(),Jn=I(yn,2),An=Jn[0],gn=Jn[1],di=gn?gn.split(":").map(jt):[],mi=An.split(":").map(jt),ii=ht.IPV4ADDRESS.test(mi[mi.length-1]),Pi=ii?7:8,Qn=mi.length-Pi,Ti=Array(Pi),gi=0;gi<Pi;++gi)Ti[gi]=di[gi]||mi[Qn+gi]||"";ii&&(Ti[Pi-1]=Dt(Ti[Pi-1],ht));var $i=Ti.reduce(function(Ke,zt,ct){if(!zt||"0"===zt){var Yt=Ke[Ke.length-1];Yt&&Yt.index+Yt.length===ct?Yt.length++:Ke.push({index:ct,length:1})}return Ke},[]).sort(function(Ke,zt){return zt.length-Ke.length})[0],Ii=void 0;if($i&&$i.length>1){var et=Ti.slice(0,$i.index),At=Ti.slice($i.index+$i.length);Ii=et.join(":")+"::"+At.join(":")}else Ii=Ti.join(":");return bn&&(Ii+="%"+bn),Ii}return Mt}var z=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Y=void 0==="".match(/(){0}/)[1];function Z(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt={},Gt=!1!==ht.iri?f:d;"suffix"===ht.reference&&(Mt=(ht.scheme?ht.scheme+":":"")+"//"+Mt);var sn=Mt.match(z);if(sn){Y?(kt.scheme=sn[1],kt.userinfo=sn[3],kt.host=sn[4],kt.port=parseInt(sn[5],10),kt.path=sn[6]||"",kt.query=sn[7],kt.fragment=sn[8],isNaN(kt.port)&&(kt.port=sn[5])):(kt.scheme=sn[1]||void 0,kt.userinfo=-1!==Mt.indexOf("@")?sn[3]:void 0,kt.host=-1!==Mt.indexOf("//")?sn[4]:void 0,kt.port=parseInt(sn[5],10),kt.path=sn[6]||"",kt.query=-1!==Mt.indexOf("?")?sn[7]:void 0,kt.fragment=-1!==Mt.indexOf("#")?sn[8]:void 0,isNaN(kt.port)&&(kt.port=Mt.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?sn[4]:void 0)),kt.host&&(kt.host=wt(Dt(kt.host,Gt),Gt)),kt.reference=void 0!==kt.scheme||void 0!==kt.userinfo||void 0!==kt.host||void 0!==kt.port||kt.path||void 0!==kt.query?void 0===kt.scheme?"relative":void 0===kt.fragment?"absolute":"uri":"same-document",ht.reference&&"suffix"!==ht.reference&&ht.reference!==kt.reference&&(kt.error=kt.error||"URI is not a "+ht.reference+" reference.");var bn=Oe[(ht.scheme||kt.scheme||"").toLowerCase()];if(ht.unicodeSupport||bn&&bn.unicodeSupport)qt(kt,Gt);else{if(kt.host&&(ht.domainHost||bn&&bn.domainHost))try{kt.host=st.toASCII(kt.host.replace(Gt.PCT_ENCODED,Ye).toLowerCase())}catch(yn){kt.error=kt.error||"Host's domain name can not be converted to ASCII via punycode: "+yn}qt(kt,d)}bn&&bn.parse&&bn.parse(kt,ht)}else kt.error=kt.error||"URI can not be parsed.";return kt}var we=/^\.\.?\//,at=/^\/\.(\/|$)/,Be=/^\/\.\.(\/|$)/,ot=/^\/?(?:.|\n)*?(?=\/|$)/;function Ft(Mt){for(var ht=[];Mt.length;)if(Mt.match(we))Mt=Mt.replace(we,"");else if(Mt.match(at))Mt=Mt.replace(at,"/");else if(Mt.match(Be))Mt=Mt.replace(Be,"/"),ht.pop();else if("."===Mt||".."===Mt)Mt="";else{var kt=Mt.match(ot);if(!kt)throw new Error("Unexpected dot segment condition");var Gt=kt[0];Mt=Mt.slice(Gt.length),ht.push(Gt)}return ht.join("")}function mt(Mt){var ht=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},kt=ht.iri?f:d,Gt=[],sn=Oe[(ht.scheme||Mt.scheme||"").toLowerCase()];if(sn&&sn.serialize&&sn.serialize(Mt,ht),Mt.host&&!kt.IPV6ADDRESS.test(Mt.host)&&(ht.domainHost||sn&&sn.domainHost))try{Mt.host=ht.iri?st.toUnicode(Mt.host):st.toASCII(Mt.host.replace(kt.PCT_ENCODED,Ye).toLowerCase())}catch(Jn){Mt.error=Mt.error||"Host's domain name can not be converted to "+(ht.iri?"Unicode":"ASCII")+" via punycode: "+Jn}qt(Mt,kt),"suffix"!==ht.reference&&Mt.scheme&&(Gt.push(Mt.scheme),Gt.push(":"));var bn=function Ce(Mt,ht){var kt=!1!==ht.iri?f:d,Gt=[];return void 0!==Mt.userinfo&&(Gt.push(Mt.userinfo),Gt.push("@")),void 0!==Mt.host&&Gt.push(wt(Dt(String(Mt.host),kt),kt).replace(kt.IPV6ADDRESS,function(sn,bn,yn){return"["+bn+(yn?"%25"+yn:"")+"]"})),("number"==typeof Mt.port||"string"==typeof Mt.port)&&(Gt.push(":"),Gt.push(String(Mt.port))),Gt.length?Gt.join(""):void 0}(Mt,ht);if(void 0!==bn&&("suffix"!==ht.reference&&Gt.push("//"),Gt.push(bn),Mt.path&&"/"!==Mt.path.charAt(0)&&Gt.push("/")),void 0!==Mt.path){var yn=Mt.path;!ht.absolutePath&&(!sn||!sn.absolutePath)&&(yn=Ft(yn)),void 0===bn&&(yn=yn.replace(/^\/\//,"/%2F")),Gt.push(yn)}return void 0!==Mt.query&&(Gt.push("?"),Gt.push(Mt.query)),void 0!==Mt.fragment&&(Gt.push("#"),Gt.push(Mt.fragment)),Gt.join("")}function it(Mt,ht){var kt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},sn={};return arguments[3]||(Mt=Z(mt(Mt,kt),kt),ht=Z(mt(ht,kt),kt)),!(kt=kt||{}).tolerant&&ht.scheme?(sn.scheme=ht.scheme,sn.userinfo=ht.userinfo,sn.host=ht.host,sn.port=ht.port,sn.path=Ft(ht.path||""),sn.query=ht.query):(void 0!==ht.userinfo||void 0!==ht.host||void 0!==ht.port?(sn.userinfo=ht.userinfo,sn.host=ht.host,sn.port=ht.port,sn.path=Ft(ht.path||""),sn.query=ht.query):(ht.path?("/"===ht.path.charAt(0)?sn.path=Ft(ht.path):(sn.path=void 0===Mt.userinfo&&void 0===Mt.host&&void 0===Mt.port||Mt.path?Mt.path?Mt.path.slice(0,Mt.path.lastIndexOf("/")+1)+ht.path:ht.path:"/"+ht.path,sn.path=Ft(sn.path)),sn.query=ht.query):(sn.path=Mt.path,sn.query=void 0!==ht.query?ht.query:Mt.query),sn.userinfo=Mt.userinfo,sn.host=Mt.host,sn.port=Mt.port),sn.scheme=Mt.scheme),sn.fragment=ht.fragment,sn}function je(Mt,ht){return Mt&&Mt.toString().replace(ht&&ht.iri?f.PCT_ENCODED:d.PCT_ENCODED,Ye)}var ce={scheme:"http",domainHost:!0,parse:function(ht,kt){return ht.host||(ht.error=ht.error||"HTTP URIs must have a host."),ht},serialize:function(ht,kt){var Gt="https"===String(ht.scheme).toLowerCase();return(ht.port===(Gt?443:80)||""===ht.port)&&(ht.port=void 0),ht.path||(ht.path="/"),ht}},X={scheme:"https",domainHost:ce.domainHost,parse:ce.parse,serialize:ce.serialize};function oe(Mt){return"boolean"==typeof Mt.secure?Mt.secure:"wss"===String(Mt.scheme).toLowerCase()}var Ve={scheme:"ws",domainHost:!0,parse:function(ht,kt){var Gt=ht;return Gt.secure=oe(Gt),Gt.resourceName=(Gt.path||"/")+(Gt.query?"?"+Gt.query:""),Gt.path=void 0,Gt.query=void 0,Gt},serialize:function(ht,kt){if((ht.port===(oe(ht)?443:80)||""===ht.port)&&(ht.port=void 0),"boolean"==typeof ht.secure&&(ht.scheme=ht.secure?"wss":"ws",ht.secure=void 0),ht.resourceName){var Gt=ht.resourceName.split("?"),sn=I(Gt,2),bn=sn[0],yn=sn[1];ht.path=bn&&"/"!==bn?bn:void 0,ht.query=yn,ht.resourceName=void 0}return ht.fragment=void 0,ht}},tt={scheme:"wss",domainHost:Ve.domainHost,parse:Ve.parse,serialize:Ve.serialize},gt={},cn="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",hn="[0-9A-Fa-f]",Mn=e(e("%[EFef]"+hn+"%"+hn+hn+"%"+hn+hn)+"|"+e("%[89A-Fa-f]"+hn+"%"+hn+hn)+"|"+e("%"+hn+hn)),It=i("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Ht=new RegExp(cn,"g"),lt=new RegExp(Mn,"g"),Ct=new RegExp(i("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',It),"g"),yt=new RegExp(i("[^]",cn,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),Ot=yt;function tn(Mt){var ht=Ye(Mt);return ht.match(Ht)?ht:Mt}var In={scheme:"mailto",parse:function(ht,kt){var Gt=ht,sn=Gt.to=Gt.path?Gt.path.split(","):[];if(Gt.path=void 0,Gt.query){for(var bn=!1,yn={},Jn=Gt.query.split("&"),An=0,gn=Jn.length;An<gn;++An){var di=Jn[An].split("=");switch(di[0]){case"to":for(var mi=di[1].split(","),ii=0,Pi=mi.length;ii<Pi;++ii)sn.push(mi[ii]);break;case"subject":Gt.subject=je(di[1],kt);break;case"body":Gt.body=je(di[1],kt);break;default:bn=!0,yn[je(di[0],kt)]=je(di[1],kt)}}bn&&(Gt.headers=yn)}Gt.query=void 0;for(var Qn=0,Ti=sn.length;Qn<Ti;++Qn){var gi=sn[Qn].split("@");if(gi[0]=je(gi[0]),kt.unicodeSupport)gi[1]=je(gi[1],kt).toLowerCase();else try{gi[1]=st.toASCII(je(gi[1],kt).toLowerCase())}catch(Hi){Gt.error=Gt.error||"Email address's domain name can not be converted to ASCII via punycode: "+Hi}sn[Qn]=gi.join("@")}return Gt},serialize:function(ht,kt){var Gt=ht,sn=function w(Mt){return null!=Mt?Mt instanceof Array?Mt:"number"!=typeof Mt.length||Mt.split||Mt.setInterval||Mt.call?[Mt]:Array.prototype.slice.call(Mt):[]}(ht.to);if(sn){for(var bn=0,yn=sn.length;bn<yn;++bn){var Jn=String(sn[bn]),An=Jn.lastIndexOf("@"),gn=Jn.slice(0,An).replace(lt,tn).replace(lt,p).replace(Ct,pt),di=Jn.slice(An+1);try{di=kt.iri?st.toUnicode(di):st.toASCII(je(di,kt).toLowerCase())}catch(Qn){Gt.error=Gt.error||"Email address's domain name can not be converted to "+(kt.iri?"Unicode":"ASCII")+" via punycode: "+Qn}sn[bn]=gn+"@"+di}Gt.path=sn.join(",")}var mi=ht.headers=ht.headers||{};ht.subject&&(mi.subject=ht.subject),ht.body&&(mi.body=ht.body);var ii=[];for(var Pi in mi)mi[Pi]!==gt[Pi]&&ii.push(Pi.replace(lt,tn).replace(lt,p).replace(yt,pt)+"="+mi[Pi].replace(lt,tn).replace(lt,p).replace(Ot,pt));return ii.length&&(Gt.query=ii.join("&")),Gt}},Un=/^([^\:]+)\:(.*)/,fn={scheme:"urn",parse:function(ht,kt){var Gt=ht.path&&ht.path.match(Un),sn=ht;if(Gt){var bn=kt.scheme||sn.scheme||"urn",yn=Gt[1].toLowerCase(),Jn=Gt[2],gn=Oe[bn+":"+(kt.nid||yn)];sn.nid=yn,sn.nss=Jn,sn.path=void 0,gn&&(sn=gn.parse(sn,kt))}else sn.error=sn.error||"URN can not be parsed.";return sn},serialize:function(ht,kt){var sn=ht.nid,yn=Oe[(kt.scheme||ht.scheme||"urn")+":"+(kt.nid||sn)];yn&&(ht=yn.serialize(ht,kt));var Jn=ht;return Jn.path=(sn||kt.nid)+":"+ht.nss,Jn}},hi=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Hn={scheme:"urn:uuid",parse:function(ht,kt){var Gt=ht;return Gt.uuid=Gt.nss,Gt.nss=void 0,!kt.tolerant&&(!Gt.uuid||!Gt.uuid.match(hi))&&(Gt.error=Gt.error||"UUID is not valid."),Gt},serialize:function(ht,kt){var Gt=ht;return Gt.nss=(ht.uuid||"").toLowerCase(),Gt}};Oe[ce.scheme]=ce,Oe[X.scheme]=X,Oe[Ve.scheme]=Ve,Oe[tt.scheme]=tt,Oe[In.scheme]=In,Oe[fn.scheme]=fn,Oe[Hn.scheme]=Hn,h.SCHEMES=Oe,h.pctEncChar=pt,h.pctDecChars=Ye,h.parse=Z,h.removeDotSegments=Ft,h.serialize=mt,h.resolveComponents=it,h.resolve=function Kt(Mt,ht,kt){var Gt=function C(Mt,ht){var kt=Mt;if(ht)for(var Gt in ht)kt[Gt]=ht[Gt];return kt}({scheme:"null"},kt);return mt(it(Z(Mt,Gt),Z(ht,Gt),Gt,!0),Gt)},h.normalize=function on(Mt,ht){return"string"==typeof Mt?Mt=mt(Z(Mt,ht),ht):"object"===y(Mt)&&(Mt=Z(mt(Mt,ht),ht)),Mt},h.equal=function Pt(Mt,ht,kt){return"string"==typeof Mt?Mt=mt(Z(Mt,kt),kt):"object"===y(Mt)&&(Mt=mt(Mt,kt)),"string"==typeof ht?ht=mt(Z(ht,kt),kt):"object"===y(ht)&&(ht=mt(ht,kt)),Mt===ht},h.escapeComponent=function Jt(Mt,ht){return Mt&&Mt.toString().replace(ht&&ht.iri?f.ESCAPE:d.ESCAPE,pt)},h.unescapeComponent=je,Object.defineProperty(h,"__esModule",{value:!0})}(fe)},1108:function(nt,fe){var h,e;!function(y,p){"use strict";h=function(y){return function(w){w=w||{},function m(){w.arrayAccessForm=w.arrayAccessForm||"none",w.emptyNodeForm=w.emptyNodeForm||"text",w.jsAttributeFilter=w.jsAttributeFilter,w.jsAttributeConverter=w.jsAttributeConverter,w.attributeConverters=w.attributeConverters||[],w.datetimeAccessFormPaths=w.datetimeAccessFormPaths||[],w.arrayAccessFormPaths=w.arrayAccessFormPaths||[],w.xmldomOptions=w.xmldomOptions||{},void 0===w.enableToStringFunc&&(w.enableToStringFunc=!0),void 0===w.skipEmptyTextNodesForObj&&(w.skipEmptyTextNodesForObj=!0),void 0===w.stripWhitespaces&&(w.stripWhitespaces=!0),void 0===w.useDoubleQuotes&&(w.useDoubleQuotes=!0),void 0===w.ignoreRoot&&(w.ignoreRoot=!1),void 0===w.escapeMode&&(w.escapeMode=!0),void 0===w.attributePrefix&&(w.attributePrefix="_"),void 0===w.selfClosingElements&&(w.selfClosingElements=!0),void 0===w.keepCData&&(w.keepCData=!1),void 0===w.keepText&&(w.keepText=!1),void 0===w.jsDateUTC&&(w.jsDateUTC=!1)}(),function d(){function Ae(xe){var Qe=String(xe);return 1===Qe.length&&(Qe="0"+Qe),Qe}"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|^\n+|(\s|\n)+$/g,"")}),"function"!=typeof Date.prototype.toISOString&&(Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+Ae(this.getUTCMonth()+1)+"-"+Ae(this.getUTCDate())+"T"+Ae(this.getUTCHours())+":"+Ae(this.getUTCMinutes())+":"+Ae(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"})}();var f={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function I(Ae){var xe=Ae.localName;return null==xe&&(xe=Ae.baseName),(null==xe||""===xe)&&(xe=Ae.nodeName),xe}function P(Ae){return"string"==typeof Ae?Ae.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"):Ae}function M(Ae,xe,Qe){if("property"===w.arrayAccessForm&&(Ae[xe+"_asArray"]=Ae[xe]instanceof Array?Ae[xe]:[Ae[xe]]),!(Ae[xe]instanceof Array)&&w.arrayAccessFormPaths.length>0){for(var Ee=!1,be=0;be<w.arrayAccessFormPaths.length;be++){var le=w.arrayAccessFormPaths[be];if("string"==typeof le){if(le===Qe){Ee=!0;break}}else if(le instanceof RegExp){if(le.test(Qe)){Ee=!0;break}}else if("function"==typeof le&&le(xe,Qe)){Ee=!0;break}}Ee&&(Ae[xe]=[Ae[xe]])}}function k(Ae){var Qe=Ae.split(/[-T:+Z]/g),Ee=new Date(Qe[0],Qe[1]-1,Qe[2]),be=Qe[5].split(".");if(Ee.setHours(Qe[3],Qe[4],be[0]),be.length>1&&Ee.setMilliseconds(be[1]),Qe[6]&&Qe[7]){var le=60*Qe[6]+Number(Qe[7]);le=0+("-"==(/\d\d-\d\d:\d\d$/.test(Ae)?"-":"+")?-1*le:le),Ee.setMinutes(Ee.getMinutes()-le-Ee.getTimezoneOffset())}else-1!==Ae.indexOf("Z",Ae.length-1)&&(Ee=new Date(Date.UTC(Ee.getFullYear(),Ee.getMonth(),Ee.getDate(),Ee.getHours(),Ee.getMinutes(),Ee.getSeconds(),Ee.getMilliseconds())));return Ee}function R(Ae,xe){for(var Qe={__cnt:0},Ee=Ae.childNodes,be=0;be<Ee.length;be++){var le=Ee.item(be),Pe=I(le);le.nodeType!==f.COMMENT_NODE&&(Qe.__cnt++,null==Qe[Pe]?(Qe[Pe]=j(le,xe+"."+Pe),M(Qe,Pe,xe+"."+Pe)):(Qe[Pe]instanceof Array||(Qe[Pe]=[Qe[Pe]],M(Qe,Pe,xe+"."+Pe)),Qe[Pe][Qe[Pe].length]=j(le,xe+"."+Pe)))}for(var Ie=0;Ie<Ae.attributes.length;Ie++){var st=Ae.attributes.item(Ie);Qe.__cnt++;for(var Oe=st.value,pt=0;pt<w.attributeConverters.length;pt++){var Ye=w.attributeConverters[pt];Ye.test.call(null,st.name,st.value)&&(Oe=Ye.convert.call(null,st.name,st.value))}Qe[w.attributePrefix+st.name]=Oe}var qt=function O(Ae){return Ae.prefix}(Ae);return qt&&(Qe.__cnt++,Qe.__prefix=qt),Qe["#text"]&&(Qe.__text=Qe["#text"],Qe.__text instanceof Array&&(Qe.__text=Qe.__text.join("\n")),w.escapeMode&&(Qe.__text=function b(Ae){return Ae.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&amp;/g,"&")}(Qe.__text)),w.stripWhitespaces&&(Qe.__text=Qe.__text.trim()),delete Qe["#text"],"property"===w.arrayAccessForm&&delete Qe["#text_asArray"],Qe.__text=function N(Ae,xe,Qe){if(w.datetimeAccessFormPaths.length>0)for(var Ee=Qe.split(".#")[0],be=0;be<w.datetimeAccessFormPaths.length;be++){var le=w.datetimeAccessFormPaths[be];if("string"==typeof le){if(le===Ee)return k(Ae)}else if(le instanceof RegExp){if(le.test(Ee))return k(Ae)}else if("function"==typeof le&&le(Ee))return k(Ae)}return Ae}(Qe.__text,0,xe+".#text")),Qe.hasOwnProperty("#cdata-section")&&(Qe.__cdata=Qe["#cdata-section"],delete Qe["#cdata-section"],"property"===w.arrayAccessForm&&delete Qe["#cdata-section_asArray"]),1===Qe.__cnt&&Qe.__text&&!w.keepText?Qe=Qe.__text:0===Qe.__cnt&&"text"===w.emptyNodeForm?Qe="":Qe.__cnt>1&&void 0!==Qe.__text&&w.skipEmptyTextNodesForObj&&(w.stripWhitespaces&&""===Qe.__text||""===Qe.__text.trim())&&delete Qe.__text,delete Qe.__cnt,w.keepCData||Qe.hasOwnProperty("__text")||!Qe.hasOwnProperty("__cdata")||1!==Object.keys(Qe).length?(w.enableToStringFunc&&(Qe.__text||Qe.__cdata)&&(Qe.toString=function(){return(this.__text?this.__text:"")+(this.__cdata?this.__cdata:"")}),Qe):Qe.__cdata?Qe.__cdata:""}function j(Ae,xe){return Ae.nodeType===f.DOCUMENT_NODE?function G(Ae){for(var xe={},Qe=Ae.childNodes,Ee=0;Ee<Qe.length;Ee++){var be=Qe.item(Ee);if(be.nodeType===f.ELEMENT_NODE){var le=I(be);w.ignoreRoot?xe=j(be,le):xe[le]=j(be,le)}}return xe}(Ae):Ae.nodeType===f.ELEMENT_NODE?R(Ae,xe):Ae.nodeType===f.TEXT_NODE||Ae.nodeType===f.CDATA_SECTION_NODE?Ae.nodeValue:null}function U(Ae,xe,Qe,Ee){var be="<"+(Ae&&Ae.__prefix?Ae.__prefix+":":"")+xe;if(Qe)for(var le=0;le<Qe.length;le++){var Pe=Qe[le],Ie=Ae[Pe];w.escapeMode&&(Ie=P(Ie)),be+=" "+Pe.substr(w.attributePrefix.length)+"=",be+=w.useDoubleQuotes?'"'+Ie+'"':"'"+Ie+"'"}return be+(Ee?" />":">")}function $(Ae,xe){return"</"+(Ae&&Ae.__prefix?Ae.__prefix+":":"")+xe+">"}function se(Ae,xe){return!!("property"===w.arrayAccessForm&&function ne(Ae,xe){return-1!==Ae.indexOf(xe,Ae.length-xe.length)}(xe.toString(),"_asArray")||0===xe.toString().indexOf(w.attributePrefix)||0===xe.toString().indexOf("__")||Ae[xe]instanceof Function)}function L(Ae){var xe=0;if(Ae instanceof Object)for(var Qe in Ae)se(Ae,Qe)||xe++;return xe}function J(Ae){var xe=[];if(Ae instanceof Object)for(var Qe in Ae)-1===Qe.toString().indexOf("__")&&0===Qe.toString().indexOf(w.attributePrefix)&&xe.push(Qe);return xe}function E(Ae){var xe="";return Ae instanceof Object?xe+=function te(Ae){var xe="";return Ae.__cdata&&(xe+="<![CDATA["+Ae.__cdata+"]]>"),(Ae.__text||"number"==typeof Ae.__text||"boolean"==typeof Ae.__text)&&(xe+=w.escapeMode?P(Ae.__text):Ae.__text),xe}(Ae):null!==Ae&&(xe+=w.escapeMode?P(Ae):Ae),xe}function K(Ae,xe,Qe){var Ee="";return w.jsAttributeFilter&&w.jsAttributeFilter.call(null,xe,Ae)||(w.jsAttributeConverter&&(Ae=w.jsAttributeConverter.call(null,xe,Ae)),null!=Ae&&""!==Ae||!w.selfClosingElements?"object"==typeof Ae?"[object Array]"===Object.prototype.toString.call(Ae)?Ee+=function re(Ae,xe,Qe){var Ee="";if(0===Ae.length)Ee+=U(Ae,xe,Qe,!0);else for(var be=0;be<Ae.length;be++)Ee+=K(Ae[be],xe,J(Ae[be]));return Ee}(Ae,xe,Qe):Ae instanceof Date?(Ee+=U(Ae,xe,Qe,!1),Ee+=w.jsDateUTC?Ae.toUTCString():Ae.toISOString(),Ee+=$(Ae,xe)):L(Ae)>0||"number"==typeof Ae.__text||"boolean"==typeof Ae.__text||Ae.__text||Ae.__cdata?(Ee+=U(Ae,xe,Qe,!1),Ee+=me(Ae),Ee+=$(Ae,xe)):w.selfClosingElements?Ee+=U(Ae,xe,Qe,!0):(Ee+=U(Ae,xe,Qe,!1),Ee+=$(Ae,xe)):(Ee+=U(Ae,xe,Qe,!1),Ee+=E(Ae),Ee+=$(Ae,xe)):Ee+=U(Ae,xe,Qe,!0)),Ee}function me(Ae){var xe="";if(L(Ae)>0)for(var Ee in Ae)if(!se(Ae,Ee)){var be=Ae[Ee];xe+=K(be,Ee,J(be))}return xe+E(Ae)}function Ne(Ae){if(void 0===Ae||"string"!=typeof Ae)return null;var xe=null,Qe=null;if(y)Qe=(xe=new y(w.xmldomOptions)).parseFromString(Ae,"text/xml");else if(window&&window.DOMParser){xe=new window.DOMParser;var Ee=null;if(!window.ActiveXObject&&!("ActiveXObject"in window)&&document.all&&!document.addEventListener)try{Ee=xe.parseFromString("INVALID","text/xml").childNodes[0].namespaceURI}catch{Ee=null}try{Qe=xe.parseFromString(Ae,"text/xml"),null!==Ee&&Qe.getElementsByTagNameNS(Ee,"parsererror").length>0&&(Qe=null)}catch{Qe=null}}else 0===Ae.indexOf("<?")&&(Ae=Ae.substr(Ae.indexOf("?>")+2)),(Qe=new ActiveXObject("Microsoft.XMLDOM")).async="false",Qe.loadXML(Ae);return Qe}this.asArray=function(xe){return null==xe?[]:xe instanceof Array?xe:[xe]},this.toXmlDateTime=function(xe){return xe instanceof Date?xe.toISOString():"number"==typeof xe?new Date(xe).toISOString():null},this.asDateTime=function(xe){return"string"==typeof xe?k(xe):xe},this.xml2dom=function(xe){return Ne(xe)},this.dom2js=function(xe){return j(xe,null)},this.js2dom=function(xe){return Ne(this.js2xml(xe))},this.xml2js=function(xe){var Qe=Ne(xe);return null!=Qe?this.dom2js(Qe):null},this.js2xml=function(xe){return me(xe)},this.getVersion=function(){return"3.4.4"}}},void 0!==(e=h.apply(fe,[]))&&(nt.exports=e)}()},310:()=>{},9969:(nt,fe,h)=>{"use strict";h.d(fe,{FX:()=>te,If:()=>i,K2:()=>C,hZ:()=>y,i0:()=>p,iF:()=>m,kY:()=>I,kp:()=>e,sf:()=>L,ui:()=>J,wk:()=>d});var i=function(E){return E[E.State=0]="State",E[E.Transition=1]="Transition",E[E.Sequence=2]="Sequence",E[E.Group=3]="Group",E[E.Animate=4]="Animate",E[E.Keyframes=5]="Keyframes",E[E.Style=6]="Style",E[E.Trigger=7]="Trigger",E[E.Reference=8]="Reference",E[E.AnimateChild=9]="AnimateChild",E[E.AnimateRef=10]="AnimateRef",E[E.Query=11]="Query",E[E.Stagger=12]="Stagger",E}(i||{});const e="*";function y(E,re){return{type:i.Trigger,name:E,definitions:re,options:{}}}function p(E,re=null){return{type:i.Animate,styles:re,timings:E}}function C(E,re=null){return{type:i.Sequence,steps:E,options:re}}function m(E){return{type:i.Style,styles:E,offset:null}}function d(E,re,K){return{type:i.State,name:E,styles:re,options:K}}function I(E,re,K=null){return{type:i.Transition,expr:E,animation:re,options:K}}class L{constructor(re=0,K=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=re+K}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(re=>re()),this._onDoneFns=[])}onStart(re){this._originalOnStartFns.push(re),this._onStartFns.push(re)}onDone(re){this._originalOnDoneFns.push(re),this._onDoneFns.push(re)}onDestroy(re){this._onDestroyFns.push(re)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(re=>re()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(re=>re()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(re){this._position=this.totalTime?re*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(re){const K="start"==re?this._onStartFns:this._onDoneFns;K.forEach(me=>me()),K.length=0}}class J{constructor(re){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=re;let K=0,me=0,Ne=0;const Ae=this.players.length;0==Ae?queueMicrotask(()=>this._onFinish()):this.players.forEach(xe=>{xe.onDone(()=>{++K==Ae&&this._onFinish()}),xe.onDestroy(()=>{++me==Ae&&this._onDestroy()}),xe.onStart(()=>{++Ne==Ae&&this._onStart()})}),this.totalTime=this.players.reduce((xe,Qe)=>Math.max(xe,Qe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(re=>re()),this._onDoneFns=[])}init(){this.players.forEach(re=>re.init())}onStart(re){this._onStartFns.push(re)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(re=>re()),this._onStartFns=[])}onDone(re){this._onDoneFns.push(re)}onDestroy(re){this._onDestroyFns.push(re)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(re=>re.play())}pause(){this.players.forEach(re=>re.pause())}restart(){this.players.forEach(re=>re.restart())}finish(){this._onFinish(),this.players.forEach(re=>re.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(re=>re.destroy()),this._onDestroyFns.forEach(re=>re()),this._onDestroyFns=[])}reset(){this.players.forEach(re=>re.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(re){const K=re*this.totalTime;this.players.forEach(me=>{const Ne=me.totalTime?Math.min(1,K/me.totalTime):1;me.setPosition(Ne)})}getPosition(){const re=this.players.reduce((K,me)=>null===K||me.totalTime>K.totalTime?me:K,null);return null!=re?re.getPosition():0}beforeDestroy(){this.players.forEach(re=>{re.beforeDestroy&&re.beforeDestroy()})}triggerCallback(re){const K="start"==re?this._onStartFns:this._onDoneFns;K.forEach(me=>me()),K.length=0}}const te="!"},177:(nt,fe,h)=>{"use strict";h.d(fe,{AJ:()=>is,MD:()=>kr,N0:()=>Qo,P9:()=>Wr,Pc:()=>Ls,QT:()=>y,QX:()=>xr,Sm:()=>N,Sq:()=>ut,T3:()=>li,UE:()=>_r,VF:()=>w,Vy:()=>rs,XO:()=>xe,Xr:()=>vo,YU:()=>ct,Yq:()=>je,ZD:()=>p,_b:()=>At,aZ:()=>R,bT:()=>ye,cH:()=>E,fw:()=>G,hb:()=>M,hj:()=>f,lG:()=>Sr,oV:()=>te,qQ:()=>m,tL:()=>Qe});var i=h(4438);let e=null;function y(){return e}function p(ee){e??=ee}class w{}const m=new i.nKC("");let d=(()=>{class ee{historyGo(ue){throw new Error("")}static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275prov=i.jDH({token:ee,factory:()=>(0,i.WQX)(I),providedIn:"platform"})}}return ee})();const f=new i.nKC("");let I=(()=>{class ee extends d{constructor(){super(),this._doc=(0,i.WQX)(m),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return y().getBaseHref(this._doc)}onPopState(ue){const Fe=y().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("popstate",ue,!1),()=>Fe.removeEventListener("popstate",ue)}onHashChange(ue){const Fe=y().getGlobalEventTarget(this._doc,"window");return Fe.addEventListener("hashchange",ue,!1),()=>Fe.removeEventListener("hashchange",ue)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(ue){this._location.pathname=ue}pushState(ue,Fe,Rt){this._history.pushState(ue,Fe,Rt)}replaceState(ue,Fe,Rt){this._history.replaceState(ue,Fe,Rt)}forward(){this._history.forward()}back(){this._history.back()}historyGo(ue=0){this._history.go(ue)}getState(){return this._history.state}static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275prov=i.jDH({token:ee,factory:()=>new ee,providedIn:"platform"})}}return ee})();function O(ee,We){if(0==ee.length)return We;if(0==We.length)return ee;let ue=0;return ee.endsWith("/")&&ue++,We.startsWith("/")&&ue++,2==ue?ee+We.substring(1):1==ue?ee+We:ee+"/"+We}function P(ee){const We=ee.match(/#|\?|$/),ue=We&&We.index||ee.length;return ee.slice(0,ue-("/"===ee[ue-1]?1:0))+ee.slice(ue)}function b(ee){return ee&&"?"!==ee[0]?"?"+ee:ee}let M=(()=>{class ee{historyGo(ue){throw new Error("")}static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275prov=i.jDH({token:ee,factory:()=>(0,i.WQX)(N),providedIn:"root"})}}return ee})();const k=new i.nKC("");let N=(()=>{class ee extends M{constructor(ue,Fe){super(),this._platformLocation=ue,this._removeListenerFns=[],this._baseHref=Fe??this._platformLocation.getBaseHrefFromDOM()??(0,i.WQX)(m).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ue){this._removeListenerFns.push(this._platformLocation.onPopState(ue),this._platformLocation.onHashChange(ue))}getBaseHref(){return this._baseHref}prepareExternalUrl(ue){return O(this._baseHref,ue)}path(ue=!1){const Fe=this._platformLocation.pathname+b(this._platformLocation.search),Rt=this._platformLocation.hash;return Rt&&ue?`${Fe}${Rt}`:Fe}pushState(ue,Fe,Rt,mn){const En=this.prepareExternalUrl(Rt+b(mn));this._platformLocation.pushState(ue,Fe,En)}replaceState(ue,Fe,Rt,mn){const En=this.prepareExternalUrl(Rt+b(mn));this._platformLocation.replaceState(ue,Fe,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ue=0){this._platformLocation.historyGo?.(ue)}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.KVO(d),i.KVO(k,8))}}static{this.\u0275prov=i.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})}}return ee})(),G=(()=>{class ee extends M{constructor(ue,Fe){super(),this._platformLocation=ue,this._baseHref="",this._removeListenerFns=[],null!=Fe&&(this._baseHref=Fe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(ue){this._removeListenerFns.push(this._platformLocation.onPopState(ue),this._platformLocation.onHashChange(ue))}getBaseHref(){return this._baseHref}path(ue=!1){const Fe=this._platformLocation.hash??"#";return Fe.length>0?Fe.substring(1):Fe}prepareExternalUrl(ue){const Fe=O(this._baseHref,ue);return Fe.length>0?"#"+Fe:Fe}pushState(ue,Fe,Rt,mn){let En=this.prepareExternalUrl(Rt+b(mn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.pushState(ue,Fe,En)}replaceState(ue,Fe,Rt,mn){let En=this.prepareExternalUrl(Rt+b(mn));0==En.length&&(En=this._platformLocation.pathname),this._platformLocation.replaceState(ue,Fe,En)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(ue=0){this._platformLocation.historyGo?.(ue)}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.KVO(d),i.KVO(k,8))}}static{this.\u0275prov=i.jDH({token:ee,factory:ee.\u0275fac})}}return ee})(),R=(()=>{class ee{constructor(ue){this._subject=new i.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=ue;const Fe=this._locationStrategy.getBaseHref();this._basePath=function ne(ee){if(new RegExp("^(https?:)?//").test(ee)){const[,ue]=ee.split(/\/\/[^\/]+/);return ue}return ee}(P($(Fe))),this._locationStrategy.onPopState(Rt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Rt.state,type:Rt.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(ue=!1){return this.normalize(this._locationStrategy.path(ue))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(ue,Fe=""){return this.path()==this.normalize(ue+b(Fe))}normalize(ue){return ee.stripTrailingSlash(function U(ee,We){if(!ee||!We.startsWith(ee))return We;const ue=We.substring(ee.length);return""===ue||["/",";","?","#"].includes(ue[0])?ue:We}(this._basePath,$(ue)))}prepareExternalUrl(ue){return ue&&"/"!==ue[0]&&(ue="/"+ue),this._locationStrategy.prepareExternalUrl(ue)}go(ue,Fe="",Rt=null){this._locationStrategy.pushState(Rt,"",ue,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ue+b(Fe)),Rt)}replaceState(ue,Fe="",Rt=null){this._locationStrategy.replaceState(Rt,"",ue,Fe),this._notifyUrlChangeListeners(this.prepareExternalUrl(ue+b(Fe)),Rt)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(ue=0){this._locationStrategy.historyGo?.(ue)}onUrlChange(ue){return this._urlChangeListeners.push(ue),this._urlChangeSubscription??=this.subscribe(Fe=>{this._notifyUrlChangeListeners(Fe.url,Fe.state)}),()=>{const Fe=this._urlChangeListeners.indexOf(ue);this._urlChangeListeners.splice(Fe,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(ue="",Fe){this._urlChangeListeners.forEach(Rt=>Rt(ue,Fe))}subscribe(ue,Fe,Rt){return this._subject.subscribe({next:ue,error:Fe,complete:Rt})}static{this.normalizeQueryParams=b}static{this.joinWithSlash=O}static{this.stripTrailingSlash=P}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.KVO(M))}}static{this.\u0275prov=i.jDH({token:ee,factory:()=>function j(){return new R((0,i.KVO)(M))}(),providedIn:"root"})}}return ee})();function $(ee){return ee.replace(/\/index.html$/,"")}var L=function(ee){return ee[ee.Decimal=0]="Decimal",ee[ee.Percent=1]="Percent",ee[ee.Currency=2]="Currency",ee[ee.Scientific=3]="Scientific",ee}(L||{}),te=function(ee){return ee[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee}(te||{}),E=function(ee){return ee[ee.Narrow=0]="Narrow",ee[ee.Abbreviated=1]="Abbreviated",ee[ee.Wide=2]="Wide",ee[ee.Short=3]="Short",ee}(E||{}),re=function(ee){return ee[ee.Short=0]="Short",ee[ee.Medium=1]="Medium",ee[ee.Long=2]="Long",ee[ee.Full=3]="Full",ee}(re||{});const K={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function xe(ee,We,ue){const Fe=(0,i.H5H)(ee),mn=we([Fe[i.KH2.DaysFormat],Fe[i.KH2.DaysStandalone]],We);return we(mn,ue)}function Qe(ee,We,ue){const Fe=(0,i.H5H)(ee),mn=we([Fe[i.KH2.MonthsFormat],Fe[i.KH2.MonthsStandalone]],We);return we(mn,ue)}function Pe(ee,We){return we((0,i.H5H)(ee)[i.KH2.DateFormat],We)}function Ie(ee,We){return we((0,i.H5H)(ee)[i.KH2.TimeFormat],We)}function st(ee,We){return we((0,i.H5H)(ee)[i.KH2.DateTimeFormat],We)}function Oe(ee,We){const ue=(0,i.H5H)(ee),Fe=ue[i.KH2.NumberSymbols][We];if(typeof Fe>"u"){if(We===K.CurrencyDecimal)return ue[i.KH2.NumberSymbols][K.Decimal];if(We===K.CurrencyGroup)return ue[i.KH2.NumberSymbols][K.Group]}return Fe}function z(ee){if(!ee[i.KH2.ExtraData])throw new Error(`Missing extra locale data for the locale "${ee[i.KH2.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function we(ee,We){for(let ue=We;ue>-1;ue--)if(typeof ee[ue]<"u")return ee[ue];throw new Error("Locale data API: locale data undefined")}function at(ee){const[We,ue]=ee.split(":");return{hours:+We,minutes:+ue}}const mt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,it={},Kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var on=function(ee){return ee[ee.Short=0]="Short",ee[ee.ShortGMT=1]="ShortGMT",ee[ee.Long=2]="Long",ee[ee.Extended=3]="Extended",ee}(on||{}),Pt=function(ee){return ee[ee.FullYear=0]="FullYear",ee[ee.Month=1]="Month",ee[ee.Date=2]="Date",ee[ee.Hours=3]="Hours",ee[ee.Minutes=4]="Minutes",ee[ee.Seconds=5]="Seconds",ee[ee.FractionalSeconds=6]="FractionalSeconds",ee[ee.Day=7]="Day",ee}(Pt||{}),Jt=function(ee){return ee[ee.DayPeriods=0]="DayPeriods",ee[ee.Days=1]="Days",ee[ee.Months=2]="Months",ee[ee.Eras=3]="Eras",ee}(Jt||{});function je(ee,We,ue,Fe){let Rt=function Un(ee){if(hi(ee))return ee;if("number"==typeof ee&&!isNaN(ee))return new Date(ee);if("string"==typeof ee){if(ee=ee.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(ee)){const[Rt,mn=1,En=1]=ee.split("-").map(ti=>+ti);return ce(Rt,mn-1,En)}const ue=parseFloat(ee);if(!isNaN(ee-ue))return new Date(ue);let Fe;if(Fe=ee.match(mt))return function fn(ee){const We=new Date(0);let ue=0,Fe=0;const Rt=ee[8]?We.setUTCFullYear:We.setFullYear,mn=ee[8]?We.setUTCHours:We.setHours;ee[9]&&(ue=Number(ee[9]+ee[10]),Fe=Number(ee[9]+ee[11])),Rt.call(We,Number(ee[1]),Number(ee[2])-1,Number(ee[3]));const En=Number(ee[4]||0)-ue,ti=Number(ee[5]||0)-Fe,fr=Number(ee[6]||0),or=Math.floor(1e3*parseFloat("0."+(ee[7]||0)));return mn.call(We,En,ti,fr,or),We}(Fe)}const We=new Date(ee);if(!hi(We))throw new Error(`Unable to convert "${ee}" into a date`);return We}(ee);We=X(ue,We)||We;let ti,En=[];for(;We;){if(ti=Kt.exec(We),!ti){En.push(We);break}{En=En.concat(ti.slice(1));const Yi=En.pop();if(!Yi)break;We=Yi}}let fr=Rt.getTimezoneOffset();Fe&&(fr=Ot(Fe,fr),Rt=function In(ee,We,ue){const Fe=ue?-1:1,Rt=ee.getTimezoneOffset();return function tn(ee,We){return(ee=new Date(ee.getTime())).setMinutes(ee.getMinutes()+We),ee}(ee,Fe*(Ot(We,Rt)-Rt))}(Rt,Fe,!0));let or="";return En.forEach(Yi=>{const Vi=function yt(ee){if(Ct[ee])return Ct[ee];let We;switch(ee){case"G":case"GG":case"GGG":We=cn(Jt.Eras,E.Abbreviated);break;case"GGGG":We=cn(Jt.Eras,E.Wide);break;case"GGGGG":We=cn(Jt.Eras,E.Narrow);break;case"y":We=gt(Pt.FullYear,1,0,!1,!0);break;case"yy":We=gt(Pt.FullYear,2,0,!0,!0);break;case"yyy":We=gt(Pt.FullYear,3,0,!1,!0);break;case"yyyy":We=gt(Pt.FullYear,4,0,!1,!0);break;case"Y":We=lt(1);break;case"YY":We=lt(2,!0);break;case"YYY":We=lt(3);break;case"YYYY":We=lt(4);break;case"M":case"L":We=gt(Pt.Month,1,1);break;case"MM":case"LL":We=gt(Pt.Month,2,1);break;case"MMM":We=cn(Jt.Months,E.Abbreviated);break;case"MMMM":We=cn(Jt.Months,E.Wide);break;case"MMMMM":We=cn(Jt.Months,E.Narrow);break;case"LLL":We=cn(Jt.Months,E.Abbreviated,te.Standalone);break;case"LLLL":We=cn(Jt.Months,E.Wide,te.Standalone);break;case"LLLLL":We=cn(Jt.Months,E.Narrow,te.Standalone);break;case"w":We=Ht(1);break;case"ww":We=Ht(2);break;case"W":We=Ht(1,!0);break;case"d":We=gt(Pt.Date,1);break;case"dd":We=gt(Pt.Date,2);break;case"c":case"cc":We=gt(Pt.Day,1);break;case"ccc":We=cn(Jt.Days,E.Abbreviated,te.Standalone);break;case"cccc":We=cn(Jt.Days,E.Wide,te.Standalone);break;case"ccccc":We=cn(Jt.Days,E.Narrow,te.Standalone);break;case"cccccc":We=cn(Jt.Days,E.Short,te.Standalone);break;case"E":case"EE":case"EEE":We=cn(Jt.Days,E.Abbreviated);break;case"EEEE":We=cn(Jt.Days,E.Wide);break;case"EEEEE":We=cn(Jt.Days,E.Narrow);break;case"EEEEEE":We=cn(Jt.Days,E.Short);break;case"a":case"aa":case"aaa":We=cn(Jt.DayPeriods,E.Abbreviated);break;case"aaaa":We=cn(Jt.DayPeriods,E.Wide);break;case"aaaaa":We=cn(Jt.DayPeriods,E.Narrow);break;case"b":case"bb":case"bbb":We=cn(Jt.DayPeriods,E.Abbreviated,te.Standalone,!0);break;case"bbbb":We=cn(Jt.DayPeriods,E.Wide,te.Standalone,!0);break;case"bbbbb":We=cn(Jt.DayPeriods,E.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":We=cn(Jt.DayPeriods,E.Abbreviated,te.Format,!0);break;case"BBBB":We=cn(Jt.DayPeriods,E.Wide,te.Format,!0);break;case"BBBBB":We=cn(Jt.DayPeriods,E.Narrow,te.Format,!0);break;case"h":We=gt(Pt.Hours,1,-12);break;case"hh":We=gt(Pt.Hours,2,-12);break;case"H":We=gt(Pt.Hours,1);break;case"HH":We=gt(Pt.Hours,2);break;case"m":We=gt(Pt.Minutes,1);break;case"mm":We=gt(Pt.Minutes,2);break;case"s":We=gt(Pt.Seconds,1);break;case"ss":We=gt(Pt.Seconds,2);break;case"S":We=gt(Pt.FractionalSeconds,1);break;case"SS":We=gt(Pt.FractionalSeconds,2);break;case"SSS":We=gt(Pt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":We=Mn(on.Short);break;case"ZZZZZ":We=Mn(on.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":We=Mn(on.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":We=Mn(on.Long);break;default:return null}return Ct[ee]=We,We}(Yi);or+=Vi?Vi(Rt,ue,fr):"''"===Yi?"'":Yi.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),or}function ce(ee,We,ue){const Fe=new Date(0);return Fe.setFullYear(ee,We,ue),Fe.setHours(0,0,0),Fe}function X(ee,We){const ue=function Ne(ee){return(0,i.H5H)(ee)[i.KH2.LocaleId]}(ee);if(it[ue]??={},it[ue][We])return it[ue][We];let Fe="";switch(We){case"shortDate":Fe=Pe(ee,re.Short);break;case"mediumDate":Fe=Pe(ee,re.Medium);break;case"longDate":Fe=Pe(ee,re.Long);break;case"fullDate":Fe=Pe(ee,re.Full);break;case"shortTime":Fe=Ie(ee,re.Short);break;case"mediumTime":Fe=Ie(ee,re.Medium);break;case"longTime":Fe=Ie(ee,re.Long);break;case"fullTime":Fe=Ie(ee,re.Full);break;case"short":const Rt=X(ee,"shortTime"),mn=X(ee,"shortDate");Fe=oe(st(ee,re.Short),[Rt,mn]);break;case"medium":const En=X(ee,"mediumTime"),ti=X(ee,"mediumDate");Fe=oe(st(ee,re.Medium),[En,ti]);break;case"long":const fr=X(ee,"longTime"),or=X(ee,"longDate");Fe=oe(st(ee,re.Long),[fr,or]);break;case"full":const Yi=X(ee,"fullTime"),Vi=X(ee,"fullDate");Fe=oe(st(ee,re.Full),[Yi,Vi])}return Fe&&(it[ue][We]=Fe),Fe}function oe(ee,We){return We&&(ee=ee.replace(/\{([^}]+)}/g,function(ue,Fe){return null!=We&&Fe in We?We[Fe]:ue})),ee}function Ve(ee,We,ue="-",Fe,Rt){let mn="";(ee<0||Rt&&ee<=0)&&(Rt?ee=1-ee:(ee=-ee,mn=ue));let En=String(ee);for(;En.length<We;)En="0"+En;return Fe&&(En=En.slice(En.length-We)),mn+En}function gt(ee,We,ue=0,Fe=!1,Rt=!1){return function(mn,En){let ti=function Bt(ee,We){switch(ee){case Pt.FullYear:return We.getFullYear();case Pt.Month:return We.getMonth();case Pt.Date:return We.getDate();case Pt.Hours:return We.getHours();case Pt.Minutes:return We.getMinutes();case Pt.Seconds:return We.getSeconds();case Pt.FractionalSeconds:return We.getMilliseconds();case Pt.Day:return We.getDay();default:throw new Error(`Unknown DateType value "${ee}".`)}}(ee,mn);if((ue>0||ti>-ue)&&(ti+=ue),ee===Pt.Hours)0===ti&&-12===ue&&(ti=12);else if(ee===Pt.FractionalSeconds)return function tt(ee,We){return Ve(ee,3).substring(0,We)}(ti,We);const fr=Oe(En,K.MinusSign);return Ve(ti,We,fr,Fe,Rt)}}function cn(ee,We,ue=te.Format,Fe=!1){return function(Rt,mn){return function hn(ee,We,ue,Fe,Rt,mn){switch(ue){case Jt.Months:return Qe(We,Rt,Fe)[ee.getMonth()];case Jt.Days:return xe(We,Rt,Fe)[ee.getDay()];case Jt.DayPeriods:const En=ee.getHours(),ti=ee.getMinutes();if(mn){const or=function Y(ee){const We=(0,i.H5H)(ee);return z(We),(We[i.KH2.ExtraData][2]||[]).map(Fe=>"string"==typeof Fe?at(Fe):[at(Fe[0]),at(Fe[1])])}(We),Yi=function Z(ee,We,ue){const Fe=(0,i.H5H)(ee);z(Fe);const mn=we([Fe[i.KH2.ExtraData][0],Fe[i.KH2.ExtraData][1]],We)||[];return we(mn,ue)||[]}(We,Rt,Fe),Vi=or.findIndex(si=>{if(Array.isArray(si)){const[Xi,ur]=si,pe=En>=Xi.hours&&ti>=Xi.minutes,F=En<ur.hours||En===ur.hours&&ti<ur.minutes;if(Xi.hours<ur.hours){if(pe&&F)return!0}else if(pe||F)return!0}else if(si.hours===En&&si.minutes===ti)return!0;return!1});if(-1!==Vi)return Yi[Vi]}return function Ae(ee,We,ue){const Fe=(0,i.H5H)(ee),mn=we([Fe[i.KH2.DayPeriodsFormat],Fe[i.KH2.DayPeriodsStandalone]],We);return we(mn,ue)}(We,Rt,Fe)[En<12?0:1];case Jt.Eras:return function Ee(ee,We){return we((0,i.H5H)(ee)[i.KH2.Eras],We)}(We,Fe)[ee.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${ue}`)}}(Rt,mn,ee,We,ue,Fe)}}function Mn(ee){return function(We,ue,Fe){const Rt=-1*Fe,mn=Oe(ue,K.MinusSign),En=Rt>0?Math.floor(Rt/60):Math.ceil(Rt/60);switch(ee){case on.Short:return(Rt>=0?"+":"")+Ve(En,2,mn)+Ve(Math.abs(Rt%60),2,mn);case on.ShortGMT:return"GMT"+(Rt>=0?"+":"")+Ve(En,1,mn);case on.Long:return"GMT"+(Rt>=0?"+":"")+Ve(En,2,mn)+":"+Ve(Math.abs(Rt%60),2,mn);case on.Extended:return 0===Fe?"Z":(Rt>=0?"+":"")+Ve(En,2,mn)+":"+Ve(Math.abs(Rt%60),2,mn);default:throw new Error(`Unknown zone width "${ee}"`)}}}const kn=0,Bn=4;function Rn(ee){const We=ee.getDay(),ue=0===We?-3:Bn-We;return ce(ee.getFullYear(),ee.getMonth(),ee.getDate()+ue)}function Ht(ee,We=!1){return function(ue,Fe){let Rt;if(We){const mn=new Date(ue.getFullYear(),ue.getMonth(),1).getDay()-1,En=ue.getDate();Rt=1+Math.floor((En+mn)/7)}else{const mn=Rn(ue),En=function It(ee){const We=ce(ee,kn,1).getDay();return ce(ee,0,1+(We<=Bn?Bn:Bn+7)-We)}(mn.getFullYear()),ti=mn.getTime()-En.getTime();Rt=1+Math.round(ti/6048e5)}return Ve(Rt,ee,Oe(Fe,K.MinusSign))}}function lt(ee,We=!1){return function(ue,Fe){return Ve(Rn(ue).getFullYear(),ee,Oe(Fe,K.MinusSign),We)}}const Ct={};function Ot(ee,We){ee=ee.replace(/:/g,"");const ue=Date.parse("Jan 01, 1970 00:00:00 "+ee)/6e4;return isNaN(ue)?We:ue}function hi(ee){return ee instanceof Date&&!isNaN(ee.valueOf())}const Hn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function gi(ee){const We=parseInt(ee);if(isNaN(We))throw new Error("Invalid integer literal when parsing "+ee);return We}function At(ee,We){We=encodeURIComponent(We);for(const ue of ee.split(";")){const Fe=ue.indexOf("="),[Rt,mn]=-1==Fe?[ue,""]:[ue.slice(0,Fe),ue.slice(Fe+1)];if(Rt.trim()===We)return decodeURIComponent(mn)}return null}const Ke=/\s+/,zt=[];let ct=(()=>{class ee{constructor(ue,Fe){this._ngEl=ue,this._renderer=Fe,this.initialClasses=zt,this.stateMap=new Map}set klass(ue){this.initialClasses=null!=ue?ue.trim().split(Ke):zt}set ngClass(ue){this.rawClass="string"==typeof ue?ue.trim().split(Ke):ue}ngDoCheck(){for(const Fe of this.initialClasses)this._updateState(Fe,!0);const ue=this.rawClass;if(Array.isArray(ue)||ue instanceof Set)for(const Fe of ue)this._updateState(Fe,!0);else if(null!=ue)for(const Fe of Object.keys(ue))this._updateState(Fe,!!ue[Fe]);this._applyStateDiff()}_updateState(ue,Fe){const Rt=this.stateMap.get(ue);void 0!==Rt?(Rt.enabled!==Fe&&(Rt.changed=!0,Rt.enabled=Fe),Rt.touched=!0):this.stateMap.set(ue,{enabled:Fe,changed:!0,touched:!0})}_applyStateDiff(){for(const ue of this.stateMap){const Fe=ue[0],Rt=ue[1];Rt.changed?(this._toggleClass(Fe,Rt.enabled),Rt.changed=!1):Rt.touched||(Rt.enabled&&this._toggleClass(Fe,!1),this.stateMap.delete(Fe)),Rt.touched=!1}}_toggleClass(ue,Fe){(ue=ue.trim()).length>0&&ue.split(Ke).forEach(Rt=>{Fe?this._renderer.addClass(this._ngEl.nativeElement,Rt):this._renderer.removeClass(this._ngEl.nativeElement,Rt)})}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275dir=i.FsC({type:ee,selectors:[["","ngClass",""]],inputs:{klass:[i.Mj6.None,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return ee})();class Zt{constructor(We,ue,Fe,Rt){this.$implicit=We,this.ngForOf=ue,this.index=Fe,this.count=Rt}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ut=(()=>{class ee{set ngForOf(ue){this._ngForOf=ue,this._ngForOfDirty=!0}set ngForTrackBy(ue){this._trackByFn=ue}get ngForTrackBy(){return this._trackByFn}constructor(ue,Fe,Rt){this._viewContainer=ue,this._template=Fe,this._differs=Rt,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(ue){ue&&(this._template=ue)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const ue=this._ngForOf;!this._differ&&ue&&(this._differ=this._differs.find(ue).create(this.ngForTrackBy))}if(this._differ){const ue=this._differ.diff(this._ngForOf);ue&&this._applyChanges(ue)}}_applyChanges(ue){const Fe=this._viewContainer;ue.forEachOperation((Rt,mn,En)=>{if(null==Rt.previousIndex)Fe.createEmbeddedView(this._template,new Zt(Rt.item,this._ngForOf,-1,-1),null===En?void 0:En);else if(null==En)Fe.remove(null===mn?void 0:mn);else if(null!==mn){const ti=Fe.get(mn);Fe.move(ti,En),_e(ti,Rt)}});for(let Rt=0,mn=Fe.length;Rt<mn;Rt++){const ti=Fe.get(Rt).context;ti.index=Rt,ti.count=mn,ti.ngForOf=this._ngForOf}ue.forEachIdentityChange(Rt=>{_e(Fe.get(Rt.currentIndex),Rt)})}static ngTemplateContextGuard(ue,Fe){return!0}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.c1b),i.rXU(i.C4Q),i.rXU(i._q3))}}static{this.\u0275dir=i.FsC({type:ee,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return ee})();function _e(ee,We){ee.context.$implicit=We.item}let ye=(()=>{class ee{constructor(ue,Fe){this._viewContainer=ue,this._context=new ft,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Fe}set ngIf(ue){this._context.$implicit=this._context.ngIf=ue,this._updateView()}set ngIfThen(ue){ze("ngIfThen",ue),this._thenTemplateRef=ue,this._thenViewRef=null,this._updateView()}set ngIfElse(ue){ze("ngIfElse",ue),this._elseTemplateRef=ue,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(ue,Fe){return!0}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.c1b),i.rXU(i.C4Q))}}static{this.\u0275dir=i.FsC({type:ee,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return ee})();class ft{constructor(){this.$implicit=null,this.ngIf=null}}function ze(ee,We){if(We&&!We.createEmbeddedView)throw new Error(`${ee} must be a TemplateRef, but received '${(0,i.Tbb)(We)}'.`)}let li=(()=>{class ee{constructor(ue){this._viewContainerRef=ue,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(ue){if(this._shouldRecreateView(ue)){const Fe=this._viewContainerRef;if(this._viewRef&&Fe.remove(Fe.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Rt=this._createContextForwardProxy();this._viewRef=Fe.createEmbeddedView(this.ngTemplateOutlet,Rt,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(ue){return!!ue.ngTemplateOutlet||!!ue.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(ue,Fe,Rt)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,Fe,Rt),get:(ue,Fe,Rt)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,Fe,Rt)}})}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:ee,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[i.OA$]})}}return ee})();function xi(ee,We){return new i.wOt(2100,!1)}let Ls=(()=>{class ee{transform(ue){if(null==ue)return null;if("string"!=typeof ue)throw xi();return ue.toUpperCase()}static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275pipe=i.EJ8({name:"uppercase",type:ee,pure:!0,standalone:!0})}}return ee})(),Sr=(()=>{class ee{constructor(ue){this.differs=ue,this.keyValues=[],this.compareFn=Er}transform(ue,Fe=Er){if(!ue||!(ue instanceof Map)&&"object"!=typeof ue)return null;this.differ??=this.differs.find(ue).create();const Rt=this.differ.diff(ue),mn=Fe!==this.compareFn;return Rt&&(this.keyValues=[],Rt.forEachItem(En=>{this.keyValues.push(function mr(ee,We){return{key:ee,value:We}}(En.key,En.currentValue))})),(Rt||mn)&&(this.keyValues.sort(Fe),this.compareFn=Fe),this.keyValues}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.MKu,16))}}static{this.\u0275pipe=i.EJ8({name:"keyvalue",type:ee,pure:!1,standalone:!0})}}return ee})();function Er(ee,We){const ue=ee.key,Fe=We.key;if(ue===Fe)return 0;if(void 0===ue)return 1;if(void 0===Fe)return-1;if(null===ue)return 1;if(null===Fe)return-1;if("string"==typeof ue&&"string"==typeof Fe)return ue<Fe?-1:1;if("number"==typeof ue&&"number"==typeof Fe)return ue-Fe;if("boolean"==typeof ue&&"boolean"==typeof Fe)return ue<Fe?-1:1;const Rt=String(ue),mn=String(Fe);return Rt==mn?0:Rt<mn?-1:1}let xr=(()=>{class ee{constructor(ue){this._locale=ue}transform(ue,Fe,Rt){if(!function tr(ee){return!(null==ee||""===ee||ee!=ee)}(ue))return null;Rt||=this._locale;try{return function mi(ee,We,ue){return function An(ee,We,ue,Fe,Rt,mn,En=!1){let ti="",fr=!1;if(isFinite(ee)){let or=function Qn(ee){let Fe,Rt,mn,En,ti,We=Math.abs(ee)+"",ue=0;for((Rt=We.indexOf("."))>-1&&(We=We.replace(".","")),(mn=We.search(/e/i))>0?(Rt<0&&(Rt=mn),Rt+=+We.slice(mn+1),We=We.substring(0,mn)):Rt<0&&(Rt=We.length),mn=0;"0"===We.charAt(mn);mn++);if(mn===(ti=We.length))Fe=[0],Rt=1;else{for(ti--;"0"===We.charAt(ti);)ti--;for(Rt-=mn,Fe=[],En=0;mn<=ti;mn++,En++)Fe[En]=Number(We.charAt(mn))}return Rt>22&&(Fe=Fe.splice(0,21),ue=Rt-1,Rt=1),{digits:Fe,exponent:ue,integerLen:Rt}}(ee);En&&(or=function Pi(ee){if(0===ee.digits[0])return ee;const We=ee.digits.length-ee.integerLen;return ee.exponent?ee.exponent+=2:(0===We?ee.digits.push(0,0):1===We&&ee.digits.push(0),ee.integerLen+=2),ee}(or));let Yi=We.minInt,Vi=We.minFrac,si=We.maxFrac;if(mn){const Me=mn.match(Hn);if(null===Me)throw new Error(`${mn} is not a valid digit info`);const rt=Me[1],Nt=Me[3],Vt=Me[5];null!=rt&&(Yi=gi(rt)),null!=Nt&&(Vi=gi(Nt)),null!=Vt?si=gi(Vt):null!=Nt&&Vi>si&&(si=Vi)}!function Ti(ee,We,ue){if(We>ue)throw new Error(`The minimum number of digits after fraction (${We}) is higher than the maximum (${ue}).`);let Fe=ee.digits,Rt=Fe.length-ee.integerLen;const mn=Math.min(Math.max(We,Rt),ue);let En=mn+ee.integerLen,ti=Fe[En];if(En>0){Fe.splice(Math.max(ee.integerLen,En));for(let Vi=En;Vi<Fe.length;Vi++)Fe[Vi]=0}else{Rt=Math.max(0,Rt),ee.integerLen=1,Fe.length=Math.max(1,En=mn+1),Fe[0]=0;for(let Vi=1;Vi<En;Vi++)Fe[Vi]=0}if(ti>=5)if(En-1<0){for(let Vi=0;Vi>En;Vi--)Fe.unshift(0),ee.integerLen++;Fe.unshift(1),ee.integerLen++}else Fe[En-1]++;for(;Rt<Math.max(0,mn);Rt++)Fe.push(0);let fr=0!==mn;const or=We+ee.integerLen,Yi=Fe.reduceRight(function(Vi,si,Xi,ur){return ur[Xi]=(si+=Vi)<10?si:si-10,fr&&(0===ur[Xi]&&Xi>=or?ur.pop():fr=!1),si>=10?1:0},0);Yi&&(Fe.unshift(Yi),ee.integerLen++)}(or,Vi,si);let Xi=or.digits,ur=or.integerLen;const pe=or.exponent;let F=[];for(fr=Xi.every(Me=>!Me);ur<Yi;ur++)Xi.unshift(0);for(;ur<0;ur++)Xi.unshift(0);ur>0?F=Xi.splice(ur,Xi.length):(F=Xi,Xi=[0]);const de=[];for(Xi.length>=We.lgSize&&de.unshift(Xi.splice(-We.lgSize,Xi.length).join(""));Xi.length>We.gSize;)de.unshift(Xi.splice(-We.gSize,Xi.length).join(""));Xi.length&&de.unshift(Xi.join("")),ti=de.join(Oe(ue,Fe)),F.length&&(ti+=Oe(ue,Rt)+F.join("")),pe&&(ti+=Oe(ue,K.Exponential)+"+"+pe)}else ti=Oe(ue,K.Infinity);return ti=ee<0&&!fr?We.negPre+ti+We.negSuf:We.posPre+ti+We.posSuf,ti}(ee,function ii(ee,We="-"){const ue={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Fe=ee.split(";"),Rt=Fe[0],mn=Fe[1],En=-1!==Rt.indexOf(".")?Rt.split("."):[Rt.substring(0,Rt.lastIndexOf("0")+1),Rt.substring(Rt.lastIndexOf("0")+1)],ti=En[0],fr=En[1]||"";ue.posPre=ti.substring(0,ti.indexOf("#"));for(let Yi=0;Yi<fr.length;Yi++){const Vi=fr.charAt(Yi);"0"===Vi?ue.minFrac=ue.maxFrac=Yi+1:"#"===Vi?ue.maxFrac=Yi+1:ue.posSuf+=Vi}const or=ti.split(",");if(ue.gSize=or[1]?or[1].length:0,ue.lgSize=or[2]||or[1]?(or[2]||or[1]).length:0,mn){const Yi=Rt.length-ue.posPre.length-ue.posSuf.length,Vi=mn.indexOf("#");ue.negPre=mn.substring(0,Vi).replace(/'/g,""),ue.negSuf=mn.slice(Vi+Yi).replace(/'/g,"")}else ue.negPre=We+ue.posPre,ue.negSuf=ue.posSuf;return ue}(function pt(ee,We){return(0,i.H5H)(ee)[i.KH2.NumberFormats][We]}(We,L.Decimal),Oe(We,K.MinusSign)),We,K.Group,K.Decimal,ue)}(function Kn(ee){if("string"==typeof ee&&!isNaN(Number(ee)-parseFloat(ee)))return Number(ee);if("number"!=typeof ee)throw new Error(`${ee} is not a number`);return ee}(ue),Rt,Fe)}catch(mn){throw xi()}}static{this.\u0275fac=function(Fe){return new(Fe||ee)(i.rXU(i.xe9,16))}}static{this.\u0275pipe=i.EJ8({name:"number",type:ee,pure:!0,standalone:!0})}}return ee})();let Wr=(()=>{class ee{transform(ue,Fe,Rt){if(null==ue)return null;if(!this.supports(ue))throw xi();return ue.slice(Fe,Rt)}supports(ue){return"string"==typeof ue||Array.isArray(ue)}static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275pipe=i.EJ8({name:"slice",type:ee,pure:!1,standalone:!0})}}return ee})(),kr=(()=>{class ee{static{this.\u0275fac=function(Fe){return new(Fe||ee)}}static{this.\u0275mod=i.$C({type:ee})}static{this.\u0275inj=i.G2t({})}}return ee})();const is="browser",so="server";function _r(ee){return ee===is}function rs(ee){return ee===so}let vo=(()=>{class ee{static{this.\u0275prov=(0,i.jDH)({token:ee,providedIn:"root",factory:()=>_r((0,i.WQX)(i.Agw))?new nr((0,i.WQX)(m),window):new Bo})}}return ee})();class nr{constructor(We,ue){this.document=We,this.window=ue,this.offset=()=>[0,0]}setOffset(We){this.offset=Array.isArray(We)?()=>We:We}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(We){this.window.scrollTo(We[0],We[1])}scrollToAnchor(We){const ue=function qr(ee,We){const ue=ee.getElementById(We)||ee.getElementsByName(We)[0];if(ue)return ue;if("function"==typeof ee.createTreeWalker&&ee.body&&"function"==typeof ee.body.attachShadow){const Fe=ee.createTreeWalker(ee.body,NodeFilter.SHOW_ELEMENT);let Rt=Fe.currentNode;for(;Rt;){const mn=Rt.shadowRoot;if(mn){const En=mn.getElementById(We)||mn.querySelector(`[name="${We}"]`);if(En)return En}Rt=Fe.nextNode()}}return null}(this.document,We);ue&&(this.scrollToElement(ue),ue.focus())}setHistoryScrollRestoration(We){this.window.history.scrollRestoration=We}scrollToElement(We){const ue=We.getBoundingClientRect(),Fe=ue.left+this.window.pageXOffset,Rt=ue.top+this.window.pageYOffset,mn=this.offset();this.window.scrollTo(Fe-mn[0],Rt-mn[1])}}class Bo{setOffset(We){}getScrollPosition(){return[0,0]}scrollToPosition(We){}scrollToAnchor(We){}setHistoryScrollRestoration(We){}}class Qo{}},1626:(nt,fe,h)=>{"use strict";h.d(fe,{Lr:()=>M,Nl:()=>ne,Qq:()=>Pe,a7:()=>Y,q1:()=>Gt,yz:()=>Ee}),h(467);var e=h(4438),y=h(7673),p=h(1985),w=h(6648),C=h(274),m=h(5964),d=h(6354),f=h(980),I=h(5558),O=h(177);class P{}class b{}class M{constructor(At){this.normalizedNames=new Map,this.lazyUpdate=null,At?"string"==typeof At?this.lazyInit=()=>{this.headers=new Map,At.split("\n").forEach(Ke=>{const zt=Ke.indexOf(":");if(zt>0){const ct=Ke.slice(0,zt),Yt=ct.toLowerCase(),Xe=Ke.slice(zt+1).trim();this.maybeSetNormalizedName(ct,Yt),this.headers.has(Yt)?this.headers.get(Yt).push(Xe):this.headers.set(Yt,[Xe])}})}:typeof Headers<"u"&&At instanceof Headers?(this.headers=new Map,At.forEach((Ke,zt)=>{this.setHeaderEntries(zt,Ke)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(At).forEach(([Ke,zt])=>{this.setHeaderEntries(Ke,zt)})}:this.headers=new Map}has(At){return this.init(),this.headers.has(At.toLowerCase())}get(At){this.init();const Ke=this.headers.get(At.toLowerCase());return Ke&&Ke.length>0?Ke[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(At){return this.init(),this.headers.get(At.toLowerCase())||null}append(At,Ke){return this.clone({name:At,value:Ke,op:"a"})}set(At,Ke){return this.clone({name:At,value:Ke,op:"s"})}delete(At,Ke){return this.clone({name:At,value:Ke,op:"d"})}maybeSetNormalizedName(At,Ke){this.normalizedNames.has(Ke)||this.normalizedNames.set(Ke,At)}init(){this.lazyInit&&(this.lazyInit instanceof M?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(At=>this.applyUpdate(At)),this.lazyUpdate=null))}copyFrom(At){At.init(),Array.from(At.headers.keys()).forEach(Ke=>{this.headers.set(Ke,At.headers.get(Ke)),this.normalizedNames.set(Ke,At.normalizedNames.get(Ke))})}clone(At){const Ke=new M;return Ke.lazyInit=this.lazyInit&&this.lazyInit instanceof M?this.lazyInit:this,Ke.lazyUpdate=(this.lazyUpdate||[]).concat([At]),Ke}applyUpdate(At){const Ke=At.name.toLowerCase();switch(At.op){case"a":case"s":let zt=At.value;if("string"==typeof zt&&(zt=[zt]),0===zt.length)return;this.maybeSetNormalizedName(At.name,Ke);const ct=("a"===At.op?this.headers.get(Ke):void 0)||[];ct.push(...zt),this.headers.set(Ke,ct);break;case"d":const Yt=At.value;if(Yt){let Xe=this.headers.get(Ke);if(!Xe)return;Xe=Xe.filter(Zt=>-1===Yt.indexOf(Zt)),0===Xe.length?(this.headers.delete(Ke),this.normalizedNames.delete(Ke)):this.headers.set(Ke,Xe)}else this.headers.delete(Ke),this.normalizedNames.delete(Ke)}}setHeaderEntries(At,Ke){const zt=(Array.isArray(Ke)?Ke:[Ke]).map(Yt=>Yt.toString()),ct=At.toLowerCase();this.headers.set(ct,zt),this.maybeSetNormalizedName(At,ct)}forEach(At){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ke=>At(this.normalizedNames.get(Ke),this.headers.get(Ke)))}}class N{encodeKey(At){return U(At)}encodeValue(At){return U(At)}decodeKey(At){return decodeURIComponent(At)}decodeValue(At){return decodeURIComponent(At)}}const R=/%(\d[a-f0-9])/gi,j={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function U(et){return encodeURIComponent(et).replace(R,(At,Ke)=>j[Ke]??At)}function $(et){return`${et}`}class ne{constructor(At={}){if(this.updates=null,this.cloneFrom=null,this.encoder=At.encoder||new N,At.fromString){if(At.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G(et,At){const Ke=new Map;return et.length>0&&et.replace(/^\?/,"").split("&").forEach(ct=>{const Yt=ct.indexOf("="),[Xe,Zt]=-1==Yt?[At.decodeKey(ct),""]:[At.decodeKey(ct.slice(0,Yt)),At.decodeValue(ct.slice(Yt+1))],ut=Ke.get(Xe)||[];ut.push(Zt),Ke.set(Xe,ut)}),Ke}(At.fromString,this.encoder)}else At.fromObject?(this.map=new Map,Object.keys(At.fromObject).forEach(Ke=>{const zt=At.fromObject[Ke],ct=Array.isArray(zt)?zt.map($):[$(zt)];this.map.set(Ke,ct)})):this.map=null}has(At){return this.init(),this.map.has(At)}get(At){this.init();const Ke=this.map.get(At);return Ke?Ke[0]:null}getAll(At){return this.init(),this.map.get(At)||null}keys(){return this.init(),Array.from(this.map.keys())}append(At,Ke){return this.clone({param:At,value:Ke,op:"a"})}appendAll(At){const Ke=[];return Object.keys(At).forEach(zt=>{const ct=At[zt];Array.isArray(ct)?ct.forEach(Yt=>{Ke.push({param:zt,value:Yt,op:"a"})}):Ke.push({param:zt,value:ct,op:"a"})}),this.clone(Ke)}set(At,Ke){return this.clone({param:At,value:Ke,op:"s"})}delete(At,Ke){return this.clone({param:At,value:Ke,op:"d"})}toString(){return this.init(),this.keys().map(At=>{const Ke=this.encoder.encodeKey(At);return this.map.get(At).map(zt=>Ke+"="+this.encoder.encodeValue(zt)).join("&")}).filter(At=>""!==At).join("&")}clone(At){const Ke=new ne({encoder:this.encoder});return Ke.cloneFrom=this.cloneFrom||this,Ke.updates=(this.updates||[]).concat(At),Ke}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(At=>this.map.set(At,this.cloneFrom.map.get(At))),this.updates.forEach(At=>{switch(At.op){case"a":case"s":const Ke=("a"===At.op?this.map.get(At.param):void 0)||[];Ke.push($(At.value)),this.map.set(At.param,Ke);break;case"d":if(void 0===At.value){this.map.delete(At.param);break}{let zt=this.map.get(At.param)||[];const ct=zt.indexOf($(At.value));-1!==ct&&zt.splice(ct,1),zt.length>0?this.map.set(At.param,zt):this.map.delete(At.param)}}}),this.cloneFrom=this.updates=null)}}class L{constructor(){this.map=new Map}set(At,Ke){return this.map.set(At,Ke),this}get(At){return this.map.has(At)||this.map.set(At,At.defaultValue()),this.map.get(At)}delete(At){return this.map.delete(At),this}has(At){return this.map.has(At)}keys(){return this.map.keys()}}function te(et){return typeof ArrayBuffer<"u"&&et instanceof ArrayBuffer}function E(et){return typeof Blob<"u"&&et instanceof Blob}function re(et){return typeof FormData<"u"&&et instanceof FormData}class me{constructor(At,Ke,zt,ct){let Yt;if(this.url=Ke,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=At.toUpperCase(),function J(et){switch(et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ct?(this.body=void 0!==zt?zt:null,Yt=ct):Yt=zt,Yt&&(this.reportProgress=!!Yt.reportProgress,this.withCredentials=!!Yt.withCredentials,Yt.responseType&&(this.responseType=Yt.responseType),Yt.headers&&(this.headers=Yt.headers),Yt.context&&(this.context=Yt.context),Yt.params&&(this.params=Yt.params),this.transferCache=Yt.transferCache),this.headers??=new M,this.context??=new L,this.params){const Xe=this.params.toString();if(0===Xe.length)this.urlWithParams=Ke;else{const Zt=Ke.indexOf("?");this.urlWithParams=Ke+(-1===Zt?"?":Zt<Ke.length-1?"&":"")+Xe}}else this.params=new ne,this.urlWithParams=Ke}serializeBody(){return null===this.body?null:"string"==typeof this.body||te(this.body)||E(this.body)||re(this.body)||function K(et){return typeof URLSearchParams<"u"&&et instanceof URLSearchParams}(this.body)?this.body:this.body instanceof ne?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||re(this.body)?null:E(this.body)?this.body.type||null:te(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ne?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(At={}){const Ke=At.method||this.method,zt=At.url||this.url,ct=At.responseType||this.responseType,Yt=At.transferCache??this.transferCache,Xe=void 0!==At.body?At.body:this.body,Zt=At.withCredentials??this.withCredentials,ut=At.reportProgress??this.reportProgress;let _e=At.headers||this.headers,De=At.params||this.params;const ye=At.context??this.context;return void 0!==At.setHeaders&&(_e=Object.keys(At.setHeaders).reduce((ft,ze)=>ft.set(ze,At.setHeaders[ze]),_e)),At.setParams&&(De=Object.keys(At.setParams).reduce((ft,ze)=>ft.set(ze,At.setParams[ze]),De)),new me(Ke,zt,Xe,{params:De,headers:_e,context:ye,reportProgress:ut,responseType:ct,withCredentials:Zt,transferCache:Yt})}}var Ne=function(et){return et[et.Sent=0]="Sent",et[et.UploadProgress=1]="UploadProgress",et[et.ResponseHeader=2]="ResponseHeader",et[et.DownloadProgress=3]="DownloadProgress",et[et.Response=4]="Response",et[et.User=5]="User",et}(Ne||{});class Ae{constructor(At,Ke=be.Ok,zt="OK"){this.headers=At.headers||new M,this.status=void 0!==At.status?At.status:Ke,this.statusText=At.statusText||zt,this.url=At.url||null,this.ok=this.status>=200&&this.status<300}}class xe extends Ae{constructor(At={}){super(At),this.type=Ne.ResponseHeader}clone(At={}){return new xe({headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class Qe extends Ae{constructor(At={}){super(At),this.type=Ne.Response,this.body=void 0!==At.body?At.body:null}clone(At={}){return new Qe({body:void 0!==At.body?At.body:this.body,headers:At.headers||this.headers,status:void 0!==At.status?At.status:this.status,statusText:At.statusText||this.statusText,url:At.url||this.url||void 0})}}class Ee extends Ae{constructor(At){super(At,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${At.url||"(unknown url)"}`:`Http failure response for ${At.url||"(unknown url)"}: ${At.status} ${At.statusText}`,this.error=At.error||null}}var be=function(et){return et[et.Continue=100]="Continue",et[et.SwitchingProtocols=101]="SwitchingProtocols",et[et.Processing=102]="Processing",et[et.EarlyHints=103]="EarlyHints",et[et.Ok=200]="Ok",et[et.Created=201]="Created",et[et.Accepted=202]="Accepted",et[et.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",et[et.NoContent=204]="NoContent",et[et.ResetContent=205]="ResetContent",et[et.PartialContent=206]="PartialContent",et[et.MultiStatus=207]="MultiStatus",et[et.AlreadyReported=208]="AlreadyReported",et[et.ImUsed=226]="ImUsed",et[et.MultipleChoices=300]="MultipleChoices",et[et.MovedPermanently=301]="MovedPermanently",et[et.Found=302]="Found",et[et.SeeOther=303]="SeeOther",et[et.NotModified=304]="NotModified",et[et.UseProxy=305]="UseProxy",et[et.Unused=306]="Unused",et[et.TemporaryRedirect=307]="TemporaryRedirect",et[et.PermanentRedirect=308]="PermanentRedirect",et[et.BadRequest=400]="BadRequest",et[et.Unauthorized=401]="Unauthorized",et[et.PaymentRequired=402]="PaymentRequired",et[et.Forbidden=403]="Forbidden",et[et.NotFound=404]="NotFound",et[et.MethodNotAllowed=405]="MethodNotAllowed",et[et.NotAcceptable=406]="NotAcceptable",et[et.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",et[et.RequestTimeout=408]="RequestTimeout",et[et.Conflict=409]="Conflict",et[et.Gone=410]="Gone",et[et.LengthRequired=411]="LengthRequired",et[et.PreconditionFailed=412]="PreconditionFailed",et[et.PayloadTooLarge=413]="PayloadTooLarge",et[et.UriTooLong=414]="UriTooLong",et[et.UnsupportedMediaType=415]="UnsupportedMediaType",et[et.RangeNotSatisfiable=416]="RangeNotSatisfiable",et[et.ExpectationFailed=417]="ExpectationFailed",et[et.ImATeapot=418]="ImATeapot",et[et.MisdirectedRequest=421]="MisdirectedRequest",et[et.UnprocessableEntity=422]="UnprocessableEntity",et[et.Locked=423]="Locked",et[et.FailedDependency=424]="FailedDependency",et[et.TooEarly=425]="TooEarly",et[et.UpgradeRequired=426]="UpgradeRequired",et[et.PreconditionRequired=428]="PreconditionRequired",et[et.TooManyRequests=429]="TooManyRequests",et[et.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",et[et.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",et[et.InternalServerError=500]="InternalServerError",et[et.NotImplemented=501]="NotImplemented",et[et.BadGateway=502]="BadGateway",et[et.ServiceUnavailable=503]="ServiceUnavailable",et[et.GatewayTimeout=504]="GatewayTimeout",et[et.HttpVersionNotSupported=505]="HttpVersionNotSupported",et[et.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",et[et.InsufficientStorage=507]="InsufficientStorage",et[et.LoopDetected=508]="LoopDetected",et[et.NotExtended=510]="NotExtended",et[et.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",et}(be||{});function le(et,At){return{body:At,headers:et.headers,context:et.context,observe:et.observe,params:et.params,reportProgress:et.reportProgress,responseType:et.responseType,withCredentials:et.withCredentials,transferCache:et.transferCache}}let Pe=(()=>{class et{constructor(Ke){this.handler=Ke}request(Ke,zt,ct={}){let Yt;if(Ke instanceof me)Yt=Ke;else{let ut,_e;ut=ct.headers instanceof M?ct.headers:new M(ct.headers),ct.params&&(_e=ct.params instanceof ne?ct.params:new ne({fromObject:ct.params})),Yt=new me(Ke,zt,void 0!==ct.body?ct.body:null,{headers:ut,context:ct.context,params:_e,reportProgress:ct.reportProgress,responseType:ct.responseType||"json",withCredentials:ct.withCredentials,transferCache:ct.transferCache})}const Xe=(0,y.of)(Yt).pipe((0,C.H)(ut=>this.handler.handle(ut)));if(Ke instanceof me||"events"===ct.observe)return Xe;const Zt=Xe.pipe((0,m.p)(ut=>ut instanceof Qe));switch(ct.observe||"body"){case"body":switch(Yt.responseType){case"arraybuffer":return Zt.pipe((0,d.T)(ut=>{if(null!==ut.body&&!(ut.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ut.body}));case"blob":return Zt.pipe((0,d.T)(ut=>{if(null!==ut.body&&!(ut.body instanceof Blob))throw new Error("Response is not a Blob.");return ut.body}));case"text":return Zt.pipe((0,d.T)(ut=>{if(null!==ut.body&&"string"!=typeof ut.body)throw new Error("Response is not a string.");return ut.body}));default:return Zt.pipe((0,d.T)(ut=>ut.body))}case"response":return Zt;default:throw new Error(`Unreachable: unhandled observe type ${ct.observe}}`)}}delete(Ke,zt={}){return this.request("DELETE",Ke,zt)}get(Ke,zt={}){return this.request("GET",Ke,zt)}head(Ke,zt={}){return this.request("HEAD",Ke,zt)}jsonp(Ke,zt){return this.request("JSONP",Ke,{params:(new ne).append(zt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ke,zt={}){return this.request("OPTIONS",Ke,zt)}patch(Ke,zt,ct={}){return this.request("PATCH",Ke,le(ct,zt))}post(Ke,zt,ct={}){return this.request("POST",Ke,le(ct,zt))}put(Ke,zt,ct={}){return this.request("PUT",Ke,le(ct,zt))}static{this.\u0275fac=function(zt){return new(zt||et)(e.KVO(P))}}static{this.\u0275prov=e.jDH({token:et,factory:et.\u0275fac})}}return et})();function Dt(et,At){return At(et)}function wt(et,At){return(Ke,zt)=>At.intercept(Ke,{handle:ct=>et(ct,zt)})}const Y=new e.nKC(""),Z=new e.nKC(""),Ce=new e.nKC(""),we=new e.nKC("");function at(){let et=null;return(At,Ke)=>{null===et&&(et=((0,e.WQX)(Y,{optional:!0})??[]).reduceRight(wt,Dt));const zt=(0,e.WQX)(e.TgB),ct=zt.add();return et(At,Ke).pipe((0,f.j)(()=>zt.remove(ct)))}}let Ft=(()=>{class et extends P{constructor(Ke,zt){super(),this.backend=Ke,this.injector=zt,this.chain=null,this.pendingTasks=(0,e.WQX)(e.TgB);const ct=(0,e.WQX)(we,{optional:!0});this.backend=ct??Ke}handle(Ke){if(null===this.chain){const ct=Array.from(new Set([...this.injector.get(Z),...this.injector.get(Ce,[])]));this.chain=ct.reduceRight((Yt,Xe)=>function z(et,At,Ke){return(zt,ct)=>(0,e.N4e)(Ke,()=>At(zt,Yt=>et(Yt,ct)))}(Yt,Xe,this.injector),Dt)}const zt=this.pendingTasks.add();return this.chain(Ke,ct=>this.backend.handle(ct)).pipe((0,f.j)(()=>this.pendingTasks.remove(zt)))}static{this.\u0275fac=function(zt){return new(zt||et)(e.KVO(b),e.KVO(e.uvJ))}}static{this.\u0275prov=e.jDH({token:et,factory:et.\u0275fac})}}return et})();const tt=/^\)\]\}',?\n/;let Bt=(()=>{class et{constructor(Ke){this.xhrFactory=Ke}handle(Ke){if("JSONP"===Ke.method)throw new e.wOt(-2800,!1);const zt=this.xhrFactory;return(zt.\u0275loadImpl?(0,w.H)(zt.\u0275loadImpl()):(0,y.of)(null)).pipe((0,I.n)(()=>new p.c(Yt=>{const Xe=zt.build();if(Xe.open(Ke.method,Ke.urlWithParams),Ke.withCredentials&&(Xe.withCredentials=!0),Ke.headers.forEach((vt,Xt)=>Xe.setRequestHeader(vt,Xt.join(","))),Ke.headers.has("Accept")||Xe.setRequestHeader("Accept","application/json, text/plain, */*"),!Ke.headers.has("Content-Type")){const vt=Ke.detectContentTypeHeader();null!==vt&&Xe.setRequestHeader("Content-Type",vt)}if(Ke.responseType){const vt=Ke.responseType.toLowerCase();Xe.responseType="json"!==vt?vt:"text"}const Zt=Ke.serializeBody();let ut=null;const _e=()=>{if(null!==ut)return ut;const vt=Xe.statusText||"OK",Xt=new M(Xe.getAllResponseHeaders()),Vn=function gt(et){return"responseURL"in et&&et.responseURL?et.responseURL:/^X-Request-URL:/m.test(et.getAllResponseHeaders())?et.getResponseHeader("X-Request-URL"):null}(Xe)||Ke.url;return ut=new xe({headers:Xt,status:Xe.status,statusText:vt,url:Vn}),ut},De=()=>{let{headers:vt,status:Xt,statusText:Vn,url:ai}=_e(),yi=null;Xt!==be.NoContent&&(yi=typeof Xe.response>"u"?Xe.responseText:Xe.response),0===Xt&&(Xt=yi?be.Ok:0);let ri=Xt>=200&&Xt<300;if("json"===Ke.responseType&&"string"==typeof yi){const Ui=yi;yi=yi.replace(tt,"");try{yi=""!==yi?JSON.parse(yi):null}catch(hr){yi=Ui,ri&&(ri=!1,yi={error:hr,text:yi})}}ri?(Yt.next(new Qe({body:yi,headers:vt,status:Xt,statusText:Vn,url:ai||void 0})),Yt.complete()):Yt.error(new Ee({error:yi,headers:vt,status:Xt,statusText:Vn,url:ai||void 0}))},ye=vt=>{const{url:Xt}=_e(),Vn=new Ee({error:vt,status:Xe.status||0,statusText:Xe.statusText||"Unknown Error",url:Xt||void 0});Yt.error(Vn)};let ft=!1;const ze=vt=>{ft||(Yt.next(_e()),ft=!0);let Xt={type:Ne.DownloadProgress,loaded:vt.loaded};vt.lengthComputable&&(Xt.total=vt.total),"text"===Ke.responseType&&Xe.responseText&&(Xt.partialText=Xe.responseText),Yt.next(Xt)},Tt=vt=>{let Xt={type:Ne.UploadProgress,loaded:vt.loaded};vt.lengthComputable&&(Xt.total=vt.total),Yt.next(Xt)};return Xe.addEventListener("load",De),Xe.addEventListener("error",ye),Xe.addEventListener("timeout",ye),Xe.addEventListener("abort",ye),Ke.reportProgress&&(Xe.addEventListener("progress",ze),null!==Zt&&Xe.upload&&Xe.upload.addEventListener("progress",Tt)),Xe.send(Zt),Yt.next({type:Ne.Sent}),()=>{Xe.removeEventListener("error",ye),Xe.removeEventListener("abort",ye),Xe.removeEventListener("load",De),Xe.removeEventListener("timeout",ye),Ke.reportProgress&&(Xe.removeEventListener("progress",ze),null!==Zt&&Xe.upload&&Xe.upload.removeEventListener("progress",Tt)),Xe.readyState!==Xe.DONE&&Xe.abort()}})))}static{this.\u0275fac=function(zt){return new(zt||et)(e.KVO(O.N0))}}static{this.\u0275prov=e.jDH({token:et,factory:et.\u0275fac})}}return et})();const cn=new e.nKC(""),Mn=new e.nKC("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bn=new e.nKC("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class It{}let Rn=(()=>{class et{constructor(Ke,zt,ct){this.doc=Ke,this.platform=zt,this.cookieName=ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ke=this.doc.cookie||"";return Ke!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,O._b)(Ke,this.cookieName),this.lastCookieString=Ke),this.lastToken}static{this.\u0275fac=function(zt){return new(zt||et)(e.KVO(O.qQ),e.KVO(e.Agw),e.KVO(Mn))}}static{this.\u0275prov=e.jDH({token:et,factory:et.\u0275fac})}}return et})();function Ht(et,At){const Ke=et.url.toLowerCase();if(!(0,e.WQX)(cn)||"GET"===et.method||"HEAD"===et.method||Ke.startsWith("http://")||Ke.startsWith("https://"))return At(et);const zt=(0,e.WQX)(It).getToken(),ct=(0,e.WQX)(Bn);return null!=zt&&!et.headers.has(ct)&&(et=et.clone({headers:et.headers.set(ct,zt)})),At(et)}var Ct=function(et){return et[et.Interceptors=0]="Interceptors",et[et.LegacyInterceptors=1]="LegacyInterceptors",et[et.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",et[et.NoXsrfProtection=3]="NoXsrfProtection",et[et.JsonpSupport=4]="JsonpSupport",et[et.RequestsMadeViaParent=5]="RequestsMadeViaParent",et[et.Fetch=6]="Fetch",et}(Ct||{});function yt(et,At){return{\u0275kind:et,\u0275providers:At}}function Ot(...et){const At=[Pe,Bt,Ft,{provide:P,useExisting:Ft},{provide:b,useExisting:Bt},{provide:Z,useValue:Ht,multi:!0},{provide:cn,useValue:!0},{provide:It,useClass:Rn}];for(const Ke of et)At.push(...Ke.\u0275providers);return(0,e.EmA)(At)}const In=new e.nKC("");let Gt=(()=>{class et{static{this.\u0275fac=function(zt){return new(zt||et)}}static{this.\u0275mod=e.$C({type:et})}static{this.\u0275inj=e.G2t({providers:[Ot(yt(Ct.LegacyInterceptors,[{provide:In,useFactory:at},{provide:Z,useExisting:In,multi:!0}]))]})}}return et})()},4438:(nt,fe,h)=>{"use strict";h.d(fe,{bc$:()=>Lb,iLQ:()=>_T,sZ2:()=>M0,hnV:()=>r2,Hbi:()=>bR,o8S:()=>zu,BIS:()=>Ub,gRc:()=>v2,Ql9:()=>WA,OM3:()=>Bd,Ocv:()=>qA,abz:()=>yc,Z63:()=>Kr,aKT:()=>Ql,uvJ:()=>Ir,zcH:()=>Ml,bkB:()=>Cl,$GK:()=>_i,nKC:()=>ct,zZn:()=>Ko,_q3:()=>DT,MKu:()=>AT,xe9:()=>P_,Co$:()=>zw,Vns:()=>wu,SKi:()=>qs,Xx1:()=>_r,Agw:()=>wp,PLl:()=>x0,sFG:()=>dw,_9s:()=>G1,czy:()=>jh,WPN:()=>wc,kdw:()=>ss,C4Q:()=>nc,NYb:()=>LA,giA:()=>t2,RxE:()=>zD,c1b:()=>$d,gXe:()=>jr,mal:()=>gw,Af3:()=>Cs,L39:()=>XR,a0P:()=>iM,Ol2:()=>Ev,w6W:()=>pD,oH4:()=>f2,SmG:()=>sR,Rfq:()=>Ht,WQX:()=>Kn,naY:()=>rR,QuC:()=>Rs,EmA:()=>Ms,fpN:()=>_R,HJs:()=>rM,N4e:()=>ks,O8t:()=>QR,An2:()=>af,H3F:()=>YD,H8p:()=>Ha,KH2:()=>ju,TgB:()=>zd,wOt:()=>Be,WHO:()=>qD,e01:()=>e2,lNU:()=>at,h9k:()=>uu,$MX:()=>Nh,ZF7:()=>lu,Kcf:()=>V0,e5t:()=>Qb,UyX:()=>Xb,cWb:()=>Yb,osQ:()=>Jb,H5H:()=>bg,Zy3:()=>ot,mq5:()=>gy,JZv:()=>gt,LfX:()=>gi,plB:()=>Bl,jNT:()=>vT,zjR:()=>n2,TL$:()=>Pb,Tbb:()=>kn,rcV:()=>Ca,nM4:()=>Hm,Vt3:()=>$m,Mj6:()=>zr,GFd:()=>Kw,OA$:()=>Qs,Jv_:()=>un,aNF:()=>Tn,R7$:()=>p1,BMQ:()=>ig,HbH:()=>Qv,ZvI:()=>sy,STu:()=>oy,AVh:()=>dg,vxM:()=>uy,wni:()=>a_,VBU:()=>Gn,FsC:()=>Zo,jDH:()=>ii,G2t:()=>Qn,$C:()=>As,EJ8:()=>$r,rXU:()=>fu,nrm:()=>vg,eu8:()=>yg,bVm:()=>Nf,qex:()=>kf,k0s:()=>nh,j41:()=>xf,RV6:()=>my,xGo:()=>r0,Mr5:()=>Of,pXf:()=>Ky,KVO:()=>er,kS0:()=>bh,QTQ:()=>g1,bIt:()=>Tg,lsd:()=>u_,XpG:()=>Qy,nI1:()=>Mi,bMT:()=>ro,i5U:()=>ua,brH:()=>Pr,SdG:()=>qy,NAR:()=>Zy,Y8G:()=>lg,FS9:()=>uh,Mz_:()=>$f,FCK:()=>Dg,lJ4:()=>Ei,eq3:()=>Qi,l_i:()=>bi,sMw:()=>ir,ziG:()=>zi,s1E:()=>Zi,l4e:()=>qi,mGM:()=>c_,sdS:()=>h_,Dyx:()=>hy,Z7z:()=>Xo,fX1:()=>dy,Njj:()=>hc,EBC:()=>Y0,tSv:()=>z0,eBV:()=>$g,npT:()=>Pp,B4B:()=>Bp,n$t:()=>Up,xc7:()=>ug,zvX:()=>_g,DNE:()=>Xd,C5r:()=>Fo,EFF:()=>C_,JRh:()=>Ag,SpI:()=>Hf,Lme:()=>Rg,DH7:()=>s,mxI:()=>g,R50:()=>xg,GBs:()=>l_}),h(467);let y=null,w=1;const C=Symbol("SIGNAL");function m(t){const r=y;return y=t,r}function M(t){if((!L(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==w)){if(!t.producerMustRecompute(t)&&!U(t))return t.dirty=!1,void(t.lastCleanEpoch=w);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=w}}function U(t){J(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],c=t.producerLastReadVersion[r];if(c!==o.version||(M(o),c!==o.version))return!0}return!1}function se(t,r){if(function te(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),J(t),1===t.liveConsumerNode.length)for(let c=0;c<t.producerNode.length;c++)se(t.producerNode[c],t.producerIndexOfThis[c]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const c=t.liveConsumerIndexOfThis[r],v=t.liveConsumerNode[r];J(v),v.producerIndexOfThis[c]=r}}function L(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function J(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let xe=null;var z=h(1413),Y=h(8359),Z=h(4412),Ce=h(6354);const at="https://g.co/ng/security#xss";class Be extends Error{constructor(r,o){super(ot(r,o)),this.code=r}}function ot(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}function Pt(t){return{toString:t}.toString()}const je="__parameters__";function Ve(t,r,o){return Pt(()=>{const c=function oe(t){return function(...o){if(t){const c=t(...o);for(const v in c)this[v]=c[v]}}}(r);function v(...S){if(this instanceof v)return c.apply(this,S),this;const x=new v(...S);return H.annotation=x,H;function H(ie,Se,He){const dt=ie.hasOwnProperty(je)?ie[je]:Object.defineProperty(ie,je,{value:[]})[je];for(;dt.length<=He;)dt.push(null);return(dt[He]=dt[He]||[]).push(x),ie}}return o&&(v.prototype=Object.create(o.prototype)),v.prototype.ngMetadataName=t,v.annotationCls=v,v})}const gt=globalThis;function hn(t){for(let r in t)if(t[r]===hn)return r;throw Error("Could not find renamed property on target object.")}function Mn(t,r){for(const o in r)r.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(t[o]=r[o])}function kn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(kn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function Bn(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Rn=hn({__forward_ref__:hn});function Ht(t){return t.__forward_ref__=Ht,t.toString=function(){return kn(this())},t}function lt(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(Rn)&&t.__forward_ref__===Ht}function Un(t,r,o){t!=r&&function yn(t,r,o,c){throw new Error(`ASSERTION ERROR: ${t}`+(null==c?"":` [Expected=> ${o} ${c} ${r} <=Actual]`))}(o,t,r,"==")}function ii(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Qn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ti(t){return Hi(t,et)||Hi(t,Ke)}function gi(t){return null!==Ti(t)}function Hi(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ii(t){return t&&(t.hasOwnProperty(At)||t.hasOwnProperty(zt))?t[At]:null}const et=hn({\u0275prov:hn}),At=hn({\u0275inj:hn}),Ke=hn({ngInjectableDef:hn}),zt=hn({ngInjectorDef:hn});class ct{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=ii({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function vt(t){return t&&!!t.\u0275providers}const Xt=hn({\u0275cmp:hn}),Vn=hn({\u0275dir:hn}),ai=hn({\u0275pipe:hn}),yi=hn({\u0275mod:hn}),ri=hn({\u0275fac:hn}),Ui=hn({__NG_ELEMENT_ID__:hn}),hr=hn({__NG_ENV_ID__:hn});function Wn(t){return"string"==typeof t?t:null==t?"":String(t)}function Bs(t,r){throw new Be(-201,!1)}var _i=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(_i||{});let js;function vs(){return js}function wr(t){const r=js;return js=t,r}function Ls(t,r,o){const c=Ti(t);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&_i.Optional?null:void 0!==r?r:void Bs()}const Ni={},Xs="__NG_DI_FLAG__",ui="ngTempTokenPath",$n=/\n/gm,mr="__source";let Sr;function xr(t){const r=Sr;return Sr=t,r}function Vr(t,r=_i.Default){if(void 0===Sr)throw new Be(-203,!1);return null===Sr?Ls(t,void 0,r):Sr.get(t,r&_i.Optional?null:void 0,r)}function er(t,r=_i.Default){return(vs()||Vr)(lt(t),r)}function Kn(t,r=_i.Default){return er(t,Wr(r))}function Wr(t){return typeof t>"u"||"number"==typeof t?t:(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cr(t){const r=[];for(let o=0;o<t.length;o++){const c=lt(t[o]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,!1);let v,S=_i.Default;for(let x=0;x<c.length;x++){const H=c[x],ie=is(H);"number"==typeof ie?-1===ie?v=H.token:S|=ie:v=H}r.push(er(v,S))}else r.push(er(c))}return r}function kr(t,r){return t[Xs]=r,t.prototype[Xs]=r,t}function is(t){return t[Xs]}const _r=kr(Ve("Optional"),8),ss=kr(Ve("SkipSelf"),4);function Zr(t,r){return t.hasOwnProperty(ri)?t[ri]:null}function qr(t,r){t.forEach(o=>Array.isArray(o)?qr(o,r):r(o))}function Bo(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Qo(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function sr(t,r,o){let c=os(t,r);return c>=0?t[1|c]=o:(c=~c,function Is(t,r,o,c){let v=t.length;if(v==r)t.push(o,c);else if(1===v)t.push(c,t[0]),t[0]=o;else{for(v--,t.push(t[v-1],t[v]);v>r;)t[v]=t[v-2],v--;t[r]=o,t[r+1]=c}}(t,c,r,o)),c}function Or(t,r){const o=os(t,r);if(o>=0)return t[1|o]}function os(t,r){return function Ra(t,r,o){let c=0,v=t.length>>o;for(;v!==c;){const S=c+(v-c>>1),x=t[S<<o];if(r===x)return S<<o;x>r?v=S:c=S+1}return~(v<<o)}(t,r,1)}const Ds={},ci=[],Kr=new ct(""),$s=new ct("",-1),gr=new ct("");class Gs{get(r,o=Ni){if(o===Ni){const c=new Error(`NullInjectorError: No provider for ${kn(r)}!`);throw c.name="NullInjectorError",c}return o}}var Br=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Br||{}),jr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(jr||{}),zr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(zr||{});function vn(t,r,o){let c=t.length;for(;;){const v=t.indexOf(r,o);if(-1===v)return v;if(0===v||t.charCodeAt(v-1)<=32){const S=r.length;if(v+S===c||t.charCodeAt(v+S)<=32)return v}o=v+1}}function ys(t,r,o){let c=0;for(;c<o.length;){const v=o[c];if("number"==typeof v){if(0!==v)break;c++;const S=o[c++],x=o[c++],H=o[c++];t.setAttribute(r,x,H,S)}else{const S=v,x=o[++c];Ue(S)?t.setProperty(r,S,x):t.setAttribute(r,S,x),c++}}return c}function ke(t){return 3===t||4===t||6===t}function Ue(t){return 64===t.charCodeAt(0)}function he(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let c=0;c<r.length;c++){const v=r[c];"number"==typeof v?o=v:0===o||qe(t,o,v,null,-1===o||2===o?r[++c]:null)}}return t}function qe(t,r,o,c,v){let S=0,x=t.length;if(-1===r)x=-1;else for(;S<t.length;){const H=t[S++];if("number"==typeof H){if(H===r){x=-1;break}if(H>r){x=S-1;break}}}for(;S<t.length;){const H=t[S];if("number"==typeof H)break;if(H===o){if(null===c)return void(null!==v&&(t[S+1]=v));if(c===t[S+1])return void(t[S+2]=v)}S++,null!==c&&S++,null!==v&&S++}-1!==x&&(t.splice(x,0,r),S=x+1),t.splice(S++,0,o),null!==c&&t.splice(S++,0,c),null!==v&&t.splice(S++,0,v)}const Lt="ng-template";function Yn(t,r,o,c){let v=0;if(c){for(;v<r.length&&"string"==typeof r[v];v+=2)if("class"===r[v]&&-1!==vn(r[v+1].toLowerCase(),o,0))return!0}else if(Di(t))return!1;if(v=r.indexOf(1,v),v>-1){let S;for(;++v<r.length&&"string"==typeof(S=r[v]);)if(S.toLowerCase()===o)return!0}return!1}function Di(t){return 4===t.type&&t.value!==Lt}function as(t,r,o){return r===(4!==t.type||o?t.value:Lt)}function _s(t,r,o){let c=4;const v=t.attrs,S=null!==v?function xt(t){for(let r=0;r<t.length;r++)if(ke(t[r]))return r;return t.length}(v):0;let x=!1;for(let H=0;H<r.length;H++){const ie=r[H];if("number"!=typeof ie){if(!x)if(4&c){if(c=2|1&c,""!==ie&&!as(t,ie,o)||""===ie&&1===r.length){if(Zn(c))return!1;x=!0}}else if(8&c){if(null===v||!Yn(t,v,ie,o)){if(Zn(c))return!1;x=!0}}else{const Se=r[++H],He=Re(ie,v,Di(t),o);if(-1===He){if(Zn(c))return!1;x=!0;continue}if(""!==Se){let dt;if(dt=He>S?"":v[He+1].toLowerCase(),2&c&&Se!==dt){if(Zn(c))return!1;x=!0}}}}else{if(!x&&!Zn(c)&&!Zn(ie))return!1;if(x&&Zn(ie))continue;x=!1,c=ie|1&c}}return Zn(c)||x}function Zn(t){return!(1&t)}function Re(t,r,o,c){if(null===r)return-1;let v=0;if(c||!o){let S=!1;for(;v<r.length;){const x=r[v];if(x===t)return v;if(3===x||6===x)S=!0;else{if(1===x||2===x){let H=r[++v];for(;"string"==typeof H;)H=r[++v];continue}if(4===x)break;if(0===x){v+=4;continue}}v+=S?1:2}return-1}return function Ut(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const c=t[o];if("number"==typeof c)return-1;if(c===r)return o;o++}return-1}(r,t)}function Je(t,r,o=!1){for(let c=0;c<r.length;c++)if(_s(t,r[c],o))return!0;return!1}function St(t,r){e:for(let o=0;o<r.length;o++){const c=r[o];if(t.length===c.length){for(let v=0;v<t.length;v++)if(t[v]!==c[v])continue e;return!0}}return!1}function pn(t,r){return t?":not("+r.trim()+")":r}function en(t){let r=t[0],o=1,c=2,v="",S=!1;for(;o<t.length;){let x=t[o];if("string"==typeof x)if(2&c){const H=t[++o];v+="["+x+(H.length>0?'="'+H+'"':"")+"]"}else 8&c?v+="."+x:4&c&&(v+=" "+x);else""!==v&&!Zn(x)&&(r+=pn(S,v),v=""),c=x,S=S||!Zn(c);o++}return""!==v&&(r+=pn(S,v)),r}function Gn(t){return Pt(()=>{const r=hl(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Br.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||jr.Emulated,styles:t.styles||ci,_:null,schemas:t.schemas||null,tView:null,id:""};Gi(o);const c=t.dependencies;return o.directiveDefs=xo(c,!1),o.pipeDefs=xo(c,!0),o.id=function Cn(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const v of o)r=Math.imul(31,r)+v.charCodeAt(0)|0;return r+=2147483648,"c"+r}(o),o})}function Lr(t){return ki(t)||zn(t)}function Ai(t){return null!==t}function As(t){return Pt(()=>({type:t.type,bootstrap:t.bootstrap||ci,declarations:t.declarations||ci,imports:t.imports||ci,exports:t.exports||ci,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function da(t,r){if(null==t)return Ds;const o={};for(const c in t)if(t.hasOwnProperty(c)){const v=t[c];let S,x,H=zr.None;Array.isArray(v)?(H=v[0],S=v[1],x=v[2]??S):(S=v,x=v),r?(o[S]=H!==zr.None?[c,H]:c,r[S]=x):o[S]=c}return o}function Zo(t){return Pt(()=>{const r=hl(t);return Gi(r),r})}function $r(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function ki(t){return t[Xt]||null}function zn(t){return t[Vn]||null}function es(t){return t[ai]||null}function Rs(t){const r=ki(t)||zn(t)||es(t);return null!==r&&r.standalone}function Tr(t,r){const o=t[yi]||null;if(!o&&!0===r)throw new Error(`Type ${kn(t)} does not have '\u0275mod' property.`);return o}function hl(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Ds,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ci,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:da(t.inputs,r),outputs:da(t.outputs),debugInfo:null}}function Gi(t){t.features?.forEach(r=>r(t))}function xo(t,r){if(!t)return null;const o=r?es:Lr;return()=>("function"==typeof t?t():t).map(c=>o(c)).filter(Ai)}function Ms(t){return{\u0275providers:t}}function qo(...t){return{\u0275providers:Us(0,t),\u0275fromNgModule:!0}}function Us(t,...r){const o=[],c=new Set;let v;const S=x=>{o.push(x)};return qr(r,x=>{const H=x;ea(H,S,[],c)&&(v||=[],v.push(H))}),void 0!==v&&xa(v,S),o}function xa(t,r){for(let o=0;o<t.length;o++){const{ngModule:c,providers:v}=t[o];ta(v,S=>{r(S,c)})}}function ea(t,r,o,c){if(!(t=lt(t)))return!1;let v=null,S=Ii(t);const x=!S&&ki(t);if(S||x){if(x&&!x.standalone)return!1;v=t}else{const ie=t.ngModule;if(S=Ii(ie),!S)return!1;v=ie}const H=c.has(v);if(x){if(H)return!1;if(c.add(v),x.dependencies){const ie="function"==typeof x.dependencies?x.dependencies():x.dependencies;for(const Se of ie)ea(Se,r,o,c)}}else{if(!S)return!1;{if(null!=S.imports&&!H){let Se;c.add(v);try{qr(S.imports,He=>{ea(He,r,o,c)&&(Se||=[],Se.push(He))})}finally{}void 0!==Se&&xa(Se,r)}if(!H){const Se=Zr(v)||(()=>new v);r({provide:v,useFactory:Se,deps:ci},v),r({provide:gr,useValue:v,multi:!0},v),r({provide:Kr,useValue:()=>er(v),multi:!0},v)}const ie=S.providers;if(null!=ie&&!H){const Se=t;ta(ie,He=>{r(He,Se)})}}}return v!==t&&void 0!==t.providers}function ta(t,r){for(let o of t)vt(o)&&(o=o.\u0275providers),Array.isArray(o)?ta(o,r):r(o)}const fl=hn({provide:String,useValue:hn});function fs(t){return null!==t&&"object"==typeof t&&fl in t}function Lo(t){return"function"==typeof t}const Ha=new ct(""),ka={},Wa={};let Ka;function bs(){return void 0===Ka&&(Ka=new Gs),Ka}class Ir{}class yo extends Ir{get destroyed(){return this._destroyed}constructor(r,o,c,v){super(),this.parent=o,this.source=c,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,co(r,x=>this.processProvider(x)),this.records.set($s,Yr(void 0,this)),v.has("environment")&&this.records.set(Ir,Yr(void 0,this));const S=this.records.get(Ha);null!=S&&"string"==typeof S.value&&this.scopes.add(S.value),this.injectorDefTypes=new Set(this.get(gr,ci,_i.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const r=m(null);try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of o)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),m(r)}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=xr(this),c=wr(void 0);try{return r()}finally{xr(o),wr(c)}}get(r,o=Ni,c=_i.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(hr))return r[hr](this);c=Wr(c);const S=xr(this),x=wr(void 0);try{if(!(c&_i.SkipSelf)){let ie=this.records.get(r);if(void 0===ie){const Se=function ha(t){return"function"==typeof t||"object"==typeof t&&t instanceof ct}(r)&&Ti(r);ie=Se&&this.injectableDefInScope(Se)?Yr(xs(r),ka):null,this.records.set(r,ie)}if(null!=ie)return this.hydrate(r,ie)}return(c&_i.Self?bs():this.parent).get(r,o=c&_i.Optional&&o===Ni?null:o)}catch(H){if("NullInjectorError"===H.name){if((H[ui]=H[ui]||[]).unshift(kn(r)),S)throw H;return function so(t,r,o,c){const v=t[ui];throw r[mr]&&v.unshift(r[mr]),t.message=function wo(t,r,o,c=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let v=kn(r);if(Array.isArray(r))v=r.map(kn).join(" -> ");else if("object"==typeof r){let S=[];for(let x in r)if(r.hasOwnProperty(x)){let H=r[x];S.push(x+":"+("string"==typeof H?JSON.stringify(H):kn(H)))}v=`{${S.join(", ")}}`}return`${o}${c?"("+c+")":""}[${v}]: ${t.replace($n,"\n  ")}`}("\n"+t.message,v,o,c),t.ngTokenPath=v,t[ui]=null,t}(H,r,"R3InjectorError",this.source)}throw H}finally{wr(x),xr(S)}}resolveInjectorInitializers(){const r=m(null),o=xr(this),c=wr(void 0);try{const S=this.get(Kr,ci,_i.Self);for(const x of S)x()}finally{xr(o),wr(c),m(r)}}toString(){const r=[],o=this.records;for(const c of o.keys())r.push(kn(c));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(r){let o=Lo(r=lt(r))?r:lt(r&&r.provide);const c=function Uo(t){return fs(t)?Yr(void 0,t.useValue):Yr(Eo(t),ka)}(r);if(!Lo(r)&&!0===r.multi){let v=this.records.get(o);v||(v=Yr(void 0,ka,!0),v.factory=()=>cr(v.multi),this.records.set(o,v)),o=r,v.multi.push(r)}this.records.set(o,c)}hydrate(r,o){const c=m(null);try{return o.value===ka&&(o.value=Wa,o.value=o.factory()),"object"==typeof o.value&&o.value&&function za(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}finally{m(c)}}injectableDefInScope(r){if(!r.providedIn)return!1;const o=lt(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function xs(t){const r=Ti(t),o=null!==r?r.factory:Zr(t);if(null!==o)return o;if(t instanceof ct)throw new Be(204,!1);if(t instanceof Function)return function Js(t){if(t.length>0)throw new Be(204,!1);const o=function $i(t){return t&&(t[et]||t[Ke])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new Be(204,!1)}function Eo(t,r,o){let c;if(Lo(t)){const v=lt(t);return Zr(v)||xs(v)}if(fs(t))c=()=>lt(t.useValue);else if(function jl(t){return!(!t||!t.useFactory)}(t))c=()=>t.useFactory(...cr(t.deps||[]));else if(function Ga(t){return!(!t||!t.useExisting)}(t))c=()=>er(lt(t.useExisting));else{const v=lt(t&&(t.useClass||t.provide));if(!function ps(t){return!!t.deps}(t))return Zr(v)||xs(v);c=()=>new v(...cr(t.deps))}return c}function Yr(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function co(t,r){for(const o of t)Array.isArray(o)?co(o,r):o&&vt(o)?co(o.\u0275providers,r):r(o)}function ks(t,r){t instanceof yo&&t.assertNotDestroyed();const c=xr(t),v=wr(void 0);try{return r()}finally{xr(c),wr(v)}}function Ci(){return void 0!==vs()||null!=function Er(){return Sr}()}function Cs(t){if(!Ci())throw new Be(-203,!1)}const pe=0,F=1,de=2,Me=3,rt=4,Nt=5,Vt=6,nn=7,an=8,wn=9,ni=10,jn=11,br=12,vi=13,Gr=14,Dr=15,ws=16,Wi=17,ls=18,ko=19,fa=20,_o=21,ts=22,Vo=23,Ri=25,Na=1,jo=7,Ya=9,Ss=10;var Ar=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ar||{});function wi(t){return Array.isArray(t)&&"object"==typeof t[Na]}function ns(t){return Array.isArray(t)&&!0===t[Na]}function Xa(t){return!!(4&t.flags)}function ia(t){return t.componentOffset>-1}function ra(t){return!(1&~t.flags)}function uo(t){return!!t.template}function Ja(t){return!!(512&t[de])}class Oa{constructor(r,o,c){this.previousValue=r,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function Gl(t,r,o,c){null!==r?r.applyValueToInputSignal(r,c):t[o]=c}function Qs(){return Hl}function Hl(t){return t.type.prototype.ngOnChanges&&(t.setInput=Qa),Xf}function Xf(){const t=Fa(this),r=t?.current;if(r){const o=t.previous;if(o===Ds)t.previous=r;else for(let c in r)o[c]=r[c];t.current=null,this.ngOnChanges(r)}}function Qa(t,r,o,c,v){const S=this.declaredInputs[c],x=Fa(t)||function ml(t,r){return t[Xr]=r}(t,{previous:Ds,current:null}),H=x.current||(x.current={}),ie=x.previous,Se=ie[S];H[S]=new Oa(Se&&Se.currentValue,o,ie===Ds),Gl(t,r,v,o)}Qs.ngInherit=!0;const Xr="__ngSimpleChanges__";function Fa(t){return t[Xr]||null}const $o=function(t,r,o){};let vl=!1;function Cr(t){for(;Array.isArray(t);)t=t[pe];return t}function Qu(t,r){return Cr(r[t])}function Go(t,r){return Cr(r[t.index])}function Zu(t,r){return t.data[r]}function Uc(t,r){return t[r]}function ma(t,r){const o=r[t];return wi(o)?o:o[pe]}function Qf(t){return!(128&~t[de])}function yl(t,r){return null==r?null:t[r]}function Lg(t){t[Wi]=0}function z_(t){1024&t[de]||(t[de]|=1024,Qf(t)&&Es(t))}function Zf(t){return!!(9216&t[de]||t[Vo]?.dirty)}function qf(t){t[ni].changeDetectionScheduler?.notify(1),Zf(t)?Es(t):64&t[de]&&(function Ju(){return vl}()?(t[de]|=1024,Es(t)):t[ni].changeDetectionScheduler?.notify())}function Es(t){t[ni].changeDetectionScheduler?.notify();let r=dc(t);for(;null!==r&&!(8192&r[de])&&(r[de]|=8192,Qf(r));)r=dc(r)}function Vc(t,r){if(!(256&~t[de]))throw new Be(911,!1);null===t[_o]&&(t[_o]=[]),t[_o].push(r)}function dc(t){const r=t[Me];return ns(r)?r[Me]:r}const Li={lFrame:ap(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function jg(){return Li.bindingsEnabled}function ho(){return null!==Li.skipHydrationRootTNode}function _n(){return Li.lFrame.lView}function ar(){return Li.lFrame.tView}function $g(t){return Li.lFrame.contextLView=t,t[an]}function hc(t){return Li.lFrame.contextLView=null,t}function Ur(){let t=Gg();for(;null!==t&&64===t.type;)t=t.parent;return t}function Gg(){return Li.lFrame.currentTNode}function td(){const t=Li.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}function _l(t,r){const o=Li.lFrame;o.currentTNode=t,o.isParent=r}function tp(){return Li.lFrame.isParent}function np(){Li.lFrame.isParent=!1}function Ho(){const t=Li.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Za(){return Li.lFrame.bindingIndex++}function Al(t){const r=Li.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function Kg(t){Li.lFrame.inI18n=t}function Z_(t,r){const o=Li.lFrame;o.bindingIndex=o.bindingRootIndex=t,ip(r)}function ip(t){Li.lFrame.currentDirectiveIndex=t}function rp(t){const r=Li.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function sp(){return Li.lFrame.currentQueryIndex}function vh(t){Li.lFrame.currentQueryIndex=t}function eb(t){const r=t[F];return 2===r.type?r.declTNode:1===r.type?t[Nt]:null}function zg(t,r,o){if(o&_i.SkipSelf){let v=r,S=t;for(;!(v=v.parent,null!==v||o&_i.Host||(v=eb(S),null===v||(S=S[Gr],10&v.type))););if(null===v)return!1;r=v,t=S}const c=Li.lFrame=Yg();return c.currentTNode=r,c.lView=t,!0}function op(t){const r=Yg(),o=t[F];Li.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Yg(){const t=Li.lFrame,r=null===t?null:t.child;return null===r?ap(t):r}function ap(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function lp(){const t=Li.lFrame;return Li.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const tb=lp;function Xg(){const t=lp();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Os(){return Li.lFrame.selectedIndex}function bl(t){Li.lFrame.selectedIndex=t}function cs(){const t=Li.lFrame;return Zu(t.tView,t.selectedIndex)}let up=!0;function nd(){return up}function ga(t){up=t}function Gc(t,r){for(let o=r.directiveStart,c=r.directiveEnd;o<c;o++){const S=t.data[o].type.prototype,{ngAfterContentInit:x,ngAfterContentChecked:H,ngAfterViewInit:ie,ngAfterViewChecked:Se,ngOnDestroy:He}=S;x&&(t.contentHooks??=[]).push(-o,x),H&&((t.contentHooks??=[]).push(o,H),(t.contentCheckHooks??=[]).push(o,H)),ie&&(t.viewHooks??=[]).push(-o,ie),Se&&((t.viewHooks??=[]).push(o,Se),(t.viewCheckHooks??=[]).push(o,Se)),null!=He&&(t.destroyHooks??=[]).push(o,He)}}function Kl(t,r,o){id(t,r,3,o)}function zl(t,r,o,c){(3&t[de])===o&&id(t,r,o,c)}function pc(t,r){let o=t[de];(3&o)===r&&(o&=16383,o+=1,t[de]=o)}function id(t,r,o,c){const S=c??-1,x=r.length-1;let H=0;for(let ie=void 0!==c?65535&t[Wi]:0;ie<x;ie++)if("number"==typeof r[ie+1]){if(H=r[ie],null!=c&&H>=c)break}else r[ie]<0&&(t[Wi]+=65536),(H<S||-1==S)&&(rd(t,o,r,ie),t[Wi]=(4294901760&t[Wi])+ie+2),ie++}function Yl(t,r){$o(4,t,r);const o=m(null);try{r.call(t)}finally{m(o),$o(5,t,r)}}function rd(t,r,o,c){const v=o[c]<0,S=o[c+1],H=t[v?-o[c]:o[c]];v?t[de]>>14<t[Wi]>>16&&(3&t[de])===r&&(t[de]+=16384,Yl(H,S)):Yl(H,S)}const va=-1;class Hc{constructor(r,o,c){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function od(t){return t!==va}function zc(t){return 32767&t}function mc(t,r){let o=function qg(t){return t>>16}(t),c=r;for(;o>0;)c=c[Gr],o--;return c}let ad=!0;function ld(t){const r=ad;return ad=t,r}const dp=255,cd=5;let yh=0;const Ba={};function Yc(t,r){const o=ud(t,r);if(-1!==o)return o;const c=r[F];c.firstCreatePass&&(t.injectorIndex=r.length,Wo(c.data,t),Wo(r,null),Wo(c.blueprint,null));const v=pr(t,r),S=t.injectorIndex;if(od(v)){const x=zc(v),H=mc(v,r),ie=H[F].data;for(let Se=0;Se<8;Se++)r[S+Se]=H[x+Se]|ie[x+Se]}return r[S+8]=v,S}function Wo(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ud(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function pr(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,c=null,v=r;for(;null!==v;){if(c=s0(v),null===c)return va;if(o++,v=v[Gr],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return va}function Rl(t,r,o){!function hp(t,r,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(Ui)&&(c=o[Ui]),null==c&&(c=o[Ui]=yh++);const v=c&dp;r.data[t+(v>>cd)]|=1<<v}(t,r,o)}function Jl(t,r,o){if(o&_i.Optional||void 0!==t)return t;Bs()}function gc(t,r,o,c){if(o&_i.Optional&&void 0===c&&(c=null),!(o&(_i.Self|_i.Host))){const v=t[wn],S=wr(void 0);try{return v?v.get(r,c,o&_i.Optional):Ls(r,c,o&_i.Optional)}finally{wr(S)}}return Jl(c,0,o)}function ya(t,r,o,c=_i.Default,v){if(null!==t){if(2048&r[de]&&!(c&_i.Self)){const x=function cb(t,r,o,c,v){let S=t,x=r;for(;null!==S&&null!==x&&2048&x[de]&&!(512&x[de]);){const H=fp(S,x,o,c|_i.Self,Ba);if(H!==Ba)return H;let ie=S.parent;if(!ie){const Se=x[fa];if(Se){const He=Se.get(o,Ba,c);if(He!==Ba)return He}ie=s0(x),x=x[Gr]}S=ie}return v}(t,r,o,c,Ba);if(x!==Ba)return x}const S=fp(t,r,o,c,Ba);if(S!==Ba)return S}return gc(r,o,c,v)}function fp(t,r,o,c,v){const S=function ab(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Ui)?t[Ui]:void 0;return"number"==typeof r?r>=0?r&dp:lb:r}(o);if("function"==typeof S){if(!zg(r,t,c))return c&_i.Host?Jl(v,0,c):gc(r,o,c,v);try{let x;if(x=S(c),null!=x||c&_i.Optional)return x;Bs()}finally{tb()}}else if("number"==typeof S){let x=null,H=ud(t,r),ie=va,Se=c&_i.Host?r[Dr][Nt]:null;for((-1===H||c&_i.SkipSelf)&&(ie=-1===H?pr(t,r):r[H+8],ie!==va&&n0(c,!1)?(x=r[F],H=zc(ie),r=mc(ie,r)):H=-1);-1!==H;){const He=r[F];if(t0(S,H,He.data)){const dt=ob(H,r,o,x,c,Se);if(dt!==Ba)return dt}ie=r[H+8],ie!==va&&n0(c,r[F].data[H+8]===Se)&&t0(S,H,r)?(x=He,H=zc(ie),r=mc(ie,r)):H=-1}}return v}function ob(t,r,o,c,v,S){const x=r[F],H=x.data[t+8],He=_h(H,x,o,null==c?ia(H)&&ad:c!=x&&!!(3&H.type),v&_i.Host&&S===H);return null!==He?vc(r,x,He,H):Ba}function _h(t,r,o,c,v){const S=t.providerIndexes,x=r.data,H=1048575&S,ie=t.directiveStart,He=S>>20,Wt=v?H+He:t.directiveEnd;for(let Qt=c?H:H+He;Qt<Wt;Qt++){const dn=x[Qt];if(Qt<ie&&o===dn||Qt>=ie&&dn.type===o)return Qt}if(v){const Qt=x[ie];if(Qt&&uo(Qt)&&Qt.type===o)return ie}return null}function vc(t,r,o,c){let v=t[o];const S=r.data;if(function Qg(t){return t instanceof Hc}(v)){const x=v;x.resolving&&function Mr(t,r){throw r&&r.join(" > "),new Be(-200,t)}(function li(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wn(t)}(S[o]));const H=ld(x.canSeeViewProviders);x.resolving=!0;const Se=x.injectImpl?wr(x.injectImpl):null;zg(t,c,_i.Default);try{v=t[o]=x.factory(void 0,S,t,c),r.firstCreatePass&&o>=c.directiveStart&&function ib(t,r,o){const{ngOnChanges:c,ngOnInit:v,ngDoCheck:S}=r.type.prototype;if(c){const x=Hl(r);(o.preOrderHooks??=[]).push(t,x),(o.preOrderCheckHooks??=[]).push(t,x)}v&&(o.preOrderHooks??=[]).push(0-t,v),S&&((o.preOrderHooks??=[]).push(t,S),(o.preOrderCheckHooks??=[]).push(t,S))}(o,S[o],r)}finally{null!==Se&&wr(Se),ld(H),x.resolving=!1,tb()}}return v}function t0(t,r,o){return!!(o[r+(t>>cd)]&1<<t)}function n0(t,r){return!(t&_i.Self||t&_i.Host&&r)}class fo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,c){return ya(this._tNode,this._lView,r,Wr(c),o)}}function lb(){return new fo(Ur(),_n())}function r0(t){return Pt(()=>{const r=t.prototype.constructor,o=r[ri]||pp(r),c=Object.prototype;let v=Object.getPrototypeOf(t.prototype).constructor;for(;v&&v!==c;){const S=v[ri]||pp(v);if(S&&S!==o)return S;v=Object.getPrototypeOf(v)}return S=>new S})}function pp(t){return Ct(t)?()=>{const r=pp(lt(t));return r&&r()}:Zr(t)}function s0(t){const r=t[F],o=r.type;return 2===o?r.declTNode:1===o?t[Nt]:null}function bh(t){return function sb(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const c=o.length;let v=0;for(;v<c;){const S=o[v];if(ke(S))break;if(0===S)v+=2;else if("number"==typeof S)for(v++;v<c&&"string"==typeof o[v];)v++;else{if(S===r)return o[v+1];v+=2}}}return null}(Ur(),t)}function wh(t,r=null,o=null,c){const v=gp(t,r,o,c);return v.resolveInjectorInitializers(),v}function gp(t,r=null,o=null,c,v=new Set){const S=[o||ci,qo(t)];return c=c||("object"==typeof t?void 0:kn(t)),new yo(S,r||bs(),c||null,v)}let Ko=(()=>{class t{static{this.THROW_IF_NOT_FOUND=Ni}static{this.NULL=new Gs}static create(o,c){if(Array.isArray(o))return wh({name:""},c,o,"");{const v=o.name??"";return wh({name:v},o.parent,o.providers,v)}}static{this.\u0275prov=ii({token:t,providedIn:"any",factory:()=>er($s)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function vp(t){return t.ngOriginalError}class Ml{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&vp(r);for(;o&&vp(o);)o=vp(o);return o||null}}const u0=new ct("",{providedIn:"root",factory:()=>Kn(Ml).handleError.bind(void 0)});let yc=(()=>{class t{static{this.__NG_ELEMENT_ID__=mb}static{this.__NG_ENV_ID__=o=>o}}return t})();class pb extends yc{constructor(r){super(),this._lView=r}onDestroy(r){return Vc(this._lView,r),()=>function ep(t,r){if(null===t[_o])return;const o=t[_o].indexOf(r);-1!==o&&t[_o].splice(o,1)}(this._lView,r)}}function mb(){return new pb(_n())}function gb(){return Qc(Ur(),_n())}function Qc(t,r){return new Ql(Go(t,r))}let Ql=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=gb}}return t})();function Zl(t){return t instanceof Ql?t.nativeElement:t}function _a(t){return r=>{setTimeout(t,void 0,r)}}const Cl=class _c extends z.B{constructor(r=!1){super(),this.destroyRef=void 0,this.__isAsync=r,Ci()&&(this.destroyRef=Kn(yc,{optional:!0})??void 0)}emit(r){const o=m(null);try{super.next(r)}finally{m(o)}}subscribe(r,o,c){let v=r,S=o||(()=>null),x=c;if(r&&"object"==typeof r){const ie=r;v=ie.next?.bind(ie),S=ie.error?.bind(ie),x=ie.complete?.bind(ie)}this.__isAsync&&(S=_a(S),v&&(v=_a(v)),x&&(x=_a(x)));const H=super.subscribe({next:v,error:S,complete:x});return r instanceof Y.yU&&r.add(H),H}};function vb(){return this._results[Symbol.iterator]()}class ba{get changes(){return this._changes??=new Cl}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const o=ba.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=vb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){this.dirty=!1;const c=function nr(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function vo(t,r,o){if(t.length!==r.length)return!1;for(let c=0;c<t.length;c++){let v=t[c],S=r[c];if(o&&(v=o(v),S=o(S)),S!==v)return!1}return!0}(this._results,c,o))&&(this._results=c,this.length=c.length,this.last=c[this.length-1],this.first=c[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(r){this._onDirty=r}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Zc(t){return!(128&~t.flags)}const _p=new Map;let _b=0;const qa="__ngContext__";function No(t,r){wi(r)?(t[qa]=r[ko],function f0(t){_p.set(t[ko],t)}(r)):t[qa]=r}function b0(t){return w0(t[br])}function C0(t){return w0(t[rt])}function w0(t){for(;null!==t&&!ns(t);)t=t[rt];return t}let Cp;function Pb(t){Cp=t}function ql(){if(void 0!==Cp)return Cp;if(typeof document<"u")return document;throw new Be(210,!1)}const M0=new ct("",{providedIn:"root",factory:()=>Bb}),Bb="ng",x0=new ct(""),wp=new ct("",{providedIn:"platform",factory:()=>"unknown"}),Lb=new ct(""),Ub=new ct("",{providedIn:"root",factory:()=>ql().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Dh=()=>null;function el(t,r,o=!1){return Dh(t,r,o)}const Mp=new ct("",{providedIn:"root",factory:()=>!1});let su,md;function ou(t){return function xp(){if(void 0===su&&(su=null,gt.trustedTypes))try{su=gt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return su}()?.createHTML(t)||t}function zo(){if(void 0===md&&(md=null,gt.trustedTypes))try{md=gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return md}function La(t){return zo()?.createHTML(t)||t}function oa(t){return zo()?.createScriptURL(t)||t}class kl{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${at})`}}class gd extends kl{getTypeName(){return"HTML"}}class au extends kl{getTypeName(){return"Style"}}class vd extends kl{getTypeName(){return"Script"}}class zb extends kl{getTypeName(){return"URL"}}class L0 extends kl{getTypeName(){return"ResourceURL"}}function Ca(t){return t instanceof kl?t.changingThisBreaksApplicationSecurity:t}function lu(t,r){const o=function U0(t){return t instanceof kl&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${at})`)}return o===r}function V0(t){return new gd(t)}function Yb(t){return new au(t)}function Xb(t){return new vd(t)}function Jb(t){return new zb(t)}function Qb(t){return new L0(t)}function j0(t){const r=new qb(t);return function eC(){try{return!!(new window.DOMParser).parseFromString(ou(""),"text/html")}catch{return!1}}()?new Zb(r):r}class Zb{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(ou(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class qb{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=ou(r),o}}const tC=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Nh(t){return(t=String(t)).match(tC)?t:"unsafe:"+t}function Ws(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function nl(...t){const r={};for(const o of t)for(const c in o)o.hasOwnProperty(c)&&(r[c]=!0);return r}const wa=Ws("area,br,col,hr,img,wbr"),Oh=Ws("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Nl=Ws("rp,rt"),_d=nl(wa,nl(Oh,Ws("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nl(Nl,Ws("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nl(Nl,Oh)),Fh=Ws("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ph=nl(Fh,Ws("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ws("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),nC=Ws("script,style,template");class Ol{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,c=!0,v=[];for(;o;)if(o.nodeType===Node.ELEMENT_NODE?c=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,c&&o.firstChild)v.push(o),o=Bh(o);else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let S=Sl(o);if(S){o=S;break}o=v.pop()}return this.buf.join("")}startElement(r){const o=Lh(r).toLowerCase();if(!_d.hasOwnProperty(o))return this.sanitizedSomething=!0,!nC.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const c=r.attributes;for(let v=0;v<c.length;v++){const S=c.item(v),x=S.name,H=x.toLowerCase();if(!Ph.hasOwnProperty(H)){this.sanitizedSomething=!0;continue}let ie=S.value;Fh[H]&&(ie=Nh(ie)),this.buf.push(" ",x,'="',Op(ie),'"')}return this.buf.push(">"),!0}endElement(r){const o=Lh(r).toLowerCase();_d.hasOwnProperty(o)&&!wa.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(Op(r))}}function Sl(t){const r=t.nextSibling;if(r&&t!==r.previousSibling)throw Np(r);return r}function Bh(t){const r=t.firstChild;if(r&&function iC(t,r){return(t.compareDocumentPosition(r)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(t,r))throw Np(r);return r}function Lh(t){const r=t.nodeName;return"string"==typeof r?r:"FORM"}function Np(t){return new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`)}const Cd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rC=/([^\#-~ |!])/g;function Op(t){return t.replace(/&/g,"&amp;").replace(Cd,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(rC,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Uh;function uu(t,r){let o=null;try{Uh=Uh||j0(t);let c=r?String(r):"";o=Uh.getInertBodyElement(c);let v=5,S=c;do{if(0===v)throw new Error("Failed to sanitize html because the input is unstable");v--,c=S,S=o.innerHTML,o=Uh.getInertBodyElement(c)}while(c!==S);return ou((new Ol).sanitizeChildren(Vh(o)||o))}finally{if(o){const c=Vh(o)||o;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function Vh(t){return"content"in t&&function Fp(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(wc||{});function Pp(t){const r=wd();return r?La(r.sanitize(wc.HTML,t)||""):lu(t,"HTML")?La(Ca(t)):uu(ql(),Wn(t))}function Bp(t){const r=wd();return r?r.sanitize(wc.URL,t)||"":lu(t,"URL")?Ca(t):Nh(Wn(t))}function Sc(t){const r=wd();if(r)return oa(r.sanitize(wc.RESOURCE_URL,t)||"");if(lu(t,"ResourceURL"))return oa(Ca(t));throw new Be(904,!1)}function Up(t,r,o){return function W0(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?Sc:Bp}(r,o)(t)}function wd(){const t=_n();return t&&t[ni].sanitizer}const oC=/^>|^->|<!--|-->|--!>|<!-$/g,aC=/(<|>)/g,lC="\u200b$1\u200b";function z0(t){return t.ownerDocument.defaultView}function Y0(t){return t.ownerDocument}function Sa(t){return t instanceof Function?t():t}var jh=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jh||{});let Wp;function Kp(t,r){return Wp(t,r)}function Id(t,r,o,c,v){if(null!=c){let S,x=!1;ns(c)?S=c:wi(c)&&(x=!0,c=c[pe]);const H=Cr(c);0===t&&null!==o?null==v?r1(r,o,H):Ec(r,o,H,v||null,!0):1===t&&null!==o?Ec(r,o,H,v||null,!0):2===t?function Rd(t,r,o){const c=Gh(t,r);c&&function IC(t,r,o,c){t.removeChild(r,o,c)}(t,c,r,o)}(r,H,x):3===t&&r.destroyNode(H),null!=S&&function RC(t,r,o,c,v){const S=o[jo];S!==Cr(o)&&Id(r,t,c,S,v);for(let H=Ss;H<o.length;H++){const ie=o[H];Wh(ie[F],ie,t,r,c,S)}}(r,t,S,o,v)}}function Q0(t,r){return t.createText(r)}function q0(t,r){return t.createComment(function du(t){return t.replace(oC,r=>r.replace(aC,lC))}(r))}function zp(t,r,o){return t.createElement(r,o)}function e1(t,r){r[ni].changeDetectionScheduler?.notify(1),Wh(t,r,r[jn],2,null,null)}function t1(t,r){const o=t[Ya],c=o.indexOf(r);o.splice(c,1)}function Dd(t,r){if(t.length<=Ss)return;const o=Ss+r,c=t[o];if(c){const v=c[ws];null!==v&&v!==t&&t1(v,c),r>0&&(t[o-1][rt]=c[rt]);const S=Qo(t,Ss+r);!function _C(t,r){e1(t,r),r[pe]=null,r[Nt]=null}(c[F],c);const x=S[ls];null!==x&&x.detachView(S[F]),c[Me]=null,c[rt]=null,c[de]&=-129}return c}function $h(t,r){if(!(256&r[de])){const o=r[jn];o.destroyNode&&Wh(t,r,o,3,null,null),function CC(t){let r=t[br];if(!r)return Yp(t[F],t);for(;r;){let o=null;if(wi(r))o=r[br];else{const c=r[Ss];c&&(o=c)}if(!o){for(;r&&!r[rt]&&r!==t;)wi(r)&&Yp(r[F],r),r=r[Me];null===r&&(r=t),wi(r)&&Yp(r[F],r),o=r&&r[rt]}r=o}}(r)}}function Yp(t,r){if(256&r[de])return;const o=m(null);try{r[de]&=-129,r[de]|=256,r[Vo]&&function $(t){if(J(t),L(t))for(let r=0;r<t.producerNode.length;r++)se(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(r[Vo]),function TC(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let c=0;c<o.length;c+=2){const v=r[o[c]];if(!(v instanceof Hc)){const S=o[c+1];if(Array.isArray(S))for(let x=0;x<S.length;x+=2){const H=v[S[x]],ie=S[x+1];$o(4,H,ie);try{ie.call(H)}finally{$o(5,H,ie)}}else{$o(4,v,S);try{S.call(v)}finally{$o(5,v,S)}}}}}(t,r),function EC(t,r){const o=t.cleanup,c=r[nn];if(null!==o)for(let S=0;S<o.length-1;S+=2)if("string"==typeof o[S]){const x=o[S+3];x>=0?c[x]():c[-x].unsubscribe(),S+=2}else o[S].call(c[o[S+1]]);null!==c&&(r[nn]=null);const v=r[_o];if(null!==v){r[_o]=null;for(let S=0;S<v.length;S++)(0,v[S])()}}(t,r),1===r[F].type&&r[jn].destroy();const c=r[ws];if(null!==c&&ns(r[Me])){c!==r[Me]&&t1(c,r);const v=r[ls];null!==v&&v.detachView(t)}!function bb(t){_p.delete(t[ko])}(r)}finally{m(o)}}function Xp(t,r,o){return n1(t,r.parent,o)}function n1(t,r,o){let c=r;for(;null!==c&&40&c.type;)c=(r=c).parent;if(null===c)return o[pe];{const{componentOffset:v}=c;if(v>-1){const{encapsulation:S}=t.data[c.directiveStart+v];if(S===jr.None||S===jr.Emulated)return null}return Go(c,o)}}function Ec(t,r,o,c,v){t.insertBefore(r,o,c,v)}function r1(t,r,o){t.appendChild(r,o)}function s1(t,r,o,c,v){null!==c?Ec(t,r,o,c,v):r1(t,r,o)}function Gh(t,r){return t.parentNode(r)}function Jp(t,r,o){return a1(t,r,o)}function o1(t,r,o){return 40&t.type?Go(t,o):null}let Qp,a1=o1;function l1(t,r){a1=t,Qp=r}function Hh(t,r,o,c){const v=Xp(t,c,r),S=r[jn],H=Jp(c.parent||r[Nt],c,r);if(null!=v)if(Array.isArray(o))for(let ie=0;ie<o.length;ie++)s1(S,v,o[ie],H,!1);else s1(S,v,o,H,!1);void 0!==Qp&&Qp(S,c,r,o,v)}function Ad(t,r){if(null!==r){const o=r.type;if(3&o)return Go(r,t);if(4&o)return Zp(-1,t[r.index]);if(8&o){const c=r.child;if(null!==c)return Ad(t,c);{const v=t[r.index];return ns(v)?Zp(-1,v):Cr(v)}}if(32&o)return Kp(r,t)()||Cr(t[r.index]);{const c=c1(t,r);return null!==c?Array.isArray(c)?c[0]:Ad(dc(t[Dr]),c):Ad(t,r.next)}}return null}function c1(t,r){return null!==r?t[Dr][Nt].projection[r.projection]:null}function Zp(t,r){const o=Ss+t+1;if(o<r.length){const c=r[o],v=c[F].firstChild;if(null!==v)return Ad(c,v)}return r[jo]}function qp(t,r,o,c,v,S,x){for(;null!=o;){const H=c[o.index],ie=o.type;if(x&&0===r&&(H&&No(Cr(H),c),o.flags|=2),32&~o.flags)if(8&ie)qp(t,r,o.child,c,v,S,!1),Id(r,t,v,H,S);else if(32&ie){const Se=Kp(o,c);let He;for(;He=Se();)Id(r,t,v,He,S);Id(r,t,v,H,S)}else 16&ie?d1(t,r,c,o,v,S):Id(r,t,v,H,S);o=x?o.projectionNext:o.next}}function Wh(t,r,o,c,v,S){qp(o,c,t.firstChild,r,v,S,!1)}function d1(t,r,o,c,v,S){const x=o[Dr],ie=x[Nt].projection[c.projection];if(Array.isArray(ie))for(let Se=0;Se<ie.length;Se++)Id(r,t,v,ie[Se],S);else{let Se=ie;const He=x[Me];Zc(c)&&(Se.flags|=128),qp(t,r,Se,He,v,S,!0)}}function h1(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function f1(t,r,o){const{mergedAttrs:c,classes:v,styles:S}=o;null!==c&&ys(t,r,c),null!==v&&h1(t,r,v),null!==S&&function MC(t,r,o){t.setAttribute(r,"style",o)}(t,r,S)}const Ki={};function p1(t=1){m1(ar(),_n(),Os()+t,!1)}function m1(t,r,o,c){if(!c)if(3&~r[de]){const S=t.preOrderHooks;null!==S&&zl(r,S,0,o)}else{const S=t.preOrderCheckHooks;null!==S&&Kl(r,S,o)}bl(o)}function fu(t,r=_i.Default){const o=_n();return null===o?er(t,r):ya(Ur(),o,lt(t),r)}function g1(){throw new Error("invalid")}function v1(t,r,o,c,v,S){const x=m(null);try{let H=null;v&zr.SignalBased&&(H=r[c][C]),null!==H&&void 0!==H.transformFn&&(S=H.transformFn(S)),v&zr.HasDecoratorInputTransform&&(S=t.inputTransforms[c].call(r,S)),null!==t.setInput?t.setInput(r,H,S,o,c):Gl(r,H,c,S)}finally{m(x)}}function Kh(t,r,o,c,v,S,x,H,ie,Se,He){const dt=r.blueprint.slice();return dt[pe]=v,dt[de]=204|c,(null!==Se||t&&2048&t[de])&&(dt[de]|=2048),Lg(dt),dt[Me]=dt[Gr]=t,dt[an]=o,dt[ni]=x||t&&t[ni],dt[jn]=H||t&&t[jn],dt[wn]=ie||t&&t[wn]||null,dt[Nt]=S,dt[ko]=function h0(){return _b++}(),dt[Vt]=He,dt[fa]=Se,dt[Dr]=2==r.type?t[Dr]:dt,dt}function pu(t,r,o,c,v){let S=t.data[r];if(null===S)S=tm(t,r,o,c,v),function Q_(){return Li.lFrame.inI18n}()&&(S.flags|=32);else if(64&S.type){S.type=o,S.value=c,S.attrs=v;const x=td();S.injectorIndex=null===x?-1:x.injectorIndex}return _l(S,!0),S}function tm(t,r,o,c,v){const S=Gg(),x=tp(),ie=t.data[r]=function FC(t,r,o,c,v,S){let x=r?r.injectorIndex:-1,H=0;return ho()&&(H|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:x,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:H,providerIndexes:0,value:v,attrs:S,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,x?S:S&&S.parent,o,r,c,v);return null===t.firstChild&&(t.firstChild=ie),null!==S&&(x?null==S.child&&null!==ie.parent&&(S.child=ie):null===S.next&&(S.next=ie,ie.prev=S)),ie}function Md(t,r,o,c){if(0===o)return-1;const v=r.length;for(let S=0;S<o;S++)r.push(c),t.blueprint.push(c),t.data.push(null);return v}function y1(t,r,o,c,v){const S=Os(),x=2&c;try{bl(-1),x&&r.length>Ri&&m1(t,r,Ri,!1),$o(x?2:0,v),o(c,v)}finally{bl(S),$o(x?3:1,v)}}function nm(t,r,o){if(Xa(r)){const c=m(null);try{const S=r.directiveEnd;for(let x=r.directiveStart;x<S;x++){const H=t.data[x];H.contentQueries&&H.contentQueries(1,o[x],x)}}finally{m(c)}}}function im(t,r,o){jg()&&(function VC(t,r,o,c){const v=o.directiveStart,S=o.directiveEnd;ia(o)&&function S1(t,r,o){const c=Go(r,t),v=_1(o);let x=16;o.signals?x=4096:o.onPush&&(x=64);const H=Fl(t,Kh(t,v,null,x,c,r,null,t[ni].rendererFactory.createRenderer(c,o),null,null,null));t[r.index]=H}(r,o,t.data[v+o.componentOffset]),t.firstCreatePass||Yc(o,r),No(c,r);const x=o.initialInputs;for(let H=v;H<S;H++){const ie=t.data[H],Se=vc(r,t,H,o);No(Se,r),null!==x&&KC(0,H-v,Se,ie,0,x),uo(ie)&&(ma(o.index,r)[an]=vc(r,t,H,o))}}(t,r,o,Go(o,r)),!(64&~o.flags)&&jC(t,r,o))}function rm(t,r,o=Go){const c=r.localNames;if(null!==c){let v=r.index+1;for(let S=0;S<c.length;S+=2){const x=c[S+1],H=-1===x?o(r,t):t[x];t[v++]=H}}}function _1(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=sm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function sm(t,r,o,c,v,S,x,H,ie,Se,He){const dt=Ri+c,Wt=dt+v,Qt=function kC(t,r){const o=[];for(let c=0;c<r;c++)o.push(c<t?null:Ki);return o}(dt,Wt),dn="function"==typeof Se?Se():Se;return Qt[F]={type:t,blueprint:Qt,template:o,queries:null,viewQuery:H,declTNode:r,data:Qt.slice().fill(null,dt),bindingStartIndex:dt,expandoStartIndex:Wt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof S?S():S,pipeRegistry:"function"==typeof x?x():x,firstChild:null,schemas:ie,consts:dn,incompleteFirstPass:!1,ssrId:He}}let b1=()=>null;function PC(t,r,o,c,v){for(let S in r){if(!r.hasOwnProperty(S))continue;const x=r[S];if(void 0===x)continue;c??={};let H,ie=zr.None;Array.isArray(x)?(H=x[0],ie=x[1]):H=x;let Se=S;if(null!==v){if(!v.hasOwnProperty(S))continue;Se=v[S]}0===t?BC(c,o,Se,H,ie):BC(c,o,Se,H)}return c}function BC(t,r,o,c,v){let S;t.hasOwnProperty(o)?(S=t[o]).push(r,c):S=t[o]=[r,c],void 0!==v&&S.push(v)}function Ea(t,r,o,c,v,S,x,H){const ie=Go(r,o);let He,Se=r.inputs;!H&&null!=Se&&(He=Se[c])?(dm(t,o,He,c,v),ia(r)&&function LC(t,r){const o=ma(r,t);16&o[de]||(o[de]|=64)}(o,r.index)):3&r.type&&(c=function mI(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(c),v=null!=x?x(v,r.value||"",c):v,S.setProperty(ie,c,v))}function om(t,r,o,c){if(jg()){const v=null===c?null:{"":-1},S=function GC(t,r){const o=t.directiveRegistry;let c=null,v=null;if(o)for(let S=0;S<o.length;S++){const x=o[S];if(Je(r,x.selectors,!1))if(c||(c=[]),uo(x))if(null!==x.findHostDirectiveDefs){const H=[];v=v||new Map,x.findHostDirectiveDefs(x,H,v),c.unshift(...H,x),w1(t,r,H.length)}else c.unshift(x),w1(t,r,0);else v=v||new Map,x.findHostDirectiveDefs?.(x,c,v),c.push(x)}return null===c?null:[c,v]}(t,o);let x,H;null===S?x=H=null:[x,H]=S,null!==x&&C1(t,r,o,x,v,H),v&&function HC(t,r,o){if(r){const c=t.localNames=[];for(let v=0;v<r.length;v+=2){const S=o[r[v+1]];if(null==S)throw new Be(-301,!1);c.push(r[v],S)}}}(o,c,v)}o.mergedAttrs=he(o.mergedAttrs,o.attrs)}function C1(t,r,o,c,v,S){for(let Se=0;Se<c.length;Se++)Rl(Yc(o,r),t,c[Se].type);!function WC(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,c.length);for(let Se=0;Se<c.length;Se++){const He=c[Se];He.providersResolver&&He.providersResolver(He)}let x=!1,H=!1,ie=Md(t,r,c.length,null);for(let Se=0;Se<c.length;Se++){const He=c[Se];o.mergedAttrs=he(o.mergedAttrs,He.hostAttrs),_I(t,o,r,ie,He),yI(ie,He,v),null!==He.contentQueries&&(o.flags|=4),(null!==He.hostBindings||null!==He.hostAttrs||0!==He.hostVars)&&(o.flags|=64);const dt=He.type.prototype;!x&&(dt.ngOnChanges||dt.ngOnInit||dt.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),x=!0),!H&&(dt.ngOnChanges||dt.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),H=!0),ie++}!function pI(t,r,o){const v=r.directiveEnd,S=t.data,x=r.attrs,H=[];let ie=null,Se=null;for(let He=r.directiveStart;He<v;He++){const dt=S[He],Wt=o?o.get(dt):null,dn=Wt?Wt.outputs:null;ie=PC(0,dt.inputs,He,ie,Wt?Wt.inputs:null),Se=PC(1,dt.outputs,He,Se,dn);const Dn=null===ie||null===x||Di(r)?null:aa(ie,He,x);H.push(Dn)}null!==ie&&(ie.hasOwnProperty("class")&&(r.flags|=8),ie.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=H,r.inputs=ie,r.outputs=Se}(t,o,S)}function jC(t,r,o){const c=o.directiveStart,v=o.directiveEnd,S=o.index,x=function q_(){return Li.lFrame.currentDirectiveIndex}();try{bl(S);for(let H=c;H<v;H++){const ie=t.data[H],Se=r[H];ip(H),(null!==ie.hostBindings||0!==ie.hostVars||null!==ie.hostAttrs)&&$C(ie,Se)}}finally{bl(-1),ip(x)}}function $C(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function w1(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function yI(t,r,o){if(o){if(r.exportAs)for(let c=0;c<r.exportAs.length;c++)o[r.exportAs[c]]=t;uo(r)&&(o[""]=t)}}function _I(t,r,o,c,v){t.data[c]=v;const S=v.factory||(v.factory=Zr(v.type)),x=new Hc(S,uo(v),fu);t.blueprint[c]=x,o[c]=x,function gI(t,r,o,c,v){const S=v.hostBindings;if(S){let x=t.hostBindingOpCodes;null===x&&(x=t.hostBindingOpCodes=[]);const H=~r.index;(function vI(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(x)!=H&&x.push(H),x.push(o,c,S)}}(t,r,c,Md(t,o,v.hostVars,Ki),v)}function Ta(t,r,o,c,v,S){const x=Go(t,r);!function am(t,r,o,c,v,S,x){if(null==S)t.removeAttribute(r,v,o);else{const H=null==x?Wn(S):x(S,c||"",v);t.setAttribute(r,v,H,o)}}(r[jn],x,S,t.value,o,c,v)}function KC(t,r,o,c,v,S){const x=S[r];if(null!==x)for(let H=0;H<x.length;)v1(c,o,x[H++],x[H++],x[H++],x[H++])}function aa(t,r,o){let c=null,v=0;for(;v<o.length;){const S=o[v];if(0!==S)if(5!==S){if("number"==typeof S)break;if(t.hasOwnProperty(S)){null===c&&(c=[]);const x=t[S];for(let H=0;H<x.length;H+=3)if(x[H]===r){c.push(S,x[H+1],x[H+2],o[v+1]);break}}v+=2}else v+=2;else v+=4}return c}function zC(t,r,o,c){return[t,!0,0,r,null,c,null,o,null,null]}function E1(t,r){const o=t.contentQueries;if(null!==o){const c=m(null);try{for(let v=0;v<o.length;v+=2){const x=o[v+1];if(-1!==x){const H=t.data[x];vh(o[v]),H.contentQueries(2,r[x],x)}}}finally{m(c)}}}function Fl(t,r){return t[br]?t[vi][rt]=r:t[br]=r,t[vi]=r,r}function po(t,r,o){vh(0);const c=m(null);try{r(t,o)}finally{m(c)}}function tc(t){return t[nn]||(t[nn]=[])}function lm(t){return t.cleanup||(t.cleanup=[])}function cm(t,r,o){return(null===t||uo(t))&&(o=function Jf(t){for(;Array.isArray(t);){if("object"==typeof t[Na])return t;t=t[pe]}return null}(o[r.index])),o[jn]}function um(t,r){const o=t[wn],c=o?o.get(Ml,null):null;c&&c.handleError(r)}function dm(t,r,o,c,v){for(let S=0;S<o.length;){const x=o[S++],H=o[S++],ie=o[S++];v1(t.data[x],r[x],c,H,ie,v)}}function la(t,r,o){const c=Qu(r,t);!function Z0(t,r,o){t.setValue(r,o)}(t[jn],c,o)}function YC(t,r){const o=ma(r,t),c=o[F];!function bI(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(c,o);const v=o[pe];null!==v&&null===o[Vt]&&(o[Vt]=el(v,o[wn])),zh(c,o,o[an])}function zh(t,r,o){op(r);try{const c=t.viewQuery;null!==c&&po(1,c,o);const v=t.template;null!==v&&y1(t,r,v,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),r[ls]?.finishViewCreation(t),t.staticContentQueries&&E1(t,r),t.staticViewQueries&&po(2,t.viewQuery,o);const S=t.components;null!==S&&function XC(t,r){for(let o=0;o<r.length;o++)YC(t,r[o])}(r,S)}catch(c){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),c}finally{r[de]&=-5,Xg()}}function xd(t,r,o,c){const v=m(null);try{const S=r.tView,ie=Kh(t,S,o,4096&t[de]?4096:16,null,r,null,null,c?.injector??null,c?.embeddedViewInjector??null,c?.dehydratedView??null);ie[ws]=t[r.index];const He=t[ls];return null!==He&&(ie[ls]=He.createEmbeddedView(S)),zh(S,ie,o),ie}finally{m(v)}}function mu(t,r){const o=Ss+r;if(o<t.length)return t[o]}function Io(t,r){return!r||null===r.firstChild||Zc(t)}function Yh(t,r,o,c=!0){const v=r[F];if(function wC(t,r,o,c){const v=Ss+c,S=o.length;c>0&&(o[v-1][rt]=r),c<S-Ss?(r[rt]=o[v],Bo(o,Ss+c,r)):(o.push(r),r[rt]=null),r[Me]=o;const x=r[ws];null!==x&&o!==x&&function SC(t,r){const o=t[Ya];r[Dr]!==r[Me][Me][Dr]&&(t[de]|=Ar.HasTransplantedViews),null===o?t[Ya]=[r]:o.push(r)}(x,r);const H=r[ls];null!==H&&H.insertView(t),qf(r),r[de]|=128}(v,r,t,o),c){const x=Zp(o,t),H=r[jn],ie=Gh(H,t[jo]);null!==ie&&function bC(t,r,o,c,v,S){c[pe]=v,c[Nt]=r,Wh(t,c,o,1,v,S)}(v,t[Nt],H,r,ie,x)}const S=r[Vt];null!==S&&null!==S.firstChild&&(S.firstChild=null)}function hm(t,r){const o=Dd(t,r);return void 0!==o&&$h(o[F],o),o}function kd(t,r,o,c,v=!1){for(;null!==o;){const S=r[o.index];null!==S&&c.push(Cr(S)),ns(S)&&T1(S,c);const x=o.type;if(8&x)kd(t,r,o.child,c);else if(32&x){const H=Kp(o,r);let ie;for(;ie=H();)c.push(ie)}else if(16&x){const H=c1(r,o);if(Array.isArray(H))c.push(...H);else{const ie=dc(r[Dr]);kd(ie[F],ie,H,c,!0)}}o=v?o.projectionNext:o.next}return c}function T1(t,r){for(let o=Ss;o<t.length;o++){const c=t[o],v=c[F].firstChild;null!==v&&kd(c[F],c,v,r)}t[jo]!==t[pe]&&r.push(t[jo])}let fm=[];const D1={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Es(t.lView)},consumerOnSignalRead(){this.lView[Vo]=this}},A1=100;function Xh(t,r=!0,o=0){const c=t[ni],v=c.rendererFactory;v.begin?.();try{!function Tc(t,r){x1(t,r);let o=0;for(;Zf(t);){if(o===A1)throw new Be(103,!1);o++,x1(t,1)}}(t,o)}catch(x){throw r&&um(t,x),x}finally{v.end?.(),c.inlineEffectRunner?.flush()}}function CI(t,r,o,c){const v=r[de];if(!(256&~v))return;r[ni].inlineEffectRunner?.flush(),op(r);let x=null,H=null;(function M1(t){return 2!==t.type})(t)&&(H=function JC(t){return t[Vo]??function QC(t){const r=fm.pop()??Object.create(D1);return r.lView=t,r}(t)}(r),x=function R(t){return t&&(t.nextProducerIndex=0),m(t)}(H));try{Lg(r),function Wg(t){return Li.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&y1(t,r,o,2,c);const ie=!(3&~v);if(ie){const dt=t.preOrderCheckHooks;null!==dt&&Kl(r,dt,null)}else{const dt=t.preOrderHooks;null!==dt&&zl(r,dt,0,null),pc(r,0)}if(function wI(t){for(let r=b0(t);null!==r;r=C0(r)){if(!(r[de]&Ar.HasTransplantedViews))continue;const o=r[Ya];for(let c=0;c<o.length;c++){z_(o[c])}}}(r),ZC(r,0),null!==t.contentQueries&&E1(t,r),ie){const dt=t.contentCheckHooks;null!==dt&&Kl(r,dt)}else{const dt=t.contentHooks;null!==dt&&zl(r,dt,1),pc(r,1)}!function xC(t,r){const o=t.hostBindingOpCodes;if(null!==o)try{for(let c=0;c<o.length;c++){const v=o[c];if(v<0)bl(~v);else{const S=v,x=o[++c],H=o[++c];Z_(x,S),H(2,r[S])}}}finally{bl(-1)}}(t,r);const Se=t.components;null!==Se&&mm(r,Se,0);const He=t.viewQuery;if(null!==He&&po(2,He,c),ie){const dt=t.viewCheckHooks;null!==dt&&Kl(r,dt)}else{const dt=t.viewHooks;null!==dt&&zl(r,dt,2),pc(r,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[ts]){for(const dt of r[ts])dt();r[ts]=null}r[de]&=-73}catch(ie){throw Es(r),ie}finally{null!==H&&(function j(t,r){if(m(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(L(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)se(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(H,x),function I1(t){t.lView[Vo]!==t&&(t.lView=null,fm.push(t))}(H)),Xg()}}function ZC(t,r){for(let o=b0(t);null!==o;o=C0(o))for(let c=Ss;c<o.length;c++)pm(o[c],r)}function SI(t,r,o){pm(ma(r,t),o)}function pm(t,r){Qf(t)&&x1(t,r)}function x1(t,r){const c=t[F],v=t[de],S=t[Vo];let x=!!(0===r&&16&v);if(x||=!!(64&v&&0===r),x||=!!(1024&v),x||=!(!S?.dirty||!U(S)),S&&(S.dirty=!1),t[de]&=-9217,x)CI(c,t,c.template,t[an]);else if(8192&v){ZC(t,1);const H=c.components;null!==H&&mm(t,H,1)}}function mm(t,r,o){for(let c=0;c<r.length;c++)SI(t,r[c],o)}function gu(t){for(t[ni].changeDetectionScheduler?.notify();t;){t[de]|=64;const r=dc(t);if(Ja(t)&&!r)return t;t=r}return null}class Pl{get rootNodes(){const r=this._lView,o=r[F];return kd(o,r,o.firstChild,[])}constructor(r,o,c=!0){this._lView=r,this._cdRefInjectingView=o,this.notifyErrorHandler=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(r){this._lView[an]=r}get destroyed(){return!(256&~this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[Me];if(ns(r)){const o=r[8],c=o?o.indexOf(this):-1;c>-1&&(Dd(r,c),Qo(o,c))}this._attachedToViewContainer=!1}$h(this._lView[F],this._lView)}onDestroy(r){Vc(this._lView,r)}markForCheck(){gu(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){qf(this._lView),this._lView[de]|=128}detectChanges(){this._lView[de]|=1024,Xh(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,e1(this._lView[F],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=r,qf(this._lView)}}let nc=(()=>{class t{static{this.__NG_ELEMENT_ID__=II}}return t})();const EI=nc,TI=class extends EI{constructor(r,o,c){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,c){const v=xd(this._declarationLView,this._declarationTContainer,r,{embeddedViewInjector:o,dehydratedView:c});return new Pl(v)}};function II(){return gm(Ur(),_n())}function gm(t,r){return 4&t.type?new TI(r,t,Qc(t,r)):null}let Sm=()=>null;function Ac(t,r){return Sm(t,r)}class af{}class lw{}class j1{}class uw{resolveComponentFactory(r){throw function cw(t){const r=Error(`No component factory found for ${kn(t)}.`);return r.ngComponent=t,r}(r)}}let Bd=(()=>{class t{static{this.NULL=new uw}}return t})();class G1{}let dw=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function H1(){const t=_n(),o=ma(Ur().index,t);return(wi(o)?o:t)[jn]}()}}return t})(),W1=(()=>{class t{static{this.\u0275prov=ii({token:t,providedIn:"root",factory:()=>null})}}return t})();const lf={},Em=new Set;function El(t){Em.has(t)||(Em.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Tm(...t){}class qs{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Cl(!1),this.onMicrotaskEmpty=new Cl(!1),this.onStable=new Cl(!1),this.onError=new Cl(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!c&&o,v.shouldCoalesceRunChangeDetection=c,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function K1(){const t="function"==typeof gt.requestAnimationFrame;let r=gt[t?"requestAnimationFrame":"setTimeout"],o=gt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const c=r[Zone.__symbol__("OriginalDelegate")];c&&(r=c);const v=o[Zone.__symbol__("OriginalDelegate")];v&&(o=v)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function PI(t){const r=()=>{!function FI(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(gt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Y1(t),t.isCheckStableRunning=!0,z1(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Y1(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,v,S,x,H)=>{if(function BI(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(H))return o.invokeTask(v,S,x,H);try{return hw(t),o.invokeTask(v,S,x,H)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===S.type||t.shouldCoalesceRunChangeDetection)&&r(),fw(t)}},onInvoke:(o,c,v,S,x,H,ie)=>{try{return hw(t),o.invoke(v,S,x,H,ie)}finally{t.shouldCoalesceRunChangeDetection&&r(),fw(t)}},onHasTask:(o,c,v,S)=>{o.hasTask(v,S),c===v&&("microTask"==S.change?(t._hasPendingMicrotasks=S.microTask,Y1(t),z1(t)):"macroTask"==S.change&&(t.hasPendingMacrotasks=S.macroTask))},onHandleError:(o,c,v,S)=>(o.handleError(v,S),t.runOutsideAngular(()=>t.onError.emit(S)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!qs.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(qs.isInAngularZone())throw new Be(909,!1)}run(r,o,c){return this._inner.run(r,o,c)}runTask(r,o,c,v){const S=this._inner,x=S.scheduleEventTask("NgZoneEvent: "+v,r,OI,Tm,Tm);try{return S.runTask(x,o,c)}finally{S.cancelTask(x)}}runGuarded(r,o,c){return this._inner.runGuarded(r,o,c)}runOutsideAngular(r){return this._outer.run(r)}}const OI={};function z1(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Y1(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function hw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function fw(t){t._nesting--,z1(t)}class pw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Cl,this.onMicrotaskEmpty=new Cl,this.onStable=new Cl,this.onError=new Cl}run(r,o,c){return r.apply(o,c)}runGuarded(r,o,c){return r.apply(o,c)}runOutsideAngular(r){return r()}runTask(r,o,c,v){return r.apply(o,c)}}var yu=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(yu||{});const mw={destroy(){}};function gw(t,r){!r&&Cs();const o=r?.injector??Kn(Ko);if(!function ec(t){return"browser"===(t??Kn(Ko)).get(wp)}(o))return mw;El("NgAfterNextRender");const c=o.get(cf),v=c.handler??=new yw,S=r?.phase??yu.MixedReadWrite,x=()=>{v.unregister(ie),H()},H=o.get(yc).onDestroy(x),ie=ks(o,()=>new vw(S,()=>{x(),t()}));return v.register(ie),{destroy:x}}class vw{constructor(r,o){this.phase=r,this.callbackFn=o,this.zone=Kn(qs),this.errorHandler=Kn(Ml,{optional:!0}),Kn(af,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(r){this.errorHandler?.handleError(r)}}}class yw{constructor(){this.executingCallbacks=!1,this.buckets={[yu.EarlyRead]:new Set,[yu.Write]:new Set,[yu.MixedReadWrite]:new Set,[yu.Read]:new Set},this.deferredCallbacks=new Set}register(r){(this.executingCallbacks?this.deferredCallbacks:this.buckets[r.phase]).add(r)}unregister(r){this.buckets[r.phase].delete(r),this.deferredCallbacks.delete(r)}execute(){this.executingCallbacks=!0;for(const r of Object.values(this.buckets))for(const o of r)o.invoke();this.executingCallbacks=!1;for(const r of this.deferredCallbacks)this.buckets[r.phase].add(r);this.deferredCallbacks.clear()}destroy(){for(const r of Object.values(this.buckets))r.clear();this.deferredCallbacks.clear()}}let cf=(()=>{class t{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const o=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const c of o)c()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=ii({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Bl(t){return!!Tr(t)}function rc(t,r,o){let c=o?t.styles:null,v=o?t.classes:null,S=0;if(null!==r)for(let x=0;x<r.length;x++){const H=r[x];"number"==typeof H?S=H:1==S?v=Bn(v,H):2==S&&(c=Bn(c,H+": "+r[++x]+";"))}o?t.styles=c:t.stylesWithoutHost=c,o?t.classes=v:t.classesWithoutHost=v}class Ud extends Bd{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=ki(r);return new Vd(o,this.ngModule)}}function Rm(t){const r=[];for(const o in t){if(!t.hasOwnProperty(o))continue;const c=t[o];void 0!==c&&r.push({propName:Array.isArray(c)?c[0]:c,templateName:o})}return r}class uf{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,c){c=Wr(c);const v=this.injector.get(r,lf,c);return v!==lf||o===lf?v:this.parentInjector.get(r,o,c)}}class Vd extends j1{get inputs(){const r=this.componentDef,o=r.inputTransforms,c=Rm(r.inputs);if(null!==o)for(const v of c)o.hasOwnProperty(v.propName)&&(v.transform=o[v.propName]);return c}get outputs(){return Rm(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function qn(t){return t.map(en).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,c,v){const S=m(null);try{let x=(v=v||this.ngModule)instanceof Ir?v:v?.injector;x&&null!==this.componentDef.getStandaloneInjector&&(x=this.componentDef.getStandaloneInjector(x)||x);const H=x?new uf(r,x):r,ie=H.get(G1,null);if(null===ie)throw new Be(407,!1);const Se=H.get(W1,null),Wt={rendererFactory:ie,sanitizer:Se,inlineEffectRunner:null,afterRenderEventManager:H.get(cf,null),changeDetectionScheduler:H.get(af,null)},Qt=ie.createRenderer(null,this.componentDef),dn=this.componentDef.selectors[0][0]||"div",Dn=c?function NC(t,r,o,c){const S=c.get(Mp,!1)||o===jr.ShadowDom,x=t.selectRootElement(r,S);return function OC(t){b1(t)}(x),x}(Qt,c,this.componentDef.encapsulation,H):zp(Qt,dn,function _w(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(dn));let Pn=512;this.componentDef.signals?Pn|=4096:this.componentDef.onPush||(Pn|=16);let Xn=null;null!==Dn&&(Xn=el(Dn,H,!0));const xn=sm(0,null,null,1,0,null,null,null,null,null,null),Bi=Kh(null,xn,null,Pn,null,null,Wt,Qt,H,null,Xn);let Rr,hs;op(Bi);try{const Ro=this.componentDef;let $a,Yf=null;Ro.findHostDirectiveDefs?($a=[],Yf=new Map,Ro.findHostDirectiveDefs(Ro,$a,Yf),$a.push(Ro)):$a=[Ro];const Y2=function _u(t,r){const o=t[F],c=Ri;return t[c]=r,pu(o,c,2,"#host",null)}(Bi,Dn),sM=function Mc(t,r,o,c,v,S,x){const H=v[F];!function jd(t,r,o,c){for(const v of t)r.mergedAttrs=he(r.mergedAttrs,v.hostAttrs);null!==r.mergedAttrs&&(rc(r,r.mergedAttrs,!0),null!==o&&f1(c,o,r))}(c,t,r,x);let ie=null;null!==r&&(ie=el(r,v[wn]));const Se=S.rendererFactory.createRenderer(r,o);let He=16;o.signals?He=4096:o.onPush&&(He=64);const dt=Kh(v,_1(o),null,He,v[t.index],t,S,Se,null,null,ie);return H.firstCreatePass&&w1(H,t,c.length-1),Fl(v,dt),v[t.index]=dt}(Y2,Dn,Ro,$a,Bi,Wt,Qt);hs=Zu(xn,Ri),Dn&&function Z1(t,r,o,c){if(c)ys(t,o,["ng-version","17.3.3"]);else{const{attrs:v,classes:S}=function Nn(t){const r=[],o=[];let c=1,v=2;for(;c<t.length;){let S=t[c];if("string"==typeof S)2===v?""!==S&&r.push(S,t[++c]):8===v&&o.push(S);else{if(!Zn(v))break;v=S}c++}return{attrs:r,classes:o}}(r.selectors[0]);v&&ys(t,o,v),S&&S.length>0&&h1(t,o,S.join(" "))}}(Qt,Ro,Dn,c),void 0!==o&&function hf(t,r,o){const c=t.projection=[];for(let v=0;v<r.length;v++){const S=o[v];c.push(null!=S?Array.from(S):null)}}(hs,this.ngContentSelectors,o),Rr=function df(t,r,o,c,v,S){const x=Ur(),H=v[F],ie=Go(x,v);C1(H,v,x,o,null,c);for(let He=0;He<o.length;He++)No(vc(v,H,x.directiveStart+He,x),v);jC(H,v,x),ie&&No(ie,v);const Se=vc(v,H,x.directiveStart+x.componentOffset,x);if(t[an]=v[an]=Se,null!==S)for(const He of S)He(Se,r);return nm(H,x,v),Se}(sM,Ro,$a,Yf,Bi,[xc]),zh(xn,Bi,null)}finally{Xg()}return new bw(this.componentType,Rr,Qc(hs,Bi),Bi,hs)}finally{m(S)}}}class bw extends lw{constructor(r,o,c,v,S){super(),this.location=c,this._rootLView=v,this._tNode=S,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new Pl(v,void 0,!1),this.componentType=r}setInput(r,o){const c=this._tNode.inputs;let v;if(null!==c&&(v=c[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const S=this._rootLView;dm(S[F],S,v,r,o),this.previousInputValues.set(r,o),gu(ma(this._tNode.index,S))}}get injector(){return new fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function xc(){const t=Ur();Gc(_n()[F],t)}let $d=(()=>{class t{static{this.__NG_ELEMENT_ID__=VI}}return t})();function VI(){return Sw(Ur(),_n())}const jI=$d,Cw=class extends jI{constructor(r,o,c){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=c}get element(){return Qc(this._hostTNode,this._hostLView)}get injector(){return new fo(this._hostTNode,this._hostLView)}get parentInjector(){const r=pr(this._hostTNode,this._hostLView);if(od(r)){const o=mc(r,this._hostLView),c=zc(r);return new fo(o[F].data[c+8],o)}return new fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=ww(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Ss}createEmbeddedView(r,o,c){let v,S;"number"==typeof c?v=c:null!=c&&(v=c.index,S=c.injector);const x=Ac(this._lContainer,r.ssrId),H=r.createEmbeddedViewImpl(o||{},S,x);return this.insertImpl(H,v,Io(this._hostTNode,x)),H}createComponent(r,o,c,v,S){const x=r&&!function En(t){return"function"==typeof t}(r);let H;if(x)H=o;else{const dn=o||{};H=dn.index,c=dn.injector,v=dn.projectableNodes,S=dn.environmentInjector||dn.ngModuleRef}const ie=x?r:new Vd(ki(r)),Se=c||this.parentInjector;if(!S&&null==ie.ngModule){const Dn=(x?Se:this.parentInjector).get(Ir,null);Dn&&(S=Dn)}const He=ki(ie.componentType??{}),dt=Ac(this._lContainer,He?.id??null),Qt=ie.create(Se,v,dt?.firstChild??null,S);return this.insertImpl(Qt.hostView,H,Io(this._hostTNode,dt)),Qt}insert(r,o){return this.insertImpl(r,o,!0)}insertImpl(r,o,c){const v=r._lView;if(function K_(t){return ns(t[Me])}(v)){const H=this.indexOf(r);if(-1!==H)this.detach(H);else{const ie=v[Me],Se=new Cw(ie,ie[Nt],ie[Me]);Se.detach(Se.indexOf(r))}}const S=this._adjustIndex(o),x=this._lContainer;return Yh(x,v,S,c),r.attachToViewContainerRef(),Bo(q1(x),S,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=ww(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),c=Dd(this._lContainer,o);c&&(Qo(q1(this._lContainer),o),$h(c[F],c))}detach(r){const o=this._adjustIndex(r,-1),c=Dd(this._lContainer,o);return c&&null!=Qo(q1(this._lContainer),o)?new Pl(c):null}_adjustIndex(r,o=0){return r??this.length+o}};function ww(t){return t[8]}function q1(t){return t[8]||(t[8]=[])}function Sw(t,r){let o;const c=r[t.index];return ns(c)?o=c:(o=zC(c,r,null,t),r[t.index]=o,Fl(r,o)),Ew(o,r,t,c),new Cw(o,t,r)}let Ew=function Iw(t,r,o,c){if(t[jo])return;let v;v=8&o.type?Cr(c):function $I(t,r){const o=t[jn],c=o.createComment(""),v=Go(r,t);return Ec(o,Gh(o,v),c,function DC(t,r){return t.nextSibling(r)}(o,v),!1),c}(r,o),t[jo]=v},ev=()=>!1;class Mm{constructor(r){this.queryList=r,this.matches=null}clone(){return new Mm(this.queryList)}setDirty(){this.queryList.setDirty()}}class xm{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const c=null!==r.contentQueries?r.contentQueries[0]:o.length,v=[];for(let S=0;S<c;S++){const x=o.getByIndex(S);v.push(this.queries[x.indexInDeclarationView].clone())}return new xm(v)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}finishViewCreation(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==sv(r,o).matches&&this.queries[o].setDirty()}}class Dw{constructor(r,o,c=null){this.flags=o,this.read=c,this.predicate="string"==typeof r?function zI(t){return t.split(",").map(r=>r.trim())}(r):r}}class ff{constructor(r=[]){this.queries=r}elementStart(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let c=0;c<this.length;c++){const v=null!==o?o.length:0,S=this.getByIndex(c).embeddedTView(r,v);S&&(S.indexInDeclarationView=c,null!==o?o.push(S):o=[S])}return null!==o?new ff(o):null}template(r,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class nv{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new nv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1&~this.metadata.flags){const o=this._declarationNodeIndex;let c=r.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let v=0;v<c.length;v++){const S=c[v];this.matchTNodeWithReadOption(r,o,km(o,S)),this.matchTNodeWithReadOption(r,o,_h(o,r,S,!1,!1))}else c===nc?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,_h(o,r,c,!1,!1))}matchTNodeWithReadOption(r,o,c){if(null!==c){const v=this.metadata.read;if(null!==v)if(v===Ql||v===$d||v===nc&&4&o.type)this.addMatch(o.index,-2);else{const S=_h(o,r,v,!1,!1);null!==S&&this.addMatch(o.index,S)}else this.addMatch(o.index,c)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function km(t,r){const o=t.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===r)return o[c+1];return null}function KI(t,r,o,c){return-1===o?function WI(t,r){return 11&t.type?Qc(t,r):4&t.type?gm(t,r):null}(r,t):-2===o?function iv(t,r,o){return o===Ql?Qc(r,t):o===nc?gm(r,t):o===$d?Sw(r,t):void 0}(t,r,c):vc(t,t[F],o,r)}function rv(t,r,o,c){const v=r[ls].queries[c];if(null===v.matches){const S=t.data,x=o.matches,H=[];for(let ie=0;null!==x&&ie<x.length;ie+=2){const Se=x[ie];H.push(Se<0?null:KI(r,S[Se],x[ie+1],o.metadata.read))}v.matches=H}return v.matches}function Nm(t,r,o,c){const v=t.queries.getByIndex(o),S=v.matches;if(null!==S){const x=rv(t,r,v,o);for(let H=0;H<S.length;H+=2){const ie=S[H];if(ie>0)c.push(x[H/2]);else{const Se=S[H+1],He=r[-ie];for(let dt=Ss;dt<He.length;dt++){const Wt=He[dt];Wt[ws]===Wt[Me]&&Nm(Wt[F],Wt,Se,c)}if(null!==He[Ya]){const dt=He[Ya];for(let Wt=0;Wt<dt.length;Wt++){const Qt=dt[Wt];Nm(Qt[F],Qt,Se,c)}}}}}return c}function Aw(t,r,o){const c=new ba(!(4&~o));return function fI(t,r,o,c){const v=tc(r);v.push(o),t.firstCreatePass&&lm(t).push(c,v.length-1)}(t,r,c,c.destroy),(r[ls]??=new xm).queries.push(new Mm(c))-1}function xw(t,r,o){null===t.queries&&(t.queries=new ff),t.queries.track(new nv(r,o))}function sv(t,r){return t.queries.getByIndex(r)}function Fm(t,r){const o=t[F],c=sv(o,r);return c.crossesNgTemplate?Nm(o,t,r,[]):rv(o,t,c,r)}function Bm(t){return function ov(t){return"function"==typeof t&&void 0!==t[C]}(t)&&"function"==typeof t.set}function $m(t){let r=function yv(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),o=!0;const c=[t];for(;r;){let v;if(uo(t))v=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Be(903,!1);v=r.\u0275dir}if(v){if(o){c.push(v);const x=t;x.inputs=Gm(t.inputs),x.inputTransforms=Gm(t.inputTransforms),x.declaredInputs=Gm(t.declaredInputs),x.outputs=Gm(t.outputs);const H=v.hostBindings;H&&_v(t,H);const ie=v.viewQuery,Se=v.contentQueries;if(ie&&lD(t,ie),Se&&cD(t,Se),oD(t,v),Mn(t.outputs,v.outputs),uo(v)&&v.data.animation){const He=t.data;He.animation=(He.animation||[]).concat(v.data.animation)}}const S=v.features;if(S)for(let x=0;x<S.length;x++){const H=S[x];H&&H.ngInherit&&H(t),H===$m&&(o=!1)}}r=Object.getPrototypeOf(r)}!function aD(t){let r=0,o=null;for(let c=t.length-1;c>=0;c--){const v=t[c];v.hostVars=r+=v.hostVars,v.hostAttrs=he(v.hostAttrs,o=he(o,v.hostAttrs))}}(c)}function oD(t,r){for(const o in r.inputs){if(!r.inputs.hasOwnProperty(o)||t.inputs.hasOwnProperty(o))continue;const c=r.inputs[o];if(void 0!==c&&(t.inputs[o]=c,t.declaredInputs[o]=r.declaredInputs[o],null!==r.inputTransforms)){const v=Array.isArray(c)?c[0]:c;if(!r.inputTransforms.hasOwnProperty(v))continue;t.inputTransforms??={},t.inputTransforms[v]=r.inputTransforms[v]}}}function Gm(t){return t===Ds?{}:t===ci?[]:t}function lD(t,r){const o=t.viewQuery;t.viewQuery=o?(c,v)=>{r(c,v),o(c,v)}:r}function cD(t,r){const o=t.contentQueries;t.contentQueries=o?(c,v,S)=>{r(c,v,S),o(c,v,S)}:r}function _v(t,r){const o=t.hostBindings;t.hostBindings=o?(c,v)=>{r(c,v),o(c,v)}:r}function Hm(t){const r=o=>{const c=(Array.isArray(t)?t:t()).map(v=>"function"==typeof v?{directive:lt(v),inputs:Ds,outputs:Ds}:{directive:lt(v.directive),inputs:Ww(v.inputs),outputs:Ww(v.outputs)});null===o.hostDirectives?(o.findHostDirectiveDefs=Hw,o.hostDirectives=c):o.hostDirectives.unshift(...c)};return r.ngInherit=!0,r}function Hw(t,r,o){if(null!==t.hostDirectives)for(const c of t.hostDirectives){const v=zn(c.directive);bv(v.declaredInputs,c.inputs),Hw(v,r,o),o.set(v,c),r.push(v)}}function Ww(t){if(void 0===t||0===t.length)return Ds;const r={};for(let o=0;o<t.length;o+=2)r[t[o]]=t[o+1];return r}function bv(t,r){for(const o in r)r.hasOwnProperty(o)&&(t[r[o]]=t[o])}function Kw(t){const r=t.inputConfig,o={};for(const c in r)if(r.hasOwnProperty(c)){const v=r[c];Array.isArray(v)&&v[3]&&(o[c]=v[3])}t.inputTransforms=o}class wu{}class zw{}function pD(t,r){return new wv(t,r??null,[])}class wv extends wu{constructor(r,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ud(this);const v=Tr(r);this._bootstrapComponents=Sa(v.bootstrap),this._r3Injector=gp(r,o,[{provide:wu,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver},...c],kn(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Sv extends zw{constructor(r){super(),this.moduleType=r}create(r){return new wv(this.moduleType,r,[])}}class Wm extends wu{constructor(r){super(),this.componentFactoryResolver=new Ud(this),this.instance=null;const o=new yo([...r.providers,{provide:wu,useValue:this},{provide:Bd,useValue:this.componentFactoryResolver}],r.parent||bs(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Ev(t,r,o=null){return new Wm({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let zd=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Z.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Yd(t){return!!Tv(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Tv(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ll(t,r,o){return t[r]=o}function Su(t,r){return t[r]}function eo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function Eu(t,r,o,c){const v=eo(t,r,o);return eo(t,r+1,c)||v}function il(t,r,o,c,v,S){const x=Eu(t,r,o,c);return Eu(t,r+2,v,S)||x}function Xd(t,r,o,c,v,S,x,H){const ie=_n(),Se=ar(),He=t+Ri,dt=Se.firstCreatePass?function wD(t,r,o,c,v,S,x,H,ie){const Se=r.consts,He=pu(r,t,4,x||null,yl(Se,H));om(r,o,He,yl(Se,ie)),Gc(r,He);const dt=He.tView=sm(2,He,c,v,S,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Se,null);return null!==r.queries&&(r.queries.template(r,He),dt.queries=r.queries.embeddedTView(He)),He}(He,Se,ie,r,o,c,v,S,x):Se.data[He];_l(dt,!1);const Wt=Yw(Se,ie,dt,t);nd()&&Hh(Se,ie,Wt,dt),No(Wt,ie);const Qt=zC(Wt,ie,Wt,dt);return ie[He]=Qt,Fl(ie,Qt),function Tw(t,r,o){return ev(t,r,o)}(Qt,dt,ie),ra(dt)&&im(Se,ie,dt),null!=x&&rm(ie,dt,H),Xd}let Yw=function Xw(t,r,o,c){return ga(!0),r[jn].createComment("")};function ig(t,r,o,c){const v=_n();return eo(v,Za(),r)&&(ar(),Ta(cs(),v,t,r,o,c)),ig}function Mu(t,r,o,c){return eo(t,Za(),o)?r+Wn(o)+c:Ki}function xu(t,r,o,c,v,S){const H=Eu(t,function Dl(){return Li.lFrame.bindingIndex}(),o,v);return Al(2),H?r+Wn(o)+c+Wn(v)+S:Ki}function Df(t,r){return t<<17|r<<2}function cc(t){return t>>17&32767}function rg(t){return 2|t}function Oc(t){return(131068&t)>>2}function sg(t,r){return-131069&t|r<<2}function og(t){return 1|t}function zv(t,r,o,c){const v=t[o+1],S=null===r;let x=c?cc(v):Oc(v),H=!1;for(;0!==x&&(!1===H||S);){const Se=t[x+1];TS(t[x],r)&&(H=!0,t[x+1]=c?og(Se):rg(Se)),x=c?cc(Se):Oc(Se)}H&&(t[o+1]=c?rg(v):og(v))}function TS(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&os(t,r)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yv(t){return t.substring(mo.key,mo.keyEnd)}function Xv(t,r){const o=mo.textEnd;return o===r?-1:(r=mo.keyEnd=function Af(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,mo.key=r,o),Fc(t,r,o))}function Fc(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function lg(t,r,o){const c=_n();return eo(c,Za(),r)&&Ea(ar(),cs(),c,t,r,c[jn],o,!1),lg}function cg(t,r,o,c,v){const x=v?"class":"style";dm(t,o,r.inputs[x],x,c)}function ug(t,r,o){return ol(t,r,o,!1),ug}function dg(t,r){return ol(t,r,null,!0),dg}function Qv(t){al(PS,Il,t,!0)}function Il(t,r){for(let o=function DS(t){return function eh(t){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=t.length}(t),Xv(t,Fc(t,0,mo.textEnd))}(r);o>=0;o=Xv(r,o))sr(t,Yv(r),!0)}function ol(t,r,o,c){const v=_n(),S=ar(),x=Al(2);S.firstUpdatePass&&qv(S,t,x,c),r!==Ki&&eo(v,x,r)&&ty(S,S.data[Os()],v,v[jn],t,v[x+1]=function iy(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=kn(Ca(t)))),t}(r,o),c,x)}function al(t,r,o,c){const v=ar(),S=Al(2);v.firstUpdatePass&&qv(v,null,S,c);const x=_n();if(o!==Ki&&eo(x,S,o)){const H=v.data[Os()];if(ry(H,c)&&!Zv(v,S)){let ie=c?H.classesWithoutHost:H.stylesWithoutHost;null!==ie&&(o=Bn(ie,o||"")),cg(v,H,x,o,c)}else!function BS(t,r,o,c,v,S,x,H){v===Ki&&(v=ci);let ie=0,Se=0,He=0<v.length?v[0]:null,dt=0<S.length?S[0]:null;for(;null!==He||null!==dt;){const Wt=ie<v.length?v[ie+1]:void 0,Qt=Se<S.length?S[Se+1]:void 0;let Dn,dn=null;He===dt?(ie+=2,Se+=2,Wt!==Qt&&(dn=dt,Dn=Qt)):null===dt||null!==He&&He<dt?(ie+=2,dn=He):(Se+=2,dn=dt,Dn=Qt),null!==dn&&ty(t,r,o,c,dn,Dn,x,H),He=ie<v.length?v[ie]:null,dt=Se<S.length?S[Se]:null}}(v,H,x,x[jn],x[S+1],x[S+1]=function FS(t,r,o){if(null==o||""===o)return ci;const c=[],v=Ca(o);if(Array.isArray(v))for(let S=0;S<v.length;S++)t(c,v[S],!0);else if("object"==typeof v)for(const S in v)v.hasOwnProperty(S)&&t(c,S,v[S]);else"string"==typeof v&&r(c,v);return c}(t,r,o),c,S)}}function Zv(t,r){return r>=t.expandoStartIndex}function qv(t,r,o,c){const v=t.data;if(null===v[o+1]){const S=v[Os()],x=Zv(t,o);ry(S,c)&&null===r&&!x&&(r=!1),r=function xS(t,r,o,c){const v=rp(t);let S=c?r.residualClasses:r.residualStyles;if(null===v)0===(c?r.classBindings:r.styleBindings)&&(o=th(o=hg(null,t,r,o,c),r.attrs,c),S=null);else{const x=r.directiveStylingLast;if(-1===x||t[x]!==v)if(o=hg(v,t,r,o,c),null===S){let ie=function kS(t,r,o){const c=o?r.classBindings:r.styleBindings;if(0!==Oc(c))return t[cc(c)]}(t,r,c);void 0!==ie&&Array.isArray(ie)&&(ie=hg(null,t,r,ie[1],c),ie=th(ie,r.attrs,c),function NS(t,r,o,c){t[cc(o?r.classBindings:r.styleBindings)]=c}(t,r,c,ie))}else S=function OS(t,r,o){let c;const v=r.directiveEnd;for(let S=1+r.directiveStylingLast;S<v;S++)c=th(c,t[S].hostAttrs,o);return th(c,r.attrs,o)}(t,r,c)}return void 0!==S&&(c?r.residualClasses=S:r.residualStyles=S),o}(v,S,r,c),function SS(t,r,o,c,v,S){let x=S?r.classBindings:r.styleBindings,H=cc(x),ie=Oc(x);t[c]=o;let He,Se=!1;if(Array.isArray(o)?(He=o[1],(null===He||os(o,He)>0)&&(Se=!0)):He=o,v)if(0!==ie){const Wt=cc(t[H+1]);t[c+1]=Df(Wt,H),0!==Wt&&(t[Wt+1]=sg(t[Wt+1],c)),t[H+1]=function CS(t,r){return 131071&t|r<<17}(t[H+1],c)}else t[c+1]=Df(H,0),0!==H&&(t[H+1]=sg(t[H+1],c)),H=c;else t[c+1]=Df(ie,0),0===H?H=c:t[ie+1]=sg(t[ie+1],c),ie=c;Se&&(t[c+1]=rg(t[c+1])),zv(t,He,c,!0),zv(t,He,c,!1),function ES(t,r,o,c,v){const S=v?t.residualClasses:t.residualStyles;null!=S&&"string"==typeof r&&os(S,r)>=0&&(o[c+1]=og(o[c+1]))}(r,He,t,c,S),x=Df(H,ie),S?r.classBindings=x:r.styleBindings=x}(v,S,r,o,x,c)}}function hg(t,r,o,c,v){let S=null;const x=o.directiveEnd;let H=o.directiveStylingLast;for(-1===H?H=o.directiveStart:H++;H<x&&(S=r[H],c=th(c,S.hostAttrs,v),S!==t);)H++;return null!==t&&(o.directiveStylingLast=H),c}function th(t,r,o){const c=o?1:2;let v=-1;if(null!==r)for(let S=0;S<r.length;S++){const x=r[S];"number"==typeof x?v=x:v===c&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sr(t,x,!!o||r[++S]))}return void 0===t?null:t}function PS(t,r,o){const c=String(r);""!==c&&!c.includes(" ")&&sr(t,c,o)}function ty(t,r,o,c,v,S,x,H){if(!(3&r.type))return;const ie=t.data,Se=ie[H+1],He=function wS(t){return!(1&~t)}(Se)?ny(ie,r,o,v,Oc(Se),x):void 0;Rf(He)||(Rf(S)||function bS(t){return!(2&~t)}(Se)&&(S=ny(ie,null,o,v,H,x)),function em(t,r,o,c,v){if(r)v?t.addClass(o,c):t.removeClass(o,c);else{let S=-1===c.indexOf("-")?void 0:jh.DashCase;null==v?t.removeStyle(o,c,S):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),S|=jh.Important),t.setStyle(o,c,v,S))}}(c,x,Qu(Os(),o),v,S))}function ny(t,r,o,c,v,S){const x=null===r;let H;for(;v>0;){const ie=t[v],Se=Array.isArray(ie),He=Se?ie[1]:ie,dt=null===He;let Wt=o[v+1];Wt===Ki&&(Wt=dt?ci:void 0);let Qt=dt?Or(Wt,c):He===c?Wt:void 0;if(Se&&!Rf(Qt)&&(Qt=Or(ie,c)),Rf(Qt)&&(H=Qt,x))return H;const dn=t[v+1];v=x?cc(dn):Oc(dn)}if(null!==r){let ie=S?r.residualClasses:r.residualStyles;null!=ie&&(H=Or(ie,c))}return H}function Rf(t){return void 0!==t}function ry(t,r){return!!(t.flags&(r?8:16))}function sy(t,r,o){al(sr,Il,Mu(_n(),t,r,o),!0)}function oy(t,r,o,c,v){al(sr,Il,xu(_n(),t,r,o,c,v),!0)}class WS{destroy(r){}updateValue(r,o){}swap(r,o){const c=Math.min(r,o),v=Math.max(r,o),S=this.detach(v);if(v-c>1){const x=this.detach(c);this.attach(c,S),this.attach(v,x)}else this.attach(c,S)}move(r,o){this.attach(o,this.detach(r))}}function fg(t,r,o,c,v){return t===o&&Object.is(r,c)?1:Object.is(v(t,r),v(o,c))?-1:0}function pg(t,r,o,c){return!(void 0===r||!r.has(c)||(t.attach(o,r.get(c)),r.delete(c),0))}function ay(t,r,o,c,v){if(pg(t,r,c,o(c,v)))t.updateValue(c,v);else{const S=t.create(c,v);t.attach(c,S)}}function ly(t,r,o,c){const v=new Set;for(let S=r;S<=o;S++)v.add(c(S,t.at(S)));return v}class cy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(r){return this.kvMap.has(r)}delete(r){if(!this.has(r))return!1;const o=this.kvMap.get(r);return void 0!==this._vMap&&this._vMap.has(o)?(this.kvMap.set(r,this._vMap.get(o)),this._vMap.delete(o)):this.kvMap.delete(r),!0}get(r){return this.kvMap.get(r)}set(r,o){if(this.kvMap.has(r)){let c=this.kvMap.get(r);void 0===this._vMap&&(this._vMap=new Map);const v=this._vMap;for(;v.has(c);)c=v.get(c);v.set(c,o)}else this.kvMap.set(r,o)}forEach(r){for(let[o,c]of this.kvMap)if(r(c,o),void 0!==this._vMap){const v=this._vMap;for(;v.has(c);)c=v.get(c),r(c,o)}}}function uy(t,r,o){El("NgControlFlow");const c=_n(),v=Za(),S=mg(c,Ri+t);if(eo(c,v,r)){const H=m(null);try{if(hm(S,0),-1!==r){const ie=gg(c[F],Ri+r),Se=Ac(S,ie.tView.ssrId);Yh(S,xd(c,ie,o,{dehydratedView:Se}),0,Io(ie,Se))}}finally{m(H)}}else{const H=mu(S,0);void 0!==H&&(H[an]=o)}}class zS{constructor(r,o,c){this.lContainer=r,this.$implicit=o,this.$index=c}get $count(){return this.lContainer.length-Ss}}function dy(t,r){return r}class XS{constructor(r,o,c){this.hasEmptyBlock=r,this.trackByFn=o,this.liveCollection=c}}function Xo(t,r,o,c,v,S,x,H,ie,Se,He,dt,Wt){El("NgControlFlow");const Qt=void 0!==ie,dn=_n(),Dn=H?x.bind(dn[Dr][an]):x,Pn=new XS(Qt,Dn);dn[Ri+t]=Pn,Xd(t+1,r,o,c,v,S),Qt&&Xd(t+2,ie,Se,He,dt,Wt)}class ll extends WS{constructor(r,o,c){super(),this.lContainer=r,this.hostLView=o,this.templateTNode=c,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Ss}at(r){return this.getLView(r)[an].$implicit}attach(r,o){const c=o[Vt];this.needsIndexUpdate||=r!==this.length,Yh(this.lContainer,o,r,Io(this.templateTNode,c))}detach(r){return this.needsIndexUpdate||=r!==this.length-1,function JS(t,r){return Dd(t,r)}(this.lContainer,r)}create(r,o){const c=Ac(this.lContainer,this.templateTNode.tView.ssrId);return xd(this.hostLView,this.templateTNode,new zS(this.lContainer,o,r),{dehydratedView:c})}destroy(r){$h(r[F],r)}updateValue(r,o){this.getLView(r)[an].$implicit=o}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let r=0;r<this.length;r++)this.getLView(r)[an].$index=r}getLView(r){return function QS(t,r){return mu(t,r)}(this.lContainer,r)}}function hy(t){const r=m(null),o=Os();try{const c=_n(),v=c[F],S=c[o];if(void 0===S.liveCollection){const H=o+1,ie=mg(c,H),Se=gg(v,H);S.liveCollection=new ll(ie,c,Se)}else S.liveCollection.reset();const x=S.liveCollection;if(function KS(t,r,o){let c,v,S=0,x=t.length-1;if(Array.isArray(r)){let H=r.length-1;for(;S<=x&&S<=H;){const ie=t.at(S),Se=r[S],He=fg(S,ie,S,Se,o);if(0!==He){He<0&&t.updateValue(S,Se),S++;continue}const dt=t.at(x),Wt=r[H],Qt=fg(x,dt,H,Wt,o);if(0!==Qt){Qt<0&&t.updateValue(x,Wt),x--,H--;continue}const dn=o(S,ie),Dn=o(x,dt),Pn=o(S,Se);if(Object.is(Pn,Dn)){const Xn=o(H,Wt);Object.is(Xn,dn)?(t.swap(S,x),t.updateValue(x,Wt),H--,x--):t.move(x,S),t.updateValue(S,Se),S++}else if(c??=new cy,v??=ly(t,S,x,o),pg(t,c,S,Pn))t.updateValue(S,Se),S++,x++;else if(v.has(Pn))c.set(dn,t.detach(S)),x--;else{const Xn=t.create(S,r[S]);t.attach(S,Xn),S++,x++}}for(;S<=H;)ay(t,c,o,S,r[S]),S++}else if(null!=r){const H=r[Symbol.iterator]();let ie=H.next();for(;!ie.done&&S<=x;){const Se=t.at(S),He=ie.value,dt=fg(S,Se,S,He,o);if(0!==dt)dt<0&&t.updateValue(S,He),S++,ie=H.next();else{c??=new cy,v??=ly(t,S,x,o);const Wt=o(S,He);if(pg(t,c,S,Wt))t.updateValue(S,He),S++,x++,ie=H.next();else if(v.has(Wt)){const Qt=o(S,Se);c.set(Qt,t.detach(S)),x--}else t.attach(S,t.create(S,He)),S++,x++,ie=H.next()}}for(;!ie.done;)ay(t,c,o,t.length,ie.value),ie=H.next()}for(;S<=x;)t.destroy(t.detach(x--));c?.forEach(H=>{t.destroy(H)})}(x,t,S.trackByFn),x.updateIndexes(),S.hasEmptyBlock){const H=Za(),ie=0===x.length;if(eo(c,H,ie)){const Se=o+2,He=mg(c,Se);if(ie){const dt=gg(v,Se),Wt=Ac(He,dt.tView.ssrId);Yh(He,xd(c,dt,void 0,{dehydratedView:Wt}),0,Io(dt,Wt))}else hm(He,0)}}}finally{m(r)}}function mg(t,r){return t[r]}function gg(t,r){return Zu(t,r)}function xf(t,r,o,c){const v=_n(),S=ar(),x=Ri+t,H=v[jn],ie=S.firstCreatePass?function fy(t,r,o,c,v,S){const x=r.consts,ie=pu(r,t,2,c,yl(x,v));return om(r,o,ie,yl(x,S)),null!==ie.attrs&&rc(ie,ie.attrs,!1),null!==ie.mergedAttrs&&rc(ie,ie.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,ie),ie}(x,S,v,r,o,c):S.data[x],Se=py(S,v,ie,H,r,t);v[x]=Se;const He=ra(ie);return _l(ie,!0),f1(H,Se,ie),!function Tu(t){return!(32&~t.flags)}(ie)&&nd()&&Hh(S,v,Se,ie),0===function Y_(){return Li.lFrame.elementDepthCount}()&&No(Se,v),function X_(){Li.lFrame.elementDepthCount++}(),He&&(im(S,v,ie),nm(S,ie,v)),null!==c&&rm(v,ie),xf}function nh(){let t=Ur();tp()?np():(t=t.parent,_l(t,!1));const r=t;(function ji(t){return Li.skipHydrationRootTNode===t})(r)&&function fi(){Li.skipHydrationRootTNode=null}(),function qu(){Li.lFrame.elementDepthCount--}();const o=ar();return o.firstCreatePass&&(Gc(o,t),Xa(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function rb(t){return!!(8&t.flags)}(r)&&cg(o,r,_n(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function sd(t){return!!(16&t.flags)}(r)&&cg(o,r,_n(),r.stylesWithoutHost,!1),nh}function vg(t,r,o,c){return xf(t,r,o,c),nh(),vg}let py=(t,r,o,c,v,S)=>(ga(!0),zp(c,v,function Pa(){return Li.lFrame.currentNamespace}()));function kf(t,r,o){const c=_n(),v=ar(),S=t+Ri,x=v.firstCreatePass?function eE(t,r,o,c,v){const S=r.consts,x=yl(S,c),H=pu(r,t,8,"ng-container",x);return null!==x&&rc(H,x,!0),om(r,o,H,yl(S,v)),null!==r.queries&&r.queries.elementStart(r,H),H}(S,v,c,r,o):v.data[S];_l(x,!0);const H=ih(v,c,x,t);return c[S]=H,nd()&&Hh(v,c,H,x),No(H,c),ra(x)&&(im(v,c,x),nm(v,x,c)),null!=o&&rm(c,x),kf}function Nf(){let t=Ur();const r=ar();return tp()?np():(t=t.parent,_l(t,!1)),r.firstCreatePass&&(Gc(r,t),Xa(t)&&r.queries.elementEnd(t)),Nf}function yg(t,r,o){return kf(t,r,o),Nf(),yg}let ih=(t,r,o,c)=>(ga(!0),q0(r[jn],""));function my(){return _n()}function Of(t,r,o){const c=_n();return eo(c,Za(),r)&&Ea(ar(),cs(),c,t,r,c[jn],o,!0),Of}function _g(t,r,o){const c=_n();if(eo(c,Za(),r)){const S=ar(),x=cs();Ea(S,x,c,t,r,cm(rp(S.data),x,c),o,!0)}return _g}const Pc=void 0;var rE=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function iE(t){const o=Math.floor(Math.abs(t)),c=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Vu={};function bg(t){const r=function sE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=vy(r);if(o)return o;const c=r.split("-")[0];if(o=vy(c),o)return o;if("en"===c)return rE;throw new Be(701,!1)}function gy(t){return bg(t)[ju.PluralCase]}function vy(t){return t in Vu||(Vu[t]=gt.ng&&gt.ng.common&&gt.ng.common.locales&&gt.ng.common.locales[t]),Vu[t]}var ju=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(ju||{});const uc="en-US",Pf={marker:"element"},Bf={marker:"ICU"};var ca=function(t){return t[t.SHIFT=2]="SHIFT",t[t.APPEND_EAGERLY=1]="APPEND_EAGERLY",t[t.COMMENT=2]="COMMENT",t}(ca||{});let yy=uc;function by(t,r,o){const c=r.insertBeforeIndex,v=Array.isArray(c)?c[0]:c;return null===v?o1(t,0,o):Cr(o[v])}function Cy(t,r,o,c,v){const S=r.insertBeforeIndex;if(Array.isArray(S)){let x=c,H=null;if(3&r.type||(H=x,x=v),null!==x&&-1===r.componentOffset)for(let ie=1;ie<S.length;ie++)Ec(t,x,o[S[ie]],H,!1)}}function wy(t,r){if(t.push(r),t.length>1)for(let o=t.length-2;o>=0;o--){const c=t[o];Sy(c)||cE(c,r)&&null===uE(c)&&dE(c,r.index)}}function Sy(t){return!(64&t.type)}function cE(t,r){return Sy(r)||t.index>r.index}function uE(t){const r=t.insertBeforeIndex;return Array.isArray(r)?r[0]:r}function dE(t,r){const o=t.insertBeforeIndex;Array.isArray(o)?o[0]=r:(l1(by,Cy),t.insertBeforeIndex=r)}function fE(t,r,o){const c=tm(t,o,64,null,null);return wy(r,c),c}let lh=(t,r,o,c)=>(ga(!0),function Cg(t,r,o){const c=t[jn];switch(o){case Node.COMMENT_NODE:return q0(c,r);case Node.TEXT_NODE:return Q0(c,r);case Node.ELEMENT_NODE:return zp(c,r,null)}}(t,o,c));function Uf(){const t=[];let o,c,r=-1;function S(H,ie){r=0;const Se=function oh(t,r){const o=r[t.currentCaseLViewIndex];return null===o?o:o<0?~o:o}(H,ie);c=null!==Se?H.remove[Se]:ci}function x(){if(r<c.length){const H=c[r++];return H>0?o[H]:(t.push(r,c),S(o[F].data[~H],o),x())}return 0===t.length?null:(c=t.pop(),r=t.pop(),x())}return function v(H,ie){for(o=ie;t.length;)t.pop();return S(H.value,ie),x}}const Vf=/\ufffd(\d+):?\d*\ufffd/gi,SE=/\ufffd(\d+)\ufffd/,wg=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Gu="\ufffd",EE=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,TE=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,IE=/\uE500/g;function Oy(t,r,o,c,v,S,x){const H=Md(t,c,1,null);let ie=H<<ca.SHIFT,Se=td();r===Se&&(Se=null),null===Se&&(ie|=ca.APPEND_EAGERLY),x&&(ie|=ca.COMMENT,function yC(t){void 0===Wp&&(Wp=t())}(Uf)),v.push(ie,null===S?"":S);const He=tm(t,H,x?32:1,null===S?"":S,null);wy(o,He);const dt=He.index;return _l(He,!1),null!==Se&&r!==Se&&function hE(t,r){let o=t.insertBeforeIndex;null===o?(l1(by,Cy),o=t.insertBeforeIndex=[null,r]):(Un(Array.isArray(o),!0,"Expecting array here"),o.push(r))}(Se,dt),He}function Fy(t,r,o,c,v,S,x,H){const ie=H.match(Vf),He=Oy(r,o,c,x,v,ie?null:H,!1).index;ie&&ch(S,H,He,null,0,null),t.push({kind:0,index:He})}function ch(t,r,o,c,v,S){const x=t.length,H=x+1;t.push(null,null);const ie=x+2,Se=r.split(Vf);let He=0;for(let dt=0;dt<Se.length;dt++){const Wt=Se[dt];if(1&dt){const Qt=v+parseInt(Wt,10);t.push(-1-Qt),He|=By(Qt)}else""!==Wt&&t.push(Wt)}return t.push(o<<2|(c?1:0)),c&&t.push(c,S),t[x]=He,t[H]=t.length-ie,He}function By(t){return 1<<Math.min(t,31)}function Ly(t){let r,S,o="",c=0,v=!1;for(;null!==(r=EE.exec(t));)v?r[0]===`${Gu}/*${S}${Gu}`&&(c=r.index,v=!1):(o+=t.substring(c,r.index+r[0].length),S=r[1],v=!0);return o+=t.slice(c),o}function Uy(t,r,o,c,v,S,x){let H=0;const ie={type:S.type,currentCaseLViewIndex:Md(r,o,1,null),anchorIdx:x,cases:[],create:[],remove:[],update:[]};(function FE(t,r,o){t.push(By(r.mainBinding),2,-1-r.mainBinding,o<<2|2)})(c,S,x),function Ey(t,r,o){const c=t.data[r];null===c?t.data[r]=o:c.value=o}(r,x,ie);const Se=S.values,He=[];for(let dt=0;dt<Se.length;dt++){const Wt=Se[dt],Qt=[];for(let Dn=0;Dn<Wt.length;Dn++){const Pn=Wt[Dn];if("string"!=typeof Pn){const Xn=Qt.push(Pn)-1;Wt[Dn]=`\x3c!--\ufffd${Xn}\ufffd--\x3e`}}const dn=[];He.push(dn),H=NE(dn,r,ie,o,c,v,S.cases[dt],Wt.join(""),Qt)|H}H&&function Eg(t,r,o){t.push(r,1,o<<2|3)}(c,H,x),t.push({kind:3,index:x,cases:He,currentCaseLViewIndex:ie.currentCaseLViewIndex})}function Vy(t){const r=[],o=[];let c=1,v=0;const S=Sg(t=t.replace(wg,function(x,H,ie){return c="select"===ie?0:1,v=parseInt(H.slice(1),10),""}));for(let x=0;x<S.length;){let H=S[x++].trim();1===c&&(H=H.replace(/\s*(?:=)?(\w+)\s*/,"$1")),H.length&&r.push(H);const ie=Sg(S[x++]);r.length>o.length&&o.push(ie)}return{type:c,mainBinding:v,cases:r,values:o}}function Sg(t){if(!t)return[];let r=0;const o=[],c=[],v=/[{}]/g;let S;for(v.lastIndex=0;S=v.exec(t);){const H=S.index;if("}"==S[0]){if(o.pop(),0==o.length){const ie=t.substring(r,H);wg.test(ie)?c.push(Vy(ie)):c.push(ie),r=H+1}}else{if(0==o.length){const ie=t.substring(r,H);c.push(ie),r=H+1}o.push("{")}}const x=t.substring(r);return c.push(x),c}function NE(t,r,o,c,v,S,x,H,ie){const Se=[],He=[],dt=[];o.cases.push(x),o.create.push(Se),o.remove.push(He),o.update.push(dt);const Qt=j0(ql()).getInertBodyElement(H),dn=Vh(Qt)||Qt;return dn?jy(t,r,o,c,v,Se,He,dt,dn,S,ie,0):0}function jy(t,r,o,c,v,S,x,H,ie,Se,He,dt){let Wt=0,Qt=ie.firstChild;for(;Qt;){const dn=Md(r,c,1,null);switch(Qt.nodeType){case Node.ELEMENT_NODE:const Dn=Qt,Pn=Dn.tagName.toLowerCase();if(_d.hasOwnProperty(Pn)){jf(S,Pf,Pn,Se,dn),r.data[dn]=Pn;const Rr=Dn.attributes;for(let Ro=0;Ro<Rr.length;Ro++){const $a=Rr.item(Ro),Yf=$a.name.toLowerCase();$a.value.match(Vf)?Ph.hasOwnProperty(Yf)&&ch(H,$a.value,dn,$a.name,0,Fh[Yf]?Nh:null):PE(S,dn,$a)}const hs={kind:1,index:dn,children:[]};t.push(hs),Wt=jy(hs.children,r,o,c,v,S,x,H,Qt,dn,He,dt+1)|Wt,$y(x,dn,dt)}break;case Node.TEXT_NODE:const Xn=Qt.textContent||"",xn=Xn.match(Vf);jf(S,null,xn?"":Xn,Se,dn),$y(x,dn,dt),xn&&(Wt=ch(H,Xn,dn,null,0,null)|Wt),t.push({kind:0,index:dn});break;case Node.COMMENT_NODE:const Bi=SE.exec(Qt.textContent||"");if(Bi){const hs=He[parseInt(Bi[1],10)];jf(S,Bf,"",Se,dn),Uy(t,r,c,v,Se,hs,dn),OE(x,dn,dt)}}Qt=Qt.nextSibling}return Wt}function $y(t,r,o){0===o&&t.push(r)}function OE(t,r,o){0===o&&(t.push(~r),t.push(r))}function jf(t,r,o,c,v){null!==r&&t.push(r),t.push(o,v,function pE(t,r,o){return t|r<<17|o<<1}(0,c,v))}function PE(t,r,o){t.push(r<<1|1,o.name,o.value)}function Hy(t,r,o=-1){const c=ar(),v=_n(),S=Ri+t,x=yl(c.consts,r),H=td();c.firstCreatePass&&function RE(t,r,o,c,v,S){const x=td(),H=[],ie=[],Se=[[]],He=[[]];v=function kE(t,r){if(function xE(t){return-1===t}(r))return Ly(t);{const o=t.indexOf(`:${r}${Gu}`)+2+r.toString().length,c=t.search(new RegExp(`${Gu}\\/\\*\\d+:${r}${Gu}`));return Ly(t.substring(o,c))}}(v,S);const dt=function DE(t){return t.replace(IE," ")}(v).split(TE);for(let Wt=0;Wt<dt.length;Wt++){let Qt=dt[Wt];if(1&Wt){const dn=47===Qt.charCodeAt(0),Dn=Qt.charCodeAt(dn?1:0),Pn=Ri+Number.parseInt(Qt.substring(dn?2:1));if(dn)Se.shift(),He.shift(),_l(td(),!1);else{const Xn=fE(t,Se[0],Pn);Se.unshift([]),_l(Xn,!0);const xn={kind:2,index:Pn,children:[],type:35===Dn?0:1};He[0].push(xn),He.unshift(xn.children)}}else{const dn=Sg(Qt);for(let Dn=0;Dn<dn.length;Dn++){let Pn=dn[Dn];if(1&Dn){const Xn=Pn;if("object"!=typeof Xn)throw new Error(`Unable to parse ICU expression in "${v}" message.`);const Bi=Oy(t,x,Se[0],o,H,"",!0).index;Uy(He[0],t,o,ie,r,Xn,Bi)}else""!==Pn&&Fy(He[0],t,x,Se[0],H,ie,o,Pn)}}}t.data[c]={create:H,update:ie,ast:He[0]}}(c,null===H?0:H.index,v,S,x,o),2===c.type?v[Dr][de]|=32:v[de]|=32;const ie=c.data[S],He=n1(c,H===v[Nt]?null:H,v);(function yE(t,r,o,c){const v=t[jn];for(let S=0;S<r.length;S++){const x=r[S++],Se=(x&ca.APPEND_EAGERLY)===ca.APPEND_EAGERLY,He=x>>>ca.SHIFT;let dt=t[He],Wt=!1;null===dt&&(dt=t[He]=lh(t,He,r[S],(x&ca.COMMENT)===ca.COMMENT?Node.COMMENT_NODE:Node.TEXT_NODE),Wt=nd()),Se&&null!==o&&Wt&&Ec(v,o,dt,c,!1)}})(v,ie.create,He,H&&8&H.type?v[H.index]:null),Kg(!0)}function Ky(t,r,o){Hy(t,r,o),function Wy(){Kg(!1)}()}function Tg(t,r,o,c){const v=_n(),S=ar(),x=Ur();return Ig(S,v,v[jn],x,t,r,c),Tg}function Ig(t,r,o,c,v,S,x){const H=ra(c),Se=t.firstCreatePass&&lm(t),He=r[an],dt=tc(r);let Wt=!0;if(3&c.type||x){const Dn=Go(c,r),Pn=x?x(Dn):Dn,Xn=dt.length,xn=x?Rr=>x(Cr(Rr[c.index])):c.index;let Bi=null;if(!x&&H&&(Bi=function YE(t,r,o,c){const v=t.cleanup;if(null!=v)for(let S=0;S<v.length-1;S+=2){const x=v[S];if(x===o&&v[S+1]===c){const H=r[nn],ie=v[S+2];return H.length>ie?H[ie]:null}"string"==typeof x&&(S+=2)}return null}(t,r,v,c.index)),null!==Bi)(Bi.__ngLastListenerFn__||Bi).__ngNextListenerFn__=S,Bi.__ngLastListenerFn__=S,Wt=!1;else{S=Jy(c,r,He,S,!1);const Rr=o.listen(Pn,v,S);dt.push(S,Rr),Se&&Se.push(v,xn,Xn,Xn+1)}}else S=Jy(c,r,He,S,!1);const Qt=c.outputs;let dn;if(Wt&&null!==Qt&&(dn=Qt[v])){const Dn=dn.length;if(Dn)for(let Pn=0;Pn<Dn;Pn+=2){const hs=r[dn[Pn]][dn[Pn+1]].subscribe(S),Ro=dt.length;dt.push(S,hs),Se&&Se.push(v,c.index,Ro,-(Ro+1))}}}function Xy(t,r,o,c){const v=m(null);try{return $o(6,r,o),!1!==o(c)}catch(S){return um(t,S),!1}finally{$o(7,r,o),m(v)}}function Jy(t,r,o,c,v){return function S(x){if(x===Function)return c;gu(t.componentOffset>-1?ma(t.index,r):r);let ie=Xy(r,o,c,x),Se=S.__ngNextListenerFn__;for(;Se;)ie=Xy(r,o,Se,x)&&ie,Se=Se.__ngNextListenerFn__;return v&&!1===ie&&x.preventDefault(),ie}}function Qy(t=1){return function nb(t){return(Li.lFrame.contextLView=function Ug(t,r){for(;t>0;)r=r[Gr],t--;return r}(t,Li.lFrame.contextLView))[an]}(t)}function XE(t,r){let o=null;const c=function Et(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let v=0;v<r.length;v++){const S=r[v];if("*"!==S){if(null===c?Je(t,S,!0):St(c,S))return v}else o=v}return o}function Zy(t){const r=_n()[Dr][Nt];if(!r.projection){const c=r.projection=function oo(t,r){const o=[];for(let c=0;c<t;c++)o.push(r);return o}(t?t.length:1,null),v=c.slice();let S=r.child;for(;null!==S;){const x=t?XE(S,t):0;null!==x&&(v[x]?v[x].projectionNext=S:c[x]=S,v[x]=S),S=S.next}}}function qy(t,r=0,o){const c=_n(),v=ar(),S=pu(v,Ri+t,16,null,o||null);null===S.projection&&(S.projection=r),np(),(!c[Vt]||ho())&&32&~S.flags&&function AC(t,r,o){d1(r[jn],0,r,o,Xp(t,o,r),Jp(o.parent||r[Nt],o,r))}(v,c,S)}function uh(t,r,o){return $f(t,"",r,"",o),uh}function $f(t,r,o,c,v){const S=_n(),x=Mu(S,r,o,c);return x!==Ki&&Ea(ar(),cs(),S,t,x,S[jn],v,!1),$f}function Dg(t,r,o,c,v,S,x){const H=_n(),ie=xu(H,r,o,c,v,S);return ie!==Ki&&Ea(ar(),cs(),H,t,ie,H[jn],x,!1),Dg}function a_(t,r,o,c){!function Mw(t,r,o,c){const v=ar();if(v.firstCreatePass){const S=Ur();xw(v,new Dw(r,o,c),S.index),function YI(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(v,t),!(2&~o)&&(v.staticContentQueries=!0)}return Aw(v,_n(),o)}(t,r,o,c)}function l_(t,r,o){!function Rw(t,r,o){const c=ar();return c.firstCreatePass&&(xw(c,new Dw(t,r,o),-1),!(2&~r)&&(c.staticViewQueries=!0)),Aw(c,_n(),r)}(t,r,o)}function c_(t){const r=_n(),o=ar(),c=sp();vh(c+1);const v=sv(o,c);if(t.dirty&&function W_(t){return!(4&~t[de])}(r)===!(2&~v.metadata.flags)){if(null===v.matches)t.reset([]);else{const S=Fm(r,c);t.reset(S,Zl),t.notifyOnChanges()}return!0}return!1}function u_(){return function Om(t,r){return t[ls].queries[r].queryList}(_n(),sp())}function h_(t){return Uc(function J_(){return Li.lFrame.contextLView}(),Ri+t)}function C_(t,r=""){const o=_n(),c=ar(),v=t+Ri,S=c.firstCreatePass?pu(c,v,1,r,null):c.data[v],x=w_(c,o,S,r,t);o[v]=x,nd()&&Hh(c,o,x,S),_l(S,!1)}let w_=(t,r,o,c,v)=>(ga(!0),Q0(r[jn],c));function Ag(t){return Hf("",t,""),Ag}function Hf(t,r,o){const c=_n(),v=Mu(c,t,r,o);return v!==Ki&&la(c,Os(),v),Hf}function Rg(t,r,o,c,v){const S=_n(),x=xu(S,t,r,o,c,v);return x!==Ki&&la(S,Os(),x),Rg}function xg(t,r,o){Bm(r)&&(r=r());const c=_n();return eo(c,Za(),r)&&Ea(ar(),cs(),c,t,r,c[jn],o,!1),xg}function s(t,r){const o=Bm(t);return o&&t.set(r),o}function g(t,r){const o=_n(),c=ar(),v=Ur();return Ig(c,o,o[jn],v,t,r),g}function a(t,r,o,c,v){if(t=lt(t),Array.isArray(t))for(let S=0;S<t.length;S++)a(t[S],r,o,c,v);else{const S=ar(),x=_n(),H=Ur();let ie=Lo(t)?t:lt(t.provide);const Se=Eo(t),He=1048575&H.providerIndexes,dt=H.directiveStart,Wt=H.providerIndexes>>20;if(Lo(t)||!t.multi){const Qt=new Hc(Se,v,fu),dn=q(ie,r,v?He:He+Wt,dt);-1===dn?(Rl(Yc(H,x),S,ie),l(S,t,r.length),r.push(ie),H.directiveStart++,H.directiveEnd++,v&&(H.providerIndexes+=1048576),o.push(Qt),x.push(Qt)):(o[dn]=Qt,x[dn]=Qt)}else{const Qt=q(ie,r,He+Wt,dt),dn=q(ie,r,He,He+Wt),Pn=dn>=0&&o[dn];if(v&&!Pn||!v&&!(Qt>=0&&o[Qt])){Rl(Yc(H,x),S,ie);const Xn=function $t(t,r,o,c,v){const S=new Hc(t,o,fu);return S.multi=[],S.index=r,S.componentProviders=0,T(S,v,c&&!o),S}(v?Ze:Te,o.length,v,c,Se);!v&&Pn&&(o[dn].providerFactory=Xn),l(S,t,r.length,0),r.push(ie),H.directiveStart++,H.directiveEnd++,v&&(H.providerIndexes+=1048576),o.push(Xn),x.push(Xn)}else l(S,t,Qt>-1?Qt:dn,T(o[v?dn:Qt],Se,!v&&c));!v&&c&&Pn&&o[dn].componentProviders++}}}function l(t,r,o,c){const v=Lo(r),S=function So(t){return!!t.useClass}(r);if(v||S){const ie=(S?lt(r.useClass):r).prototype.ngOnDestroy;if(ie){const Se=t.destroyHooks||(t.destroyHooks=[]);if(!v&&r.multi){const He=Se.indexOf(o);-1===He?Se.push(o,[c,ie]):Se[He+1].push(c,ie)}else Se.push(o,ie)}}}function T(t,r,o){return o&&t.componentProviders++,t.multi.push(r)-1}function q(t,r,o,c){for(let v=o;v<c;v++)if(r[v]===t)return v;return-1}function Te(t,r,o,c){return _t(this.multi,[])}function Ze(t,r,o,c){const v=this.multi;let S;if(this.providerFactory){const x=this.providerFactory.componentProviders,H=vc(o,o[F],this.providerFactory.index,c);S=H.slice(0,x),_t(v,S);for(let ie=x;ie<H.length;ie++)S.push(H[ie])}else S=[],_t(v,S);return S}function _t(t,r){for(let o=0;o<t.length;o++)r.push((0,t[o])());return r}function un(t,r=[]){return o=>{o.providersResolver=(c,v)=>function n(t,r,o){const c=ar();if(c.firstCreatePass){const v=uo(t);a(o,c.data,c.blueprint,v,!0),a(r,c.data,c.blueprint,v,!1)}}(c,v?v(t):t,r)}}let Sn=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=Us(0,o.type),v=c.length>0?Ev([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,v)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=ii({token:t,providedIn:"environment",factory:()=>new t(er(Ir))})}}return t})();function Tn(t){El("NgStandalone"),t.getStandaloneInjector=r=>r.get(Sn).getOrCreateStandaloneInjector(t)}function Ei(t,r,o){const c=Ho()+t,v=_n();return v[c]===Ki?Ll(v,c,o?r.call(o):r()):Su(v,c)}function Qi(t,r,o,c){return io(_n(),Ho(),t,r,o,c)}function bi(t,r,o,c,v){return cl(_n(),Ho(),t,r,o,c,v)}function ir(t,r,o,c,v,S){return ul(_n(),Ho(),t,r,o,c,v,S)}function zi(t,r,o,c,v,S,x){return function ei(t,r,o,c,v,S,x,H,ie){const Se=r+o;return il(t,Se,v,S,x,H)?Ll(t,Se+4,ie?c.call(ie,v,S,x,H):c(v,S,x,H)):Ps(t,Se+4)}(_n(),Ho(),t,r,o,c,v,S,x)}function Zi(t,r,o,c,v,S,x,H){const ie=Ho()+t,Se=_n(),He=il(Se,ie,o,c,v,S);return eo(Se,ie+4,x)||He?Ll(Se,ie+5,H?r.call(H,o,c,v,S,x):r(o,c,v,S,x)):Su(Se,ie+5)}function qi(t,r,o,c,v,S,x,H,ie){const Se=Ho()+t,He=_n(),dt=il(He,Se,o,c,v,S);return Eu(He,Se+4,x,H)||dt?Ll(He,Se+6,ie?r.call(ie,o,c,v,S,x,H):r(o,c,v,S,x,H)):Su(He,Se+6)}function Ps(t,r){const o=t[r];return o===Ki?void 0:o}function io(t,r,o,c,v,S){const x=r+o;return eo(t,x,v)?Ll(t,x+1,S?c.call(S,v):c(v)):Ps(t,x+1)}function cl(t,r,o,c,v,S,x){const H=r+o;return Eu(t,H,v,S)?Ll(t,H+2,x?c.call(x,v,S):c(v,S)):Ps(t,H+2)}function ul(t,r,o,c,v,S,x,H){const ie=r+o;return function zm(t,r,o,c,v){const S=Eu(t,r,o,c);return eo(t,r+2,v)||S}(t,ie,v,S,x)?Ll(t,ie+3,H?c.call(H,v,S,x):c(v,S,x)):Ps(t,ie+3)}function Mi(t,r){const o=ar();let c;const v=t+Ri;o.firstCreatePass?(c=function rr(t,r){if(r)for(let o=r.length-1;o>=0;o--){const c=r[o];if(t===c.name)return c}}(r,o.pipeRegistry),o.data[v]=c,c.onDestroy&&(o.destroyHooks??=[]).push(v,c.onDestroy)):c=o.data[v];const S=c.factory||(c.factory=Zr(c.type)),H=wr(fu);try{const ie=ld(!1),Se=S();return ld(ie),function ZE(t,r,o,c){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=c}(o,_n(),v,Se),Se}finally{wr(H)}}function ro(t,r,o){const c=t+Ri,v=_n(),S=Uc(v,c);return ms(v,c)?io(v,Ho(),r,S.transform,o,S):S.transform(o)}function ua(t,r,o,c){const v=t+Ri,S=_n(),x=Uc(S,v);return ms(S,v)?cl(S,Ho(),r,x.transform,o,c,x):x.transform(o,c)}function Pr(t,r,o,c,v){const S=t+Ri,x=_n(),H=Uc(x,S);return ms(x,S)?ul(x,Ho(),r,H.transform,o,c,v,H):H.transform(o,c,v)}function ms(t,r){return t[F].data[r].pure}function Fo(t,r){return gm(t,r)}class zD{constructor(r){this.full=r;const o=r.split(".");this.major=o[0],this.minor=o[1],this.patch=o.slice(2).join(".")}}let YD=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const qD=new ct(""),e2=new ct("");let gT,LA=(()=>{class t{constructor(o,c,v){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,gT||(function UA(t){gT=t}(v),v.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,v){let S=-1;c&&c>0&&(S=setTimeout(()=>{this._callbacks=this._callbacks.filter(x=>x.timeoutId!==S),o()},c)),this._callbacks.push({doneCb:o,timeoutId:S,updateCb:v})}whenStable(o,c,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,v){return[]}static{this.\u0275fac=function(c){return new(c||t)(er(qs),er(t2),er(e2))}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac})}}return t})(),t2=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return gT?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function vT(t){return!!t&&"function"==typeof t.then}function n2(t){return!!t&&"function"==typeof t.subscribe}const r2=new ct("");let yT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Kn(r2,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const v of this.appInits){const S=v();if(vT(S))o.push(S);else if(n2(S)){const x=new Promise((H,ie)=>{S.subscribe({complete:H,error:ie})});o.push(x)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(v=>{this.reject(v)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const _T=new ct("");function a2(t,r){return Array.isArray(r)?r.reduce(a2,t):{...t,...r}}let zu=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Kn(u0),this.afterRenderEffectManager=Kn(cf),this.externalTestViews=new Set,this.beforeRender=new z.B,this.afterTick=new z.B,this.componentTypes=[],this.components=[],this.isStable=Kn(zd).hasPendingTasks.pipe((0,Ce.T)(o=>!o)),this._injector=Kn(Ir)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const v=o instanceof j1;if(!this._injector.get(yT).done)throw!v&&Rs(o),new Be(405,!1);let x;x=v?o:this._injector.get(Bd).resolveComponentFactory(o),this.componentTypes.push(x.componentType);const H=function VA(t){return t.isBoundToModule}(x)?void 0:this._injector.get(wu),Se=x.create(Ko.NULL,[],c||x.selector,H),He=Se.location.nativeElement,dt=Se.injector.get(qD,null);return dt?.registerApplication(He),Se.onDestroy(()=>{this.detachView(Se.hostView),O_(this.components,Se),dt?.unregisterApplication(He)}),this._loadComponent(Se),Se}tick(){this._tick(!0)}_tick(o){if(this._runningTick)throw new Be(101,!1);const c=m(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(o)}catch(v){this.internalErrorHandler(v)}finally{this.afterTick.next(),this._runningTick=!1,m(c)}}detectChangesInAttachedViews(o){let c=0;const v=this.afterRenderEffectManager;for(;;){if(c===A1)throw new Be(103,!1);if(o){const S=0===c;this.beforeRender.next(S);for(let{_lView:x,notifyErrorHandler:H}of this._views)$A(x,S,H)}if(c++,v.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:S})=>bT(S))&&(v.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:S})=>bT(S))))break}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;O_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(_T,[]);[...this._bootstrapListeners,...c].forEach(v=>v(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>O_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Be(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function O_(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}function $A(t,r,o){!r&&!bT(t)||function GA(t,r,o){let c;o?(c=0,t[de]|=1024):c=64&t[de]?0:1,Xh(t,r,c)}(t,o,r)}function bT(t){return Zf(t)}class HA{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let WA=(()=>{class t{compileModuleSync(o){return new Sv(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),S=Sa(Tr(o).declarations).reduce((x,H)=>{const ie=ki(H);return ie&&x.push(new Vd(ie)),x},[]);return new HA(c,S)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),YA=(()=>{class t{constructor(){this.zone=Kn(qs),this.applicationRef=Kn(zu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XA(){const t=Kn(qs),r=Kn(Ml);return o=>t.runOutsideAngular(()=>r.handleError(o))}let QA=(()=>{class t{constructor(){this.subscription=new Y.yU,this.initialized=!1,this.zone=Kn(qs),this.pendingTasks=Kn(zd)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{qs.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{qs.assertInAngularZone(),o??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(c){return new(c||t)}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const P_=new ct("",{providedIn:"root",factory:()=>Kn(P_,_i.Optional|_i.SkipSelf)||function ZA(){return typeof $localize<"u"&&$localize.locale||uc}()}),qA=new ct("",{providedIn:"root",factory:()=>"USD"}),CT=new ct("");let d2=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const v=function LI(t="zone.js",r){return"noop"===t?new pw:"zone.js"===t?new qs(r):t}(c?.ngZone,function u2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return v.run(()=>{const S=function mD(t,r,o){return new wv(t,r,o)}(o.moduleType,this.injector,function c2(t){return[{provide:qs,useFactory:t},{provide:Kr,multi:!0,useFactory:()=>{const r=Kn(YA,{optional:!0});return()=>r.initialize()}},{provide:Kr,multi:!0,useFactory:()=>{const r=Kn(QA);return()=>{r.initialize()}}},{provide:u0,useFactory:XA}]}(()=>v)),x=S.injector.get(Ml,null);return v.runOutsideAngular(()=>{const H=v.onError.subscribe({next:ie=>{x.handleError(ie)}});S.onDestroy(()=>{O_(this._modules,S),H.unsubscribe()})}),function o2(t,r,o){try{const c=o();return vT(c)?c.catch(v=>{throw r.runOutsideAngular(()=>t.handleError(v)),v}):c}catch(c){throw r.runOutsideAngular(()=>t.handleError(c)),c}}(x,v,()=>{const H=S.injector.get(yT);return H.runInitializers(),H.donePromise.then(()=>(function _y(t){"string"==typeof t&&(yy=t.toLowerCase().replace(/_/g,"-"))}(S.injector.get(P_,uc)||uc),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,c=[]){const v=a2({},c);return function zA(t,r,o){const c=new Sv(o);return Promise.resolve(c)}(0,0,o).then(S=>this.bootstrapModuleFactory(S,v))}_moduleDoBootstrap(o){const c=o.injector.get(zu);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(v=>c.bootstrap(v));else{if(!o.instance.ngDoBootstrap)throw new Be(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(CT,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||t)(er(Ko))}}static{this.\u0275prov=ii({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Yu=null;const h2=new ct("");function f2(t,r,o=[]){const c=`Platform: ${r}`,v=new ct(c);return(S=[])=>{let x=wT();if(!x||x.injector.get(h2,!1)){const H=[...o,...S,{provide:v,useValue:!0}];t?t(H):function tR(t){if(Yu&&!Yu.get(h2,!1))throw new Be(400,!1);(function s2(){!function Ee(t){xe=t}(()=>{throw new Be(600,!1)})})(),Yu=t;const r=t.get(d2);(function m2(t){t.get(x0,null)?.forEach(o=>o())})(t)}(function p2(t=[],r){return Ko.create({name:r,providers:[{provide:Ha,useValue:"platform"},{provide:CT,useValue:new Set([()=>Yu=null])},...t]})}(H,c))}return function nR(t){const r=wT();if(!r)throw new Be(401,!1);return r}()}}function wT(){return Yu?.get(d2)??null}function rR(){return!1}function sR(){}let v2=(()=>{class t{static{this.__NG_ELEMENT_ID__=oR}}return t})();function oR(t){return function aR(t,r,o){if(ia(t)&&!o){const c=ma(t.index,r);return new Pl(c,c)}return 47&t.type?new Pl(r[Dr],r):null}(Ur(),_n(),!(16&~t))}class C2{constructor(){}supports(r){return Yd(r)}create(r){return new hR(r)}}const dR=(t,r)=>r;class hR{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||dR}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,c=this._removalsHead,v=0,S=null;for(;o||c;){const x=!c||o&&o.currentIndex<S2(c,v,S)?o:c,H=S2(x,v,S),ie=x.currentIndex;if(x===c)v--,c=c._nextRemoved;else if(o=o._next,null==x.previousIndex)v++;else{S||(S=[]);const Se=H-v,He=ie-v;if(Se!=He){for(let Wt=0;Wt<Se;Wt++){const Qt=Wt<S.length?S[Wt]:S[Wt]=0,dn=Qt+Wt;He<=dn&&dn<Se&&(S[Wt]=Qt+1)}S[x.previousIndex]=He-Se}}H!==ie&&r(x,H,ie)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Yd(r))throw new Be(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let v,S,x,o=this._itHead,c=!1;if(Array.isArray(r)){this.length=r.length;for(let H=0;H<this.length;H++)S=r[H],x=this._trackByFn(H,S),null!==o&&Object.is(o.trackById,x)?(c&&(o=this._verifyReinsertion(o,S,x,H)),Object.is(o.item,S)||this._addIdentityChange(o,S)):(o=this._mismatch(o,S,x,H),c=!0),o=o._next}else v=0,function bD(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let c;for(;!(c=o.next()).done;)r(c.value)}}(r,H=>{x=this._trackByFn(v,H),null!==o&&Object.is(o.trackById,x)?(c&&(o=this._verifyReinsertion(o,H,x,v)),Object.is(o.item,H)||this._addIdentityChange(o,H)):(o=this._mismatch(o,H,x,v),c=!0),o=o._next,v++}),this.length=v;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,c,v){let S;return null===r?S=this._itTail:(S=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,S,v)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(c,v))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,S,v)):r=this._addAfter(new fR(o,c),S,v),r}_verifyReinsertion(r,o,c,v){let S=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==S?r=this._reinsertAfter(S,r._prev,v):r.currentIndex!=v&&(r.currentIndex=v,this._addToMoves(r,v)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const v=r._prevRemoved,S=r._nextRemoved;return null===v?this._removalsHead=S:v._nextRemoved=S,null===S?this._removalsTail=v:S._prevRemoved=v,this._insertAfter(r,o,c),this._addToMoves(r,c),r}_moveAfter(r,o,c){return this._unlink(r),this._insertAfter(r,o,c),this._addToMoves(r,c),r}_addAfter(r,o,c){return this._insertAfter(r,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,c){const v=null===o?this._itHead:o._next;return r._next=v,r._prev=o,null===v?this._itTail=r:v._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new w2),this._linkedRecords.put(r),r.currentIndex=c,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,c=r._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w2),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class fR{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pR{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,r))return c;return null}remove(r){const o=r._prevDup,c=r._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class w2{constructor(){this.map=new Map}put(r){const o=r.trackById;let c=this.map.get(o);c||(c=new pR,this.map.set(o,c)),c.add(r)}get(r,o){const v=this.map.get(r);return v?v.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function S2(t,r,o){const c=t.previousIndex;if(null===c)return c;let v=0;return o&&c<o.length&&(v=o[c]),c+r+v}class E2{constructor(){}supports(r){return r instanceof Map||Tv(r)}create(){return new mR}}class mR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Tv(r)))throw new Be(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(c,v)=>{if(o&&o.key===v)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const S=this._getOrCreateRecordForKey(v,c);o=this._insertBeforeOrAppend(o,S)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const c=r._prev;return o._next=r,o._prev=c,r._prev=o,c&&(c._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const v=this._records.get(r);this._maybeAddToChanges(v,o);const S=v._prev,x=v._next;return S&&(S._next=x),x&&(x._prev=S),v._next=null,v._prev=null,v}const c=new gR(r);return this._records.set(r,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(c=>o(r[c],c))}}class gR{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function T2(){return new DT([new C2])}let DT=(()=>{class t{static{this.\u0275prov=ii({token:t,providedIn:"root",factory:T2})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const v=c.factories.slice();o=o.concat(v)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||T2()),deps:[[t,new ss,new _r]]}}find(o){const c=this.factories.find(v=>v.supports(o));if(null!=c)return c;throw new Be(901,!1)}}return t})();function I2(){return new AT([new E2])}let AT=(()=>{class t{static{this.\u0275prov=ii({token:t,providedIn:"root",factory:I2})}constructor(o){this.factories=o}static create(o,c){if(c){const v=c.factories.slice();o=o.concat(v)}return new t(o)}static extend(o){return{provide:t,useFactory:c=>t.create(o,c||I2()),deps:[[t,new ss,new _r]]}}find(o){const c=this.factories.find(v=>v.supports(o));if(c)return c;throw new Be(901,!1)}}return t})();const _R=f2(null,"core",[]);let bR=(()=>{class t{constructor(o){}static{this.\u0275fac=function(c){return new(c||t)(er(zu))}}static{this.\u0275mod=As({type:t})}static{this.\u0275inj=Qn({})}}return t})();function XR(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function QR(t){const r=m(null);try{return t()}finally{m(r)}}function iM(t,r){const o=ki(t),c=r.elementInjector||bs();return new Vd(o).create(c,r.projectableNodes,r.hostElement,r.environmentInjector)}function rM(t){const r=ki(t);if(!r)return null;const o=new Vd(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},9417:(nt,fe,h)=>{"use strict";h.d(fe,{$R:()=>ui,BC:()=>at,Fm:()=>_i,JD:()=>Sr,Q0:()=>Mr,VZ:()=>Zr,X1:()=>ys,YN:()=>vn,YS:()=>qr,Zm:()=>I,cV:()=>_e,cb:()=>Be,cz:()=>G,hs:()=>ze,j4:()=>Ni,k0:()=>U,kq:()=>d,l_:()=>vr,me:()=>M,ok:()=>Gs,qT:()=>lr,tU:()=>Nr,vO:()=>Y,vS:()=>li,wz:()=>er,xH:()=>tr,xh:()=>Mo,y7:()=>so,ze:()=>jr});var i=h(4438),e=h(177),y=h(6648),p=h(7468),w=h(6354);let C=(()=>{class ke{constructor(he,qe){this._renderer=he,this._elementRef=qe,this.onChange=Lt=>{},this.onTouched=()=>{}}setProperty(he,qe){this._renderer.setProperty(this._elementRef.nativeElement,he,qe)}registerOnTouched(he){this.onTouched=he}registerOnChange(he){this.onChange=he}setDisabledState(he){this.setProperty("disabled",he)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(i.sFG),i.rXU(i.aKT))}}static{this.\u0275dir=i.FsC({type:ke})}}return ke})(),m=(()=>{class ke extends C{static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,features:[i.Vt3]})}}return ke})();const d=new i.nKC(""),f={provide:d,useExisting:(0,i.Rfq)(()=>I),multi:!0};let I=(()=>{class ke extends m{writeValue(he){this.setProperty("checked",he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("change",function(Di){return Lt.onChange(Di.target.checked)})("blur",function(){return Lt.onTouched()})},features:[i.Jv_([f]),i.Vt3]})}}return ke})();const O={provide:d,useExisting:(0,i.Rfq)(()=>M),multi:!0},b=new i.nKC("");let M=(()=>{class ke extends C{constructor(he,qe,Lt){super(he,qe),this._compositionMode=Lt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function P(){const ke=(0,e.QT)()?(0,e.QT)().getUserAgent():"";return/android (\d+)/.test(ke.toLowerCase())}())}writeValue(he){this.setProperty("value",he??"")}_handleInput(he){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(he)}_compositionStart(){this._composing=!0}_compositionEnd(he){this._composing=!1,this._compositionMode&&this.onChange(he)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(b,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("input",function(Di){return Lt._handleInput(Di.target.value)})("blur",function(){return Lt.onTouched()})("compositionstart",function(){return Lt._compositionStart()})("compositionend",function(Di){return Lt._compositionEnd(Di.target.value)})},features:[i.Jv_([O]),i.Vt3]})}}return ke})();function k(ke){return null==ke||("string"==typeof ke||Array.isArray(ke))&&0===ke.length}function N(ke){return null!=ke&&"number"==typeof ke.length}const G=new i.nKC(""),R=new i.nKC(""),j=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class U{static min(Ue){return $(Ue)}static max(Ue){return function ne(ke){return Ue=>{if(k(Ue.value)||k(ke))return null;const he=parseFloat(Ue.value);return!isNaN(he)&&he>ke?{max:{max:ke,actual:Ue.value}}:null}}(Ue)}static required(Ue){return se(Ue)}static requiredTrue(Ue){return function L(ke){return!0===ke.value?null:{required:!0}}(Ue)}static email(Ue){return function J(ke){return k(ke.value)||j.test(ke.value)?null:{email:!0}}(Ue)}static minLength(Ue){return te(Ue)}static maxLength(Ue){return E(Ue)}static pattern(Ue){return function re(ke){if(!ke)return K;let Ue,he;return"string"==typeof ke?(he="","^"!==ke.charAt(0)&&(he+="^"),he+=ke,"$"!==ke.charAt(ke.length-1)&&(he+="$"),Ue=new RegExp(he)):(he=ke.toString(),Ue=ke),qe=>{if(k(qe.value))return null;const Lt=qe.value;return Ue.test(Lt)?null:{pattern:{requiredPattern:he,actualValue:Lt}}}}(Ue)}static nullValidator(Ue){return null}static compose(Ue){return be(Ue)}static composeAsync(Ue){return Pe(Ue)}}function $(ke){return Ue=>{if(k(Ue.value)||k(ke))return null;const he=parseFloat(Ue.value);return!isNaN(he)&&he<ke?{min:{min:ke,actual:Ue.value}}:null}}function se(ke){return k(ke.value)?{required:!0}:null}function te(ke){return Ue=>k(Ue.value)||!N(Ue.value)?null:Ue.value.length<ke?{minlength:{requiredLength:ke,actualLength:Ue.value.length}}:null}function E(ke){return Ue=>N(Ue.value)&&Ue.value.length>ke?{maxlength:{requiredLength:ke,actualLength:Ue.value.length}}:null}function K(ke){return null}function me(ke){return null!=ke}function Ne(ke){return(0,i.jNT)(ke)?(0,y.H)(ke):ke}function Ae(ke){let Ue={};return ke.forEach(he=>{Ue=null!=he?{...Ue,...he}:Ue}),0===Object.keys(Ue).length?null:Ue}function xe(ke,Ue){return Ue.map(he=>he(ke))}function Ee(ke){return ke.map(Ue=>function Qe(ke){return!ke.validate}(Ue)?Ue:he=>Ue.validate(he))}function be(ke){if(!ke)return null;const Ue=ke.filter(me);return 0==Ue.length?null:function(he){return Ae(xe(he,Ue))}}function le(ke){return null!=ke?be(Ee(ke)):null}function Pe(ke){if(!ke)return null;const Ue=ke.filter(me);return 0==Ue.length?null:function(he){const qe=xe(he,Ue).map(Ne);return(0,p.p)(qe).pipe((0,w.T)(Ae))}}function Ie(ke){return null!=ke?Pe(Ee(ke)):null}function st(ke,Ue){return null===ke?[Ue]:Array.isArray(ke)?[...ke,Ue]:[ke,Ue]}function Oe(ke){return ke._rawValidators}function pt(ke){return ke._rawAsyncValidators}function Ye(ke){return ke?Array.isArray(ke)?ke:[ke]:[]}function qt(ke,Ue){return Array.isArray(ke)?ke.includes(Ue):ke===Ue}function jt(ke,Ue){const he=Ye(Ue);return Ye(ke).forEach(Lt=>{qt(he,Lt)||he.push(Lt)}),he}function Dt(ke,Ue){return Ye(Ue).filter(he=>!qt(ke,he))}class wt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(Ue){this._rawValidators=Ue||[],this._composedValidatorFn=le(this._rawValidators)}_setAsyncValidators(Ue){this._rawAsyncValidators=Ue||[],this._composedAsyncValidatorFn=Ie(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(Ue){this._onDestroyCallbacks.push(Ue)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(Ue=>Ue()),this._onDestroyCallbacks=[]}reset(Ue=void 0){this.control&&this.control.reset(Ue)}hasError(Ue,he){return!!this.control&&this.control.hasError(Ue,he)}getError(Ue,he){return this.control?this.control.getError(Ue,he):null}}class z extends wt{get formDirective(){return null}get path(){return null}}class Y extends wt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Z{constructor(Ue){this._cd=Ue}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class ke extends Z{constructor(he){super(he)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(Y,2))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(qe,Lt){2&qe&&i.AVh("ng-untouched",Lt.isUntouched)("ng-touched",Lt.isTouched)("ng-pristine",Lt.isPristine)("ng-dirty",Lt.isDirty)("ng-valid",Lt.isValid)("ng-invalid",Lt.isInvalid)("ng-pending",Lt.isPending)},features:[i.Vt3]})}}return ke})(),Be=(()=>{class ke extends Z{constructor(he){super(he)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(z,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(qe,Lt){2&qe&&i.AVh("ng-untouched",Lt.isUntouched)("ng-touched",Lt.isTouched)("ng-pristine",Lt.isPristine)("ng-dirty",Lt.isDirty)("ng-valid",Lt.isValid)("ng-invalid",Lt.isInvalid)("ng-pending",Lt.isPending)("ng-submitted",Lt.isSubmitted)},features:[i.Vt3]})}}return ke})();const hn="VALID",Mn="INVALID",kn="PENDING",Bn="DISABLED";function It(ke){return(Ct(ke)?ke.validators:ke)||null}function Ht(ke,Ue){return(Ct(Ue)?Ue.asyncValidators:ke)||null}function Ct(ke){return null!=ke&&!Array.isArray(ke)&&"object"==typeof ke}function yt(ke,Ue,he){const qe=ke.controls;if(!(Ue?Object.keys(qe):qe).length)throw new i.wOt(1e3,"");if(!qe[he])throw new i.wOt(1001,"")}function Ot(ke,Ue,he){ke._forEachChild((qe,Lt)=>{if(void 0===he[Lt])throw new i.wOt(1002,"")})}class tn{constructor(Ue,he){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(Ue),this._assignAsyncValidators(he)}get validator(){return this._composedValidatorFn}set validator(Ue){this._rawValidators=this._composedValidatorFn=Ue}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(Ue){this._rawAsyncValidators=this._composedAsyncValidatorFn=Ue}get parent(){return this._parent}get valid(){return this.status===hn}get invalid(){return this.status===Mn}get pending(){return this.status==kn}get disabled(){return this.status===Bn}get enabled(){return this.status!==Bn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(Ue){this._assignValidators(Ue)}setAsyncValidators(Ue){this._assignAsyncValidators(Ue)}addValidators(Ue){this.setValidators(jt(Ue,this._rawValidators))}addAsyncValidators(Ue){this.setAsyncValidators(jt(Ue,this._rawAsyncValidators))}removeValidators(Ue){this.setValidators(Dt(Ue,this._rawValidators))}removeAsyncValidators(Ue){this.setAsyncValidators(Dt(Ue,this._rawAsyncValidators))}hasValidator(Ue){return qt(this._rawValidators,Ue)}hasAsyncValidator(Ue){return qt(this._rawAsyncValidators,Ue)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(Ue={}){this.touched=!0,this._parent&&!Ue.onlySelf&&this._parent.markAsTouched(Ue)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(Ue=>Ue.markAllAsTouched())}markAsUntouched(Ue={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(he=>{he.markAsUntouched({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}markAsDirty(Ue={}){this.pristine=!1,this._parent&&!Ue.onlySelf&&this._parent.markAsDirty(Ue)}markAsPristine(Ue={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(he=>{he.markAsPristine({onlySelf:!0})}),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}markAsPending(Ue={}){this.status=kn,!1!==Ue.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!Ue.onlySelf&&this._parent.markAsPending(Ue)}disable(Ue={}){const he=this._parentMarkedDirty(Ue.onlySelf);this.status=Bn,this.errors=null,this._forEachChild(qe=>{qe.disable({...Ue,onlySelf:!0})}),this._updateValue(),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...Ue,skipPristineCheck:he}),this._onDisabledChange.forEach(qe=>qe(!0))}enable(Ue={}){const he=this._parentMarkedDirty(Ue.onlySelf);this.status=hn,this._forEachChild(qe=>{qe.enable({...Ue,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent}),this._updateAncestors({...Ue,skipPristineCheck:he}),this._onDisabledChange.forEach(qe=>qe(!1))}_updateAncestors(Ue){this._parent&&!Ue.onlySelf&&(this._parent.updateValueAndValidity(Ue),Ue.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(Ue){this._parent=Ue}getRawValue(){return this.value}updateValueAndValidity(Ue={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===hn||this.status===kn)&&this._runAsyncValidator(Ue.emitEvent)),!1!==Ue.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!Ue.onlySelf&&this._parent.updateValueAndValidity(Ue)}_updateTreeValidity(Ue={emitEvent:!0}){this._forEachChild(he=>he._updateTreeValidity(Ue)),this.updateValueAndValidity({onlySelf:!0,emitEvent:Ue.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bn:hn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(Ue){if(this.asyncValidator){this.status=kn,this._hasOwnPendingAsyncValidator=!0;const he=Ne(this.asyncValidator(this));this._asyncValidationSubscription=he.subscribe(qe=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(qe,{emitEvent:Ue})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(Ue,he={}){this.errors=Ue,this._updateControlsErrors(!1!==he.emitEvent)}get(Ue){let he=Ue;return null==he||(Array.isArray(he)||(he=he.split(".")),0===he.length)?null:he.reduce((qe,Lt)=>qe&&qe._find(Lt),this)}getError(Ue,he){const qe=he?this.get(he):this;return qe&&qe.errors?qe.errors[Ue]:null}hasError(Ue,he){return!!this.getError(Ue,he)}get root(){let Ue=this;for(;Ue._parent;)Ue=Ue._parent;return Ue}_updateControlsErrors(Ue){this.status=this._calculateStatus(),Ue&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(Ue)}_initObservables(){this.valueChanges=new i.bkB,this.statusChanges=new i.bkB}_calculateStatus(){return this._allControlsDisabled()?Bn:this.errors?Mn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kn)?kn:this._anyControlsHaveStatus(Mn)?Mn:hn}_anyControlsHaveStatus(Ue){return this._anyControls(he=>he.status===Ue)}_anyControlsDirty(){return this._anyControls(Ue=>Ue.dirty)}_anyControlsTouched(){return this._anyControls(Ue=>Ue.touched)}_updatePristine(Ue={}){this.pristine=!this._anyControlsDirty(),this._parent&&!Ue.onlySelf&&this._parent._updatePristine(Ue)}_updateTouched(Ue={}){this.touched=this._anyControlsTouched(),this._parent&&!Ue.onlySelf&&this._parent._updateTouched(Ue)}_registerOnCollectionChange(Ue){this._onCollectionChange=Ue}_setUpdateStrategy(Ue){Ct(Ue)&&null!=Ue.updateOn&&(this._updateOn=Ue.updateOn)}_parentMarkedDirty(Ue){return!Ue&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(Ue){return null}_assignValidators(Ue){this._rawValidators=Array.isArray(Ue)?Ue.slice():Ue,this._composedValidatorFn=function Rn(ke){return Array.isArray(ke)?le(ke):ke||null}(this._rawValidators)}_assignAsyncValidators(Ue){this._rawAsyncValidators=Array.isArray(Ue)?Ue.slice():Ue,this._composedAsyncValidatorFn=function lt(ke){return Array.isArray(ke)?Ie(ke):ke||null}(this._rawAsyncValidators)}}class In extends tn{constructor(Ue,he,qe){super(It(he),Ht(qe,he)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(Ue,he){return this.controls[Ue]?this.controls[Ue]:(this.controls[Ue]=he,he.setParent(this),he._registerOnCollectionChange(this._onCollectionChange),he)}addControl(Ue,he,qe={}){this.registerControl(Ue,he),this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}removeControl(Ue,he={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}setControl(Ue,he,qe={}){this.controls[Ue]&&this.controls[Ue]._registerOnCollectionChange(()=>{}),delete this.controls[Ue],he&&this.registerControl(Ue,he),this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}contains(Ue){return this.controls.hasOwnProperty(Ue)&&this.controls[Ue].enabled}setValue(Ue,he={}){Ot(this,0,Ue),Object.keys(Ue).forEach(qe=>{yt(this,!0,qe),this.controls[qe].setValue(Ue[qe],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(Ue,he={}){null!=Ue&&(Object.keys(Ue).forEach(qe=>{const Lt=this.controls[qe];Lt&&Lt.patchValue(Ue[qe],{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(Ue={},he={}){this._forEachChild((qe,Lt)=>{qe.reset(Ue?Ue[Lt]:null,{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this._reduceChildren({},(Ue,he,qe)=>(Ue[qe]=he.getRawValue(),Ue))}_syncPendingControls(){let Ue=this._reduceChildren(!1,(he,qe)=>!!qe._syncPendingControls()||he);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){Object.keys(this.controls).forEach(he=>{const qe=this.controls[he];qe&&Ue(qe,he)})}_setUpControls(){this._forEachChild(Ue=>{Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(Ue){for(const[he,qe]of Object.entries(this.controls))if(this.contains(he)&&Ue(qe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(he,qe,Lt)=>((qe.enabled||this.disabled)&&(he[Lt]=qe.value),he))}_reduceChildren(Ue,he){let qe=Ue;return this._forEachChild((Lt,Yn)=>{qe=he(qe,Lt,Yn)}),qe}_allControlsDisabled(){for(const Ue of Object.keys(this.controls))if(this.controls[Ue].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(Ue){return this.controls.hasOwnProperty(Ue)?this.controls[Ue]:null}}class Hn extends In{}const ht=new i.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>kt}),kt="always";function Gt(ke,Ue){return[...Ue.path,ke]}function sn(ke,Ue,he=kt){An(ke,Ue),Ue.valueAccessor.writeValue(ke.value),(ke.disabled||"always"===he)&&Ue.valueAccessor.setDisabledState?.(ke.disabled),function di(ke,Ue){Ue.valueAccessor.registerOnChange(he=>{ke._pendingValue=he,ke._pendingChange=!0,ke._pendingDirty=!0,"change"===ke.updateOn&&ii(ke,Ue)})}(ke,Ue),function Pi(ke,Ue){const he=(qe,Lt)=>{Ue.valueAccessor.writeValue(qe),Lt&&Ue.viewToModelUpdate(qe)};ke.registerOnChange(he),Ue._registerOnDestroy(()=>{ke._unregisterOnChange(he)})}(ke,Ue),function mi(ke,Ue){Ue.valueAccessor.registerOnTouched(()=>{ke._pendingTouched=!0,"blur"===ke.updateOn&&ke._pendingChange&&ii(ke,Ue),"submit"!==ke.updateOn&&ke.markAsTouched()})}(ke,Ue),function Jn(ke,Ue){if(Ue.valueAccessor.setDisabledState){const he=qe=>{Ue.valueAccessor.setDisabledState(qe)};ke.registerOnDisabledChange(he),Ue._registerOnDestroy(()=>{ke._unregisterOnDisabledChange(he)})}}(ke,Ue)}function bn(ke,Ue,he=!0){const qe=()=>{};Ue.valueAccessor&&(Ue.valueAccessor.registerOnChange(qe),Ue.valueAccessor.registerOnTouched(qe)),gn(ke,Ue),ke&&(Ue._invokeOnDestroyCallbacks(),ke._registerOnCollectionChange(()=>{}))}function yn(ke,Ue){ke.forEach(he=>{he.registerOnValidatorChange&&he.registerOnValidatorChange(Ue)})}function An(ke,Ue){const he=Oe(ke);null!==Ue.validator?ke.setValidators(st(he,Ue.validator)):"function"==typeof he&&ke.setValidators([he]);const qe=pt(ke);null!==Ue.asyncValidator?ke.setAsyncValidators(st(qe,Ue.asyncValidator)):"function"==typeof qe&&ke.setAsyncValidators([qe]);const Lt=()=>ke.updateValueAndValidity();yn(Ue._rawValidators,Lt),yn(Ue._rawAsyncValidators,Lt)}function gn(ke,Ue){let he=!1;if(null!==ke){if(null!==Ue.validator){const Lt=Oe(ke);if(Array.isArray(Lt)&&Lt.length>0){const Yn=Lt.filter(Di=>Di!==Ue.validator);Yn.length!==Lt.length&&(he=!0,ke.setValidators(Yn))}}if(null!==Ue.asyncValidator){const Lt=pt(ke);if(Array.isArray(Lt)&&Lt.length>0){const Yn=Lt.filter(Di=>Di!==Ue.asyncValidator);Yn.length!==Lt.length&&(he=!0,ke.setAsyncValidators(Yn))}}}const qe=()=>{};return yn(Ue._rawValidators,qe),yn(Ue._rawAsyncValidators,qe),he}function ii(ke,Ue){ke._pendingDirty&&ke.markAsDirty(),ke.setValue(ke._pendingValue,{emitModelToViewChange:!1}),Ue.viewToModelUpdate(ke._pendingValue),ke._pendingChange=!1}function Qn(ke,Ue){An(ke,Ue)}function At(ke,Ue){if(!ke.hasOwnProperty("model"))return!1;const he=ke.model;return!!he.isFirstChange()||!Object.is(Ue,he.currentValue)}function zt(ke,Ue){ke._syncPendingControls(),Ue.forEach(he=>{const qe=he.control;"submit"===qe.updateOn&&qe._pendingChange&&(he.viewToModelUpdate(qe._pendingValue),qe._pendingChange=!1)})}function ct(ke,Ue){if(!Ue)return null;let he,qe,Lt;return Array.isArray(Ue),Ue.forEach(Yn=>{Yn.constructor===M?he=Yn:function Ke(ke){return Object.getPrototypeOf(ke.constructor)===m}(Yn)?qe=Yn:Lt=Yn}),Lt||qe||he||null}const Zt={provide:z,useExisting:(0,i.Rfq)(()=>_e)},ut=Promise.resolve();let _e=(()=>{class ke extends z{constructor(he,qe,Lt){super(),this.callSetDisabledState=Lt,this.submitted=!1,this._directives=new Set,this.ngSubmit=new i.bkB,this.form=new In({},le(he),Ie(qe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(he){ut.then(()=>{const qe=this._findContainer(he.path);he.control=qe.registerControl(he.name,he.control),sn(he.control,he,this.callSetDisabledState),he.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(he)})}getControl(he){return this.form.get(he.path)}removeControl(he){ut.then(()=>{const qe=this._findContainer(he.path);qe&&qe.removeControl(he.name),this._directives.delete(he)})}addFormGroup(he){ut.then(()=>{const qe=this._findContainer(he.path),Lt=new In({});Qn(Lt,he),qe.registerControl(he.name,Lt),Lt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(he){ut.then(()=>{const qe=this._findContainer(he.path);qe&&qe.removeControl(he.name)})}getFormGroup(he){return this.form.get(he.path)}updateModel(he,qe){ut.then(()=>{this.form.get(he.path).setValue(qe)})}setValue(he){this.control.setValue(he)}onSubmit(he){return this.submitted=!0,zt(this.form,this._directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he=void 0){this.form.reset(he),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(he){return he.pop(),he.length?this.form.get(he):this.form}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(G,10),i.rXU(R,10),i.rXU(ht,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("submit",function(Di){return Lt.onSubmit(Di)})("reset",function(){return Lt.onReset()})},inputs:{options:[i.Mj6.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([Zt]),i.Vt3]})}}return ke})();function De(ke,Ue){const he=ke.indexOf(Ue);he>-1&&ke.splice(he,1)}function ye(ke){return"object"==typeof ke&&null!==ke&&2===Object.keys(ke).length&&"value"in ke&&"disabled"in ke}const ft=class extends tn{constructor(Ue=null,he,qe){super(It(he),Ht(qe,he)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(Ue),this._setUpdateStrategy(he),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ct(he)&&(he.nonNullable||he.initialValueIsDefault)&&(this.defaultValue=ye(Ue)?Ue.value:Ue)}setValue(Ue,he={}){this.value=this._pendingValue=Ue,this._onChange.length&&!1!==he.emitModelToViewChange&&this._onChange.forEach(qe=>qe(this.value,!1!==he.emitViewToModelChange)),this.updateValueAndValidity(he)}patchValue(Ue,he={}){this.setValue(Ue,he)}reset(Ue=this.defaultValue,he={}){this._applyFormState(Ue),this.markAsPristine(he),this.markAsUntouched(he),this.setValue(this.value,he),this._pendingChange=!1}_updateValue(){}_anyControls(Ue){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(Ue){this._onChange.push(Ue)}_unregisterOnChange(Ue){De(this._onChange,Ue)}registerOnDisabledChange(Ue){this._onDisabledChange.push(Ue)}_unregisterOnDisabledChange(Ue){De(this._onDisabledChange,Ue)}_forEachChild(Ue){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(Ue){ye(Ue)?(this.value=this._pendingValue=Ue.value,Ue.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=Ue}},ze=ft;let vt=(()=>{class ke extends z{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,features:[i.Vt3]})}}return ke})();const hr={provide:Y,useExisting:(0,i.Rfq)(()=>li)},Wn=Promise.resolve();let li=(()=>{class ke extends Y{constructor(he,qe,Lt,Yn,Di,as){super(),this._changeDetectorRef=Di,this.callSetDisabledState=as,this.control=new ft,this._registered=!1,this.name="",this.update=new i.bkB,this._parent=he,this._setValidators(qe),this._setAsyncValidators(Lt),this.valueAccessor=ct(0,Yn)}ngOnChanges(he){if(this._checkForErrors(),!this._registered||"name"in he){if(this._registered&&(this._checkName(),this.formDirective)){const qe=he.name.previousValue;this.formDirective.removeControl({name:qe,path:this._getPath(qe)})}this._setUpControl()}"isDisabled"in he&&this._updateDisabled(he),At(he,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){sn(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(he){Wn.then(()=>{this.control.setValue(he,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(he){const qe=he.isDisabled.currentValue,Lt=0!==qe&&(0,i.L39)(qe);Wn.then(()=>{Lt&&!this.control.disabled?this.control.disable():!Lt&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(he){return this._parent?Gt(he,this._parent):[he]}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(z,9),i.rXU(G,10),i.rXU(R,10),i.rXU(d,10),i.rXU(i.gRc,8),i.rXU(ht,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"],options:[i.Mj6.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i.Jv_([hr]),i.Vt3,i.OA$]})}}return ke})(),lr=(()=>{class ke{static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return ke})();const xi={provide:d,useExisting:(0,i.Rfq)(()=>Mr),multi:!0};let Mr=(()=>{class ke extends m{writeValue(he){this.setProperty("value",he??"")}registerOnChange(he){this.onChange=qe=>{he(""==qe?null:parseFloat(qe))}}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("input",function(Di){return Lt.onChange(Di.target.value)})("blur",function(){return Lt.onTouched()})},features:[i.Jv_([xi]),i.Vt3]})}}return ke})();const Ys={provide:d,useExisting:(0,i.Rfq)(()=>_i),multi:!0};let Bs=(()=>{class ke{constructor(){this._accessors=[]}add(he,qe){this._accessors.push([he,qe])}remove(he){for(let qe=this._accessors.length-1;qe>=0;--qe)if(this._accessors[qe][1]===he)return void this._accessors.splice(qe,1)}select(he){this._accessors.forEach(qe=>{this._isSameGroup(qe,he)&&qe[1]!==he&&qe[1].fireUncheck(he.value)})}_isSameGroup(he,qe){return!!he[0].control&&he[0]._parent===qe._control._parent&&he[1].name===qe.name}static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),_i=(()=>{class ke extends m{constructor(he,qe,Lt,Yn){super(he,qe),this._registry=Lt,this._injector=Yn,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=(0,i.WQX)(ht,{optional:!0})??kt}ngOnInit(){this._control=this._injector.get(Y),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(he){this._state=he===this.value,this.setProperty("checked",this._state)}registerOnChange(he){this._fn=he,this.onChange=()=>{he(this.value),this._registry.select(this)}}setDisabledState(he){(this.setDisabledStateFired||he||"whenDisabledForLegacyCode"===this.callSetDisabledState)&&this.setProperty("disabled",he),this.setDisabledStateFired=!0}fireUncheck(he){this.writeValue(he)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(Bs),i.rXU(i.zZn))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("change",function(){return Lt.onChange()})("blur",function(){return Lt.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i.Jv_([Ys]),i.Vt3]})}}return ke})();const wr=new i.nKC(""),Ls={provide:Y,useExisting:(0,i.Rfq)(()=>vr)};let vr=(()=>{class ke extends Y{set isDisabled(he){}static{this._ngModelWarningSentOnce=!1}constructor(he,qe,Lt,Yn,Di){super(),this._ngModelWarningConfig=Yn,this.callSetDisabledState=Di,this.update=new i.bkB,this._ngModelWarningSent=!1,this._setValidators(he),this._setAsyncValidators(qe),this.valueAccessor=ct(0,Lt)}ngOnChanges(he){if(this._isControlChanged(he)){const qe=he.form.previousValue;qe&&bn(qe,this,!1),sn(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}At(he,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&bn(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}_isControlChanged(he){return he.hasOwnProperty("form")}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(G,10),i.rXU(R,10),i.rXU(d,10),i.rXU(wr,8),i.rXU(ht,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControl",""]],inputs:{form:[i.Mj6.None,"formControl","form"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[i.Jv_([Ls]),i.Vt3,i.OA$]})}}return ke})();const yr={provide:z,useExisting:(0,i.Rfq)(()=>Ni)};let Ni=(()=>{class ke extends z{constructor(he,qe,Lt){super(),this.callSetDisabledState=Lt,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.bkB,this._setValidators(he),this._setAsyncValidators(qe)}ngOnChanges(he){this._checkFormPresent(),he.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(he){const qe=this.form.get(he.path);return sn(qe,he,this.callSetDisabledState),qe.updateValueAndValidity({emitEvent:!1}),this.directives.push(he),qe}getControl(he){return this.form.get(he.path)}removeControl(he){bn(he.control||null,he,!1),function Yt(ke,Ue){const he=ke.indexOf(Ue);he>-1&&ke.splice(he,1)}(this.directives,he)}addFormGroup(he){this._setUpFormContainer(he)}removeFormGroup(he){this._cleanUpFormContainer(he)}getFormGroup(he){return this.form.get(he.path)}addFormArray(he){this._setUpFormContainer(he)}removeFormArray(he){this._cleanUpFormContainer(he)}getFormArray(he){return this.form.get(he.path)}updateModel(he,qe){this.form.get(he.path).setValue(qe)}onSubmit(he){return this.submitted=!0,zt(this.form,this.directives),this.ngSubmit.emit(he),"dialog"===he?.target?.method}onReset(){this.resetForm()}resetForm(he=void 0){this.form.reset(he),this.submitted=!1}_updateDomValue(){this.directives.forEach(he=>{const qe=he.control,Lt=this.form.get(he.path);qe!==Lt&&(bn(qe||null,he),(ke=>ke instanceof ft)(Lt)&&(sn(Lt,he,this.callSetDisabledState),he.control=Lt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(he){const qe=this.form.get(he.path);Qn(qe,he),qe.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(he){if(this.form){const qe=this.form.get(he.path);qe&&function Ti(ke,Ue){return gn(ke,Ue)}(qe,he)&&qe.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){An(this.form,this),this._oldForm&&gn(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(G,10),i.rXU(R,10),i.rXU(ht,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroup",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("submit",function(Di){return Lt.onSubmit(Di)})("reset",function(){return Lt.onReset()})},inputs:{form:[i.Mj6.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.Jv_([yr]),i.Vt3,i.OA$]})}}return ke})();const Xs={provide:z,useExisting:(0,i.Rfq)(()=>ui)};let ui=(()=>{class ke extends vt{constructor(he,qe,Lt){super(),this.name=null,this._parent=he,this._setValidators(qe),this._setAsyncValidators(Lt)}_checkParentType(){Qr(this._parent)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(z,13),i.rXU(G,10),i.rXU(R,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formGroupName",""]],inputs:{name:[i.Mj6.None,"formGroupName","name"]},features:[i.Jv_([Xs]),i.Vt3]})}}return ke})();const Jo={provide:z,useExisting:(0,i.Rfq)(()=>$n)};let $n=(()=>{class ke extends z{constructor(he,qe,Lt){super(),this.name=null,this._parent=he,this._setValidators(qe),this._setAsyncValidators(Lt)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Gt(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){Qr(this._parent)}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(z,13),i.rXU(G,10),i.rXU(R,10))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formArrayName",""]],inputs:{name:[i.Mj6.None,"formArrayName","name"]},features:[i.Jv_([Jo]),i.Vt3]})}}return ke})();function Qr(ke){return!(ke instanceof ui||ke instanceof Ni||ke instanceof $n)}const mr={provide:Y,useExisting:(0,i.Rfq)(()=>Sr)};let Sr=(()=>{class ke extends Y{set isDisabled(he){}static{this._ngModelWarningSentOnce=!1}constructor(he,qe,Lt,Yn,Di){super(),this._ngModelWarningConfig=Di,this._added=!1,this.name=null,this.update=new i.bkB,this._ngModelWarningSent=!1,this._parent=he,this._setValidators(qe),this._setAsyncValidators(Lt),this.valueAccessor=ct(0,Yn)}ngOnChanges(he){this._added||this._setUpControl(),At(he,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(he){this.viewModel=he,this.update.emit(he)}get path(){return Gt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(z,13),i.rXU(G,10),i.rXU(R,10),i.rXU(d,10),i.rXU(wr,8))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","formControlName",""]],inputs:{name:[i.Mj6.None,"formControlName","name"],isDisabled:[i.Mj6.None,"disabled","isDisabled"],model:[i.Mj6.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.Jv_([mr]),i.Vt3,i.OA$]})}}return ke})();const Er={provide:d,useExisting:(0,i.Rfq)(()=>er),multi:!0};function xr(ke,Ue){return null==ke?`${Ue}`:(Ue&&"object"==typeof Ue&&(Ue="Object"),`${ke}: ${Ue}`.slice(0,50))}let er=(()=>{class ke extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){this.value=he;const Lt=xr(this._getOptionId(he),he);this.setProperty("value",Lt)}registerOnChange(he){this.onChange=qe=>{this.value=this._getOptionValue(qe),he(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(he){for(const qe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(qe),he))return qe;return null}_getOptionValue(he){const qe=function Vr(ke){return ke.split(":")[0]}(he);return this._optionMap.has(qe)?this._optionMap.get(qe):he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("change",function(Di){return Lt.onChange(Di.target.value)})("blur",function(){return Lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Er]),i.Vt3]})}}return ke})(),tr=(()=>{class ke{constructor(he,qe,Lt){this._element=he,this._renderer=qe,this._select=Lt,this._select&&(this.id=this._select._registerOption())}set ngValue(he){null!=this._select&&(this._select._optionMap.set(this.id,he),this._setElementValue(xr(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._setElementValue(he),this._select&&this._select.writeValue(this._select.value)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(er,9))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();const Kn={provide:d,useExisting:(0,i.Rfq)(()=>is),multi:!0};function Wr(ke,Ue){return null==ke?`${Ue}`:("string"==typeof Ue&&(Ue=`'${Ue}'`),Ue&&"object"==typeof Ue&&(Ue="Object"),`${ke}: ${Ue}`.slice(0,50))}let is=(()=>{class ke extends m{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(he){this._compareWith=he}writeValue(he){let qe;if(this.value=he,Array.isArray(he)){const Lt=he.map(Yn=>this._getOptionId(Yn));qe=(Yn,Di)=>{Yn._setSelected(Lt.indexOf(Di.toString())>-1)}}else qe=(Lt,Yn)=>{Lt._setSelected(!1)};this._optionMap.forEach(qe)}registerOnChange(he){this.onChange=qe=>{const Lt=[],Yn=qe.selectedOptions;if(void 0!==Yn){const Di=Yn;for(let as=0;as<Di.length;as++){const Zn=this._getOptionValue(Di[as].value);Lt.push(Zn)}}else{const Di=qe.options;for(let as=0;as<Di.length;as++){const _s=Di[as];if(_s.selected){const Zn=this._getOptionValue(_s.value);Lt.push(Zn)}}}this.value=Lt,he(Lt)}}_registerOption(he){const qe=(this._idCounter++).toString();return this._optionMap.set(qe,he),qe}_getOptionId(he){for(const qe of this._optionMap.keys())if(this._compareWith(this._optionMap.get(qe)._value,he))return qe;return null}_getOptionValue(he){const qe=function cr(ke){return ke.split(":")[0]}(he);return this._optionMap.has(qe)?this._optionMap.get(qe)._value:he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(qe,Lt){1&qe&&i.bIt("change",function(Di){return Lt.onChange(Di.target)})("blur",function(){return Lt.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.Jv_([Kn]),i.Vt3]})}}return ke})(),so=(()=>{class ke{constructor(he,qe,Lt){this._element=he,this._renderer=qe,this._select=Lt,this._select&&(this.id=this._select._registerOption(this))}set ngValue(he){null!=this._select&&(this._value=he,this._setElementValue(Wr(this.id,he)),this._select.writeValue(this._select.value))}set value(he){this._select?(this._value=he,this._setElementValue(Wr(this.id,he)),this._select.writeValue(this._select.value)):this._setElementValue(he)}_setElementValue(he){this._renderer.setProperty(this._element.nativeElement,"value",he)}_setSelected(he){this._renderer.setProperty(this._element.nativeElement,"selected",he)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(qe){return new(qe||ke)(i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(is,9))}}static{this.\u0275dir=i.FsC({type:ke,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return ke})();function wo(ke){return"number"==typeof ke?ke:parseInt(ke,10)}let _r=(()=>{class ke{constructor(){this._validator=K}ngOnChanges(he){if(this.inputName in he){const qe=this.normalizeInput(he[this.inputName].currentValue);this._enabled=this.enabled(qe),this._validator=this._enabled?this.createValidator(qe):K,this._onChange&&this._onChange()}}validate(he){return this._validator(he)}registerOnValidatorChange(he){this._onChange=he}enabled(he){return null!=he}static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275dir=i.FsC({type:ke,features:[i.OA$]})}}return ke})();const Aa={provide:G,useExisting:(0,i.Rfq)(()=>Zr),multi:!0};let Zr=(()=>{class ke extends _r{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=he=>function Ts(ke){return"number"==typeof ke?ke:parseFloat(ke)}(he),this.createValidator=he=>$(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(qe,Lt){2&qe&&i.BMQ("min",Lt._enabled?Lt.min:null)},inputs:{min:"min"},features:[i.Jv_([Aa]),i.Vt3]})}}return ke})();const vo={provide:G,useExisting:(0,i.Rfq)(()=>qr),multi:!0};let qr=(()=>{class ke extends _r{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=i.L39,this.createValidator=he=>se}enabled(he){return he}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(qe,Lt){2&qe&&i.BMQ("required",Lt._enabled?"":null)},inputs:{required:"required"},features:[i.Jv_([vo]),i.Vt3]})}}return ke})();const ao={provide:G,useExisting:(0,i.Rfq)(()=>Mo),multi:!0};let Mo=(()=>{class ke extends _r{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=he=>wo(he),this.createValidator=he=>te(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(qe,Lt){2&qe&&i.BMQ("minlength",Lt._enabled?Lt.minlength:null)},inputs:{minlength:"minlength"},features:[i.Jv_([ao]),i.Vt3]})}}return ke})();const Is={provide:G,useExisting:(0,i.Rfq)(()=>Nr),multi:!0};let Nr=(()=>{class ke extends _r{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=he=>wo(he),this.createValidator=he=>E(he)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275dir=i.FsC({type:ke,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(qe,Lt){2&qe&&i.BMQ("maxlength",Lt._enabled?Lt.maxlength:null)},inputs:{maxlength:"maxlength"},features:[i.Jv_([Is]),i.Vt3]})}}return ke})(),Ds=(()=>{class ke{static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({})}}return ke})();class ci extends tn{constructor(Ue,he,qe){super(It(he),Ht(qe,he)),this.controls=Ue,this._initObservables(),this._setUpdateStrategy(he),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(Ue){return this.controls[this._adjustIndex(Ue)]}push(Ue,he={}){this.controls.push(Ue),this._registerControl(Ue),this.updateValueAndValidity({emitEvent:he.emitEvent}),this._onCollectionChange()}insert(Ue,he,qe={}){this.controls.splice(Ue,0,he),this._registerControl(he),this.updateValueAndValidity({emitEvent:qe.emitEvent})}removeAt(Ue,he={}){let qe=this._adjustIndex(Ue);qe<0&&(qe=0),this.controls[qe]&&this.controls[qe]._registerOnCollectionChange(()=>{}),this.controls.splice(qe,1),this.updateValueAndValidity({emitEvent:he.emitEvent})}setControl(Ue,he,qe={}){let Lt=this._adjustIndex(Ue);Lt<0&&(Lt=0),this.controls[Lt]&&this.controls[Lt]._registerOnCollectionChange(()=>{}),this.controls.splice(Lt,1),he&&(this.controls.splice(Lt,0,he),this._registerControl(he)),this.updateValueAndValidity({emitEvent:qe.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(Ue,he={}){Ot(this,0,Ue),Ue.forEach((qe,Lt)=>{yt(this,!1,Lt),this.at(Lt).setValue(qe,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he)}patchValue(Ue,he={}){null!=Ue&&(Ue.forEach((qe,Lt)=>{this.at(Lt)&&this.at(Lt).patchValue(qe,{onlySelf:!0,emitEvent:he.emitEvent})}),this.updateValueAndValidity(he))}reset(Ue=[],he={}){this._forEachChild((qe,Lt)=>{qe.reset(Ue[Lt],{onlySelf:!0,emitEvent:he.emitEvent})}),this._updatePristine(he),this._updateTouched(he),this.updateValueAndValidity(he)}getRawValue(){return this.controls.map(Ue=>Ue.getRawValue())}clear(Ue={}){this.controls.length<1||(this._forEachChild(he=>he._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:Ue.emitEvent}))}_adjustIndex(Ue){return Ue<0?Ue+this.length:Ue}_syncPendingControls(){let Ue=this.controls.reduce((he,qe)=>!!qe._syncPendingControls()||he,!1);return Ue&&this.updateValueAndValidity({onlySelf:!0}),Ue}_forEachChild(Ue){this.controls.forEach((he,qe)=>{Ue(he,qe)})}_updateValue(){this.value=this.controls.filter(Ue=>Ue.enabled||this.disabled).map(Ue=>Ue.value)}_anyControls(Ue){return this.controls.some(he=>he.enabled&&Ue(he))}_setUpControls(){this._forEachChild(Ue=>this._registerControl(Ue))}_allControlsDisabled(){for(const Ue of this.controls)if(Ue.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(Ue){Ue.setParent(this),Ue._registerOnCollectionChange(this._onCollectionChange)}_find(Ue){return this.at(Ue)??null}}function gr(ke){return!!ke&&(void 0!==ke.asyncValidators||void 0!==ke.validators||void 0!==ke.updateOn)}let Gs=(()=>{class ke{constructor(){this.useNonNullable=!1}get nonNullable(){const he=new ke;return he.useNonNullable=!0,he}group(he,qe=null){const Lt=this._reduceControls(he);let Yn={};return gr(qe)?Yn=qe:null!==qe&&(Yn.validators=qe.validator,Yn.asyncValidators=qe.asyncValidator),new In(Lt,Yn)}record(he,qe=null){const Lt=this._reduceControls(he);return new Hn(Lt,qe)}control(he,qe,Lt){let Yn={};return this.useNonNullable?(gr(qe)?Yn=qe:(Yn.validators=qe,Yn.asyncValidators=Lt),new ft(he,{...Yn,nonNullable:!0})):new ft(he,qe,Lt)}array(he,qe,Lt){const Yn=he.map(Di=>this._createControl(Di));return new ci(Yn,qe,Lt)}_reduceControls(he){const qe={};return Object.keys(he).forEach(Lt=>{qe[Lt]=this._createControl(he[Lt])}),qe}_createControl(he){return he instanceof ft||he instanceof tn?he:Array.isArray(he)?this.control(he[0],he.length>1?he[1]:null,he.length>2?he[2]:null):this.control(he)}static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),jr=(()=>{class ke extends Gs{group(he,qe=null){return super.group(he,qe)}control(he,qe,Lt){return super.control(he,qe,Lt)}array(he,qe,Lt){return super.array(he,qe,Lt)}static{this.\u0275fac=(()=>{let he;return function(Lt){return(he||(he=i.xGo(ke)))(Lt||ke)}})()}static{this.\u0275prov=i.jDH({token:ke,factory:ke.\u0275fac,providedIn:"root"})}}return ke})(),vn=(()=>{class ke{static withConfig(he){return{ngModule:ke,providers:[{provide:ht,useValue:he.callSetDisabledState??kt}]}}static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({imports:[Ds]})}}return ke})(),ys=(()=>{class ke{static withConfig(he){return{ngModule:ke,providers:[{provide:wr,useValue:he.warnOnNgModelWithFormControl??"always"},{provide:ht,useValue:he.callSetDisabledState??kt}]}}static{this.\u0275fac=function(qe){return new(qe||ke)}}static{this.\u0275mod=i.$C({type:ke})}static{this.\u0275inj=i.G2t({imports:[Ds]})}}return ke})()},345:(nt,fe,h)=>{"use strict";h.d(fe,{B7:()=>J,Bb:()=>Z,hE:()=>at,sG:()=>Dt,up:()=>tt});var i=h(4438),e=h(177);class y extends e.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends y{static makeCurrent(){(0,e.ZD)(new p)}onAndCancel(Ct,yt,Ot){return Ct.addEventListener(yt,Ot),()=>{Ct.removeEventListener(yt,Ot)}}dispatchEvent(Ct,yt){Ct.dispatchEvent(yt)}remove(Ct){Ct.parentNode&&Ct.parentNode.removeChild(Ct)}createElement(Ct,yt){return(yt=yt||this.getDefaultDocument()).createElement(Ct)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Ct){return Ct.nodeType===Node.ELEMENT_NODE}isShadowRoot(Ct){return Ct instanceof DocumentFragment}getGlobalEventTarget(Ct,yt){return"window"===yt?window:"document"===yt?Ct:"body"===yt?Ct.body:null}getBaseHref(Ct){const yt=function C(){return w=w||document.querySelector("base"),w?w.getAttribute("href"):null}();return null==yt?null:function m(lt){return new URL(lt,document.baseURI).pathname}(yt)}resetBaseElement(){w=null}getUserAgent(){return window.navigator.userAgent}getCookie(Ct){return(0,e._b)(document.cookie,Ct)}}let w=null,f=(()=>{class lt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(Ot){return new(Ot||lt)}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const I=new i.nKC("");let O=(()=>{class lt{constructor(yt,Ot){this._zone=Ot,this._eventNameToPlugin=new Map,yt.forEach(tn=>{tn.manager=this}),this._plugins=yt.slice().reverse()}addEventListener(yt,Ot,tn){return this._findPluginFor(Ot).addEventListener(yt,Ot,tn)}getZone(){return this._zone}_findPluginFor(yt){let Ot=this._eventNameToPlugin.get(yt);if(Ot)return Ot;if(Ot=this._plugins.find(In=>In.supports(yt)),!Ot)throw new i.wOt(5101,!1);return this._eventNameToPlugin.set(yt,Ot),Ot}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(I),i.KVO(i.SKi))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class P{constructor(Ct){this._doc=Ct}}const b="ng-app-id";let M=(()=>{class lt{constructor(yt,Ot,tn,In={}){this.doc=yt,this.appId=Ot,this.nonce=tn,this.platformId=In,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,e.Vy)(In),this.resetHostNodes()}addStyles(yt){for(const Ot of yt)1===this.changeUsageCount(Ot,1)&&this.onStyleAdded(Ot)}removeStyles(yt){for(const Ot of yt)this.changeUsageCount(Ot,-1)<=0&&this.onStyleRemoved(Ot)}ngOnDestroy(){const yt=this.styleNodesInDOM;yt&&(yt.forEach(Ot=>Ot.remove()),yt.clear());for(const Ot of this.getAllStyles())this.onStyleRemoved(Ot);this.resetHostNodes()}addHost(yt){this.hostNodes.add(yt);for(const Ot of this.getAllStyles())this.addStyleToHost(yt,Ot)}removeHost(yt){this.hostNodes.delete(yt)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(yt){for(const Ot of this.hostNodes)this.addStyleToHost(Ot,yt)}onStyleRemoved(yt){const Ot=this.styleRef;Ot.get(yt)?.elements?.forEach(tn=>tn.remove()),Ot.delete(yt)}collectServerRenderedStyles(){const yt=this.doc.head?.querySelectorAll(`style[${b}="${this.appId}"]`);if(yt?.length){const Ot=new Map;return yt.forEach(tn=>{null!=tn.textContent&&Ot.set(tn.textContent,tn)}),Ot}return null}changeUsageCount(yt,Ot){const tn=this.styleRef;if(tn.has(yt)){const In=tn.get(yt);return In.usage+=Ot,In.usage}return tn.set(yt,{usage:Ot,elements:[]}),Ot}getStyleElement(yt,Ot){const tn=this.styleNodesInDOM,In=tn?.get(Ot);if(In?.parentNode===yt)return tn.delete(Ot),In.removeAttribute(b),In;{const Un=this.doc.createElement("style");return this.nonce&&Un.setAttribute("nonce",this.nonce),Un.textContent=Ot,this.platformIsServer&&Un.setAttribute(b,this.appId),yt.appendChild(Un),Un}}addStyleToHost(yt,Ot){const tn=this.getStyleElement(yt,Ot),In=this.styleRef,Un=In.get(Ot)?.elements;Un?Un.push(tn):In.set(Ot,{elements:[tn],usage:1})}resetHostNodes(){const yt=this.hostNodes;yt.clear(),yt.add(this.doc.head)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(e.qQ),i.KVO(i.sZ2),i.KVO(i.BIS,8),i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const k={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},N=/%COMP%/g,G="%COMP%",R=`_nghost-${G}`,j=`_ngcontent-${G}`,$=new i.nKC("",{providedIn:"root",factory:()=>!0});function L(lt,Ct){return Ct.map(yt=>yt.replace(N,lt))}let J=(()=>{class lt{constructor(yt,Ot,tn,In,Un,fn,hi,Hn=null){this.eventManager=yt,this.sharedStylesHost=Ot,this.appId=tn,this.removeStylesOnCompDestroy=In,this.doc=Un,this.platformId=fn,this.ngZone=hi,this.nonce=Hn,this.rendererByCompId=new Map,this.platformIsServer=(0,e.Vy)(fn),this.defaultRenderer=new te(yt,Un,hi,this.platformIsServer)}createRenderer(yt,Ot){if(!yt||!Ot)return this.defaultRenderer;this.platformIsServer&&Ot.encapsulation===i.gXe.ShadowDom&&(Ot={...Ot,encapsulation:i.gXe.Emulated});const tn=this.getOrCreateRenderer(yt,Ot);return tn instanceof Ae?tn.applyToHost(yt):tn instanceof Ne&&tn.applyStyles(),tn}getOrCreateRenderer(yt,Ot){const tn=this.rendererByCompId;let In=tn.get(Ot.id);if(!In){const Un=this.doc,fn=this.ngZone,hi=this.eventManager,Hn=this.sharedStylesHost,Mt=this.removeStylesOnCompDestroy,ht=this.platformIsServer;switch(Ot.encapsulation){case i.gXe.Emulated:In=new Ae(hi,Hn,Ot,this.appId,Mt,Un,fn,ht);break;case i.gXe.ShadowDom:return new me(hi,Hn,yt,Ot,Un,fn,this.nonce,ht);default:In=new Ne(hi,Hn,Ot,Mt,Un,fn,ht)}tn.set(Ot.id,In)}return In}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(O),i.KVO(M),i.KVO(i.sZ2),i.KVO($),i.KVO(e.qQ),i.KVO(i.Agw),i.KVO(i.SKi),i.KVO(i.BIS))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();class te{constructor(Ct,yt,Ot,tn){this.eventManager=Ct,this.doc=yt,this.ngZone=Ot,this.platformIsServer=tn,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Ct,yt){return yt?this.doc.createElementNS(k[yt]||yt,Ct):this.doc.createElement(Ct)}createComment(Ct){return this.doc.createComment(Ct)}createText(Ct){return this.doc.createTextNode(Ct)}appendChild(Ct,yt){(K(Ct)?Ct.content:Ct).appendChild(yt)}insertBefore(Ct,yt,Ot){Ct&&(K(Ct)?Ct.content:Ct).insertBefore(yt,Ot)}removeChild(Ct,yt){Ct&&Ct.removeChild(yt)}selectRootElement(Ct,yt){let Ot="string"==typeof Ct?this.doc.querySelector(Ct):Ct;if(!Ot)throw new i.wOt(-5104,!1);return yt||(Ot.textContent=""),Ot}parentNode(Ct){return Ct.parentNode}nextSibling(Ct){return Ct.nextSibling}setAttribute(Ct,yt,Ot,tn){if(tn){yt=tn+":"+yt;const In=k[tn];In?Ct.setAttributeNS(In,yt,Ot):Ct.setAttribute(yt,Ot)}else Ct.setAttribute(yt,Ot)}removeAttribute(Ct,yt,Ot){if(Ot){const tn=k[Ot];tn?Ct.removeAttributeNS(tn,yt):Ct.removeAttribute(`${Ot}:${yt}`)}else Ct.removeAttribute(yt)}addClass(Ct,yt){Ct.classList.add(yt)}removeClass(Ct,yt){Ct.classList.remove(yt)}setStyle(Ct,yt,Ot,tn){tn&(i.czy.DashCase|i.czy.Important)?Ct.style.setProperty(yt,Ot,tn&i.czy.Important?"important":""):Ct.style[yt]=Ot}removeStyle(Ct,yt,Ot){Ot&i.czy.DashCase?Ct.style.removeProperty(yt):Ct.style[yt]=""}setProperty(Ct,yt,Ot){null!=Ct&&(Ct[yt]=Ot)}setValue(Ct,yt){Ct.nodeValue=yt}listen(Ct,yt,Ot){if("string"==typeof Ct&&!(Ct=(0,e.QT)().getGlobalEventTarget(this.doc,Ct)))throw new Error(`Unsupported event target ${Ct} for event ${yt}`);return this.eventManager.addEventListener(Ct,yt,this.decoratePreventDefault(Ot))}decoratePreventDefault(Ct){return yt=>{if("__ngUnwrap__"===yt)return Ct;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Ct(yt)):Ct(yt))&&yt.preventDefault()}}}function K(lt){return"TEMPLATE"===lt.tagName&&void 0!==lt.content}class me extends te{constructor(Ct,yt,Ot,tn,In,Un,fn,hi){super(Ct,In,Un,hi),this.sharedStylesHost=yt,this.hostEl=Ot,this.shadowRoot=Ot.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Hn=L(tn.id,tn.styles);for(const Mt of Hn){const ht=document.createElement("style");fn&&ht.setAttribute("nonce",fn),ht.textContent=Mt,this.shadowRoot.appendChild(ht)}}nodeOrShadowRoot(Ct){return Ct===this.hostEl?this.shadowRoot:Ct}appendChild(Ct,yt){return super.appendChild(this.nodeOrShadowRoot(Ct),yt)}insertBefore(Ct,yt,Ot){return super.insertBefore(this.nodeOrShadowRoot(Ct),yt,Ot)}removeChild(Ct,yt){return super.removeChild(this.nodeOrShadowRoot(Ct),yt)}parentNode(Ct){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Ct)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ne extends te{constructor(Ct,yt,Ot,tn,In,Un,fn,hi){super(Ct,In,Un,fn),this.sharedStylesHost=yt,this.removeStylesOnCompDestroy=tn,this.styles=hi?L(hi,Ot.styles):Ot.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Ae extends Ne{constructor(Ct,yt,Ot,tn,In,Un,fn,hi){const Hn=tn+"-"+Ot.id;super(Ct,yt,Ot,In,Un,fn,hi,Hn),this.contentAttr=function ne(lt){return j.replace(N,lt)}(Hn),this.hostAttr=function se(lt){return R.replace(N,lt)}(Hn)}applyToHost(Ct){this.applyStyles(),this.setAttribute(Ct,this.hostAttr,"")}createElement(Ct,yt){const Ot=super.createElement(Ct,yt);return super.setAttribute(Ot,this.contentAttr,""),Ot}}let xe=(()=>{class lt extends P{constructor(yt){super(yt)}supports(yt){return!0}addEventListener(yt,Ot,tn){return yt.addEventListener(Ot,tn,!1),()=>this.removeEventListener(yt,Ot,tn)}removeEventListener(yt,Ot,tn){return yt.removeEventListener(Ot,tn)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Qe=["alt","control","meta","shift"],Ee={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},be={alt:lt=>lt.altKey,control:lt=>lt.ctrlKey,meta:lt=>lt.metaKey,shift:lt=>lt.shiftKey};let le=(()=>{class lt extends P{constructor(yt){super(yt)}supports(yt){return null!=lt.parseEventName(yt)}addEventListener(yt,Ot,tn){const In=lt.parseEventName(Ot),Un=lt.eventCallback(In.fullKey,tn,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,e.QT)().onAndCancel(yt,In.domEventName,Un))}static parseEventName(yt){const Ot=yt.toLowerCase().split("."),tn=Ot.shift();if(0===Ot.length||"keydown"!==tn&&"keyup"!==tn)return null;const In=lt._normalizeKey(Ot.pop());let Un="",fn=Ot.indexOf("code");if(fn>-1&&(Ot.splice(fn,1),Un="code."),Qe.forEach(Hn=>{const Mt=Ot.indexOf(Hn);Mt>-1&&(Ot.splice(Mt,1),Un+=Hn+".")}),Un+=In,0!=Ot.length||0===In.length)return null;const hi={};return hi.domEventName=tn,hi.fullKey=Un,hi}static matchEventFullKeyCode(yt,Ot){let tn=Ee[yt.key]||yt.key,In="";return Ot.indexOf("code.")>-1&&(tn=yt.code,In="code."),!(null==tn||!tn)&&(tn=tn.toLowerCase()," "===tn?tn="space":"."===tn&&(tn="dot"),Qe.forEach(Un=>{Un!==tn&&(0,be[Un])(yt)&&(In+=Un+".")}),In+=tn,In===Ot)}static eventCallback(yt,Ot,tn){return In=>{lt.matchEventFullKeyCode(In,yt)&&tn.runGuarded(()=>Ot(In))}}static _normalizeKey(yt){return"esc"===yt?"escape":yt}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac})}}return lt})();const Dt=(0,i.oH4)(i.fpN,"browser",[{provide:i.Agw,useValue:e.AJ},{provide:i.PLl,useValue:function pt(){p.makeCurrent()},multi:!0},{provide:e.qQ,useFactory:function qt(){return(0,i.TL$)(document),document},deps:[]}]),wt=new i.nKC(""),z=[{provide:i.e01,useClass:class d{addToWindow(Ct){i.JZv.getAngularTestability=(Ot,tn=!0)=>{const In=Ct.findTestabilityInTree(Ot,tn);if(null==In)throw new i.wOt(5103,!1);return In},i.JZv.getAllAngularTestabilities=()=>Ct.getAllTestabilities(),i.JZv.getAllAngularRootElements=()=>Ct.getAllRootElements(),i.JZv.frameworkStabilizers||(i.JZv.frameworkStabilizers=[]),i.JZv.frameworkStabilizers.push(Ot=>{const tn=i.JZv.getAllAngularTestabilities();let In=tn.length;const Un=function(){In--,0==In&&Ot()};tn.forEach(fn=>{fn.whenStable(Un)})})}findTestabilityInTree(Ct,yt,Ot){return null==yt?null:Ct.getTestability(yt)??(Ot?(0,e.QT)().isShadowRoot(yt)?this.findTestabilityInTree(Ct,yt.host,!0):this.findTestabilityInTree(Ct,yt.parentElement,!0):null)}},deps:[]},{provide:i.WHO,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]},{provide:i.NYb,useClass:i.NYb,deps:[i.SKi,i.giA,i.e01]}],Y=[{provide:i.H8p,useValue:"root"},{provide:i.zcH,useFactory:function Ye(){return new i.zcH},deps:[]},{provide:I,useClass:xe,multi:!0,deps:[e.qQ,i.SKi,i.Agw]},{provide:I,useClass:le,multi:!0,deps:[e.qQ]},J,M,O,{provide:i._9s,useExisting:J},{provide:e.N0,useClass:f,deps:[]},[]];let Z=(()=>{class lt{constructor(yt){}static withServerTransition(yt){return{ngModule:lt,providers:[{provide:i.sZ2,useValue:yt.appId}]}}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(wt,12))}}static{this.\u0275mod=i.$C({type:lt})}static{this.\u0275inj=i.G2t({providers:[...Y,...z],imports:[e.MD,i.Hbi]})}}return lt})(),at=(()=>{class lt{constructor(yt){this._doc=yt}getTitle(){return this._doc.title}setTitle(yt){this._doc.title=yt||""}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})(),tt=(()=>{class lt{static{this.\u0275fac=function(Ot){return new(Ot||lt)}}static{this.\u0275prov=i.jDH({token:lt,factory:function(Ot){let tn=null;return tn=Ot?new(Ot||lt):i.KVO(gt),tn},providedIn:"root"})}}return lt})(),gt=(()=>{class lt extends tt{constructor(yt){super(),this._doc=yt}sanitize(yt,Ot){if(null==Ot)return null;switch(yt){case i.WPN.NONE:return Ot;case i.WPN.HTML:return(0,i.ZF7)(Ot,"HTML")?(0,i.rcV)(Ot):(0,i.h9k)(this._doc,String(Ot)).toString();case i.WPN.STYLE:return(0,i.ZF7)(Ot,"Style")?(0,i.rcV)(Ot):Ot;case i.WPN.SCRIPT:if((0,i.ZF7)(Ot,"Script"))return(0,i.rcV)(Ot);throw new i.wOt(5200,!1);case i.WPN.URL:return(0,i.ZF7)(Ot,"URL")?(0,i.rcV)(Ot):(0,i.$MX)(String(Ot));case i.WPN.RESOURCE_URL:if((0,i.ZF7)(Ot,"ResourceURL"))return(0,i.rcV)(Ot);throw new i.wOt(5201,!1);default:throw new i.wOt(5202,!1)}}bypassSecurityTrustHtml(yt){return(0,i.Kcf)(yt)}bypassSecurityTrustStyle(yt){return(0,i.cWb)(yt)}bypassSecurityTrustScript(yt){return(0,i.UyX)(yt)}bypassSecurityTrustUrl(yt){return(0,i.osQ)(yt)}bypassSecurityTrustResourceUrl(yt){return(0,i.e5t)(yt)}static{this.\u0275fac=function(Ot){return new(Ot||lt)(i.KVO(e.qQ))}}static{this.\u0275prov=i.jDH({token:lt,factory:lt.\u0275fac,providedIn:"root"})}}return lt})()},1583:(nt,fe,h)=>{"use strict";h.d(fe,{nX:()=>$n,j5:()=>Tt,wF:()=>ye,Z:()=>De,bw:()=>Eo,b:()=>Rt,Ix:()=>ur,Wk:()=>de,wQ:()=>Me,iI:()=>Xa,n3:()=>Kn});var i=h(4438),e=h(4402),y=h(6648),p=h(7673),w=h(4412),C=h(4572),m=h(9350),d=h(8793),f=h(9030),I=h(1203),O=h(8810),P=h(983),b=h(1985),M=h(8359),k=h(9974),N=h(4360);function G(){return(0,k.N)((D,V)=>{let B=null;D._refCount++;const Q=(0,N._)(V,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(B=null);const ge=D._connection,$e=B;B=null,ge&&(!$e||ge===$e)&&ge.unsubscribe(),V.unsubscribe()});D.subscribe(Q),Q.closed||(B=D.connect())})}class R extends b.c{constructor(V,B){super(),this.source=V,this.subjectFactory=B,this._subject=null,this._refCount=0,this._connection=null,(0,k.S)(V)&&(this.lift=V.lift)}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:V}=this;this._subject=this._connection=null,V?.unsubscribe()}connect(){let V=this._connection;if(!V){V=this._connection=new M.yU;const B=this.getSubject();V.add(this.source.subscribe((0,N._)(B,void 0,()=>{this._teardown(),B.complete()},Q=>{this._teardown(),B.error(Q)},()=>this._teardown()))),V.closed&&(this._connection=null,V=M.yU.EMPTY)}return V}refCount(){return G()(this)}}var j=h(1413),U=h(177),$=h(6354),ne=h(5558),se=h(6697),L=h(9172),J=h(5964),te=h(1397),E=h(1594),re=h(274),K=h(8141),me=h(9437),Ne=h(6649),xe=h(9901);function Qe(D){return D<=0?()=>P.w:(0,k.N)((V,B)=>{let Q=[];V.subscribe((0,N._)(B,ge=>{Q.push(ge),D<Q.length&&Q.shift()},()=>{for(const ge of Q)B.next(ge);B.complete()},void 0,()=>{Q=null}))})}var Ee=h(3774),be=h(3669),Pe=h(3703),Ie=h(980),st=h(6977),Oe=h(6365),pt=h(345);const Ye="primary",qt=Symbol("RouteTitle");class jt{constructor(V){this.params=V||{}}has(V){return Object.prototype.hasOwnProperty.call(this.params,V)}get(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B[0]:B}return null}getAll(V){if(this.has(V)){const B=this.params[V];return Array.isArray(B)?B:[B]}return[]}get keys(){return Object.keys(this.params)}}function Dt(D){return new jt(D)}function wt(D,V,B){const Q=B.path.split("/");if(Q.length>D.length||"full"===B.pathMatch&&(V.hasChildren()||Q.length<D.length))return null;const ge={};for(let $e=0;$e<Q.length;$e++){const bt=Q[$e],ln=D[$e];if(bt.startsWith(":"))ge[bt.substring(1)]=ln;else if(bt!==ln.path)return null}return{consumed:D.slice(0,Q.length),posParams:ge}}function Y(D,V){const B=D?Z(D):void 0,Q=V?Z(V):void 0;if(!B||!Q||B.length!=Q.length)return!1;let ge;for(let $e=0;$e<B.length;$e++)if(ge=B[$e],!Ce(D[ge],V[ge]))return!1;return!0}function Z(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function Ce(D,V){if(Array.isArray(D)&&Array.isArray(V)){if(D.length!==V.length)return!1;const B=[...D].sort(),Q=[...V].sort();return B.every((ge,$e)=>Q[$e]===ge)}return D===V}function we(D){return D.length>0?D[D.length-1]:null}function at(D){return(0,e.A)(D)?D:(0,i.jNT)(D)?(0,y.H)(Promise.resolve(D)):(0,p.of)(D)}const Be={exact:function it(D,V,B){if(!Ve(D.segments,V.segments)||!Jt(D.segments,V.segments,B)||D.numberOfChildren!==V.numberOfChildren)return!1;for(const Q in V.children)if(!D.children[Q]||!it(D.children[Q],V.children[Q],B))return!1;return!0},subset:on},ot={exact:function mt(D,V){return Y(D,V)},subset:function Kt(D,V){return Object.keys(V).length<=Object.keys(D).length&&Object.keys(V).every(B=>Ce(D[B],V[B]))},ignored:()=>!0};function Ft(D,V,B){return Be[B.paths](D.root,V.root,B.matrixParams)&&ot[B.queryParams](D.queryParams,V.queryParams)&&!("exact"===B.fragment&&D.fragment!==V.fragment)}function on(D,V,B){return Pt(D,V,V.segments,B)}function Pt(D,V,B,Q){if(D.segments.length>B.length){const ge=D.segments.slice(0,B.length);return!(!Ve(ge,B)||V.hasChildren()||!Jt(ge,B,Q))}if(D.segments.length===B.length){if(!Ve(D.segments,B)||!Jt(D.segments,B,Q))return!1;for(const ge in V.children)if(!D.children[ge]||!on(D.children[ge],V.children[ge],Q))return!1;return!0}{const ge=B.slice(0,D.segments.length),$e=B.slice(D.segments.length);return!!(Ve(D.segments,ge)&&Jt(D.segments,ge,Q)&&D.children[Ye])&&Pt(D.children[Ye],V,$e,Q)}}function Jt(D,V,B){return V.every((Q,ge)=>ot[B](D[ge].parameters,Q.parameters))}class je{constructor(V=new ce([],{}),B={},Q=null){this.root=V,this.queryParams=B,this.fragment=Q}get queryParamMap(){return this._queryParamMap??=Dt(this.queryParams),this._queryParamMap}toString(){return cn.serialize(this)}}class ce{constructor(V,B){this.segments=V,this.children=B,this.parent=null,Object.values(B).forEach(Q=>Q.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return hn(this)}}class X{constructor(V,B){this.path=V,this.parameters=B}get parameterMap(){return this._parameterMap??=Dt(this.parameters),this._parameterMap}toString(){return Ct(this)}}function Ve(D,V){return D.length===V.length&&D.every((B,Q)=>B.path===V[Q].path)}let gt=(()=>{class D{static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:()=>new Bt,providedIn:"root"})}}return D})();class Bt{parse(V){const B=new kt(V);return new je(B.parseRootSegment(),B.parseQueryParams(),B.parseFragment())}serialize(V){const B=`/${Mn(V.root,!0)}`,Q=function Ot(D){const V=Object.entries(D).map(([B,Q])=>Array.isArray(Q)?Q.map(ge=>`${Bn(B)}=${Bn(ge)}`).join("&"):`${Bn(B)}=${Bn(Q)}`).filter(B=>B);return V.length?`?${V.join("&")}`:""}(V.queryParams);return`${B}${Q}${"string"==typeof V.fragment?`#${function It(D){return encodeURI(D)}(V.fragment)}`:""}`}}const cn=new Bt;function hn(D){return D.segments.map(V=>Ct(V)).join("/")}function Mn(D,V){if(!D.hasChildren())return hn(D);if(V){const B=D.children[Ye]?Mn(D.children[Ye],!1):"",Q=[];return Object.entries(D.children).forEach(([ge,$e])=>{ge!==Ye&&Q.push(`${ge}:${Mn($e,!1)}`)}),Q.length>0?`${B}(${Q.join("//")})`:B}{const B=function tt(D,V){let B=[];return Object.entries(D.children).forEach(([Q,ge])=>{Q===Ye&&(B=B.concat(V(ge,Q)))}),Object.entries(D.children).forEach(([Q,ge])=>{Q!==Ye&&(B=B.concat(V(ge,Q)))}),B}(D,(Q,ge)=>ge===Ye?[Mn(D.children[Ye],!1)]:[`${ge}:${Mn(Q,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ye]?`${hn(D)}/${B[0]}`:`${hn(D)}/(${B.join("//")})`}}function kn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bn(D){return kn(D).replace(/%3B/gi,";")}function Rn(D){return kn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ht(D){return decodeURIComponent(D)}function lt(D){return Ht(D.replace(/\+/g,"%20"))}function Ct(D){return`${Rn(D.path)}${function yt(D){return Object.entries(D).map(([V,B])=>`;${Rn(V)}=${Rn(B)}`).join("")}(D.parameters)}`}const tn=/^[^\/()?;#]+/;function In(D){const V=D.match(tn);return V?V[0]:""}const Un=/^[^\/()?;=#]+/,hi=/^[^=?&#]+/,Mt=/^[^&#]+/;class kt{constructor(V){this.url=V,this.remaining=V}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const V={};if(this.consumeOptional("?"))do{this.parseQueryParam(V)}while(this.consumeOptional("&"));return V}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const V=[];for(this.peekStartsWith("(")||V.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),V.push(this.parseSegment());let B={};this.peekStartsWith("/(")&&(this.capture("/"),B=this.parseParens(!0));let Q={};return this.peekStartsWith("(")&&(Q=this.parseParens(!1)),(V.length>0||Object.keys(B).length>0)&&(Q[Ye]=new ce(V,B)),Q}parseSegment(){const V=In(this.remaining);if(""===V&&this.peekStartsWith(";"))throw new i.wOt(4009,!1);return this.capture(V),new X(Ht(V),this.parseMatrixParams())}parseMatrixParams(){const V={};for(;this.consumeOptional(";");)this.parseParam(V);return V}parseParam(V){const B=function fn(D){const V=D.match(Un);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Q="";if(this.consumeOptional("=")){const ge=In(this.remaining);ge&&(Q=ge,this.capture(Q))}V[Ht(B)]=Ht(Q)}parseQueryParam(V){const B=function Hn(D){const V=D.match(hi);return V?V[0]:""}(this.remaining);if(!B)return;this.capture(B);let Q="";if(this.consumeOptional("=")){const bt=function ht(D){const V=D.match(Mt);return V?V[0]:""}(this.remaining);bt&&(Q=bt,this.capture(Q))}const ge=lt(B),$e=lt(Q);if(V.hasOwnProperty(ge)){let bt=V[ge];Array.isArray(bt)||(bt=[bt],V[ge]=bt),bt.push($e)}else V[ge]=$e}parseParens(V){const B={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Q=In(this.remaining),ge=this.remaining[Q.length];if("/"!==ge&&")"!==ge&&";"!==ge)throw new i.wOt(4010,!1);let $e;Q.indexOf(":")>-1?($e=Q.slice(0,Q.indexOf(":")),this.capture($e),this.capture(":")):V&&($e=Ye);const bt=this.parseChildren();B[$e]=1===Object.keys(bt).length?bt[Ye]:new ce([],bt),this.consumeOptional("//")}return B}peekStartsWith(V){return this.remaining.startsWith(V)}consumeOptional(V){return!!this.peekStartsWith(V)&&(this.remaining=this.remaining.substring(V.length),!0)}capture(V){if(!this.consumeOptional(V))throw new i.wOt(4011,!1)}}function Gt(D){return D.segments.length>0?new ce([],{[Ye]:D}):D}function sn(D){const V={};for(const[Q,ge]of Object.entries(D.children)){const $e=sn(ge);if(Q===Ye&&0===$e.segments.length&&$e.hasChildren())for(const[bt,ln]of Object.entries($e.children))V[bt]=ln;else($e.segments.length>0||$e.hasChildren())&&(V[Q]=$e)}return function bn(D){if(1===D.numberOfChildren&&D.children[Ye]){const V=D.children[Ye];return new ce(D.segments.concat(V.segments),V.children)}return D}(new ce(D.segments,V))}function yn(D){return D instanceof je}function An(D){let V;const ge=Gt(function B($e){const bt={};for(const rn of $e.children){const Ln=B(rn);bt[rn.outlet]=Ln}const ln=new ce($e.url,bt);return $e===D&&(V=ln),ln}(D.root));return V??ge}function gn(D,V,B,Q){let ge=D;for(;ge.parent;)ge=ge.parent;if(0===V.length)return ii(ge,ge,ge,B,Q);const $e=function Ti(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Qn(!0,0,D);let V=0,B=!1;const Q=D.reduce((ge,$e,bt)=>{if("object"==typeof $e&&null!=$e){if($e.outlets){const ln={};return Object.entries($e.outlets).forEach(([rn,Ln])=>{ln[rn]="string"==typeof Ln?Ln.split("/"):Ln}),[...ge,{outlets:ln}]}if($e.segmentPath)return[...ge,$e.segmentPath]}return"string"!=typeof $e?[...ge,$e]:0===bt?($e.split("/").forEach((ln,rn)=>{0==rn&&"."===ln||(0==rn&&""===ln?B=!0:".."===ln?V++:""!=ln&&ge.push(ln))}),ge):[...ge,$e]},[]);return new Qn(B,V,Q)}(V);if($e.toRoot())return ii(ge,ge,new ce([],{}),B,Q);const bt=function Hi(D,V,B){if(D.isAbsolute)return new gi(V,!0,0);if(!B)return new gi(V,!1,NaN);if(null===B.parent)return new gi(B,!0,0);const Q=di(D.commands[0])?0:1;return function $i(D,V,B){let Q=D,ge=V,$e=B;for(;$e>ge;){if($e-=ge,Q=Q.parent,!Q)throw new i.wOt(4005,!1);ge=Q.segments.length}return new gi(Q,!1,ge-$e)}(B,B.segments.length-1+Q,D.numberOfDoubleDots)}($e,ge,D),ln=bt.processChildren?At(bt.segmentGroup,bt.index,$e.commands):et(bt.segmentGroup,bt.index,$e.commands);return ii(ge,bt.segmentGroup,ln,B,Q)}function di(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function mi(D){return"object"==typeof D&&null!=D&&D.outlets}function ii(D,V,B,Q,ge){let bt,$e={};Q&&Object.entries(Q).forEach(([rn,Ln])=>{$e[rn]=Array.isArray(Ln)?Ln.map(Oi=>`${Oi}`):`${Ln}`}),bt=D===V?B:Pi(D,V,B);const ln=Gt(sn(bt));return new je(ln,$e,ge)}function Pi(D,V,B){const Q={};return Object.entries(D.children).forEach(([ge,$e])=>{Q[ge]=$e===V?B:Pi($e,V,B)}),new ce(D.segments,Q)}class Qn{constructor(V,B,Q){if(this.isAbsolute=V,this.numberOfDoubleDots=B,this.commands=Q,V&&Q.length>0&&di(Q[0]))throw new i.wOt(4003,!1);const ge=Q.find(mi);if(ge&&ge!==we(Q))throw new i.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{constructor(V,B,Q){this.segmentGroup=V,this.processChildren=B,this.index=Q}}function et(D,V,B){if(D??=new ce([],{}),0===D.segments.length&&D.hasChildren())return At(D,V,B);const Q=function Ke(D,V,B){let Q=0,ge=V;const $e={match:!1,pathIndex:0,commandIndex:0};for(;ge<D.segments.length;){if(Q>=B.length)return $e;const bt=D.segments[ge],ln=B[Q];if(mi(ln))break;const rn=`${ln}`,Ln=Q<B.length-1?B[Q+1]:null;if(ge>0&&void 0===rn)break;if(rn&&Ln&&"object"==typeof Ln&&void 0===Ln.outlets){if(!Xe(rn,Ln,bt))return $e;Q+=2}else{if(!Xe(rn,{},bt))return $e;Q++}ge++}return{match:!0,pathIndex:ge,commandIndex:Q}}(D,V,B),ge=B.slice(Q.commandIndex);if(Q.match&&Q.pathIndex<D.segments.length){const $e=new ce(D.segments.slice(0,Q.pathIndex),{});return $e.children[Ye]=new ce(D.segments.slice(Q.pathIndex),D.children),At($e,0,ge)}return Q.match&&0===ge.length?new ce(D.segments,{}):Q.match&&!D.hasChildren()?zt(D,V,B):Q.match?At(D,0,ge):zt(D,V,B)}function At(D,V,B){if(0===B.length)return new ce(D.segments,{});{const Q=function Ii(D){return mi(D[0])?D[0].outlets:{[Ye]:D}}(B),ge={};if(Object.keys(Q).some($e=>$e!==Ye)&&D.children[Ye]&&1===D.numberOfChildren&&0===D.children[Ye].segments.length){const $e=At(D.children[Ye],V,B);return new ce(D.segments,$e.children)}return Object.entries(Q).forEach(([$e,bt])=>{"string"==typeof bt&&(bt=[bt]),null!==bt&&(ge[$e]=et(D.children[$e],V,bt))}),Object.entries(D.children).forEach(([$e,bt])=>{void 0===Q[$e]&&(ge[$e]=bt)}),new ce(D.segments,ge)}}function zt(D,V,B){const Q=D.segments.slice(0,V);let ge=0;for(;ge<B.length;){const $e=B[ge];if(mi($e)){const rn=ct($e.outlets);return new ce(Q,rn)}if(0===ge&&di(B[0])){Q.push(new X(D.segments[V].path,Yt(B[0]))),ge++;continue}const bt=mi($e)?$e.outlets[Ye]:`${$e}`,ln=ge<B.length-1?B[ge+1]:null;bt&&ln&&di(ln)?(Q.push(new X(bt,Yt(ln))),ge+=2):(Q.push(new X(bt,{})),ge++)}return new ce(Q,{})}function ct(D){const V={};return Object.entries(D).forEach(([B,Q])=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(V[B]=zt(new ce([],{}),0,Q))}),V}function Yt(D){const V={};return Object.entries(D).forEach(([B,Q])=>V[B]=`${Q}`),V}function Xe(D,V,B){return D==B.path&&Y(V,B.parameters)}const Zt="imperative";var ut=function(D){return D[D.NavigationStart=0]="NavigationStart",D[D.NavigationEnd=1]="NavigationEnd",D[D.NavigationCancel=2]="NavigationCancel",D[D.NavigationError=3]="NavigationError",D[D.RoutesRecognized=4]="RoutesRecognized",D[D.ResolveStart=5]="ResolveStart",D[D.ResolveEnd=6]="ResolveEnd",D[D.GuardsCheckStart=7]="GuardsCheckStart",D[D.GuardsCheckEnd=8]="GuardsCheckEnd",D[D.RouteConfigLoadStart=9]="RouteConfigLoadStart",D[D.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",D[D.ChildActivationStart=11]="ChildActivationStart",D[D.ChildActivationEnd=12]="ChildActivationEnd",D[D.ActivationStart=13]="ActivationStart",D[D.ActivationEnd=14]="ActivationEnd",D[D.Scroll=15]="Scroll",D[D.NavigationSkipped=16]="NavigationSkipped",D}(ut||{});class _e{constructor(V,B){this.id=V,this.url=B}}class De extends _e{constructor(V,B,Q="imperative",ge=null){super(V,B),this.type=ut.NavigationStart,this.navigationTrigger=Q,this.restoredState=ge}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ye extends _e{constructor(V,B,Q){super(V,B),this.urlAfterRedirects=Q,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ft=function(D){return D[D.Redirect=0]="Redirect",D[D.SupersededByNewNavigation=1]="SupersededByNewNavigation",D[D.NoDataFromResolver=2]="NoDataFromResolver",D[D.GuardRejected=3]="GuardRejected",D}(ft||{}),ze=function(D){return D[D.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",D[D.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",D}(ze||{});class Tt extends _e{constructor(V,B,Q,ge){super(V,B),this.reason=Q,this.code=ge,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vt extends _e{constructor(V,B,Q,ge){super(V,B),this.reason=Q,this.code=ge,this.type=ut.NavigationSkipped}}class Xt extends _e{constructor(V,B,Q,ge){super(V,B),this.error=Q,this.target=ge,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Vn extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ai extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yi extends _e{constructor(V,B,Q,ge,$e){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.shouldActivate=$e,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ri extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ui extends _e{constructor(V,B,Q,ge){super(V,B),this.urlAfterRedirects=Q,this.state=ge,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hr{constructor(V){this.route=V,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wn{constructor(V){this.route=V,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class li{constructor(V){this.snapshot=V,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lr{constructor(V){this.snapshot=V,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xi{constructor(V){this.snapshot=V,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(V){this.snapshot=V,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ys{constructor(V,B,Q){this.routerEvent=V,this.position=B,this.anchor=Q,this.type=ut.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gs{}class Bs{constructor(V){this.url=V}}class js{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vs,this.attachRef=null}}let vs=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(B,Q){const ge=this.getOrCreateContext(B);ge.outlet=Q,this.contexts.set(B,ge)}onChildOutletDestroyed(B){const Q=this.getContext(B);Q&&(Q.outlet=null,Q.attachRef=null)}onOutletDeactivated(){const B=this.contexts;return this.contexts=new Map,B}onOutletReAttached(B){this.contexts=B}getOrCreateContext(B){let Q=this.getContext(B);return Q||(Q=new js,this.contexts.set(B,Q)),Q}getContext(B){return this.contexts.get(B)||null}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();class wr{constructor(V){this._root=V}get root(){return this._root.value}parent(V){const B=this.pathFromRoot(V);return B.length>1?B[B.length-2]:null}children(V){const B=Ls(V,this._root);return B?B.children.map(Q=>Q.value):[]}firstChild(V){const B=Ls(V,this._root);return B&&B.children.length>0?B.children[0].value:null}siblings(V){const B=vr(V,this._root);return B.length<2?[]:B[B.length-2].children.map(ge=>ge.value).filter(ge=>ge!==V)}pathFromRoot(V){return vr(V,this._root).map(B=>B.value)}}function Ls(D,V){if(D===V.value)return V;for(const B of V.children){const Q=Ls(D,B);if(Q)return Q}return null}function vr(D,V){if(D===V.value)return[V];for(const B of V.children){const Q=vr(D,B);if(Q.length)return Q.unshift(V),Q}return[]}class yr{constructor(V,B){this.value=V,this.children=B}toString(){return`TreeNode(${this.value})`}}function Ni(D){const V={};return D&&D.children.forEach(B=>V[B.value.outlet]=B),V}class Xs extends wr{constructor(V,B){super(V),this.snapshot=B,Er(this,V)}toString(){return this.snapshot.toString()}}function ui(D){const V=function Jo(D){const $e=new mr([],{},{},"",{},Ye,D,null,{});return new Sr("",new yr($e,[]))}(D),B=new w.t([new X("",{})]),Q=new w.t({}),ge=new w.t({}),$e=new w.t({}),bt=new w.t(""),ln=new $n(B,Q,$e,bt,ge,Ye,D,V.root);return ln.snapshot=V.root,new Xs(new yr(ln,[]),V)}class $n{constructor(V,B,Q,ge,$e,bt,ln,rn){this.urlSubject=V,this.paramsSubject=B,this.queryParamsSubject=Q,this.fragmentSubject=ge,this.dataSubject=$e,this.outlet=bt,this.component=ln,this._futureSnapshot=rn,this.title=this.dataSubject?.pipe((0,$.T)(Ln=>Ln[qt]))??(0,p.of)(void 0),this.url=V,this.params=B,this.queryParams=Q,this.fragment=ge,this.data=$e}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,$.T)(V=>Dt(V))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,$.T)(V=>Dt(V))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qr(D,V,B="emptyOnly"){let Q;const{routeConfig:ge}=D;return Q=null===V||"always"!==B&&""!==ge?.path&&(V.component||V.routeConfig?.loadComponent)?{params:{...D.params},data:{...D.data},resolve:{...D.data,...D._resolvedData??{}}}:{params:{...V.params,...D.params},data:{...V.data,...D.data},resolve:{...D.data,...V.data,...ge?.data,...D._resolvedData}},ge&&tr(ge)&&(Q.resolve[qt]=ge.title),Q}class mr{get title(){return this.data?.[qt]}constructor(V,B,Q,ge,$e,bt,ln,rn,Ln){this.url=V,this.params=B,this.queryParams=Q,this.fragment=ge,this.data=$e,this.outlet=bt,this.component=ln,this.routeConfig=rn,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Dt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Dt(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Q=>Q.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sr extends wr{constructor(V,B){super(B),this.url=V,Er(this,B)}toString(){return xr(this._root)}}function Er(D,V){V.value._routerState=D,V.children.forEach(B=>Er(D,B))}function xr(D){const V=D.children.length>0?` { ${D.children.map(xr).join(", ")} } `:"";return`${D.value}${V}`}function Vr(D){if(D.snapshot){const V=D.snapshot,B=D._futureSnapshot;D.snapshot=B,Y(V.queryParams,B.queryParams)||D.queryParamsSubject.next(B.queryParams),V.fragment!==B.fragment&&D.fragmentSubject.next(B.fragment),Y(V.params,B.params)||D.paramsSubject.next(B.params),function z(D,V){if(D.length!==V.length)return!1;for(let B=0;B<D.length;++B)if(!Y(D[B],V[B]))return!1;return!0}(V.url,B.url)||D.urlSubject.next(B.url),Y(V.data,B.data)||D.dataSubject.next(B.data)}else D.snapshot=D._futureSnapshot,D.dataSubject.next(D._futureSnapshot.data)}function er(D,V){const B=Y(D.params,V.params)&&function oe(D,V){return Ve(D,V)&&D.every((B,Q)=>Y(B.parameters,V[Q].parameters))}(D.url,V.url);return B&&!(!D.parent!=!V.parent)&&(!D.parent||er(D.parent,V.parent))}function tr(D){return"string"==typeof D.title||null===D.title}let Kn=(()=>{class D{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ye,this.activateEvents=new i.bkB,this.deactivateEvents=new i.bkB,this.attachEvents=new i.bkB,this.detachEvents=new i.bkB,this.parentContexts=(0,i.WQX)(vs),this.location=(0,i.WQX)(i.c1b),this.changeDetector=(0,i.WQX)(i.gRc),this.environmentInjector=(0,i.WQX)(i.uvJ),this.inputBinder=(0,i.WQX)(cr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(B){if(B.name){const{firstChange:Q,previousValue:ge}=B.name;if(Q)return;this.isTrackedInParentContexts(ge)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ge)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(B){return this.parentContexts.getContext(B)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const B=this.parentContexts.getContext(this.name);B?.route&&(B.attachRef?this.attach(B.attachRef,B.route):this.activateWith(B.route,B.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new i.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new i.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new i.wOt(4012,!1);this.location.detach();const B=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(B.instance),B}attach(B,Q){this.activated=B,this._activatedRoute=Q,this.location.insert(B.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(B.instance)}deactivate(){if(this.activated){const B=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(B)}}activateWith(B,Q){if(this.isActivated)throw new i.wOt(4013,!1);this._activatedRoute=B;const ge=this.location,bt=B.snapshot.component,ln=this.parentContexts.getOrCreateContext(this.name).children,rn=new Wr(B,ln,ge.injector);this.activated=ge.createComponent(bt,{index:ge.length,injector:rn,environmentInjector:Q??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275dir=i.FsC({type:D,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[i.OA$]})}}return D})();class Wr{constructor(V,B,Q){this.route=V,this.childContexts=B,this.parent=Q,this.__ngOutletInjector=!0}get(V,B){return V===$n?this.route:V===vs?this.childContexts:this.parent.get(V,B)}}const cr=new i.nKC("");let kr=(()=>{class D{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(B){this.unsubscribeFromRouteData(B),this.subscribeToRouteData(B)}unsubscribeFromRouteData(B){this.outletDataSubscriptions.get(B)?.unsubscribe(),this.outletDataSubscriptions.delete(B)}subscribeToRouteData(B){const{activatedRoute:Q}=B,ge=(0,C.z)([Q.queryParams,Q.params,Q.data]).pipe((0,ne.n)(([$e,bt,ln],rn)=>(ln={...$e,...bt,...ln},0===rn?(0,p.of)(ln):Promise.resolve(ln)))).subscribe($e=>{if(!B.isActivated||!B.activatedComponentRef||B.activatedRoute!==Q||null===Q.component)return void this.unsubscribeFromRouteData(B);const bt=(0,i.HJs)(Q.component);if(bt)for(const{templateName:ln}of bt.inputs)B.activatedComponentRef.setInput(ln,$e[ln]);else this.unsubscribeFromRouteData(B)});this.outletDataSubscriptions.set(B,ge)}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function so(D,V,B){if(B&&D.shouldReuseRoute(V.value,B.value.snapshot)){const Q=B.value;Q._futureSnapshot=V.value;const ge=function wo(D,V,B){return V.children.map(Q=>{for(const ge of B.children)if(D.shouldReuseRoute(Q.value,ge.value.snapshot))return so(D,Q,ge);return so(D,Q)})}(D,V,B);return new yr(Q,ge)}{if(D.shouldAttach(V.value)){const $e=D.retrieve(V.value);if(null!==$e){const bt=$e.route;return bt.value._futureSnapshot=V.value,bt.children=V.children.map(ln=>so(D,ln)),bt}}const Q=function Ts(D){return new $n(new w.t(D.url),new w.t(D.params),new w.t(D.queryParams),new w.t(D.fragment),new w.t(D.data),D.outlet,D.component,D)}(V.value),ge=V.children.map($e=>so(D,$e));return new yr(Q,ge)}}const _r="ngNavigationCancelingError";function rs(D,V){const{redirectTo:B,navigationBehaviorOptions:Q}=yn(V)?{redirectTo:V,navigationBehaviorOptions:void 0}:V,ge=ss(!1,ft.Redirect);return ge.url=B,ge.navigationBehaviorOptions=Q,ge}function ss(D,V){const B=new Error(`NavigationCancelingError: ${D||""}`);return B[_r]=!0,B.cancellationCode=V,B}function Zr(D){return!!D&&D[_r]}let vo=(()=>{class D{static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275cmp=i.VBU({type:D,selectors:[["ng-component"]],standalone:!0,features:[i.aNF],decls:1,vars:0,template:function(Q,ge){1&Q&&i.nrm(0,"router-outlet")},dependencies:[Kn],encapsulation:2})}}return D})();function sr(D){const V=D.children&&D.children.map(sr),B=V?{...D,children:V}:{...D};return!B.component&&!B.loadComponent&&(V||B.loadChildren)&&B.outlet&&B.outlet!==Ye&&(B.component=vo),B}function Or(D){return D.outlet||Ye}function lo(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let V=D.parent;V;V=V.parent){const B=V.routeConfig;if(B?._loadedInjector)return B._loadedInjector;if(B?._injector)return B._injector}return null}class ci{constructor(V,B,Q,ge,$e){this.routeReuseStrategy=V,this.futureState=B,this.currState=Q,this.forwardEvent=ge,this.inputBindingEnabled=$e}activate(V){const B=this.futureState._root,Q=this.currState?this.currState._root:null;this.deactivateChildRoutes(B,Q,V),Vr(this.futureState.root),this.activateChildRoutes(B,Q,V)}deactivateChildRoutes(V,B,Q){const ge=Ni(B);V.children.forEach($e=>{const bt=$e.value.outlet;this.deactivateRoutes($e,ge[bt],Q),delete ge[bt]}),Object.values(ge).forEach($e=>{this.deactivateRouteAndItsChildren($e,Q)})}deactivateRoutes(V,B,Q){const ge=V.value,$e=B?B.value:null;if(ge===$e)if(ge.component){const bt=Q.getContext(ge.outlet);bt&&this.deactivateChildRoutes(V,B,bt.children)}else this.deactivateChildRoutes(V,B,Q);else $e&&this.deactivateRouteAndItsChildren(B,Q)}deactivateRouteAndItsChildren(V,B){V.value.component&&this.routeReuseStrategy.shouldDetach(V.value.snapshot)?this.detachAndStoreRouteSubtree(V,B):this.deactivateRouteAndOutlet(V,B)}detachAndStoreRouteSubtree(V,B){const Q=B.getContext(V.value.outlet),ge=Q&&V.value.component?Q.children:B,$e=Ni(V);for(const bt of Object.values($e))this.deactivateRouteAndItsChildren(bt,ge);if(Q&&Q.outlet){const bt=Q.outlet.detach(),ln=Q.children.onOutletDeactivated();this.routeReuseStrategy.store(V.value.snapshot,{componentRef:bt,route:V,contexts:ln})}}deactivateRouteAndOutlet(V,B){const Q=B.getContext(V.value.outlet),ge=Q&&V.value.component?Q.children:B,$e=Ni(V);for(const bt of Object.values($e))this.deactivateRouteAndItsChildren(bt,ge);Q&&(Q.outlet&&(Q.outlet.deactivate(),Q.children.onOutletDeactivated()),Q.attachRef=null,Q.route=null)}activateChildRoutes(V,B,Q){const ge=Ni(B);V.children.forEach($e=>{this.activateRoutes($e,ge[$e.value.outlet],Q),this.forwardEvent(new Mr($e.value.snapshot))}),V.children.length&&this.forwardEvent(new lr(V.value.snapshot))}activateRoutes(V,B,Q){const ge=V.value,$e=B?B.value:null;if(Vr(ge),ge===$e)if(ge.component){const bt=Q.getOrCreateContext(ge.outlet);this.activateChildRoutes(V,B,bt.children)}else this.activateChildRoutes(V,B,Q);else if(ge.component){const bt=Q.getOrCreateContext(ge.outlet);if(this.routeReuseStrategy.shouldAttach(ge.snapshot)){const ln=this.routeReuseStrategy.retrieve(ge.snapshot);this.routeReuseStrategy.store(ge.snapshot,null),bt.children.onOutletReAttached(ln.contexts),bt.attachRef=ln.componentRef,bt.route=ln.route.value,bt.outlet&&bt.outlet.attach(ln.componentRef,ln.route.value),Vr(ln.route.value),this.activateChildRoutes(V,null,bt.children)}else{const ln=lo(ge.snapshot);bt.attachRef=null,bt.route=ge,bt.injector=ln,bt.outlet&&bt.outlet.activateWith(ge,bt.injector),this.activateChildRoutes(V,null,bt.children)}}else this.activateChildRoutes(V,null,Q)}}class Kr{constructor(V){this.path=V,this.route=this.path[this.path.length-1]}}class $s{constructor(V,B){this.component=V,this.route=B}}function gr(D,V,B){const Q=D._root;return jr(Q,V?V._root:null,B,[Q.value])}function Br(D,V){const B=Symbol(),Q=V.get(D,B);return Q===B?"function"!=typeof D||(0,i.LfX)(D)?V.get(D):D:Q}function jr(D,V,B,Q,ge={canDeactivateChecks:[],canActivateChecks:[]}){const $e=Ni(V);return D.children.forEach(bt=>{(function zr(D,V,B,Q,ge={canDeactivateChecks:[],canActivateChecks:[]}){const $e=D.value,bt=V?V.value:null,ln=B?B.getContext(D.value.outlet):null;if(bt&&$e.routeConfig===bt.routeConfig){const rn=function vn(D,V,B){if("function"==typeof B)return B(D,V);switch(B){case"pathParamsChange":return!Ve(D.url,V.url);case"pathParamsOrQueryParamsChange":return!Ve(D.url,V.url)||!Y(D.queryParams,V.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!er(D,V)||!Y(D.queryParams,V.queryParams);default:return!er(D,V)}}(bt,$e,$e.routeConfig.runGuardsAndResolvers);rn?ge.canActivateChecks.push(new Kr(Q)):($e.data=bt.data,$e._resolvedData=bt._resolvedData),jr(D,V,$e.component?ln?ln.children:null:B,Q,ge),rn&&ln&&ln.outlet&&ln.outlet.isActivated&&ge.canDeactivateChecks.push(new $s(ln.outlet.component,bt))}else bt&&ys(V,ln,ge),ge.canActivateChecks.push(new Kr(Q)),jr(D,null,$e.component?ln?ln.children:null:B,Q,ge)})(bt,$e[bt.value.outlet],B,Q.concat([bt.value]),ge),delete $e[bt.value.outlet]}),Object.entries($e).forEach(([bt,ln])=>ys(ln,B.getContext(bt),ge)),ge}function ys(D,V,B){const Q=Ni(D),ge=D.value;Object.entries(Q).forEach(([$e,bt])=>{ys(bt,ge.component?V?V.children.getContext($e):null:V,B)}),B.canDeactivateChecks.push(new $s(ge.component&&V&&V.outlet&&V.outlet.isActivated?V.outlet.component:null,ge))}function ke(D){return"function"==typeof D}function as(D){return D instanceof m.G||"EmptyError"===D?.name}const _s=Symbol("INITIAL_VALUE");function Zn(){return(0,ne.n)(D=>(0,C.z)(D.map(V=>V.pipe((0,se.s)(1),(0,L.Z)(_s)))).pipe((0,$.T)(V=>{for(const B of V)if(!0!==B){if(B===_s)return _s;if(!1===B||B instanceof je)return B}return!0}),(0,J.p)(V=>V!==_s),(0,se.s)(1)))}function Nn(D){return(0,I.F)((0,K.M)(V=>{if(yn(V))throw rs(0,V)}),(0,$.T)(V=>!0===V))}class Lr{constructor(V){this.segmentGroup=V||null}}class Ai extends Error{constructor(V){super(),this.urlTree=V}}function As(D){return(0,O.$)(new Lr(D))}class ki{constructor(V,B){this.urlSerializer=V,this.urlTree=B}lineralizeSegments(V,B){let Q=[],ge=B.root;for(;;){if(Q=Q.concat(ge.segments),0===ge.numberOfChildren)return(0,p.of)(Q);if(ge.numberOfChildren>1||!ge.children[Ye])return(0,O.$)(new i.wOt(4e3,!1));ge=ge.children[Ye]}}applyRedirectCommands(V,B,Q){const ge=this.applyRedirectCreateUrlTree(B,this.urlSerializer.parse(B),V,Q);if(B.startsWith("/"))throw new Ai(ge);return ge}applyRedirectCreateUrlTree(V,B,Q,ge){const $e=this.createSegmentGroup(V,B.root,Q,ge);return new je($e,this.createQueryParams(B.queryParams,this.urlTree.queryParams),B.fragment)}createQueryParams(V,B){const Q={};return Object.entries(V).forEach(([ge,$e])=>{if("string"==typeof $e&&$e.startsWith(":")){const ln=$e.substring(1);Q[ge]=B[ln]}else Q[ge]=$e}),Q}createSegmentGroup(V,B,Q,ge){const $e=this.createSegments(V,B.segments,Q,ge);let bt={};return Object.entries(B.children).forEach(([ln,rn])=>{bt[ln]=this.createSegmentGroup(V,rn,Q,ge)}),new ce($e,bt)}createSegments(V,B,Q,ge){return B.map($e=>$e.path.startsWith(":")?this.findPosParam(V,$e,ge):this.findOrReturn($e,Q))}findPosParam(V,B,Q){const ge=Q[B.path.substring(1)];if(!ge)throw new i.wOt(4001,!1);return ge}findOrReturn(V,B){let Q=0;for(const ge of B){if(ge.path===V.path)return B.splice(Q),ge;Q++}return V}}const zn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function es(D,V,B,Q,ge){const $e=Rs(D,V,B);return $e.matched?(Q=function nr(D,V){return D.providers&&!D._injector&&(D._injector=(0,i.Ol2)(D.providers,V,`Route: ${D.path}`)),D._injector??V}(V,Q),function Gn(D,V,B,Q){const ge=V.canMatch;if(!ge||0===ge.length)return(0,p.of)(!0);const $e=ge.map(bt=>{const ln=Br(bt,D);return at(function Di(D){return D&&ke(D.canMatch)}(ln)?ln.canMatch(V,B):(0,i.N4e)(D,()=>ln(V,B)))});return(0,p.of)($e).pipe(Zn(),Nn())}(Q,V,B).pipe((0,$.T)(bt=>!0===bt?$e:{...zn}))):(0,p.of)($e)}function Rs(D,V,B){if("**"===V.path)return function Tr(D){return{matched:!0,parameters:D.length>0?we(D).parameters:{},consumedSegments:D,remainingSegments:[],positionalParamSegments:{}}}(B);if(""===V.path)return"full"===V.pathMatch&&(D.hasChildren()||B.length>0)?{...zn}:{matched:!0,consumedSegments:[],remainingSegments:B,parameters:{},positionalParamSegments:{}};const ge=(V.matcher||wt)(B,D,V);if(!ge)return{...zn};const $e={};Object.entries(ge.posParams??{}).forEach(([ln,rn])=>{$e[ln]=rn.path});const bt=ge.consumed.length>0?{...$e,...ge.consumed[ge.consumed.length-1].parameters}:$e;return{matched:!0,consumedSegments:ge.consumed,remainingSegments:B.slice(ge.consumed.length),parameters:bt,positionalParamSegments:ge.posParams??{}}}function hl(D,V,B,Q){return B.length>0&&function Ma(D,V,B){return B.some(Q=>Ms(D,V,Q)&&Or(Q)!==Ye)}(D,B,Q)?{segmentGroup:new ce(V,xo(Q,new ce(B,D.children))),slicedSegments:[]}:0===B.length&&function Cn(D,V,B){return B.some(Q=>Ms(D,V,Q))}(D,B,Q)?{segmentGroup:new ce(D.segments,Gi(D,B,Q,D.children)),slicedSegments:B}:{segmentGroup:new ce(D.segments,D.children),slicedSegments:B}}function Gi(D,V,B,Q){const ge={};for(const $e of B)if(Ms(D,V,$e)&&!Q[Or($e)]){const bt=new ce([],{});ge[Or($e)]=bt}return{...Q,...ge}}function xo(D,V){const B={};B[Ye]=V;for(const Q of D)if(""===Q.path&&Or(Q)!==Ye){const ge=new ce([],{});B[Or(Q)]=ge}return B}function Ms(D,V,B){return(!(D.hasChildren()||V.length>0)||"full"!==B.pathMatch)&&""===B.path}class xa{}class ta{constructor(V,B,Q,ge,$e,bt,ln){this.injector=V,this.configLoader=B,this.rootComponentType=Q,this.config=ge,this.urlTree=$e,this.paramsInheritanceStrategy=bt,this.urlSerializer=ln,this.applyRedirects=new ki(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(V){return new i.wOt(4002,`'${V.segmentGroup}'`)}recognize(){const V=hl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(V).pipe((0,$.T)(B=>{const Q=new mr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ye,this.rootComponentType,null,{}),ge=new yr(Q,B),$e=new Sr("",ge),bt=function Jn(D,V,B=null,Q=null){return gn(An(D),V,B,Q)}(Q,[],this.urlTree.queryParams,this.urlTree.fragment);return bt.queryParams=this.urlTree.queryParams,$e.url=this.urlSerializer.serialize(bt),this.inheritParamsAndData($e._root,null),{state:$e,tree:bt}}))}match(V){return this.processSegmentGroup(this.injector,this.config,V,Ye).pipe((0,me.W)(Q=>{if(Q instanceof Ai)return this.urlTree=Q.urlTree,this.match(Q.urlTree.root);throw Q instanceof Lr?this.noMatchError(Q):Q}))}inheritParamsAndData(V,B){const Q=V.value,ge=Qr(Q,B,this.paramsInheritanceStrategy);Q.params=Object.freeze(ge.params),Q.data=Object.freeze(ge.data),V.children.forEach($e=>this.inheritParamsAndData($e,Q))}processSegmentGroup(V,B,Q,ge){return 0===Q.segments.length&&Q.hasChildren()?this.processChildren(V,B,Q):this.processSegment(V,B,Q,Q.segments,ge,!0).pipe((0,$.T)($e=>$e instanceof yr?[$e]:[]))}processChildren(V,B,Q){const ge=[];for(const $e of Object.keys(Q.children))"primary"===$e?ge.unshift($e):ge.push($e);return(0,y.H)(ge).pipe((0,re.H)($e=>{const bt=Q.children[$e],ln=function os(D,V){const B=D.filter(Q=>Or(Q)===V);return B.push(...D.filter(Q=>Or(Q)!==V)),B}(B,$e);return this.processSegmentGroup(V,ln,bt,$e)}),function Ae(D,V){return(0,k.N)((0,Ne.S)(D,V,arguments.length>=2,!0))}(($e,bt)=>($e.push(...bt),$e)),(0,xe.U)(null),function le(D,V){const B=arguments.length>=2;return Q=>Q.pipe(D?(0,J.p)((ge,$e)=>D(ge,$e,Q)):be.D,Qe(1),B?(0,xe.U)(V):(0,Ee.v)(()=>new m.G))}(),(0,te.Z)($e=>{if(null===$e)return As(Q);const bt=Ga($e);return function fl(D){D.sort((V,B)=>V.value.outlet===Ye?-1:B.value.outlet===Ye?1:V.value.outlet.localeCompare(B.value.outlet))}(bt),(0,p.of)(bt)}))}processSegment(V,B,Q,ge,$e,bt){return(0,y.H)(B).pipe((0,re.H)(ln=>this.processSegmentAgainstRoute(ln._injector??V,B,ln,Q,ge,$e,bt).pipe((0,me.W)(rn=>{if(rn instanceof Lr)return(0,p.of)(null);throw rn}))),(0,E.$)(ln=>!!ln),(0,me.W)(ln=>{if(as(ln))return function Us(D,V,B){return 0===V.length&&!D.children[B]}(Q,ge,$e)?(0,p.of)(new xa):As(Q);throw ln}))}processSegmentAgainstRoute(V,B,Q,ge,$e,bt,ln){return function qo(D,V,B,Q){return!!(Or(D)===Q||Q!==Ye&&Ms(V,B,D))&&Rs(V,D,B).matched}(Q,ge,$e,bt)?void 0===Q.redirectTo?this.matchSegmentAgainstRoute(V,ge,Q,$e,bt):this.allowRedirects&&ln?this.expandSegmentAgainstRouteUsingRedirect(V,ge,B,Q,$e,bt):As(ge):As(ge)}expandSegmentAgainstRouteUsingRedirect(V,B,Q,ge,$e,bt){const{matched:ln,consumedSegments:rn,positionalParamSegments:Ln,remainingSegments:Oi}=Rs(B,ge,$e);if(!ln)return As(B);ge.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Fi=this.applyRedirects.applyRedirectCommands(rn,ge.redirectTo,Ln);return this.applyRedirects.lineralizeSegments(ge,Fi).pipe((0,te.Z)(dr=>this.processSegment(V,Q,B,dr.concat(Oi),bt,!1)))}matchSegmentAgainstRoute(V,B,Q,ge,$e){const bt=es(B,Q,ge,V);return"**"===Q.path&&(B.children={}),bt.pipe((0,ne.n)(ln=>ln.matched?this.getChildConfig(V=Q._injector??V,Q,ge).pipe((0,ne.n)(({routes:rn})=>{const Ln=Q._loadedInjector??V,{consumedSegments:Oi,remainingSegments:Fi,parameters:dr}=ln,Hs=new mr(Oi,dr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function Lo(D){return D.data||{}}(Q),Or(Q),Q.component??Q._loadedComponent??null,Q,function So(D){return D.resolve||{}}(Q)),{segmentGroup:Ns,slicedSegments:Oa}=hl(B,Oi,Fi,rn);if(0===Oa.length&&Ns.hasChildren())return this.processChildren(Ln,rn,Ns).pipe((0,$.T)(Qs=>null===Qs?null:new yr(Hs,Qs)));if(0===rn.length&&0===Oa.length)return(0,p.of)(new yr(Hs,[]));const Gl=Or(Q)===$e;return this.processSegment(Ln,rn,Ns,Oa,Gl?Ye:$e,!0).pipe((0,$.T)(Qs=>new yr(Hs,Qs instanceof yr?[Qs]:[])))})):As(B)))}getChildConfig(V,B,Q){return B.children?(0,p.of)({routes:B.children,injector:V}):B.loadChildren?void 0!==B._loadedRoutes?(0,p.of)({routes:B._loadedRoutes,injector:B._loadedInjector}):function qn(D,V,B,Q){const ge=V.canLoad;if(void 0===ge||0===ge.length)return(0,p.of)(!0);const $e=ge.map(bt=>{const ln=Br(bt,D);return at(function he(D){return D&&ke(D.canLoad)}(ln)?ln.canLoad(V,B):(0,i.N4e)(D,()=>ln(V,B)))});return(0,p.of)($e).pipe(Zn(),Nn())}(V,B,Q).pipe((0,te.Z)(ge=>ge?this.configLoader.loadChildren(V,B).pipe((0,K.M)($e=>{B._loadedRoutes=$e.routes,B._loadedInjector=$e.injector})):function $r(D){return(0,O.$)(ss(!1,ft.GuardRejected))}())):(0,p.of)({routes:[],injector:V})}}function fs(D){const V=D.value.routeConfig;return V&&""===V.path}function Ga(D){const V=[],B=new Set;for(const Q of D){if(!fs(Q)){V.push(Q);continue}const ge=V.find($e=>Q.value.routeConfig===$e.value.routeConfig);void 0!==ge?(ge.children.push(...Q.children),B.add(ge)):V.push(Q)}for(const Q of B){const ge=Ga(Q.children);V.push(new yr(Q.value,ge))}return V.filter(Q=>!B.has(Q))}function Wa(D){const V=D.children.map(B=>Wa(B)).flat();return[D,...V]}function yo(D){return(0,ne.n)(V=>{const B=D(V);return B?(0,y.H)(B).pipe((0,$.T)(()=>V)):(0,p.of)(V)})}let xs=(()=>{class D{buildTitle(B){let Q,ge=B.root;for(;void 0!==ge;)Q=this.getResolvedTitleForRoute(ge)??Q,ge=ge.children.find($e=>$e.outlet===Ye);return Q}getResolvedTitleForRoute(B){return B.data[qt]}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:()=>(0,i.WQX)(Js),providedIn:"root"})}}return D})(),Js=(()=>{class D extends xs{constructor(B){super(),this.title=B}updateTitle(B){const Q=this.buildTitle(B);void 0!==Q&&this.title.setTitle(Q)}static{this.\u0275fac=function(Q){return new(Q||D)(i.KVO(pt.hE))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Uo=new i.nKC("",{providedIn:"root",factory:()=>({})}),Eo=new i.nKC("");let Yr=(()=>{class D{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,i.WQX)(i.Ql9)}loadComponent(B){if(this.componentLoaders.get(B))return this.componentLoaders.get(B);if(B._loadedComponent)return(0,p.of)(B._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(B);const Q=at(B.loadComponent()).pipe((0,$.T)(ha),(0,K.M)($e=>{this.onLoadEndListener&&this.onLoadEndListener(B),B._loadedComponent=$e}),(0,Ie.j)(()=>{this.componentLoaders.delete(B)})),ge=new R(Q,()=>new j.B).pipe(G());return this.componentLoaders.set(B,ge),ge}loadChildren(B,Q){if(this.childrenLoaders.get(Q))return this.childrenLoaders.get(Q);if(Q._loadedRoutes)return(0,p.of)({routes:Q._loadedRoutes,injector:Q._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(Q);const $e=function ps(D,V,B,Q){return at(D.loadChildren()).pipe((0,$.T)(ha),(0,te.Z)(ge=>ge instanceof i.Co$||Array.isArray(ge)?(0,p.of)(ge):(0,y.H)(V.compileModuleAsync(ge))),(0,$.T)(ge=>{Q&&Q(D);let $e,bt,ln=!1;return Array.isArray(ge)?(bt=ge,!0):($e=ge.create(B).injector,bt=$e.get(Eo,[],{optional:!0,self:!0}).flat()),{routes:bt.map(sr),injector:$e}}))}(Q,this.compiler,B,this.onLoadEndListener).pipe((0,Ie.j)(()=>{this.childrenLoaders.delete(Q)})),bt=new R($e,()=>new j.B).pipe(G());return this.childrenLoaders.set(Q,bt),bt}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function ha(D){return function za(D){return D&&"object"==typeof D&&"default"in D}(D)?D.default:D}let co=(()=>{class D{static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:()=>(0,i.WQX)(ks),providedIn:"root"})}}return D})(),ks=(()=>{class D{shouldProcessUrl(B){return!0}extract(B){return B}merge(B,Q){return B}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const Ci=new i.nKC(""),Cs=new i.nKC("");function ee(D,V,B){const Q=D.get(Cs),ge=D.get(U.qQ);return D.get(i.SKi).runOutsideAngular(()=>{if(!ge.startViewTransition||Q.skipNextTransition)return Q.skipNextTransition=!1,Promise.resolve();let $e;const bt=new Promise(Ln=>{$e=Ln}),ln=ge.startViewTransition(()=>($e(),function We(D){return new Promise(V=>{(0,i.mal)(V,{injector:D})})}(D))),{onViewTransitionCreated:rn}=Q;return rn&&(0,i.N4e)(D,()=>rn({transition:ln,from:V,to:B})),bt})}let ue=(()=>{class D{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j.B,this.transitionAbortSubject=new j.B,this.configLoader=(0,i.WQX)(Yr),this.environmentInjector=(0,i.WQX)(i.uvJ),this.urlSerializer=(0,i.WQX)(gt),this.rootContexts=(0,i.WQX)(vs),this.location=(0,i.WQX)(U.aZ),this.inputBindingEnabled=null!==(0,i.WQX)(cr,{optional:!0}),this.titleStrategy=(0,i.WQX)(xs),this.options=(0,i.WQX)(Uo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,i.WQX)(co),this.createViewTransition=(0,i.WQX)(Ci,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,p.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ge=>this.events.next(new Wn(ge)),this.configLoader.onLoadStartListener=ge=>this.events.next(new hr(ge))}complete(){this.transitions?.complete()}handleNavigationRequest(B){const Q=++this.navigationId;this.transitions?.next({...this.transitions.value,...B,id:Q})}setupNavigations(B,Q,ge){return this.transitions=new w.t({id:0,currentUrlTree:Q,currentRawUrl:Q,extractedUrl:this.urlHandlingStrategy.extract(Q),urlAfterRedirects:this.urlHandlingStrategy.extract(Q),rawUrl:Q,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Zt,restoredState:null,currentSnapshot:ge.snapshot,targetSnapshot:null,currentRouterState:ge,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,J.p)($e=>0!==$e.id),(0,$.T)($e=>({...$e,extractedUrl:this.urlHandlingStrategy.extract($e.rawUrl)})),(0,ne.n)($e=>{let bt=!1,ln=!1;return(0,p.of)($e).pipe((0,ne.n)(rn=>{if(this.navigationId>$e.id)return this.cancelNavigationTransition($e,"",ft.SupersededByNewNavigation),P.w;this.currentTransition=$e,this.currentNavigation={id:rn.id,initialUrl:rn.rawUrl,extractedUrl:rn.extractedUrl,trigger:rn.source,extras:rn.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Ln=!B.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Ln&&"reload"!==(rn.extras.onSameUrlNavigation??B.onSameUrlNavigation)){const Fi="";return this.events.next(new vt(rn.id,this.urlSerializer.serialize(rn.rawUrl),Fi,ze.IgnoredSameUrlNavigation)),rn.resolve(null),P.w}if(this.urlHandlingStrategy.shouldProcessUrl(rn.rawUrl))return(0,p.of)(rn).pipe((0,ne.n)(Fi=>{const dr=this.transitions?.getValue();return this.events.next(new De(Fi.id,this.urlSerializer.serialize(Fi.extractedUrl),Fi.source,Fi.restoredState)),dr!==this.transitions?.getValue()?P.w:Promise.resolve(Fi)}),function Ha(D,V,B,Q,ge,$e){return(0,te.Z)(bt=>function ea(D,V,B,Q,ge,$e,bt="emptyOnly"){return new ta(D,V,B,Q,ge,bt,$e).recognize()}(D,V,B,Q,bt.extractedUrl,ge,$e).pipe((0,$.T)(({state:ln,tree:rn})=>({...bt,targetSnapshot:ln,urlAfterRedirects:rn}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,B.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,K.M)(Fi=>{$e.targetSnapshot=Fi.targetSnapshot,$e.urlAfterRedirects=Fi.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Fi.urlAfterRedirects};const dr=new Vn(Fi.id,this.urlSerializer.serialize(Fi.extractedUrl),this.urlSerializer.serialize(Fi.urlAfterRedirects),Fi.targetSnapshot);this.events.next(dr)}));if(Ln&&this.urlHandlingStrategy.shouldProcessUrl(rn.currentRawUrl)){const{id:Fi,extractedUrl:dr,source:Hs,restoredState:Ns,extras:Oa}=rn,Gl=new De(Fi,this.urlSerializer.serialize(dr),Hs,Ns);this.events.next(Gl);const Qs=ui(this.rootComponentType).snapshot;return this.currentTransition=$e={...rn,targetSnapshot:Qs,urlAfterRedirects:dr,extras:{...Oa,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=dr,(0,p.of)($e)}{const Fi="";return this.events.next(new vt(rn.id,this.urlSerializer.serialize(rn.extractedUrl),Fi,ze.IgnoredByUrlHandlingStrategy)),rn.resolve(null),P.w}}),(0,K.M)(rn=>{const Ln=new ai(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot);this.events.next(Ln)}),(0,$.T)(rn=>(this.currentTransition=$e={...rn,guards:gr(rn.targetSnapshot,rn.currentSnapshot,this.rootContexts)},$e)),function Re(D,V){return(0,te.Z)(B=>{const{targetSnapshot:Q,currentSnapshot:ge,guards:{canActivateChecks:$e,canDeactivateChecks:bt}}=B;return 0===bt.length&&0===$e.length?(0,p.of)({...B,guardsResult:!0}):function Je(D,V,B,Q){return(0,y.H)(D).pipe((0,te.Z)(ge=>function en(D,V,B,Q,ge){const $e=V&&V.routeConfig?V.routeConfig.canDeactivate:null;if(!$e||0===$e.length)return(0,p.of)(!0);const bt=$e.map(ln=>{const rn=lo(V)??ge,Ln=Br(ln,rn);return at(function Yn(D){return D&&ke(D.canDeactivate)}(Ln)?Ln.canDeactivate(D,V,B,Q):(0,i.N4e)(rn,()=>Ln(D,V,B,Q))).pipe((0,E.$)())});return(0,p.of)(bt).pipe(Zn())}(ge.component,ge.route,B,V,Q)),(0,E.$)(ge=>!0!==ge,!0))}(bt,Q,ge,D).pipe((0,te.Z)(ln=>ln&&function Ue(D){return"boolean"==typeof D}(ln)?function Et(D,V,B,Q){return(0,y.H)(V).pipe((0,re.H)(ge=>(0,d.x)(function Ut(D,V){return null!==D&&V&&V(new li(D)),(0,p.of)(!0)}(ge.route.parent,Q),function xt(D,V){return null!==D&&V&&V(new xi(D)),(0,p.of)(!0)}(ge.route,Q),function pn(D,V,B){const Q=V[V.length-1],$e=V.slice(0,V.length-1).reverse().map(bt=>function Gs(D){const V=D.routeConfig?D.routeConfig.canActivateChild:null;return V&&0!==V.length?{node:D,guards:V}:null}(bt)).filter(bt=>null!==bt).map(bt=>(0,f.v)(()=>{const ln=bt.guards.map(rn=>{const Ln=lo(bt.node)??B,Oi=Br(rn,Ln);return at(function Lt(D){return D&&ke(D.canActivateChild)}(Oi)?Oi.canActivateChild(Q,D):(0,i.N4e)(Ln,()=>Oi(Q,D))).pipe((0,E.$)())});return(0,p.of)(ln).pipe(Zn())}));return(0,p.of)($e).pipe(Zn())}(D,ge.path,B),function St(D,V,B){const Q=V.routeConfig?V.routeConfig.canActivate:null;if(!Q||0===Q.length)return(0,p.of)(!0);const ge=Q.map($e=>(0,f.v)(()=>{const bt=lo(V)??B,ln=Br($e,bt);return at(function qe(D){return D&&ke(D.canActivate)}(ln)?ln.canActivate(V,D):(0,i.N4e)(bt,()=>ln(V,D))).pipe((0,E.$)())}));return(0,p.of)(ge).pipe(Zn())}(D,ge.route,B))),(0,E.$)(ge=>!0!==ge,!0))}(Q,$e,D,V):(0,p.of)(ln)),(0,$.T)(ln=>({...B,guardsResult:ln})))})}(this.environmentInjector,rn=>this.events.next(rn)),(0,K.M)(rn=>{if($e.guardsResult=rn.guardsResult,yn(rn.guardsResult))throw rs(0,rn.guardsResult);const Ln=new yi(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects),rn.targetSnapshot,!!rn.guardsResult);this.events.next(Ln)}),(0,J.p)(rn=>!!rn.guardsResult||(this.cancelNavigationTransition(rn,"",ft.GuardRejected),!1)),yo(rn=>{if(rn.guards.canActivateChecks.length)return(0,p.of)(rn).pipe((0,K.M)(Ln=>{const Oi=new ri(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(Oi)}),(0,ne.n)(Ln=>{let Oi=!1;return(0,p.of)(Ln).pipe(function ka(D,V){return(0,te.Z)(B=>{const{targetSnapshot:Q,guards:{canActivateChecks:ge}}=B;if(!ge.length)return(0,p.of)(B);const $e=new Set(ge.map(rn=>rn.route)),bt=new Set;for(const rn of $e)if(!bt.has(rn))for(const Ln of Wa(rn))bt.add(Ln);let ln=0;return(0,y.H)(bt).pipe((0,re.H)(rn=>$e.has(rn)?function Ka(D,V,B,Q){const ge=D.routeConfig,$e=D._resolve;return void 0!==ge?.title&&!tr(ge)&&($e[qt]=ge.title),function bs(D,V,B,Q){const ge=Z(D);if(0===ge.length)return(0,p.of)({});const $e={};return(0,y.H)(ge).pipe((0,te.Z)(bt=>function Ir(D,V,B,Q){const ge=lo(V)??Q,$e=Br(D,ge);return at($e.resolve?$e.resolve(V,B):(0,i.N4e)(ge,()=>$e(V,B)))}(D[bt],V,B,Q).pipe((0,E.$)(),(0,K.M)(ln=>{$e[bt]=ln}))),Qe(1),(0,Pe.u)($e),(0,me.W)(bt=>as(bt)?P.w:(0,O.$)(bt)))}($e,D,V,Q).pipe((0,$.T)(bt=>(D._resolvedData=bt,D.data=Qr(D,D.parent,B).resolve,null)))}(rn,Q,D,V):(rn.data=Qr(rn,rn.parent,D).resolve,(0,p.of)(void 0))),(0,K.M)(()=>ln++),Qe(1),(0,te.Z)(rn=>ln===bt.size?(0,p.of)(B):P.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,K.M)({next:()=>Oi=!0,complete:()=>{Oi||this.cancelNavigationTransition(Ln,"",ft.NoDataFromResolver)}}))}),(0,K.M)(Ln=>{const Oi=new Ui(Ln.id,this.urlSerializer.serialize(Ln.extractedUrl),this.urlSerializer.serialize(Ln.urlAfterRedirects),Ln.targetSnapshot);this.events.next(Oi)}))}),yo(rn=>{const Ln=Oi=>{const Fi=[];Oi.routeConfig?.loadComponent&&!Oi.routeConfig._loadedComponent&&Fi.push(this.configLoader.loadComponent(Oi.routeConfig).pipe((0,K.M)(dr=>{Oi.component=dr}),(0,$.T)(()=>{})));for(const dr of Oi.children)Fi.push(...Ln(dr));return Fi};return(0,C.z)(Ln(rn.targetSnapshot.root)).pipe((0,xe.U)(null),(0,se.s)(1))}),yo(()=>this.afterPreactivation()),(0,ne.n)(()=>{const{currentSnapshot:rn,targetSnapshot:Ln}=$e,Oi=this.createViewTransition?.(this.environmentInjector,rn.root,Ln.root);return Oi?(0,y.H)(Oi).pipe((0,$.T)(()=>$e)):(0,p.of)($e)}),(0,$.T)(rn=>{const Ln=function is(D,V,B){const Q=so(D,V._root,B?B._root:void 0);return new Xs(Q,V)}(B.routeReuseStrategy,rn.targetSnapshot,rn.currentRouterState);return this.currentTransition=$e={...rn,targetRouterState:Ln},this.currentNavigation.targetRouterState=Ln,$e}),(0,K.M)(()=>{this.events.next(new gs)}),((D,V,B,Q)=>(0,$.T)(ge=>(new ci(V,ge.targetRouterState,ge.currentRouterState,B,Q).activate(D),ge)))(this.rootContexts,B.routeReuseStrategy,rn=>this.events.next(rn),this.inputBindingEnabled),(0,se.s)(1),(0,K.M)({next:rn=>{bt=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ye(rn.id,this.urlSerializer.serialize(rn.extractedUrl),this.urlSerializer.serialize(rn.urlAfterRedirects))),this.titleStrategy?.updateTitle(rn.targetRouterState.snapshot),rn.resolve(!0)},complete:()=>{bt=!0}}),(0,st.Q)(this.transitionAbortSubject.pipe((0,K.M)(rn=>{throw rn}))),(0,Ie.j)(()=>{!bt&&!ln&&this.cancelNavigationTransition($e,"",ft.SupersededByNewNavigation),this.currentTransition?.id===$e.id&&(this.currentNavigation=null,this.currentTransition=null)}),(0,me.W)(rn=>{if(ln=!0,Zr(rn))this.events.next(new Tt($e.id,this.urlSerializer.serialize($e.extractedUrl),rn.message,rn.cancellationCode)),function Aa(D){return Zr(D)&&yn(D.url)}(rn)?this.events.next(new Bs(rn.url)):$e.resolve(!1);else{this.events.next(new Xt($e.id,this.urlSerializer.serialize($e.extractedUrl),rn,$e.targetSnapshot??void 0));try{$e.resolve(B.errorHandler(rn))}catch(Ln){this.options.resolveNavigationPromiseOnError?$e.resolve(!1):$e.reject(Ln)}}return P.w}))}))}cancelNavigationTransition(B,Q,ge){const $e=new Tt(B.id,this.urlSerializer.serialize(B.extractedUrl),Q,ge);this.events.next($e),B.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();function Fe(D){return D!==Zt}let Rt=(()=>{class D{static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:()=>(0,i.WQX)(En),providedIn:"root"})}}return D})();class mn{shouldDetach(V){return!1}store(V,B){}shouldAttach(V){return!1}retrieve(V){return null}shouldReuseRoute(V,B){return V.routeConfig===B.routeConfig}}let En=(()=>{class D extends mn{static{this.\u0275fac=(()=>{let B;return function(ge){return(B||(B=i.xGo(D)))(ge||D)}})()}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),ti=(()=>{class D{static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:()=>(0,i.WQX)(fr),providedIn:"root"})}}return D})(),fr=(()=>{class D extends ti{constructor(){super(...arguments),this.location=(0,i.WQX)(U.aZ),this.urlSerializer=(0,i.WQX)(gt),this.options=(0,i.WQX)(Uo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,i.WQX)(co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new je,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ui(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(B){return this.location.subscribe(Q=>{"popstate"===Q.type&&B(Q.url,Q.state)})}handleRouterEvent(B,Q){if(B instanceof De)this.stateMemento=this.createStateMemento();else if(B instanceof vt)this.rawUrlTree=Q.initialUrl;else if(B instanceof Vn){if("eager"===this.urlUpdateStrategy&&!Q.extras.skipLocationChange){const ge=this.urlHandlingStrategy.merge(Q.finalUrl,Q.initialUrl);this.setBrowserUrl(ge,Q)}}else B instanceof gs?(this.currentUrlTree=Q.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(Q.finalUrl,Q.initialUrl),this.routerState=Q.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Q.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Q))):B instanceof Tt&&(B.code===ft.GuardRejected||B.code===ft.NoDataFromResolver)?this.restoreHistory(Q):B instanceof Xt?this.restoreHistory(Q,!0):B instanceof ye&&(this.lastSuccessfulId=B.id,this.currentPageId=this.browserPageId)}setBrowserUrl(B,Q){const ge=this.urlSerializer.serialize(B);if(this.location.isCurrentPathEqualTo(ge)||Q.extras.replaceUrl){const bt={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId)};this.location.replaceState(ge,"",bt)}else{const $e={...Q.extras.state,...this.generateNgRouterState(Q.id,this.browserPageId+1)};this.location.go(ge,"",$e)}}restoreHistory(B,Q=!1){if("computed"===this.canceledNavigationResolution){const $e=this.currentPageId-this.browserPageId;0!==$e?this.location.historyGo($e):this.currentUrlTree===B.finalUrl&&0===$e&&(this.resetState(B),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(Q&&this.resetState(B),this.resetUrlToCurrentUrlTree())}resetState(B){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,B.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(B,Q){return"computed"===this.canceledNavigationResolution?{navigationId:B,\u0275routerPageId:Q}:{navigationId:B}}static{this.\u0275fac=(()=>{let B;return function(ge){return(B||(B=i.xGo(D)))(ge||D)}})()}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();var or=function(D){return D[D.COMPLETE=0]="COMPLETE",D[D.FAILED=1]="FAILED",D[D.REDIRECTING=2]="REDIRECTING",D}(or||{});function Yi(D,V){D.events.pipe((0,J.p)(B=>B instanceof ye||B instanceof Tt||B instanceof Xt||B instanceof vt),(0,$.T)(B=>B instanceof ye||B instanceof vt?or.COMPLETE:B instanceof Tt&&(B.code===ft.Redirect||B.code===ft.SupersededByNewNavigation)?or.REDIRECTING:or.FAILED),(0,J.p)(B=>B!==or.REDIRECTING),(0,se.s)(1)).subscribe(()=>{V()})}function Vi(D){throw D}const si={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ur=(()=>{class D{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=(0,i.WQX)(i.H3F),this.stateManager=(0,i.WQX)(ti),this.options=(0,i.WQX)(Uo,{optional:!0})||{},this.pendingTasks=(0,i.WQX)(i.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,i.WQX)(ue),this.urlSerializer=(0,i.WQX)(gt),this.location=(0,i.WQX)(U.aZ),this.urlHandlingStrategy=(0,i.WQX)(co),this._events=new j.B,this.errorHandler=this.options.errorHandler||Vi,this.navigated=!1,this.routeReuseStrategy=(0,i.WQX)(Rt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,i.WQX)(Eo,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,i.WQX)(cr,{optional:!0}),this.eventsSubscription=new M.yU,this.isNgZoneEnabled=(0,i.WQX)(i.SKi)instanceof i.SKi&&i.SKi.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:B=>{this.console.warn(B)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const B=this.navigationTransitions.events.subscribe(Q=>{try{const ge=this.navigationTransitions.currentTransition,$e=this.navigationTransitions.currentNavigation;if(null!==ge&&null!==$e)if(this.stateManager.handleRouterEvent(Q,$e),Q instanceof Tt&&Q.code!==ft.Redirect&&Q.code!==ft.SupersededByNewNavigation)this.navigated=!0;else if(Q instanceof ye)this.navigated=!0;else if(Q instanceof Bs){const bt=this.urlHandlingStrategy.merge(Q.url,ge.currentRawUrl),ln={info:ge.extras.info,skipLocationChange:ge.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Fe(ge.source)};this.scheduleNavigation(bt,Zt,null,ln,{resolve:ge.resolve,reject:ge.reject,promise:ge.promise})}(function F(D){return!(D instanceof gs||D instanceof Bs)})(Q)&&this._events.next(Q)}catch(ge){this.navigationTransitions.transitionAbortSubject.next(ge)}});this.eventsSubscription.add(B)}resetRootComponentType(B){this.routerState.root.component=B,this.navigationTransitions.rootComponentType=B}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((B,Q)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(B,"popstate",Q)},0)})}navigateToSyncWithBrowser(B,Q,ge){const $e={replaceUrl:!0},bt=ge?.navigationId?ge:null;if(ge){const rn={...ge};delete rn.navigationId,delete rn.\u0275routerPageId,0!==Object.keys(rn).length&&($e.state=rn)}const ln=this.parseUrl(B);this.scheduleNavigation(ln,Q,bt,$e)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(B){this.config=B.map(sr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(B,Q={}){const{relativeTo:ge,queryParams:$e,fragment:bt,queryParamsHandling:ln,preserveFragment:rn}=Q,Ln=rn?this.currentUrlTree.fragment:bt;let Fi,Oi=null;switch(ln){case"merge":Oi={...this.currentUrlTree.queryParams,...$e};break;case"preserve":Oi=this.currentUrlTree.queryParams;break;default:Oi=$e||null}null!==Oi&&(Oi=this.removeEmptyProps(Oi));try{Fi=An(ge?ge.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof B[0]||!B[0].startsWith("/"))&&(B=[]),Fi=this.currentUrlTree.root}return gn(Fi,B,Oi,Ln??null)}navigateByUrl(B,Q={skipLocationChange:!1}){const ge=yn(B)?B:this.parseUrl(B),$e=this.urlHandlingStrategy.merge(ge,this.rawUrlTree);return this.scheduleNavigation($e,Zt,null,Q)}navigate(B,Q={skipLocationChange:!1}){return function pe(D){for(let V=0;V<D.length;V++)if(null==D[V])throw new i.wOt(4008,!1)}(B),this.navigateByUrl(this.createUrlTree(B,Q),Q)}serializeUrl(B){return this.urlSerializer.serialize(B)}parseUrl(B){try{return this.urlSerializer.parse(B)}catch{return this.urlSerializer.parse("/")}}isActive(B,Q){let ge;if(ge=!0===Q?{...si}:!1===Q?{...Xi}:Q,yn(B))return Ft(this.currentUrlTree,B,ge);const $e=this.parseUrl(B);return Ft(this.currentUrlTree,$e,ge)}removeEmptyProps(B){return Object.entries(B).reduce((Q,[ge,$e])=>(null!=$e&&(Q[ge]=$e),Q),{})}scheduleNavigation(B,Q,ge,$e,bt){if(this.disposed)return Promise.resolve(!1);let ln,rn,Ln;bt?(ln=bt.resolve,rn=bt.reject,Ln=bt.promise):Ln=new Promise((Fi,dr)=>{ln=Fi,rn=dr});const Oi=this.pendingTasks.add();return Yi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(Oi))}),this.navigationTransitions.handleNavigationRequest({source:Q,restoredState:ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:B,extras:$e,resolve:ln,reject:rn,promise:Ln,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ln.catch(Fi=>Promise.reject(Fi))}static{this.\u0275fac=function(Q){return new(Q||D)}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})(),de=(()=>{class D{constructor(B,Q,ge,$e,bt,ln){this.router=B,this.route=Q,this.tabIndexAttribute=ge,this.renderer=$e,this.el=bt,this.locationStrategy=ln,this.href=null,this.commands=null,this.onChanges=new j.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const rn=bt.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===rn||"area"===rn,this.isAnchorElement?this.subscription=B.events.subscribe(Ln=>{Ln instanceof ye&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(B){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",B)}ngOnChanges(B){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(B){null!=B?(this.commands=Array.isArray(B)?B:[B],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(B,Q,ge,$e,bt){const ln=this.urlTree;return!!(null===ln||this.isAnchorElement&&(0!==B||Q||ge||$e||bt||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(ln,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const B=this.urlTree;this.href=null!==B&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(B)):null;const Q=null===this.href?null:(0,i.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",Q)}applyAttributeValue(B,Q){const ge=this.renderer,$e=this.el.nativeElement;null!==Q?ge.setAttribute($e,B,Q):ge.removeAttribute($e,B)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(Q){return new(Q||D)(i.rXU(ur),i.rXU($n),i.kS0("tabindex"),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(U.hb))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(Q,ge){1&Q&&i.bIt("click",function(bt){return ge.onClick(bt.button,bt.ctrlKey,bt.shiftKey,bt.altKey,bt.metaKey)}),2&Q&&i.BMQ("target",ge.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[i.Mj6.HasDecoratorInputTransform,"preserveFragment","preserveFragment",i.L39],skipLocationChange:[i.Mj6.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",i.L39],replaceUrl:[i.Mj6.HasDecoratorInputTransform,"replaceUrl","replaceUrl",i.L39],routerLink:"routerLink"},standalone:!0,features:[i.GFd,i.OA$]})}}return D})(),Me=(()=>{class D{get isActive(){return this._isActive}constructor(B,Q,ge,$e,bt){this.router=B,this.element=Q,this.renderer=ge,this.cdr=$e,this.link=bt,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new i.bkB,this.routerEventsSubscription=B.events.subscribe(ln=>{ln instanceof ye&&this.update()})}ngAfterContentInit(){(0,p.of)(this.links.changes,(0,p.of)(null)).pipe((0,Oe.U)()).subscribe(B=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const B=[...this.links.toArray(),this.link].filter(Q=>!!Q).map(Q=>Q.onChanges);this.linkInputChangesSubscription=(0,y.H)(B).pipe((0,Oe.U)()).subscribe(Q=>{this._isActive!==this.isLinkActive(this.router)(Q)&&this.update()})}set routerLinkActive(B){const Q=Array.isArray(B)?B:B.split(" ");this.classes=Q.filter(ge=>!!ge)}ngOnChanges(B){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const B=this.hasActiveLinks();this.classes.forEach(Q=>{B?this.renderer.addClass(this.element.nativeElement,Q):this.renderer.removeClass(this.element.nativeElement,Q)}),B&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==B&&(this._isActive=B,this.cdr.markForCheck(),this.isActiveChange.emit(B))})}isLinkActive(B){const Q=function rt(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return ge=>{const $e=ge.urlTree;return!!$e&&B.isActive($e,Q)}}hasActiveLinks(){const B=this.isLinkActive(this.router);return this.link&&B(this.link)||this.links.some(B)}static{this.\u0275fac=function(Q){return new(Q||D)(i.rXU(ur),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(i.gRc),i.rXU(de,8))}}static{this.\u0275dir=i.FsC({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(Q,ge,$e){if(1&Q&&i.wni($e,de,5),2&Q){let bt;i.mGM(bt=i.lsd())&&(ge.links=bt)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[i.OA$]})}}return D})();class Nt{}let an=(()=>{class D{constructor(B,Q,ge,$e,bt){this.router=B,this.injector=ge,this.preloadingStrategy=$e,this.loader=bt}setUpPreloading(){this.subscription=this.router.events.pipe((0,J.p)(B=>B instanceof ye),(0,re.H)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(B,Q){const ge=[];for(const $e of Q){$e.providers&&!$e._injector&&($e._injector=(0,i.Ol2)($e.providers,B,`Route: ${$e.path}`));const bt=$e._injector??B,ln=$e._loadedInjector??bt;($e.loadChildren&&!$e._loadedRoutes&&void 0===$e.canLoad||$e.loadComponent&&!$e._loadedComponent)&&ge.push(this.preloadConfig(bt,$e)),($e.children||$e._loadedRoutes)&&ge.push(this.processRoutes(ln,$e.children??$e._loadedRoutes))}return(0,y.H)(ge).pipe((0,Oe.U)())}preloadConfig(B,Q){return this.preloadingStrategy.preload(Q,()=>{let ge;ge=Q.loadChildren&&void 0===Q.canLoad?this.loader.loadChildren(B,Q):(0,p.of)(null);const $e=ge.pipe((0,te.Z)(bt=>null===bt?(0,p.of)(void 0):(Q._loadedRoutes=bt.routes,Q._loadedInjector=bt.injector,this.processRoutes(bt.injector??B,bt.routes))));if(Q.loadComponent&&!Q._loadedComponent){const bt=this.loader.loadComponent(Q);return(0,y.H)([$e,bt]).pipe((0,Oe.U)())}return $e})}static{this.\u0275fac=function(Q){return new(Q||D)(i.KVO(ur),i.KVO(i.Ql9),i.KVO(i.uvJ),i.KVO(Nt),i.KVO(Yr))}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac,providedIn:"root"})}}return D})();const wn=new i.nKC("");let ni=(()=>{class D{constructor(B,Q,ge,$e,bt={}){this.urlSerializer=B,this.transitions=Q,this.viewportScroller=ge,this.zone=$e,this.options=bt,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},bt.scrollPositionRestoration||="disabled",bt.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof De?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=B.navigationTrigger,this.restoredId=B.restoredState?B.restoredState.navigationId:0):B instanceof ye?(this.lastId=B.id,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.urlAfterRedirects).fragment)):B instanceof vt&&B.code===ze.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(B,this.urlSerializer.parse(B.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(B=>{B instanceof Ys&&(B.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(B.position):B.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(B.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(B,Q){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ys(B,"popstate"===this.lastSource?this.store[this.restoredId]:null,Q))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(Q){i.QTQ()}}static{this.\u0275prov=i.jDH({token:D,factory:D.\u0275fac})}}return D})();function vi(D,V){return{\u0275kind:D,\u0275providers:V}}function ls(){const D=(0,i.WQX)(i.zZn);return V=>{const B=D.get(i.o8S);if(V!==B.components[0])return;const Q=D.get(ur),ge=D.get(ko);1===D.get(fa)&&Q.initialNavigation(),D.get(Ri,null,i.$GK.Optional)?.setUpPreloading(),D.get(wn,null,i.$GK.Optional)?.init(),Q.resetRootComponentType(B.componentTypes[0]),ge.closed||(ge.next(),ge.complete(),ge.unsubscribe())}}const ko=new i.nKC("",{factory:()=>new j.B}),fa=new i.nKC("",{providedIn:"root",factory:()=>1}),Ri=new i.nKC("");function Na(D){return vi(0,[{provide:Ri,useExisting:an},{provide:Nt,useExisting:D}])}function Ss(D){return vi(9,[{provide:Ci,useValue:ee},{provide:Cs,useValue:{skipNextTransition:!!D?.skipInitialTransition,...D}}])}const wi=new i.nKC("ROUTER_FORROOT_GUARD"),ns=[U.aZ,{provide:gt,useClass:Bt},ur,vs,{provide:$n,useFactory:function br(D){return D.routerState.root},deps:[ur]},Yr,[]];let Xa=(()=>{class D{constructor(B){}static forRoot(B,Q){return{ngModule:D,providers:[ns,[],{provide:Eo,multi:!0,useValue:B},{provide:wi,useFactory:Ja,deps:[[ur,new i.Xx1,new i.kdw]]},{provide:Uo,useValue:Q||{}},Q?.useHash?{provide:U.hb,useClass:U.fw}:{provide:U.hb,useClass:U.Sm},{provide:wn,useFactory:()=>{const D=(0,i.WQX)(U.Xr),V=(0,i.WQX)(i.SKi),B=(0,i.WQX)(Uo),Q=(0,i.WQX)(ue),ge=(0,i.WQX)(gt);return B.scrollOffset&&D.setOffset(B.scrollOffset),new ni(ge,Q,D,V,B)}},Q?.preloadingStrategy?Na(Q.preloadingStrategy).\u0275providers:[],Q?.initialNavigation?pl(Q):[],Q?.bindToComponentInputs?vi(8,[kr,{provide:cr,useExisting:kr}]).\u0275providers:[],Q?.enableViewTransitions?Ss().\u0275providers:[],[{provide:Le,useFactory:ls},{provide:i.iLQ,multi:!0,useExisting:Le}]]}}static forChild(B){return{ngModule:D,providers:[{provide:Eo,multi:!0,useValue:B}]}}static{this.\u0275fac=function(Q){return new(Q||D)(i.KVO(wi,8))}}static{this.\u0275mod=i.$C({type:D})}static{this.\u0275inj=i.G2t({})}}return D})();function Ja(D){return"guarded"}function pl(D){return["disabled"===D.initialNavigation?vi(3,[{provide:i.hnV,multi:!0,useFactory:()=>{const V=(0,i.WQX)(ur);return()=>{V.setUpLocationChangeListener()}}},{provide:fa,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?vi(2,[{provide:fa,useValue:0},{provide:i.hnV,multi:!0,deps:[i.zZn],useFactory:V=>{const B=V.get(U.hj,Promise.resolve());return()=>B.then(()=>new Promise(Q=>{const ge=V.get(ur),$e=V.get(ko);Yi(ge,()=>{Q(!0)}),V.get(ue).afterPreactivation=()=>(Q(!0),$e.closed?(0,p.of)(void 0):$e),ge.initialNavigation()}))}}]).\u0275providers:[]]}const Le=new i.nKC("")},7005:(nt,fe,h)=>{"use strict";h.d(fe,{xq:()=>be,XE:()=>Ce,tl:()=>jt,QG:()=>Ye,wY:()=>Qe});var i=h(4438),e=h(1583),y=h(9350),p=h(7707),C=h(1985),m=h(1413),d=h(2771),f=h(7673),I=h(6648),O=h(4402),P=h(5964),b=h(9974),M=h(4360),N=h(1397),G=h(6354),R=h(1780),j=h(177),U=h(1626);const $=new i.nKC("LOCALIZE_ROUTER_FORROOT_GUARD"),ne=new i.nKC("RAW_ROUTES");var se=function(ot){return ot.LocalStorage="LocalStorage",ot.SessionStorage="SessionStorage",ot.Cookie="Cookie",ot}(se||{});const L=new i.nKC("USE_CACHED_LANG"),J=new i.nKC("CACHE_MECHANISM"),te=new i.nKC("CACHE_NAME"),E=new i.nKC("COOKIE_FORMAT"),re=new i.nKC("INITIAL_NAVIGATION"),K=new i.nKC("DEFAULT_LANG_FUNCTION"),me=new i.nKC("ALWAYS_SET_PREFIX");let Qe=(()=>{class ot{constructor(mt=!0,it=!0,Kt=se.LocalStorage,on="LOCALIZE_DEFAULT_LANGUAGE",Pt=void 0,Jt="{{value}};{{expires}}",je=!1){this.useCachedLang=mt,this.alwaysSetPrefix=it,this.cacheName=on,this.cookieFormat=Jt,this.initialNavigation=je,this.cacheMechanism=Kt,this.defaultLangFunction=Pt}}return ot.\u0275fac=function(mt){return new(mt||ot)(i.KVO(L),i.KVO(me),i.KVO(J),i.KVO(te),i.KVO(K),i.KVO(E),i.KVO(re))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})(),be=(()=>{class ot{constructor(mt,it,Kt){this.translate=mt,this.location=it,this.settings=Kt}init(mt){let it;if(this.routes=mt,!this.locales||!this.locales.length)return Promise.resolve();const Kt=this.getLocationLang(),on=this._getBrowserLang();this.defaultLang=this.settings.defaultLangFunction?this.settings.defaultLangFunction(this.locales,this._cachedLang,on):this._cachedLang||on||this.locales[0],it=Kt||this.defaultLang,this.translate.setDefaultLang(this.defaultLang);let Pt=[];if(this.settings.alwaysSetPrefix){const Jt={path:"",redirectTo:this.defaultLang,pathMatch:"full"},je=mt.findIndex(ce=>"**"===ce.path);-1!==je&&(this._wildcardRoute=mt.splice(je,1)[0]),Pt=this.routes.splice(0,this.routes.length,Jt)}else Pt=[...this.routes];for(let Jt=Pt.length-1;Jt>=0;Jt--)Pt[Jt].data&&Pt[Jt].data.skipRouteLocalization&&(this.settings.alwaysSetPrefix&&this.routes.push(Pt[Jt]),(void 0===Pt[Jt].redirectTo||!Pt[Jt].data.skipRouteLocalization.localizeRedirectTo)&&Pt.splice(Jt,1));return Pt&&Pt.length&&(this.locales.length>1||this.settings.alwaysSetPrefix)&&(this._languageRoute={children:Pt},this.routes.unshift(this._languageRoute)),this._wildcardRoute&&this.settings.alwaysSetPrefix&&this.routes.push(this._wildcardRoute),function w(ot,Ft){const mt="object"==typeof Ft;return new Promise((it,Kt)=>{const on=new p.Ms({next:Pt=>{it(Pt),on.unsubscribe()},error:Kt,complete:()=>{mt?it(Ft.defaultValue):Kt(new y.G)}});ot.subscribe(on)})}(this.translateRoutes(it))}initChildRoutes(mt){return this._translateRouteTree(mt),mt}translateRoutes(mt){return new C.c(it=>{this._cachedLang=mt,this._languageRoute&&(this._languageRoute.path=mt),this.translate.use(mt).subscribe(Kt=>{this._translationObject=Kt,this.currentLang=mt,this._languageRoute?(this._translateRouteTree(this._languageRoute.children,!0),this._wildcardRoute&&this._wildcardRoute.redirectTo&&this._translateProperty(this._wildcardRoute,"redirectTo",!0)):this._translateRouteTree(this.routes,!0),it.next(void 0),it.complete()})})}_translateRouteTree(mt,it){mt.forEach(Kt=>{const on=Kt.data&&Kt.data.skipRouteLocalization;if(Kt.redirectTo&&(!on||on.localizeRedirectTo)){const Jt=0===Kt.redirectTo.indexOf("/")||it;this._translateProperty(Kt,"redirectTo",Jt)}on||(null!=Kt.path&&this._translateProperty(Kt,"path"),Kt.children&&this._translateRouteTree(Kt.children),Kt.loadChildren&&Kt._loadedRoutes?.length&&this._translateRouteTree(Kt._loadedRoutes))})}_translateProperty(mt,it,Kt){const on=mt.data=mt.data||{};on.localizeRouter||(on.localizeRouter={}),on.localizeRouter[it]||(on.localizeRouter={...on.localizeRouter,[it]:mt[it]});const Pt=this.translateRoute(on.localizeRouter[it]);mt[it]=Kt?this.addPrefixToUrl(Pt):Pt}get urlPrefix(){return this.settings.alwaysSetPrefix||this.currentLang!==this.defaultLang?this.currentLang?this.currentLang:this.defaultLang:""}addPrefixToUrl(mt){const it=mt.split("?"),Kt=1===it[0].length&&"/"===it[0];it[0]=it[0].replace(/\/$/,"");const on=it.join("?");return""===this.urlPrefix?on:on.startsWith("/")||Kt?`/${this.urlPrefix}${on}`:`${this.urlPrefix}/${on}`}translateRoute(mt){const it=mt.split("?");if(it.length>2)throw Error("There should be only one query parameter block in the URL");return it[0].split("/").map(on=>on.length?this.translateText(on):on).join("/")+(it.length>1?`?${it[1]}`:"")}getLocationLang(mt){const it=(mt||this.location.path()).split(/[\?;]/);let Kt=[];return it.length>0&&(Kt=it[0].split("/")),Kt.length>1&&-1!==this.locales.indexOf(Kt[1])?Kt[1]:Kt.length&&-1!==this.locales.indexOf(Kt[0])?Kt[0]:null}_getBrowserLang(){return this._returnIfInLocales(this.translate.getBrowserLang())}get _cachedLang(){if(this.settings.useCachedLang){if(this.settings.cacheMechanism===se.LocalStorage)return this._cacheWithLocalStorage();if(this.settings.cacheMechanism===se.SessionStorage)return this._cacheWithSessionStorage();if(this.settings.cacheMechanism===se.Cookie)return this._cacheWithCookies()}}set _cachedLang(mt){this.settings.useCachedLang&&(this.settings.cacheMechanism===se.LocalStorage&&this._cacheWithLocalStorage(mt),this.settings.cacheMechanism===se.SessionStorage&&this._cacheWithSessionStorage(mt),this.settings.cacheMechanism===se.Cookie&&this._cacheWithCookies(mt))}_cacheWithLocalStorage(mt){try{if(typeof window>"u"||typeof window.localStorage>"u")return;return mt?void window.localStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.localStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithSessionStorage(mt){try{if(typeof window>"u"||typeof window.sessionStorage>"u")return;return mt?void window.sessionStorage.setItem(this.settings.cacheName,mt):this._returnIfInLocales(window.sessionStorage.getItem(this.settings.cacheName))}catch{return}}_cacheWithCookies(mt){try{if(typeof document>"u"||typeof document.cookie>"u")return;const it=encodeURIComponent(this.settings.cacheName);if(mt){let Pt=`${this.settings.cookieFormat}`;return Pt=Pt.replace("{{value}}",`${it}=${encodeURIComponent(mt)}`).replace(/{{expires:?(\d+)?}}/g,(Jt,je)=>{const ce=void 0===je?30:parseInt(je,10),X=new Date;return X.setTime(X.getTime()+864e5*ce),`expires=${X.toUTCString()}`}),void(document.cookie=Pt)}const on=new RegExp("(?:^"+it+"|;\\s*"+it+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(on[1])}catch{return}}_returnIfInLocales(mt){return mt&&-1!==this.locales.indexOf(mt)?mt:null}translateText(mt){if(this.escapePrefix&&mt.startsWith(this.escapePrefix))return mt.replace(this.escapePrefix,"");{if(!this._translationObject)return mt;const it=this.prefix+mt,Kt=this.translate.getParsedResult(this._translationObject,it);return Kt!==it?Kt:mt}}chooseQueryParams(mt,it){let Kt;return mt&&mt.queryParams?Kt=mt.queryParams:it&&(Kt=it),Kt}formatQueryParams(mt){return new U.Nl({fromObject:mt}).toString()}getPrefix(){return this.prefix}getEscapePrefix(){return this.escapePrefix}}return ot.\u0275fac=function(mt){return new(mt||ot)(i.KVO(R.c$),i.KVO(j.aZ),i.KVO(Qe))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})(),Pe=(()=>{class ot extends be{load(mt){return new Promise(it=>{this.init(mt).then(it)})}}return ot.\u0275fac=(()=>{let Ft;return function(it){return(Ft||(Ft=i.xGo(ot)))(it||ot)}})(),ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})();function Ie(ot,Ft){if(ot===Ft)return!0;if(null===ot||null===Ft)return!1;if(ot!=ot&&Ft!=Ft)return!0;const mt=typeof ot;let Kt,on,Pt;if(mt===typeof Ft&&"object"===mt){if(!Array.isArray(ot)){if(Array.isArray(Ft))return!1;for(on in Pt=Object.create(null),ot)if(ot.hasOwnProperty(on)){if(!Ie(ot[on],Ft[on]))return!1;Pt[on]=!0}for(on in Ft)if(Ft.hasOwnProperty(on)&&!(on in Pt)&&typeof Ft[on]<"u")return!1;return!0}if(!Array.isArray(Ft))return!1;if((Kt=ot.length)===Ft.length){for(on=0;on<Kt;on++)if(!Ie(ot[on],Ft[on]))return!1;return!0}}return!1}function Oe(ot){const Ft=Array.isArray(ot)?[]:{};for(const mt in ot)if(mt){const it=ot[mt];Ft[mt]="object"==typeof it?Oe(it):it}return Ft}let Ye=(()=>{class ot{constructor(mt,it,Kt,on){this.parser=mt,this.settings=it,this.router=Kt,this.route=on,this.routerEvents=new m.B;const Pt=new d.m(1);this.hooks={_initializedSubject:Pt,initialized:Pt.asObservable()}}init(){this.applyConfigToRouter(this.parser.routes),this.router.events.pipe((0,P.p)(mt=>mt instanceof e.Z),function k(){return(0,b.N)((ot,Ft)=>{let mt,it=!1;ot.subscribe((0,M._)(Ft,Kt=>{const on=mt;mt=Kt,it&&Ft.next([on,Kt]),it=!0}))})}()).subscribe(this._routeChanged()),this.settings.initialNavigation&&this.router.initialNavigation()}changeLanguage(mt,it,Kt){if(mt!==this.parser.currentLang){const on=this.router.routerState.snapshot.root;this.parser.translateRoutes(mt).subscribe(()=>{let Pt=this.traverseRouteSnapshot(on);if(Pt=this.translateRoute(Pt),!this.settings.alwaysSetPrefix){let ce=Pt.split("/");const X=ce.indexOf(this.parser.currentLang);if(this.parser.currentLang===this.parser.defaultLang)(0===X||1===X&&""===ce[0])&&(ce=ce.slice(0,X).concat(ce.slice(X+1)));else if(-1===X){const oe=""===ce[0]?1:0;ce=ce.slice(0,oe).concat(this.parser.currentLang,ce.slice(oe))}Pt=ce.join("/")}Pt=Pt.replace(/\/+/g,"/");const Jt=Pt.lastIndexOf("/");Jt>0&&Jt===Pt.length-1&&(Pt=Pt.slice(0,-1));const je=this.parser.chooseQueryParams(it,this.route.snapshot.queryParams);if(this.applyConfigToRouter(this.parser.routes),this.lastExtras=it,Kt){const ce=it?{...it}:{};je&&(ce.queryParams=je),this.router.navigate([Pt],ce)}else{let ce=this.parser.formatQueryParams(je);ce=ce?`?${ce}`:"",this.router.navigateByUrl(`${Pt}${ce}`,it)}})}}traverseRouteSnapshot(mt){return mt.firstChild&&mt.routeConfig?`${this.parseSegmentValue(mt)}/${this.traverseRouteSnapshot(mt.firstChild)}`:mt.firstChild?this.traverseRouteSnapshot(mt.firstChild):this.parseSegmentValue(mt)}buildUrlFromSegments(mt,it){return it.map((Kt,on)=>0===Kt.indexOf(":")?mt.url[on].path:Kt).join("/")}parseSegmentValue(mt){if(mt.routeConfig&&mt.routeConfig.matcher){const it=this.parseSegmentValueMatcher(mt);return this.buildUrlFromSegments(mt,it)}if(mt.data.localizeRouter){const Kt=mt.data.localizeRouter.path.split("/");return this.buildUrlFromSegments(mt,Kt)}if(mt.parent&&mt.parent.parent){const Kt=mt.routeConfig.path.split("/");return this.buildUrlFromSegments(mt,Kt)}return""}parseSegmentValueMatcher(mt){const it=mt.data&&mt.data.localizeMatcher&&mt.data.localizeMatcher.params||{};return mt.url.map(on=>{const Pt=on.path,Jt=on.localizedParamName;return(Jt&&it[Jt]?it[Jt](Pt):null)||`${this.parser.getEscapePrefix()}${Pt}`})}translateRoute(mt){if("string"==typeof mt){const Kt=this.parser.translateRoute(mt);return mt.indexOf("/")?Kt:this.parser.addPrefixToUrl(Kt)}const it=[];return mt.forEach((Kt,on)=>{if("string"==typeof Kt){const Pt=this.parser.translateRoute(Kt);on||Kt.indexOf("/")?it.push(Pt):it.push(this.parser.addPrefixToUrl(Pt))}else it.push(Kt)}),it}_routeChanged(){return([mt,it])=>{const Kt=this.parser.getLocationLang(mt.url)||this.parser.defaultLang,on=this.parser.getLocationLang(it.url)||this.parser.defaultLang,Pt=this.lastExtras;on!==Kt&&this.latestUrl!==it.url&&(this.latestUrl=it.url,this.cancelCurrentNavigation(),this.parser.translateRoutes(on).subscribe(()=>{this.applyConfigToRouter(this.parser.routes),this.lastExtras=void 0,this.router.navigateByUrl(it.url,Pt),this.routerEvents.next(on)})),this.latestUrl=it.url}}cancelCurrentNavigation(){const mt=this.router.getCurrentNavigation(),it=this.router.serializeUrl(mt.extractedUrl);this.router.events.next(new e.j5(mt.id,it,"")),this.router.navigationTransitions.transitions.next({...this.router.navigationTransitions.transitions.getValue(),id:0})}applyConfigToRouter(mt){this.router.resetConfig(Oe(mt))}}return ot.\u0275fac=function(mt){return new(mt||ot)(i.KVO(be),i.KVO(Qe),i.KVO(e.Ix),i.KVO(e.nX))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})(),jt=(()=>{class ot{constructor(mt,it){this.localize=mt,this._ref=it,this.value="",this.subscription=this.localize.routerEvents.subscribe(()=>{this.transform(this.lastKey)})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}transform(mt){if(!mt||0===mt.length||!this.localize.parser.currentLang)return mt;if(Ie(mt,this.lastKey)&&Ie(this.lastLanguage,this.localize.parser.currentLang))return this.value;this.lastKey=mt,this.lastLanguage=this.localize.parser.currentLang,this.value=this.localize.translateRoute(mt),this.lastKey=mt;const it=this._ref._view;return it&&128&it.state||setTimeout(()=>{this._ref.detectChanges()},0),this.value}}return ot.\u0275fac=function(mt){return new(mt||ot)(i.rXU(Ye,16),i.rXU(i.gRc,16))},ot.\u0275pipe=i.EJ8({name:"localize",type:ot,pure:!1}),ot})();class Dt{constructor(){}shouldDetach(Ft){return!1}store(Ft,mt){}shouldAttach(Ft){return!1}retrieve(Ft){return null}shouldReuseRoute(Ft,mt){return!(!Ft||!mt)&&this.getKey(Ft)===this.getKey(mt)}getKey(Ft){if(Ft.firstChild&&Ft.firstChild.routeConfig&&Ft.firstChild.routeConfig.path&&-1!==Ft.firstChild.routeConfig.path.indexOf("**"))return"WILDCARD";if(!(Ft.data.localizeRouter||Ft.parent&&Ft.parent.parent||Ft.data.skipRouteLocalization))return"LANG";if(Ft.routeConfig.matcher){let mt=`${this.getKey(Ft.parent)}/${Ft.routeConfig.matcher.name}`;return Ft.data.discriminantPathKey&&(mt=`${mt}-${Ft.data.discriminantPathKey}`),mt}if(Ft.data.localizeRouter){let mt=`${this.getKey(Ft.parent)}/${Ft.data.localizeRouter.path}`;return Ft.data.discriminantPathKey&&(mt=`${mt}-${Ft.data.discriminantPathKey}`),mt}{let mt=Ft.routeConfig.path;return Ft.parent&&(mt=`${this.getKey(Ft.parent)}/${Ft.routeConfig.path}`),Ft.data.discriminantPathKey&&(mt=`${mt}-${Ft.data.discriminantPathKey}`),mt}}}let wt=(()=>{class ot extends e.Ix{constructor(){super(),this.platformId=(0,i.WQX)(i.Agw),this.compiler=(0,i.WQX)(i.Ql9),this.localize=(0,i.WQX)(be),((0,j.UE)(this.platformId)?this.navigationTransitions.configLoader.__proto__:this.navigationTransitions.configLoader).loadModuleFactoryOrRoutes=Kt=>function z(ot){return(0,O.A)(ot)?ot:function st(ot){return!!ot&&"function"==typeof ot.then}(ot)?(0,I.H)(Promise.resolve(ot)):(0,f.of)(ot)}(Kt()).pipe((0,N.Z)(on=>{let Pt;return Pt=on instanceof i.Co$||Array.isArray(on)?(0,f.of)(on):(0,I.H)(this.compiler.compileModuleAsync(on)),Pt.pipe((0,G.T)(Jt=>Array.isArray(Jt)?Jt:{moduleType:Jt.moduleType,create:je=>{const ce=Jt.create(je),X=ce.injector.get.bind(ce.injector);return ce.injector.get=(oe,Ve,tt)=>{const gt=X(oe,Ve,tt);return oe===e.bw?this.localize.initChildRoutes([].concat(...gt)):gt},ce}}))}))}}return ot.\u0275fac=function(mt){return new(mt||ot)},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac,providedIn:"root"}),ot})(),Y=(()=>{class ot{constructor(mt){this.injector=mt}appInitializer(){return this.parser.load(this.routes).then(()=>{const it=this.injector.get(Ye),Kt=this.injector.get(e.Ix),on=this.injector.get(Qe);if(it.init(),on.initialNavigation)return new Promise(Pt=>{const Jt=Kt.navigationTransitions.afterPreactivation;let je=!0;Kt.navigationTransitions.afterPreactivation=()=>(je&&(Pt(),je=!1,it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()),Jt())});it.hooks._initializedSubject.next(!0),it.hooks._initializedSubject.complete()})}generateInitializer(mt,it){return this.parser=mt,this.routes=it.reduce((Kt,on)=>Kt.concat(on)),this.appInitializer}}return ot.\u0275fac=function(mt){return new(mt||ot)(i.KVO(i.zZn))},ot.\u0275prov=i.jDH({token:ot,factory:ot.\u0275fac}),ot})();function Z(ot,Ft,mt){const it=Oe(mt);return ot.generateInitializer(Ft,it).bind(ot)}let Ce=(()=>{class ot{static forRoot(mt,it={}){return{ngModule:ot,providers:[{provide:e.Ix,useClass:wt},{provide:$,useFactory:we,deps:[[ot,new i.Xx1,new i.kdw]]},{provide:L,useValue:it.useCachedLang},{provide:me,useValue:it.alwaysSetPrefix},{provide:te,useValue:it.cacheName},{provide:J,useValue:it.cacheMechanism},{provide:K,useValue:it.defaultLangFunction},{provide:E,useValue:it.cookieFormat},{provide:re,useValue:it.initialNavigation},Qe,it.parser||{provide:be,useClass:Pe},{provide:ne,multi:!0,useValue:mt},Ye,Y,{provide:i.hnV,multi:!0,useFactory:Z,deps:[Y,be,ne]},{provide:e.b,useClass:Dt}]}}static forChild(mt){return{ngModule:ot,providers:[{provide:ne,multi:!0,useValue:mt}]}}}return ot.\u0275fac=function(mt){return new(mt||ot)},ot.\u0275mod=i.$C({type:ot}),ot.\u0275inj=i.G2t({imports:[j.MD,e.iI,R.h]}),ot})();function we(ot){if(ot)throw new Error("LocalizeRouterModule.forRoot() called twice. Lazy loaded modules should use LocalizeRouterModule.forChild() instead.");return"guarded"}},1780:(nt,fe,h)=>{"use strict";h.d(fe,{D9:()=>Ne,Wr:()=>P,c$:()=>K,h:()=>Ae});var i=h(4438),e=h(7673),y=h(4402),p=h(7468),w=h(8793),C=h(9030),m=h(6697),d=h(9568),f=h(6354),I=h(274),O=h(5558);class P{}let b=(()=>{class xe extends P{getTranslation(Ee){return(0,e.of)({})}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=i.xGo(xe)))(be||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class M{}let k=(()=>{class xe{handle(Ee){return Ee.key}}return xe.\u0275fac=function(Ee){return new(Ee||xe)},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();function N(xe,Qe){if(xe===Qe)return!0;if(null===xe||null===Qe)return!1;if(xe!=xe&&Qe!=Qe)return!0;let le,Pe,Ie,Ee=typeof xe;if(Ee==typeof Qe&&"object"==Ee){if(!Array.isArray(xe)){if(Array.isArray(Qe))return!1;for(Pe in Ie=Object.create(null),xe){if(!N(xe[Pe],Qe[Pe]))return!1;Ie[Pe]=!0}for(Pe in Qe)if(!(Pe in Ie)&&typeof Qe[Pe]<"u")return!1;return!0}if(!Array.isArray(Qe))return!1;if((le=xe.length)==Qe.length){for(Pe=0;Pe<le;Pe++)if(!N(xe[Pe],Qe[Pe]))return!1;return!0}}return!1}function G(xe){return typeof xe<"u"&&null!==xe}function R(xe){return xe&&"object"==typeof xe&&!Array.isArray(xe)}function j(xe,Qe){let Ee=Object.assign({},xe);return R(xe)&&R(Qe)&&Object.keys(Qe).forEach(be=>{R(Qe[be])?be in xe?Ee[be]=j(xe[be],Qe[be]):Object.assign(Ee,{[be]:Qe[be]}):Object.assign(Ee,{[be]:Qe[be]})}),Ee}class U{}let $=(()=>{class xe extends U{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(Ee,be){let le;return le="string"==typeof Ee?this.interpolateString(Ee,be):"function"==typeof Ee?this.interpolateFunction(Ee,be):Ee,le}getValue(Ee,be){let le="string"==typeof be?be.split("."):[be];be="";do{be+=le.shift(),!G(Ee)||!G(Ee[be])||"object"!=typeof Ee[be]&&le.length?le.length?be+=".":Ee=void 0:(Ee=Ee[be],be="")}while(le.length);return Ee}interpolateFunction(Ee,be){return Ee(be)}interpolateString(Ee,be){return be?Ee.replace(this.templateMatcher,(le,Pe)=>{let Ie=this.getValue(be,Pe);return G(Ie)?Ie:le}):Ee}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=i.xGo(xe)))(be||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class ne{}let se=(()=>{class xe extends ne{compile(Ee,be){return Ee}compileTranslations(Ee,be){return Ee}}return xe.\u0275fac=(()=>{let Qe;return function(be){return(Qe||(Qe=i.xGo(xe)))(be||xe)}})(),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})();class L{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.bkB,this.onLangChange=new i.bkB,this.onDefaultLangChange=new i.bkB}}const J=new i.nKC("USE_STORE"),te=new i.nKC("USE_DEFAULT_LANG"),E=new i.nKC("DEFAULT_LANGUAGE"),re=new i.nKC("USE_EXTEND");let K=(()=>{class xe{constructor(Ee,be,le,Pe,Ie,st=!0,Oe=!1,pt=!1,Ye){this.store=Ee,this.currentLoader=be,this.compiler=le,this.parser=Pe,this.missingTranslationHandler=Ie,this.useDefaultLang=st,this.isolate=Oe,this.extend=pt,this.pending=!1,this._onTranslationChange=new i.bkB,this._onLangChange=new i.bkB,this._onDefaultLangChange=new i.bkB,this._langs=[],this._translations={},this._translationRequests={},Ye&&this.setDefaultLang(Ye)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(Ee){this.isolate?this._defaultLang=Ee:this.store.defaultLang=Ee}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(Ee){this.isolate?this._currentLang=Ee:this.store.currentLang=Ee}get langs(){return this.isolate?this._langs:this.store.langs}set langs(Ee){this.isolate?this._langs=Ee:this.store.langs=Ee}get translations(){return this.isolate?this._translations:this.store.translations}set translations(Ee){this.isolate?this._translations=Ee:this.store.translations=Ee}setDefaultLang(Ee){if(Ee===this.defaultLang)return;let be=this.retrieveTranslations(Ee);typeof be<"u"?(null==this.defaultLang&&(this.defaultLang=Ee),be.pipe((0,m.s)(1)).subscribe(le=>{this.changeDefaultLang(Ee)})):this.changeDefaultLang(Ee)}getDefaultLang(){return this.defaultLang}use(Ee){if(Ee===this.currentLang)return(0,e.of)(this.translations[Ee]);let be=this.retrieveTranslations(Ee);return typeof be<"u"?(this.currentLang||(this.currentLang=Ee),be.pipe((0,m.s)(1)).subscribe(le=>{this.changeLang(Ee)}),be):(this.changeLang(Ee),(0,e.of)(this.translations[Ee]))}retrieveTranslations(Ee){let be;return(typeof this.translations[Ee]>"u"||this.extend)&&(this._translationRequests[Ee]=this._translationRequests[Ee]||this.getTranslation(Ee),be=this._translationRequests[Ee]),be}getTranslation(Ee){this.pending=!0;const be=this.currentLoader.getTranslation(Ee).pipe((0,d.t)(1),(0,m.s)(1));return this.loadingTranslations=be.pipe((0,f.T)(le=>this.compiler.compileTranslations(le,Ee)),(0,d.t)(1),(0,m.s)(1)),this.loadingTranslations.subscribe({next:le=>{this.translations[Ee]=this.extend&&this.translations[Ee]?{...le,...this.translations[Ee]}:le,this.updateLangs(),this.pending=!1},error:le=>{this.pending=!1}}),be}setTranslation(Ee,be,le=!1){be=this.compiler.compileTranslations(be,Ee),this.translations[Ee]=(le||this.extend)&&this.translations[Ee]?j(this.translations[Ee],be):be,this.updateLangs(),this.onTranslationChange.emit({lang:Ee,translations:this.translations[Ee]})}getLangs(){return this.langs}addLangs(Ee){Ee.forEach(be=>{-1===this.langs.indexOf(be)&&this.langs.push(be)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(Ee,be,le){let Pe;if(be instanceof Array){let Ie={},st=!1;for(let Oe of be)Ie[Oe]=this.getParsedResult(Ee,Oe,le),(0,y.A)(Ie[Oe])&&(st=!0);if(st){const Oe=be.map(pt=>(0,y.A)(Ie[pt])?Ie[pt]:(0,e.of)(Ie[pt]));return(0,p.p)(Oe).pipe((0,f.T)(pt=>{let Ye={};return pt.forEach((qt,jt)=>{Ye[be[jt]]=qt}),Ye}))}return Ie}if(Ee&&(Pe=this.parser.interpolate(this.parser.getValue(Ee,be),le)),typeof Pe>"u"&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(Pe=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],be),le)),typeof Pe>"u"){let Ie={key:be,translateService:this};typeof le<"u"&&(Ie.interpolateParams=le),Pe=this.missingTranslationHandler.handle(Ie)}return typeof Pe<"u"?Pe:be}get(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,I.H)(le=>(le=this.getParsedResult(le,Ee,be),(0,y.A)(le)?le:(0,e.of)(le))));{let le=this.getParsedResult(this.translations[this.currentLang],Ee,be);return(0,y.A)(le)?le:(0,e.of)(le)}}getStreamOnTranslationChange(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,w.x)((0,C.v)(()=>this.get(Ee,be)),this.onTranslationChange.pipe((0,O.n)(le=>{const Pe=this.getParsedResult(le.translations,Ee,be);return"function"==typeof Pe.subscribe?Pe:(0,e.of)(Pe)})))}stream(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');return(0,w.x)((0,C.v)(()=>this.get(Ee,be)),this.onLangChange.pipe((0,O.n)(le=>{const Pe=this.getParsedResult(le.translations,Ee,be);return(0,y.A)(Pe)?Pe:(0,e.of)(Pe)})))}instant(Ee,be){if(!G(Ee)||!Ee.length)throw new Error('Parameter "key" required');let le=this.getParsedResult(this.translations[this.currentLang],Ee,be);if((0,y.A)(le)){if(Ee instanceof Array){let Pe={};return Ee.forEach((Ie,st)=>{Pe[Ee[st]]=Ee[st]}),Pe}return Ee}return le}set(Ee,be,le=this.currentLang){this.translations[le][Ee]=this.compiler.compile(be,le),this.updateLangs(),this.onTranslationChange.emit({lang:le,translations:this.translations[le]})}changeLang(Ee){this.currentLang=Ee,this.onLangChange.emit({lang:Ee,translations:this.translations[Ee]}),null==this.defaultLang&&this.changeDefaultLang(Ee)}changeDefaultLang(Ee){this.defaultLang=Ee,this.onDefaultLangChange.emit({lang:Ee,translations:this.translations[Ee]})}reloadLang(Ee){return this.resetLang(Ee),this.getTranslation(Ee)}resetLang(Ee){this._translationRequests[Ee]=void 0,this.translations[Ee]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,typeof Ee>"u"?void 0:(-1!==Ee.indexOf("-")&&(Ee=Ee.split("-")[0]),-1!==Ee.indexOf("_")&&(Ee=Ee.split("_")[0]),Ee)}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let Ee=window.navigator.languages?window.navigator.languages[0]:null;return Ee=Ee||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,Ee}}return xe.\u0275fac=function(Ee){return new(Ee||xe)(i.KVO(L),i.KVO(P),i.KVO(ne),i.KVO(U),i.KVO(M),i.KVO(te),i.KVO(J),i.KVO(re),i.KVO(E))},xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})(),Ne=(()=>{class xe{constructor(Ee,be){this.translate=Ee,this._ref=be,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(Ee,be,le){let Pe=Ie=>{this.value=void 0!==Ie?Ie:Ee,this.lastKey=Ee,this._ref.markForCheck()};if(le){let Ie=this.translate.getParsedResult(le,Ee,be);(0,y.A)(Ie.subscribe)?Ie.subscribe(Pe):Pe(Ie)}this.translate.get(Ee,be).subscribe(Pe)}transform(Ee,...be){if(!Ee||!Ee.length)return Ee;if(N(Ee,this.lastKey)&&N(be,this.lastParams))return this.value;let le;if(G(be[0])&&be.length)if("string"==typeof be[0]&&be[0].length){let Pe=be[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{le=JSON.parse(Pe)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${be[0]}`)}}else"object"==typeof be[0]&&!Array.isArray(be[0])&&(le=be[0]);return this.lastKey=Ee,this.lastParams=be,this.updateValue(Ee,le),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(Pe=>{this.lastKey&&Pe.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(Ee,le,Pe.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(Pe=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,le,Pe.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(Ee,le))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return xe.\u0275fac=function(Ee){return new(Ee||xe)(i.rXU(K,16),i.rXU(i.gRc,16))},xe.\u0275pipe=i.EJ8({name:"translate",type:xe,pure:!1}),xe.\u0275prov=i.jDH({token:xe,factory:xe.\u0275fac}),xe})(),Ae=(()=>{class xe{static forRoot(Ee={}){return{ngModule:xe,providers:[Ee.loader||{provide:P,useClass:b},Ee.compiler||{provide:ne,useClass:se},Ee.parser||{provide:U,useClass:$},Ee.missingTranslationHandler||{provide:M,useClass:k},L,{provide:J,useValue:Ee.isolate},{provide:te,useValue:Ee.useDefaultLang},{provide:re,useValue:Ee.extend},{provide:E,useValue:Ee.defaultLanguage},K]}}static forChild(Ee={}){return{ngModule:xe,providers:[Ee.loader||{provide:P,useClass:b},Ee.compiler||{provide:ne,useClass:se},Ee.parser||{provide:U,useClass:$},Ee.missingTranslationHandler||{provide:M,useClass:k},{provide:J,useValue:Ee.isolate},{provide:te,useValue:Ee.useDefaultLang},{provide:re,useValue:Ee.extend},{provide:E,useValue:Ee.defaultLanguage},K]}}}return xe.\u0275fac=function(Ee){return new(Ee||xe)},xe.\u0275mod=i.$C({type:xe}),xe.\u0275inj=i.G2t({}),xe})()},4549:(nt,fe,h)=>{"use strict";h.d(fe,{c9:()=>si,wB:()=>lt});class i extends Error{}class e extends i{constructor(F){super(`Invalid DateTime: ${F.toMessage()}`)}}class y extends i{constructor(F){super(`Invalid Interval: ${F.toMessage()}`)}}class p extends i{constructor(F){super(`Invalid Duration: ${F.toMessage()}`)}}class w extends i{}class C extends i{constructor(F){super(`Invalid unit ${F}`)}}class m extends i{}class d extends i{constructor(){super("Zone is an abstract class")}}const f="numeric",I="short",O="long",P={year:f,month:f,day:f},b={year:f,month:I,day:f},M={year:f,month:I,day:f,weekday:I},k={year:f,month:O,day:f},N={year:f,month:O,day:f,weekday:O},G={hour:f,minute:f},R={hour:f,minute:f,second:f},j={hour:f,minute:f,second:f,timeZoneName:I},U={hour:f,minute:f,second:f,timeZoneName:O},$={hour:f,minute:f,hourCycle:"h23"},ne={hour:f,minute:f,second:f,hourCycle:"h23"},se={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:I},L={hour:f,minute:f,second:f,hourCycle:"h23",timeZoneName:O},J={year:f,month:f,day:f,hour:f,minute:f},te={year:f,month:f,day:f,hour:f,minute:f,second:f},E={year:f,month:I,day:f,hour:f,minute:f},re={year:f,month:I,day:f,hour:f,minute:f,second:f},K={year:f,month:I,day:f,weekday:I,hour:f,minute:f},me={year:f,month:O,day:f,hour:f,minute:f,timeZoneName:I},Ne={year:f,month:O,day:f,hour:f,minute:f,second:f,timeZoneName:I},Ae={year:f,month:O,day:f,weekday:O,hour:f,minute:f,timeZoneName:O},xe={year:f,month:O,day:f,weekday:O,hour:f,minute:f,second:f,timeZoneName:O};class Qe{get type(){throw new d}get name(){throw new d}get ianaName(){return this.name}get isUniversal(){throw new d}offsetName(F,de){throw new d}formatOffset(F,de){throw new d}offset(F){throw new d}equals(F){throw new d}get isValid(){throw new d}}let Ee=null;class be extends Qe{static get instance(){return null===Ee&&(Ee=new be),Ee}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(F,{format:de,locale:Me}){return Tt(F,de,Me)}formatOffset(F,de){return ai(this.offset(F),de)}offset(F){return-new Date(F).getTimezoneOffset()}equals(F){return"system"===F.type}get isValid(){return!0}}let le={};const Ie={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let pt={};class Ye extends Qe{static create(F){return pt[F]||(pt[F]=new Ye(F)),pt[F]}static resetCache(){pt={},le={}}static isValidSpecifier(F){return this.isValidZone(F)}static isValidZone(F){if(!F)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:F}).format(),!0}catch{return!1}}constructor(F){super(),this.zoneName=F,this.valid=Ye.isValidZone(F)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(F,{format:de,locale:Me}){return Tt(F,de,Me,this.name)}formatOffset(F,de){return ai(this.offset(F),de)}offset(F){const de=new Date(F);if(isNaN(de))return NaN;const Me=function Pe(pe){return le[pe]||(le[pe]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:pe,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),le[pe]}(this.name);let[rt,Nt,Vt,nn,an,wn,ni]=Me.formatToParts?function Oe(pe,F){const de=pe.formatToParts(F),Me=[];for(let rt=0;rt<de.length;rt++){const{type:Nt,value:Vt}=de[rt],nn=Ie[Nt];"era"===Nt?Me[nn]=Vt:An(nn)||(Me[nn]=parseInt(Vt,10))}return Me}(Me,de):function st(pe,F){const de=pe.format(F).replace(/\u200E/g,""),Me=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(de),[,rt,Nt,Vt,nn,an,wn,ni]=Me;return[Vt,rt,Nt,nn,an,wn,ni]}(Me,de);"BC"===nn&&(rt=1-Math.abs(rt));let vi=+de;const Gr=vi%1e3;return vi-=Gr>=0?Gr:1e3+Gr,(De({year:rt,month:Nt,day:Vt,hour:24===an?0:an,minute:wn,second:ni,millisecond:0})-vi)/6e4}equals(F){return"iana"===F.type&&F.name===this.name}get isValid(){return this.valid}}let qt={},Dt={};function wt(pe,F={}){const de=JSON.stringify([pe,F]);let Me=Dt[de];return Me||(Me=new Intl.DateTimeFormat(pe,F),Dt[de]=Me),Me}let z={},Z={},we=null,Be={};function on(pe,F,de,Me){const rt=pe.listingMode();return"error"===rt?null:"en"===rt?de(F):Me(F)}class Jt{constructor(F,de,Me){this.padTo=Me.padTo||0,this.floor=Me.floor||!1;const{padTo:rt,floor:Nt,...Vt}=Me;if(!de||Object.keys(Vt).length>0){const nn={useGrouping:!1,...Me};Me.padTo>0&&(nn.minimumIntegerDigits=Me.padTo),this.inf=function Y(pe,F={}){const de=JSON.stringify([pe,F]);let Me=z[de];return Me||(Me=new Intl.NumberFormat(pe,F),z[de]=Me),Me}(F,nn)}}format(F){if(this.inf){const de=this.floor?Math.floor(F):F;return this.inf.format(de)}return Ke(this.floor?Math.floor(F):Xe(F,3),this.padTo)}}class je{constructor(F,de,Me){let rt;if(this.opts=Me,this.originalZone=void 0,this.opts.timeZone)this.dt=F;else if("fixed"===F.zone.type){const Vt=F.offset/60*-1,nn=Vt>=0?`Etc/GMT+${Vt}`:`Etc/GMT${Vt}`;0!==F.offset&&Ye.create(nn).valid?(rt=nn,this.dt=F):(rt="UTC",this.dt=0===F.offset?F:F.setZone("UTC").plus({minutes:F.offset}),this.originalZone=F.zone)}else"system"===F.zone.type?this.dt=F:"iana"===F.zone.type?(this.dt=F,rt=F.zone.name):(rt="UTC",this.dt=F.setZone("UTC").plus({minutes:F.offset}),this.originalZone=F.zone);const Nt={...this.opts};Nt.timeZone=Nt.timeZone||rt,this.dtf=wt(de,Nt)}format(){return this.originalZone?this.formatToParts().map(({value:F})=>F).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const F=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?F.map(de=>{if("timeZoneName"===de.type){const Me=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...de,value:Me}}return de}):F}resolvedOptions(){return this.dtf.resolvedOptions()}}class ce{constructor(F,de,Me){this.opts={style:"long",...Me},!de&&Pi()&&(this.rtf=function Ce(pe,F={}){const{base:de,...Me}=F,rt=JSON.stringify([pe,Me]);let Nt=Z[rt];return Nt||(Nt=new Intl.RelativeTimeFormat(pe,F),Z[rt]=Nt),Nt}(F,Me))}format(F,de){return this.rtf?this.rtf.format(F,de):function Ni(pe,F,de="always",Me=!1){const rt={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},Nt=-1===["hours","minutes","seconds"].indexOf(pe);if("auto"===de&&Nt){const jn="days"===pe;switch(F){case 1:return jn?"tomorrow":`next ${rt[pe][0]}`;case-1:return jn?"yesterday":`last ${rt[pe][0]}`;case 0:return jn?"today":`this ${rt[pe][0]}`}}const Vt=Object.is(F,-0)||F<0,nn=Math.abs(F),an=1===nn,wn=rt[pe],ni=Me?an?wn[1]:wn[2]||wn[1]:an?rt[pe][0]:pe;return Vt?`${nn} ${ni} ago`:`in ${nn} ${ni}`}(de,F,this.opts.numeric,"long"!==this.opts.style)}formatToParts(F,de){return this.rtf?this.rtf.formatToParts(F,de):[]}}const X={firstDay:1,minimalDays:4,weekend:[6,7]};class oe{static fromOpts(F){return oe.create(F.locale,F.numberingSystem,F.outputCalendar,F.weekSettings,F.defaultToEN)}static create(F,de,Me,rt,Nt=!1){const Vt=F||lt.defaultLocale,nn=Vt||(Nt?"en-US":function at(){return we||(we=(new Intl.DateTimeFormat).resolvedOptions().locale,we)}()),an=de||lt.defaultNumberingSystem,wn=Me||lt.defaultOutputCalendar,ni=Ii(rt)||lt.defaultWeekSettings;return new oe(nn,an,wn,ni,Vt)}static resetCache(){we=null,Dt={},z={},Z={}}static fromObject({locale:F,numberingSystem:de,outputCalendar:Me,weekSettings:rt}={}){return oe.create(F,de,Me,rt)}constructor(F,de,Me,rt,Nt){const[Vt,nn,an]=function Ft(pe){const F=pe.indexOf("-x-");-1!==F&&(pe=pe.substring(0,F));const de=pe.indexOf("-u-");if(-1===de)return[pe];{let Me,rt;try{Me=wt(pe).resolvedOptions(),rt=pe}catch{const an=pe.substring(0,de);Me=wt(an).resolvedOptions(),rt=an}const{numberingSystem:Nt,calendar:Vt}=Me;return[rt,Nt,Vt]}}(F);this.locale=Vt,this.numberingSystem=de||nn||null,this.outputCalendar=Me||an||null,this.weekSettings=rt,this.intl=function mt(pe,F,de){return(de||F)&&(pe.includes("-u-")||(pe+="-u"),de&&(pe+=`-ca-${de}`),F&&(pe+=`-nu-${F}`)),pe}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=Nt,this.fastNumbersCached=null}get fastNumbers(){return null==this.fastNumbersCached&&(this.fastNumbersCached=function Pt(pe){return(!pe.numberingSystem||"latn"===pe.numberingSystem)&&("latn"===pe.numberingSystem||!pe.locale||pe.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(pe.intl).resolvedOptions().numberingSystem)}(this)),this.fastNumbersCached}listingMode(){return this.isEnglish()&&!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar)?"en":"intl"}clone(F){return F&&0!==Object.getOwnPropertyNames(F).length?oe.create(F.locale||this.specifiedLocale,F.numberingSystem||this.numberingSystem,F.outputCalendar||this.outputCalendar,Ii(F.weekSettings)||this.weekSettings,F.defaultToEN||!1):this}redefaultToEN(F={}){return this.clone({...F,defaultToEN:!0})}redefaultToSystem(F={}){return this.clone({...F,defaultToEN:!1})}months(F,de=!1){return on(this,F,li,()=>{const Me=de?{month:F,day:"numeric"}:{month:F},rt=de?"format":"standalone";return this.monthsCache[rt][F]||(this.monthsCache[rt][F]=function it(pe){const F=[];for(let de=1;de<=12;de++){const Me=si.utc(2009,de,1);F.push(pe(Me))}return F}(Nt=>this.extract(Nt,Me,"month"))),this.monthsCache[rt][F]})}weekdays(F,de=!1){return on(this,F,Ys,()=>{const Me=de?{weekday:F,year:"numeric",month:"long",day:"numeric"}:{weekday:F},rt=de?"format":"standalone";return this.weekdaysCache[rt][F]||(this.weekdaysCache[rt][F]=function Kt(pe){const F=[];for(let de=1;de<=7;de++){const Me=si.utc(2016,11,13+de);F.push(pe(Me))}return F}(Nt=>this.extract(Nt,Me,"weekday"))),this.weekdaysCache[rt][F]})}meridiems(){return on(this,void 0,()=>gs,()=>{if(!this.meridiemCache){const F={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[si.utc(2016,11,13,9),si.utc(2016,11,13,19)].map(de=>this.extract(de,F,"dayperiod"))}return this.meridiemCache})}eras(F){return on(this,F,vs,()=>{const de={era:F};return this.eraCache[F]||(this.eraCache[F]=[si.utc(-40,1,1),si.utc(2017,1,1)].map(Me=>this.extract(Me,de,"era"))),this.eraCache[F]})}extract(F,de,Me){const Vt=this.dtFormatter(F,de).formatToParts().find(nn=>nn.type.toLowerCase()===Me);return Vt?Vt.value:null}numberFormatter(F={}){return new Jt(this.intl,F.forceSimple||this.fastNumbers,F)}dtFormatter(F,de={}){return new je(F,this.intl,de)}relFormatter(F={}){return new ce(this.intl,this.isEnglish(),F)}listFormatter(F={}){return function jt(pe,F={}){const de=JSON.stringify([pe,F]);let Me=qt[de];return Me||(Me=new Intl.ListFormat(pe,F),qt[de]=Me),Me}(this.intl,F)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Qn()?function ot(pe){let F=Be[pe];if(!F){const de=new Intl.Locale(pe);F="getWeekInfo"in de?de.getWeekInfo():de.weekInfo,Be[pe]=F}return F}(this.locale):X}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(F){return this.locale===F.locale&&this.numberingSystem===F.numberingSystem&&this.outputCalendar===F.outputCalendar}}let Ve=null;class tt extends Qe{static get utcInstance(){return null===Ve&&(Ve=new tt(0)),Ve}static instance(F){return 0===F?tt.utcInstance:new tt(F)}static parseSpecifier(F){if(F){const de=F.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(de)return new tt(vt(de[1],de[2]))}return null}constructor(F){super(),this.fixed=F}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ai(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ai(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(F,de){return ai(this.fixed,de)}get isUniversal(){return!0}offset(){return this.fixed}equals(F){return"fixed"===F.type&&F.fixed===this.fixed}get isValid(){return!0}}class gt extends Qe{constructor(F){super(),this.zoneName=F}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Bt(pe,F){if(An(pe)||null===pe)return F;if(pe instanceof Qe)return pe;if(function mi(pe){return"string"==typeof pe}(pe)){const Me=pe.toLowerCase();return"default"===Me?F:"local"===Me||"system"===Me?be.instance:"utc"===Me||"gmt"===Me?tt.utcInstance:tt.parseSpecifier(Me)||Ye.create(pe)}return gn(pe)?tt.instance(pe):"object"==typeof pe&&"offset"in pe&&"function"==typeof pe.offset?pe:new gt(pe)}let Rn,cn=()=>Date.now(),hn="system",Mn=null,kn=null,Bn=null,It=60,Ht=null;class lt{static get now(){return cn}static set now(F){cn=F}static set defaultZone(F){hn=F}static get defaultZone(){return Bt(hn,be.instance)}static get defaultLocale(){return Mn}static set defaultLocale(F){Mn=F}static get defaultNumberingSystem(){return kn}static set defaultNumberingSystem(F){kn=F}static get defaultOutputCalendar(){return Bn}static set defaultOutputCalendar(F){Bn=F}static get defaultWeekSettings(){return Ht}static set defaultWeekSettings(F){Ht=Ii(F)}static get twoDigitCutoffYear(){return It}static set twoDigitCutoffYear(F){It=F%100}static get throwOnInvalid(){return Rn}static set throwOnInvalid(F){Rn=F}static resetCaches(){oe.resetCache(),Ye.resetCache()}}class Ct{constructor(F,de){this.reason=F,this.explanation=de}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const yt=[0,31,59,90,120,151,181,212,243,273,304,334],Ot=[0,31,60,91,121,152,182,213,244,274,305,335];function tn(pe,F){return new Ct("unit out of range",`you specified ${F} (of type ${typeof F}) as a ${pe}, which is invalid`)}function In(pe,F,de){const Me=new Date(Date.UTC(pe,F-1,de));pe<100&&pe>=0&&Me.setUTCFullYear(Me.getUTCFullYear()-1900);const rt=Me.getUTCDay();return 0===rt?7:rt}function Un(pe,F,de){return de+(Zt(pe)?Ot:yt)[F-1]}function fn(pe,F){const de=Zt(pe)?Ot:yt,Me=de.findIndex(Nt=>Nt<F);return{month:Me+1,day:F-de[Me]}}function hi(pe,F){return(pe-F+7)%7+1}function Hn(pe,F=4,de=1){const{year:Me,month:rt,day:Nt}=pe,Vt=Un(Me,rt,Nt),nn=hi(In(Me,rt,Nt),de);let wn,an=Math.floor((Vt-nn+14-F)/7);return an<1?(wn=Me-1,an=ft(wn,F,de)):an>ft(Me,F,de)?(wn=Me+1,an=1):wn=Me,{weekYear:wn,weekNumber:an,weekday:nn,...yi(pe)}}function Mt(pe,F=4,de=1){const{weekYear:Me,weekNumber:rt,weekday:Nt}=pe,Vt=hi(In(Me,1,F),de),nn=ut(Me);let wn,an=7*rt+Nt-Vt-7+F;an<1?(wn=Me-1,an+=ut(wn)):an>nn?(wn=Me+1,an-=ut(Me)):wn=Me;const{month:ni,day:jn}=fn(wn,an);return{year:wn,month:ni,day:jn,...yi(pe)}}function ht(pe){const{year:F,month:de,day:Me}=pe;return{year:F,ordinal:Un(F,de,Me),...yi(pe)}}function kt(pe){const{year:F,ordinal:de}=pe,{month:Me,day:rt}=fn(F,de);return{year:F,month:Me,day:rt,...yi(pe)}}function Gt(pe,F){if(An(pe.localWeekday)&&An(pe.localWeekNumber)&&An(pe.localWeekYear))return{minDaysInFirstWeek:4,startOfWeek:1};if(!An(pe.weekday)||!An(pe.weekNumber)||!An(pe.weekYear))throw new w("Cannot mix locale-based week fields with ISO-based week fields");return An(pe.localWeekday)||(pe.weekday=pe.localWeekday),An(pe.localWeekNumber)||(pe.weekNumber=pe.localWeekNumber),An(pe.localWeekYear)||(pe.weekYear=pe.localWeekYear),delete pe.localWeekday,delete pe.localWeekNumber,delete pe.localWeekYear,{minDaysInFirstWeek:F.getMinDaysInFirstWeek(),startOfWeek:F.getStartOfWeek()}}function yn(pe){const F=di(pe.year),de=et(pe.month,1,12),Me=et(pe.day,1,_e(pe.year,pe.month));return F?de?!Me&&tn("day",pe.day):tn("month",pe.month):tn("year",pe.year)}function Jn(pe){const{hour:F,minute:de,second:Me,millisecond:rt}=pe,Nt=et(F,0,23)||24===F&&0===de&&0===Me&&0===rt,Vt=et(de,0,59),nn=et(Me,0,59),an=et(rt,0,999);return Nt?Vt?nn?!an&&tn("millisecond",rt):tn("second",Me):tn("minute",de):tn("hour",F)}function An(pe){return typeof pe>"u"}function gn(pe){return"number"==typeof pe}function di(pe){return"number"==typeof pe&&pe%1==0}function Pi(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Qn(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function gi(pe,F,de){if(0!==pe.length)return pe.reduce((Me,rt)=>{const Nt=[F(rt),rt];return Me&&de(Me[0],Nt[0])===Me[0]?Me:Nt},null)[1]}function $i(pe,F){return Object.prototype.hasOwnProperty.call(pe,F)}function Ii(pe){if(null==pe)return null;if("object"!=typeof pe)throw new m("Week settings must be an object");if(!et(pe.firstDay,1,7)||!et(pe.minimalDays,1,7)||!Array.isArray(pe.weekend)||pe.weekend.some(F=>!et(F,1,7)))throw new m("Invalid week settings");return{firstDay:pe.firstDay,minimalDays:pe.minimalDays,weekend:Array.from(pe.weekend)}}function et(pe,F,de){return di(pe)&&pe>=F&&pe<=de}function Ke(pe,F=2){let Me;return Me=pe<0?"-"+(""+-pe).padStart(F,"0"):(""+pe).padStart(F,"0"),Me}function zt(pe){if(!An(pe)&&null!==pe&&""!==pe)return parseInt(pe,10)}function ct(pe){if(!An(pe)&&null!==pe&&""!==pe)return parseFloat(pe)}function Yt(pe){if(!An(pe)&&null!==pe&&""!==pe){const F=1e3*parseFloat("0."+pe);return Math.floor(F)}}function Xe(pe,F,de=!1){const Me=10**F;return(de?Math.trunc:Math.round)(pe*Me)/Me}function Zt(pe){return pe%4==0&&(pe%100!=0||pe%400==0)}function ut(pe){return Zt(pe)?366:365}function _e(pe,F){const de=function At(pe,F){return pe-F*Math.floor(pe/F)}(F-1,12)+1;return 2===de?Zt(pe+(F-de)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][de-1]}function De(pe){let F=Date.UTC(pe.year,pe.month-1,pe.day,pe.hour,pe.minute,pe.second,pe.millisecond);return pe.year<100&&pe.year>=0&&(F=new Date(F),F.setUTCFullYear(pe.year,pe.month-1,pe.day)),+F}function ye(pe,F,de){return-hi(In(pe,1,F),de)+F-1}function ft(pe,F=4,de=1){const Me=ye(pe,F,de),rt=ye(pe+1,F,de);return(ut(pe)-Me+rt)/7}function ze(pe){return pe>99?pe:pe>lt.twoDigitCutoffYear?1900+pe:2e3+pe}function Tt(pe,F,de,Me=null){const rt=new Date(pe),Nt={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};Me&&(Nt.timeZone=Me);const Vt={timeZoneName:F,...Nt},nn=new Intl.DateTimeFormat(de,Vt).formatToParts(rt).find(an=>"timezonename"===an.type.toLowerCase());return nn?nn.value:null}function vt(pe,F){let de=parseInt(pe,10);Number.isNaN(de)&&(de=0);const Me=parseInt(F,10)||0;return 60*de+(de<0||Object.is(de,-0)?-Me:Me)}function Xt(pe){const F=Number(pe);if("boolean"==typeof pe||""===pe||Number.isNaN(F))throw new m(`Invalid unit value ${pe}`);return F}function Vn(pe,F){const de={};for(const Me in pe)if($i(pe,Me)){const rt=pe[Me];if(null==rt)continue;de[F(Me)]=Xt(rt)}return de}function ai(pe,F){const de=Math.trunc(Math.abs(pe/60)),Me=Math.trunc(Math.abs(pe%60)),rt=pe>=0?"+":"-";switch(F){case"short":return`${rt}${Ke(de,2)}:${Ke(Me,2)}`;case"narrow":return`${rt}${de}${Me>0?`:${Me}`:""}`;case"techie":return`${rt}${Ke(de,2)}${Ke(Me,2)}`;default:throw new RangeError(`Value format ${F} is out of range for property format`)}}function yi(pe){return function Hi(pe,F){return F.reduce((de,Me)=>(de[Me]=pe[Me],de),{})}(pe,["hour","minute","second","millisecond"])}const Ui=["January","February","March","April","May","June","July","August","September","October","November","December"],hr=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Wn=["J","F","M","A","M","J","J","A","S","O","N","D"];function li(pe){switch(pe){case"narrow":return[...Wn];case"short":return[...hr];case"long":return[...Ui];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const lr=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],xi=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Mr=["M","T","W","T","F","S","S"];function Ys(pe){switch(pe){case"narrow":return[...Mr];case"short":return[...xi];case"long":return[...lr];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const gs=["AM","PM"],Bs=["Before Christ","Anno Domini"],_i=["BC","AD"],js=["B","A"];function vs(pe){switch(pe){case"narrow":return[...js];case"short":return[..._i];case"long":return[...Bs];default:return null}}function ui(pe,F){let de="";for(const Me of pe)de+=Me.literal?Me.val:F(Me.val);return de}const Jo={D:P,DD:b,DDD:k,DDDD:N,t:G,tt:R,ttt:j,tttt:U,T:$,TT:ne,TTT:se,TTTT:L,f:J,ff:E,fff:me,ffff:Ae,F:te,FF:re,FFF:Ne,FFFF:xe};class $n{static create(F,de={}){return new $n(F,de)}static parseFormat(F){let de=null,Me="",rt=!1;const Nt=[];for(let Vt=0;Vt<F.length;Vt++){const nn=F.charAt(Vt);"'"===nn?(Me.length>0&&Nt.push({literal:rt||/^\s+$/.test(Me),val:Me}),de=null,Me="",rt=!rt):rt||nn===de?Me+=nn:(Me.length>0&&Nt.push({literal:/^\s+$/.test(Me),val:Me}),Me=nn,de=nn)}return Me.length>0&&Nt.push({literal:rt||/^\s+$/.test(Me),val:Me}),Nt}static macroTokenToFormatOpts(F){return Jo[F]}constructor(F,de){this.opts=de,this.loc=F,this.systemLoc=null}formatWithSystemDefault(F,de){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(F,{...this.opts,...de}).format()}dtFormatter(F,de={}){return this.loc.dtFormatter(F,{...this.opts,...de})}formatDateTime(F,de){return this.dtFormatter(F,de).format()}formatDateTimeParts(F,de){return this.dtFormatter(F,de).formatToParts()}formatInterval(F,de){return this.dtFormatter(F.start,de).dtf.formatRange(F.start.toJSDate(),F.end.toJSDate())}resolvedOptions(F,de){return this.dtFormatter(F,de).resolvedOptions()}num(F,de=0){if(this.opts.forceSimple)return Ke(F,de);const Me={...this.opts};return de>0&&(Me.padTo=de),this.loc.numberFormatter(Me).format(F)}formatDateTimeFromString(F,de){const Me="en"===this.loc.listingMode(),rt=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,Nt=(vi,Gr)=>this.loc.extract(F,vi,Gr),Vt=vi=>F.isOffsetFixed&&0===F.offset&&vi.allowZ?"Z":F.isValid?F.zone.formatOffset(F.ts,vi.format):"",an=(vi,Gr)=>Me?function vr(pe,F){return li(F)[pe.month-1]}(F,vi):Nt(Gr?{month:vi}:{month:vi,day:"numeric"},"month"),wn=(vi,Gr)=>Me?function Ls(pe,F){return Ys(F)[pe.weekday-1]}(F,vi):Nt(Gr?{weekday:vi}:{weekday:vi,month:"long",day:"numeric"},"weekday"),ni=vi=>{const Gr=$n.macroTokenToFormatOpts(vi);return Gr?this.formatWithSystemDefault(F,Gr):vi},jn=vi=>Me?function yr(pe,F){return vs(F)[pe.year<0?0:1]}(F,vi):Nt({era:vi},"era");return ui($n.parseFormat(de),vi=>{switch(vi){case"S":return this.num(F.millisecond);case"u":case"SSS":return this.num(F.millisecond,3);case"s":return this.num(F.second);case"ss":return this.num(F.second,2);case"uu":return this.num(Math.floor(F.millisecond/10),2);case"uuu":return this.num(Math.floor(F.millisecond/100));case"m":return this.num(F.minute);case"mm":return this.num(F.minute,2);case"h":return this.num(F.hour%12==0?12:F.hour%12);case"hh":return this.num(F.hour%12==0?12:F.hour%12,2);case"H":return this.num(F.hour);case"HH":return this.num(F.hour,2);case"Z":return Vt({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return Vt({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return Vt({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return F.zone.offsetName(F.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return F.zone.offsetName(F.ts,{format:"long",locale:this.loc.locale});case"z":return F.zoneName;case"a":return Me?function wr(pe){return gs[pe.hour<12?0:1]}(F):Nt({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return rt?Nt({day:"numeric"},"day"):this.num(F.day);case"dd":return rt?Nt({day:"2-digit"},"day"):this.num(F.day,2);case"c":case"E":return this.num(F.weekday);case"ccc":return wn("short",!0);case"cccc":return wn("long",!0);case"ccccc":return wn("narrow",!0);case"EEE":return wn("short",!1);case"EEEE":return wn("long",!1);case"EEEEE":return wn("narrow",!1);case"L":return rt?Nt({month:"numeric",day:"numeric"},"month"):this.num(F.month);case"LL":return rt?Nt({month:"2-digit",day:"numeric"},"month"):this.num(F.month,2);case"LLL":return an("short",!0);case"LLLL":return an("long",!0);case"LLLLL":return an("narrow",!0);case"M":return rt?Nt({month:"numeric"},"month"):this.num(F.month);case"MM":return rt?Nt({month:"2-digit"},"month"):this.num(F.month,2);case"MMM":return an("short",!1);case"MMMM":return an("long",!1);case"MMMMM":return an("narrow",!1);case"y":return rt?Nt({year:"numeric"},"year"):this.num(F.year);case"yy":return rt?Nt({year:"2-digit"},"year"):this.num(F.year.toString().slice(-2),2);case"yyyy":return rt?Nt({year:"numeric"},"year"):this.num(F.year,4);case"yyyyyy":return rt?Nt({year:"numeric"},"year"):this.num(F.year,6);case"G":return jn("short");case"GG":return jn("long");case"GGGGG":return jn("narrow");case"kk":return this.num(F.weekYear.toString().slice(-2),2);case"kkkk":return this.num(F.weekYear,4);case"W":return this.num(F.weekNumber);case"WW":return this.num(F.weekNumber,2);case"n":return this.num(F.localWeekNumber);case"nn":return this.num(F.localWeekNumber,2);case"ii":return this.num(F.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(F.localWeekYear,4);case"o":return this.num(F.ordinal);case"ooo":return this.num(F.ordinal,3);case"q":return this.num(F.quarter);case"qq":return this.num(F.quarter,2);case"X":return this.num(Math.floor(F.ts/1e3));case"x":return this.num(F.ts);default:return ni(vi)}})}formatDurationFromString(F,de){const Me=an=>{switch(an[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},Nt=$n.parseFormat(de),Vt=Nt.reduce((an,{literal:wn,val:ni})=>wn?an:an.concat(ni),[]);return ui(Nt,(an=>wn=>{const ni=Me(wn);return ni?this.num(an.get(ni),wn.length):wn})(F.shiftTo(...Vt.map(Me).filter(an=>an))))}}const Qr=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function mr(...pe){const F=pe.reduce((de,Me)=>de+Me.source,"");return RegExp(`^${F}$`)}function Sr(...pe){return F=>pe.reduce(([de,Me,rt],Nt)=>{const[Vt,nn,an]=Nt(F,rt);return[{...de,...Vt},nn||Me,an]},[{},null,1]).slice(0,2)}function Er(pe,...F){if(null==pe)return[null,null];for(const[de,Me]of F){const rt=de.exec(pe);if(rt)return Me(rt)}return[null,null]}function xr(...pe){return(F,de)=>{const Me={};let rt;for(rt=0;rt<pe.length;rt++)Me[pe[rt]]=zt(F[de+rt]);return[Me,null,de+rt]}}const Vr=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,tr=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Kn=RegExp(`${tr.source}(?:${Vr.source}?(?:\\[(${Qr.source})\\])?)?`),Wr=RegExp(`(?:T${Kn.source})?`),so=xr("weekYear","weekNumber","weekDay"),wo=xr("year","ordinal"),_r=RegExp(`${tr.source} ?(?:${Vr.source}|(${Qr.source}))?`),rs=RegExp(`(?: ${_r.source})?`);function ss(pe,F,de){const Me=pe[F];return An(Me)?de:zt(Me)}function Zr(pe,F){return[{hours:ss(pe,F,0),minutes:ss(pe,F+1,0),seconds:ss(pe,F+2,0),milliseconds:Yt(pe[F+3])},null,F+4]}function vo(pe,F){const de=!pe[F]&&!pe[F+1],Me=vt(pe[F+1],pe[F+2]);return[{},de?null:tt.instance(Me),F+3]}function nr(pe,F){return[{},pe[F]?Ye.create(pe[F]):null,F+1]}const qr=RegExp(`^T?${tr.source}$`),Bo=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Qo(pe){const[F,de,Me,rt,Nt,Vt,nn,an,wn]=pe,ni="-"===F[0],jn=an&&"-"===an[0],br=(vi,Gr=!1)=>void 0!==vi&&(Gr||vi&&ni)?-vi:vi;return[{years:br(ct(de)),months:br(ct(Me)),weeks:br(ct(rt)),days:br(ct(Nt)),hours:br(ct(Vt)),minutes:br(ct(nn)),seconds:br(ct(an),"-0"===an),milliseconds:br(Yt(wn),jn)}]}const oo={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ao(pe,F,de,Me,rt,Nt,Vt){const nn={year:2===F.length?ze(zt(F)):zt(F),month:hr.indexOf(de)+1,day:zt(Me),hour:zt(rt),minute:zt(Nt)};return Vt&&(nn.second=zt(Vt)),pe&&(nn.weekday=pe.length>3?lr.indexOf(pe)+1:xi.indexOf(pe)+1),nn}const Mo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Is(pe){const[,F,de,Me,rt,Nt,Vt,nn,an,wn,ni,jn]=pe,br=ao(F,rt,Me,de,Nt,Vt,nn);let vi;return vi=an?oo[an]:wn?0:vt(ni,jn),[br,new tt(vi)]}const sr=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Or=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,os=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function lo(pe){const[,F,de,Me,rt,Nt,Vt,nn]=pe;return[ao(F,rt,Me,de,Nt,Vt,nn),tt.utcInstance]}function Ra(pe){const[,F,de,Me,rt,Nt,Vt,nn]=pe;return[ao(F,nn,de,Me,rt,Nt,Vt),tt.utcInstance]}const Ds=mr(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Wr),ci=mr(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Wr),Kr=mr(/(\d{4})-?(\d{3})/,Wr),$s=mr(Kn),gr=Sr(function Aa(pe,F){return[{year:ss(pe,F),month:ss(pe,F+1,1),day:ss(pe,F+2,1)},null,F+3]},Zr,vo,nr),Gs=Sr(so,Zr,vo,nr),Br=Sr(wo,Zr,vo,nr),jr=Sr(Zr,vo,nr),Ue=Sr(Zr),qe=mr(/(\d{4})-(\d\d)-(\d\d)/,rs),Lt=mr(_r),Yn=Sr(Zr,vo,nr),as="Invalid Duration",_s={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Zn={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},..._s},Re=365.2425,Je=30.436875,Et={years:{quarters:4,months:12,weeks:Re/7,days:Re,hours:24*Re,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:Re/28,days:Re/4,hours:24*Re/4,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:Je/7,days:Je,hours:24*Je,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},..._s},xt=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ut=xt.slice(0).reverse();function St(pe,F,de=!1){const Me={values:de?F.values:{...pe.values,...F.values||{}},loc:pe.loc.clone(F.loc),conversionAccuracy:F.conversionAccuracy||pe.conversionAccuracy,matrix:F.matrix||pe.matrix};return new Nn(Me)}function pn(pe,F){let de=F.milliseconds??0;for(const Me of Ut.slice(1))F[Me]&&(de+=F[Me]*pe[Me].milliseconds);return de}function en(pe,F){const de=pn(pe,F)<0?-1:1;xt.reduceRight((Me,rt)=>{if(An(F[rt]))return Me;if(Me){const Vt=pe[rt][Me],nn=Math.floor(F[Me]*de/Vt);F[rt]+=nn*de,F[Me]-=nn*Vt*de}return rt},null),xt.reduce((Me,rt)=>{if(An(F[rt]))return Me;if(Me){const Nt=F[Me]%1;F[Me]-=Nt,F[rt]+=Nt*pe[Me][rt]}return rt},null)}class Nn{constructor(F){const de="longterm"===F.conversionAccuracy||!1;let Me=de?Et:Zn;F.matrix&&(Me=F.matrix),this.values=F.values,this.loc=F.loc||oe.create(),this.conversionAccuracy=de?"longterm":"casual",this.invalid=F.invalid||null,this.matrix=Me,this.isLuxonDuration=!0}static fromMillis(F,de){return Nn.fromObject({milliseconds:F},de)}static fromObject(F,de={}){if(null==F||"object"!=typeof F)throw new m("Duration.fromObject: argument expected to be an object, got "+(null===F?"null":typeof F));return new Nn({values:Vn(F,Nn.normalizeUnit),loc:oe.fromObject(de),conversionAccuracy:de.conversionAccuracy,matrix:de.matrix})}static fromDurationLike(F){if(gn(F))return Nn.fromMillis(F);if(Nn.isDuration(F))return F;if("object"==typeof F)return Nn.fromObject(F);throw new m(`Unknown duration argument ${F} of type ${typeof F}`)}static fromISO(F,de){const[Me]=function ke(pe){return Er(pe,[Bo,Qo])}(F);return Me?Nn.fromObject(Me,de):Nn.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static fromISOTime(F,de){const[Me]=function he(pe){return Er(pe,[qr,Ue])}(F);return Me?Nn.fromObject(Me,de):Nn.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static invalid(F,de=null){if(!F)throw new m("need to specify a reason the Duration is invalid");const Me=F instanceof Ct?F:new Ct(F,de);if(lt.throwOnInvalid)throw new p(Me);return new Nn({invalid:Me})}static normalizeUnit(F){const de={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[F&&F.toLowerCase()];if(!de)throw new C(F);return de}static isDuration(F){return F&&F.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(F,de={}){const Me={...de,floor:!1!==de.round&&!1!==de.floor};return this.isValid?$n.create(this.loc,Me).formatDurationFromString(this,F):as}toHuman(F={}){if(!this.isValid)return as;const de=xt.map(Me=>{const rt=this.values[Me];return An(rt)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...F,unit:Me.slice(0,-1)}).format(rt)}).filter(Me=>Me);return this.loc.listFormatter({type:"conjunction",style:F.listStyle||"narrow",...F}).format(de)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let F="P";return 0!==this.years&&(F+=this.years+"Y"),(0!==this.months||0!==this.quarters)&&(F+=this.months+3*this.quarters+"M"),0!==this.weeks&&(F+=this.weeks+"W"),0!==this.days&&(F+=this.days+"D"),(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)&&(F+="T"),0!==this.hours&&(F+=this.hours+"H"),0!==this.minutes&&(F+=this.minutes+"M"),(0!==this.seconds||0!==this.milliseconds)&&(F+=Xe(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===F&&(F+="T0S"),F}toISOTime(F={}){if(!this.isValid)return null;const de=this.toMillis();return de<0||de>=864e5?null:(F={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...F,includeOffset:!1},si.fromMillis(de,{zone:"UTC"}).toISOTime(F))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?pn(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(F){if(!this.isValid)return this;const de=Nn.fromDurationLike(F),Me={};for(const rt of xt)($i(de.values,rt)||$i(this.values,rt))&&(Me[rt]=de.get(rt)+this.get(rt));return St(this,{values:Me},!0)}minus(F){if(!this.isValid)return this;const de=Nn.fromDurationLike(F);return this.plus(de.negate())}mapUnits(F){if(!this.isValid)return this;const de={};for(const Me of Object.keys(this.values))de[Me]=Xt(F(this.values[Me],Me));return St(this,{values:de},!0)}get(F){return this[Nn.normalizeUnit(F)]}set(F){return this.isValid?St(this,{values:{...this.values,...Vn(F,Nn.normalizeUnit)}}):this}reconfigure({locale:F,numberingSystem:de,conversionAccuracy:Me,matrix:rt}={}){return St(this,{loc:this.loc.clone({locale:F,numberingSystem:de}),matrix:rt,conversionAccuracy:Me})}as(F){return this.isValid?this.shiftTo(F).get(F):NaN}normalize(){if(!this.isValid)return this;const F=this.toObject();return en(this.matrix,F),St(this,{values:F},!0)}rescale(){return this.isValid?St(this,{values:function qn(pe){const F={};for(const[de,Me]of Object.entries(pe))0!==Me&&(F[de]=Me);return F}(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...F){if(!this.isValid)return this;if(0===F.length)return this;F=F.map(Vt=>Nn.normalizeUnit(Vt));const de={},Me={},rt=this.toObject();let Nt;for(const Vt of xt)if(F.indexOf(Vt)>=0){Nt=Vt;let nn=0;for(const wn in Me)nn+=this.matrix[wn][Vt]*Me[wn],Me[wn]=0;gn(rt[Vt])&&(nn+=rt[Vt]);const an=Math.trunc(nn);de[Vt]=an,Me[Vt]=(1e3*nn-1e3*an)/1e3}else gn(rt[Vt])&&(Me[Vt]=rt[Vt]);for(const Vt in Me)0!==Me[Vt]&&(de[Nt]+=Vt===Nt?Me[Vt]:Me[Vt]/this.matrix[Nt][Vt]);return en(this.matrix,de),St(this,{values:de},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const F={};for(const de of Object.keys(this.values))F[de]=0===this.values[de]?0:-this.values[de];return St(this,{values:F},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(F){if(!this.isValid||!F.isValid||!this.loc.equals(F.loc))return!1;function de(Me,rt){return void 0===Me||0===Me?void 0===rt||0===rt:Me===rt}for(const Me of xt)if(!de(this.values[Me],F.values[Me]))return!1;return!0}}const Gn="Invalid Interval";class Ai{constructor(F){this.s=F.start,this.e=F.end,this.invalid=F.invalid||null,this.isLuxonInterval=!0}static invalid(F,de=null){if(!F)throw new m("need to specify a reason the Interval is invalid");const Me=F instanceof Ct?F:new Ct(F,de);if(lt.throwOnInvalid)throw new y(Me);return new Ai({invalid:Me})}static fromDateTimes(F,de){const Me=Xi(F),rt=Xi(de),Nt=function Lr(pe,F){return pe&&pe.isValid?F&&F.isValid?F<pe?Ai.invalid("end before start",`The end of an interval must be after its start, but you had start=${pe.toISO()} and end=${F.toISO()}`):null:Ai.invalid("missing or invalid end"):Ai.invalid("missing or invalid start")}(Me,rt);return Nt??new Ai({start:Me,end:rt})}static after(F,de){const Me=Nn.fromDurationLike(de),rt=Xi(F);return Ai.fromDateTimes(rt,rt.plus(Me))}static before(F,de){const Me=Nn.fromDurationLike(de),rt=Xi(F);return Ai.fromDateTimes(rt.minus(Me),rt)}static fromISO(F,de){const[Me,rt]=(F||"").split("/",2);if(Me&&rt){let Nt,Vt,nn,an;try{Nt=si.fromISO(Me,de),Vt=Nt.isValid}catch{Vt=!1}try{nn=si.fromISO(rt,de),an=nn.isValid}catch{an=!1}if(Vt&&an)return Ai.fromDateTimes(Nt,nn);if(Vt){const wn=Nn.fromISO(rt,de);if(wn.isValid)return Ai.after(Nt,wn)}else if(an){const wn=Nn.fromISO(Me,de);if(wn.isValid)return Ai.before(nn,wn)}}return Ai.invalid("unparsable",`the input "${F}" can't be parsed as ISO 8601`)}static isInterval(F){return F&&F.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(F="milliseconds"){return this.isValid?this.toDuration(F).get(F):NaN}count(F="milliseconds",de){if(!this.isValid)return NaN;const Me=this.start.startOf(F,de);let rt;return rt=de?.useLocaleWeeks?this.end.reconfigure({locale:Me.locale}):this.end,rt=rt.startOf(F,de),Math.floor(rt.diff(Me,F).get(F))+(rt.valueOf()!==this.end.valueOf())}hasSame(F){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,F))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(F){return!!this.isValid&&this.s>F}isBefore(F){return!!this.isValid&&this.e<=F}contains(F){return!!this.isValid&&this.s<=F&&this.e>F}set({start:F,end:de}={}){return this.isValid?Ai.fromDateTimes(F||this.s,de||this.e):this}splitAt(...F){if(!this.isValid)return[];const de=F.map(Xi).filter(Vt=>this.contains(Vt)).sort((Vt,nn)=>Vt.toMillis()-nn.toMillis()),Me=[];let{s:rt}=this,Nt=0;for(;rt<this.e;){const Vt=de[Nt]||this.e,nn=+Vt>+this.e?this.e:Vt;Me.push(Ai.fromDateTimes(rt,nn)),rt=nn,Nt+=1}return Me}splitBy(F){const de=Nn.fromDurationLike(F);if(!this.isValid||!de.isValid||0===de.as("milliseconds"))return[];let Nt,{s:Me}=this,rt=1;const Vt=[];for(;Me<this.e;){const nn=this.start.plus(de.mapUnits(an=>an*rt));Nt=+nn>+this.e?this.e:nn,Vt.push(Ai.fromDateTimes(Me,Nt)),Me=Nt,rt+=1}return Vt}divideEqually(F){return this.isValid?this.splitBy(this.length()/F).slice(0,F):[]}overlaps(F){return this.e>F.s&&this.s<F.e}abutsStart(F){return!!this.isValid&&+this.e==+F.s}abutsEnd(F){return!!this.isValid&&+F.e==+this.s}engulfs(F){return!!this.isValid&&this.s<=F.s&&this.e>=F.e}equals(F){return!(!this.isValid||!F.isValid)&&this.s.equals(F.s)&&this.e.equals(F.e)}intersection(F){if(!this.isValid)return this;const de=this.s>F.s?this.s:F.s,Me=this.e<F.e?this.e:F.e;return de>=Me?null:Ai.fromDateTimes(de,Me)}union(F){return this.isValid?Ai.fromDateTimes(this.s<F.s?this.s:F.s,this.e>F.e?this.e:F.e):this}static merge(F){const[de,Me]=F.sort((rt,Nt)=>rt.s-Nt.s).reduce(([rt,Nt],Vt)=>Nt?Nt.overlaps(Vt)||Nt.abutsStart(Vt)?[rt,Nt.union(Vt)]:[rt.concat([Nt]),Vt]:[rt,Vt],[[],null]);return Me&&de.push(Me),de}static xor(F){let de=null,Me=0;const rt=[],Nt=F.map(an=>[{time:an.s,type:"s"},{time:an.e,type:"e"}]),nn=Array.prototype.concat(...Nt).sort((an,wn)=>an.time-wn.time);for(const an of nn)Me+="s"===an.type?1:-1,1===Me?de=an.time:(de&&+de!=+an.time&&rt.push(Ai.fromDateTimes(de,an.time)),de=null);return Ai.merge(rt)}difference(...F){return Ai.xor([this].concat(F)).map(de=>this.intersection(de)).filter(de=>de&&!de.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Gn}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(F=P,de={}){return this.isValid?$n.create(this.s.loc.clone(de),F).formatInterval(this):Gn}toISO(F){return this.isValid?`${this.s.toISO(F)}/${this.e.toISO(F)}`:Gn}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Gn}toISOTime(F){return this.isValid?`${this.s.toISOTime(F)}/${this.e.toISOTime(F)}`:Gn}toFormat(F,{separator:de=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(F)}${de}${this.e.toFormat(F)}`:Gn}toDuration(F,de){return this.isValid?this.e.diff(this.s,F,de):Nn.invalid(this.invalidReason)}mapEndpoints(F){return Ai.fromDateTimes(F(this.s),F(this.e))}}class As{static hasDST(F=lt.defaultZone){const de=si.now().setZone(F).set({month:12});return!F.isUniversal&&de.offset!==de.set({month:6}).offset}static isValidIANAZone(F){return Ye.isValidZone(F)}static normalizeZone(F){return Bt(F,lt.defaultZone)}static getStartOfWeek({locale:F=null,locObj:de=null}={}){return(de||oe.create(F)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:F=null,locObj:de=null}={}){return(de||oe.create(F)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:F=null,locObj:de=null}={}){return(de||oe.create(F)).getWeekendDays().slice()}static months(F="long",{locale:de=null,numberingSystem:Me=null,locObj:rt=null,outputCalendar:Nt="gregory"}={}){return(rt||oe.create(de,Me,Nt)).months(F)}static monthsFormat(F="long",{locale:de=null,numberingSystem:Me=null,locObj:rt=null,outputCalendar:Nt="gregory"}={}){return(rt||oe.create(de,Me,Nt)).months(F,!0)}static weekdays(F="long",{locale:de=null,numberingSystem:Me=null,locObj:rt=null}={}){return(rt||oe.create(de,Me,null)).weekdays(F)}static weekdaysFormat(F="long",{locale:de=null,numberingSystem:Me=null,locObj:rt=null}={}){return(rt||oe.create(de,Me,null)).weekdays(F,!0)}static meridiems({locale:F=null}={}){return oe.create(F).meridiems()}static eras(F="short",{locale:de=null}={}){return oe.create(de,null,"gregory").eras(F)}static features(){return{relative:Pi(),localeWeek:Qn()}}}function da(pe,F){const de=rt=>rt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),Me=de(F)-de(pe);return Math.floor(Nn.fromMillis(Me).as("days"))}const ki={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},zn={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},es=ki.hanidec.replace(/[\[|\]]/g,"").split("");function Tr({numberingSystem:pe},F=""){return new RegExp(`${ki[pe||"latn"]}${F}`)}function Gi(pe,F=(de=>de)){return{regex:pe,deser:([de])=>F(function Rs(pe){let F=parseInt(pe,10);if(isNaN(F)){F="";for(let de=0;de<pe.length;de++){const Me=pe.charCodeAt(de);if(-1!==pe[de].search(ki.hanidec))F+=es.indexOf(pe[de]);else for(const rt in zn){const[Nt,Vt]=zn[rt];Me>=Nt&&Me<=Vt&&(F+=Me-Nt)}}return parseInt(F,10)}return F}(de))}}const Ma="[ \xa0]",Cn=new RegExp(Ma,"g");function Ms(pe){return pe.replace(/\./g,"\\.?").replace(Cn,Ma)}function qo(pe){return pe.replace(/\./g,"").replace(Cn," ").toLowerCase()}function Us(pe,F){return null===pe?null:{regex:RegExp(pe.map(Ms).join("|")),deser:([de])=>pe.findIndex(Me=>qo(de)===qo(Me))+F}}function xa(pe,F){return{regex:pe,deser:([,de,Me])=>vt(de,Me),groups:F}}function ea(pe){return{regex:pe,deser:([F])=>F}}function Vl(pe){return pe.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}const fl={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let So=null;function Wa(pe,F){return Array.prototype.concat(...pe.map(de=>function ka(pe,F){if(pe.literal)return pe;const Me=Ir($n.macroTokenToFormatOpts(pe.val),F);return null==Me||Me.includes(void 0)?pe:Me}(de,F)))}function Ka(pe,F,de){const Me=Wa($n.parseFormat(de),pe),rt=Me.map(Vt=>function ta(pe,F){const de=Tr(F),Me=Tr(F,"{2}"),rt=Tr(F,"{3}"),Nt=Tr(F,"{4}"),Vt=Tr(F,"{6}"),nn=Tr(F,"{1,2}"),an=Tr(F,"{1,3}"),wn=Tr(F,"{1,6}"),ni=Tr(F,"{1,9}"),jn=Tr(F,"{2,4}"),br=Tr(F,"{4,6}"),vi=ws=>({regex:RegExp(Vl(ws.val)),deser:([Wi])=>Wi,literal:!0}),Dr=(ws=>{if(pe.literal)return vi(ws);switch(ws.val){case"G":return Us(F.eras("short"),0);case"GG":return Us(F.eras("long"),0);case"y":return Gi(wn);case"yy":case"kk":return Gi(jn,ze);case"yyyy":case"kkkk":return Gi(Nt);case"yyyyy":return Gi(br);case"yyyyyy":return Gi(Vt);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Gi(nn);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Gi(Me);case"MMM":return Us(F.months("short",!0),1);case"MMMM":return Us(F.months("long",!0),1);case"LLL":return Us(F.months("short",!1),1);case"LLLL":return Us(F.months("long",!1),1);case"o":case"S":return Gi(an);case"ooo":case"SSS":return Gi(rt);case"u":return ea(ni);case"uu":return ea(nn);case"uuu":case"E":case"c":return Gi(de);case"a":return Us(F.meridiems(),0);case"EEE":return Us(F.weekdays("short",!1),1);case"EEEE":return Us(F.weekdays("long",!1),1);case"ccc":return Us(F.weekdays("short",!0),1);case"cccc":return Us(F.weekdays("long",!0),1);case"Z":case"ZZ":return xa(new RegExp(`([+-]${nn.source})(?::(${Me.source}))?`),2);case"ZZZ":return xa(new RegExp(`([+-]${nn.source})(${Me.source})?`),2);case"z":return ea(/[a-z_+-/]{1,256}?/i);case" ":return ea(/[^\S\n\r]/);default:return vi(ws)}})(pe)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return Dr.token=pe,Dr}(Vt,pe)),Nt=rt.find(Vt=>Vt.invalidReason);if(Nt)return{input:F,tokens:Me,invalidReason:Nt.invalidReason};{const[Vt,nn]=function Ga(pe){return[`^${pe.map(de=>de.regex).reduce((de,Me)=>`${de}(${Me.source})`,"")}$`,pe]}(rt),an=RegExp(Vt,"i"),[wn,ni]=function jl(pe,F,de){const Me=pe.match(F);if(Me){const rt={};let Nt=1;for(const Vt in de)if($i(de,Vt)){const nn=de[Vt],an=nn.groups?nn.groups+1:1;!nn.literal&&nn.token&&(rt[nn.token.val[0]]=nn.deser(Me.slice(Nt,Nt+an))),Nt+=an}return[Me,rt]}return[Me,{}]}(F,an,nn),[jn,br,vi]=ni?function Lo(pe){let Me,de=null;return An(pe.z)||(de=Ye.create(pe.z)),An(pe.Z)||(de||(de=new tt(pe.Z)),Me=pe.Z),An(pe.q)||(pe.M=3*(pe.q-1)+1),An(pe.h)||(pe.h<12&&1===pe.a?pe.h+=12:12===pe.h&&0===pe.a&&(pe.h=0)),0===pe.G&&pe.y&&(pe.y=-pe.y),An(pe.u)||(pe.S=Yt(pe.u)),[Object.keys(pe).reduce((Nt,Vt)=>{const nn=(Nt=>{switch(Nt){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(Vt);return nn&&(Nt[nn]=pe[Vt]),Nt},{}),de,Me]}(ni):[null,null,void 0];if($i(ni,"a")&&$i(ni,"H"))throw new w("Can't include meridiem when specifying 24-hour format");return{input:F,tokens:Me,regex:an,rawMatches:wn,matches:ni,result:jn,zone:br,specificOffset:vi}}}function Ir(pe,F){if(!pe)return null;const Me=$n.create(F,pe).dtFormatter(function Ha(){return So||(So=si.fromMillis(1555555555555)),So}()),rt=Me.formatToParts(),Nt=Me.resolvedOptions();return rt.map(Vt=>function fs(pe,F,de){const{type:Me,value:rt}=pe;if("literal"===Me){const an=/^\s+$/.test(rt);return{literal:!an,val:an?" ":rt}}let Vt=Me;"hour"===Me&&(Vt=null!=F.hour12?F.hour12?"hour12":"hour24":null!=F.hourCycle?"h11"===F.hourCycle||"h12"===F.hourCycle?"hour12":"hour24":de.hour12?"hour12":"hour24");let nn=fl[Vt];if("object"==typeof nn&&(nn=nn[F[Me]]),nn)return{literal:!1,val:nn}}(Vt,pe,Nt))}const yo="Invalid DateTime",xs=864e13;function Js(pe){return new Ct("unsupported zone",`the zone "${pe.name}" is not supported`)}function Uo(pe){return null===pe.weekData&&(pe.weekData=Hn(pe.c)),pe.weekData}function Eo(pe){return null===pe.localWeekData&&(pe.localWeekData=Hn(pe.c,pe.loc.getMinDaysInFirstWeek(),pe.loc.getStartOfWeek())),pe.localWeekData}function Yr(pe,F){const de={ts:pe.ts,zone:pe.zone,c:pe.c,o:pe.o,loc:pe.loc,invalid:pe.invalid};return new si({...de,...F,old:de})}function ps(pe,F,de){let Me=pe-60*F*1e3;const rt=de.offset(Me);if(F===rt)return[Me,F];Me-=60*(rt-F)*1e3;const Nt=de.offset(Me);return rt===Nt?[Me,rt]:[pe-60*Math.min(rt,Nt)*1e3,Math.max(rt,Nt)]}function za(pe,F){const de=new Date(pe+=60*F*1e3);return{year:de.getUTCFullYear(),month:de.getUTCMonth()+1,day:de.getUTCDate(),hour:de.getUTCHours(),minute:de.getUTCMinutes(),second:de.getUTCSeconds(),millisecond:de.getUTCMilliseconds()}}function ha(pe,F,de){return ps(De(pe),F,de)}function co(pe,F){const de=pe.o,Me=pe.c.year+Math.trunc(F.years),rt=pe.c.month+Math.trunc(F.months)+3*Math.trunc(F.quarters),Nt={...pe.c,year:Me,month:rt,day:Math.min(pe.c.day,_e(Me,rt))+Math.trunc(F.days)+7*Math.trunc(F.weeks)},Vt=Nn.fromObject({years:F.years-Math.trunc(F.years),quarters:F.quarters-Math.trunc(F.quarters),months:F.months-Math.trunc(F.months),weeks:F.weeks-Math.trunc(F.weeks),days:F.days-Math.trunc(F.days),hours:F.hours,minutes:F.minutes,seconds:F.seconds,milliseconds:F.milliseconds}).as("milliseconds"),nn=De(Nt);let[an,wn]=ps(nn,de,pe.zone);return 0!==Vt&&(an+=Vt,wn=pe.zone.offset(an)),{ts:an,o:wn}}function ks(pe,F,de,Me,rt,Nt){const{setZone:Vt,zone:nn}=de;if(pe&&0!==Object.keys(pe).length||F){const an=F||nn,wn=si.fromObject(pe,{...de,zone:an,specificOffset:Nt});return Vt?wn:wn.setZone(nn)}return si.invalid(new Ct("unparsable",`the input "${rt}" can't be parsed as ${Me}`))}function Ci(pe,F,de=!0){return pe.isValid?$n.create(oe.create("en-US"),{allowZ:de,forceSimple:!0}).formatDateTimeFromString(pe,F):null}function Cs(pe,F){const de=pe.c.year>9999||pe.c.year<0;let Me="";return de&&pe.c.year>=0&&(Me+="+"),Me+=Ke(pe.c.year,de?6:4),F?(Me+="-",Me+=Ke(pe.c.month),Me+="-",Me+=Ke(pe.c.day)):(Me+=Ke(pe.c.month),Me+=Ke(pe.c.day)),Me}function ee(pe,F,de,Me,rt,Nt){let Vt=Ke(pe.c.hour);return F?(Vt+=":",Vt+=Ke(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!de)&&(Vt+=":")):Vt+=Ke(pe.c.minute),(0!==pe.c.millisecond||0!==pe.c.second||!de)&&(Vt+=Ke(pe.c.second),(0!==pe.c.millisecond||!Me)&&(Vt+=".",Vt+=Ke(pe.c.millisecond,3))),rt&&(pe.isOffsetFixed&&0===pe.offset&&!Nt?Vt+="Z":pe.o<0?(Vt+="-",Vt+=Ke(Math.trunc(-pe.o/60)),Vt+=":",Vt+=Ke(Math.trunc(-pe.o%60))):(Vt+="+",Vt+=Ke(Math.trunc(pe.o/60)),Vt+=":",Vt+=Ke(Math.trunc(pe.o%60)))),Nt&&(Vt+="["+pe.zone.ianaName+"]"),Vt}const We={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ue={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Fe={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Rt=["year","month","day","hour","minute","second","millisecond"],mn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],En=["year","ordinal","hour","minute","second","millisecond"];function fr(pe){switch(pe.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function ti(pe){const F={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[pe.toLowerCase()];if(!F)throw new C(pe);return F}(pe)}}function or(pe,F){const de=Bt(F.zone,lt.defaultZone),Me=oe.fromObject(F),rt=lt.now();let Nt,Vt;if(An(pe.year))Nt=rt;else{for(const wn of Rt)An(pe[wn])&&(pe[wn]=We[wn]);const nn=yn(pe)||Jn(pe);if(nn)return si.invalid(nn);const an=de.offset(rt);[Nt,Vt]=ha(pe,an,de)}return new si({ts:Nt,zone:de,loc:Me,o:Vt})}function Yi(pe,F,de){const Me=!!An(de.round)||de.round,rt=(Vt,nn)=>(Vt=Xe(Vt,Me||de.calendary?0:2,!0),F.loc.clone(de).relFormatter(de).format(Vt,nn)),Nt=Vt=>de.calendary?F.hasSame(pe,Vt)?0:F.startOf(Vt).diff(pe.startOf(Vt),Vt).get(Vt):F.diff(pe,Vt).get(Vt);if(de.unit)return rt(Nt(de.unit),de.unit);for(const Vt of de.units){const nn=Nt(Vt);if(Math.abs(nn)>=1)return rt(nn,Vt)}return rt(pe>F?-0:0,de.units[de.units.length-1])}function Vi(pe){let de,F={};return pe.length>0&&"object"==typeof pe[pe.length-1]?(F=pe[pe.length-1],de=Array.from(pe).slice(0,pe.length-1)):de=Array.from(pe),[F,de]}class si{constructor(F){const de=F.zone||lt.defaultZone;let Me=F.invalid||(Number.isNaN(F.ts)?new Ct("invalid input"):null)||(de.isValid?null:Js(de));this.ts=An(F.ts)?lt.now():F.ts;let rt=null,Nt=null;if(!Me)if(F.old&&F.old.ts===this.ts&&F.old.zone.equals(de))[rt,Nt]=[F.old.c,F.old.o];else{const nn=de.offset(this.ts);rt=za(this.ts,nn),Me=Number.isNaN(rt.year)?new Ct("invalid input"):null,rt=Me?null:rt,Nt=Me?null:nn}this._zone=de,this.loc=F.loc||oe.create(),this.invalid=Me,this.weekData=null,this.localWeekData=null,this.c=rt,this.o=Nt,this.isLuxonDateTime=!0}static now(){return new si({})}static local(){const[F,de]=Vi(arguments),[Me,rt,Nt,Vt,nn,an,wn]=de;return or({year:Me,month:rt,day:Nt,hour:Vt,minute:nn,second:an,millisecond:wn},F)}static utc(){const[F,de]=Vi(arguments),[Me,rt,Nt,Vt,nn,an,wn]=de;return F.zone=tt.utcInstance,or({year:Me,month:rt,day:Nt,hour:Vt,minute:nn,second:an,millisecond:wn},F)}static fromJSDate(F,de={}){const Me=function ii(pe){return"[object Date]"===Object.prototype.toString.call(pe)}(F)?F.valueOf():NaN;if(Number.isNaN(Me))return si.invalid("invalid input");const rt=Bt(de.zone,lt.defaultZone);return rt.isValid?new si({ts:Me,zone:rt,loc:oe.fromObject(de)}):si.invalid(Js(rt))}static fromMillis(F,de={}){if(gn(F))return F<-xs||F>xs?si.invalid("Timestamp out of range"):new si({ts:F,zone:Bt(de.zone,lt.defaultZone),loc:oe.fromObject(de)});throw new m(`fromMillis requires a numerical input, but received a ${typeof F} with value ${F}`)}static fromSeconds(F,de={}){if(gn(F))return new si({ts:1e3*F,zone:Bt(de.zone,lt.defaultZone),loc:oe.fromObject(de)});throw new m("fromSeconds requires a numerical input")}static fromObject(F,de={}){F=F||{};const Me=Bt(de.zone,lt.defaultZone);if(!Me.isValid)return si.invalid(Js(Me));const rt=oe.fromObject(de),Nt=Vn(F,fr),{minDaysInFirstWeek:Vt,startOfWeek:nn}=Gt(Nt,rt),an=lt.now(),wn=An(de.specificOffset)?Me.offset(an):de.specificOffset,ni=!An(Nt.ordinal),jn=!An(Nt.year),br=!An(Nt.month)||!An(Nt.day),vi=jn||br,Gr=Nt.weekYear||Nt.weekNumber;if((vi||ni)&&Gr)throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(br&&ni)throw new w("Can't mix ordinal dates with month/day");const Dr=Gr||Nt.weekday&&!vi;let ws,Wi,ls=za(an,wn);Dr?(ws=mn,Wi=ue,ls=Hn(ls,Vt,nn)):ni?(ws=En,Wi=Fe,ls=ht(ls)):(ws=Rt,Wi=We);let ko=!1;for(const na of ws)An(Nt[na])?Nt[na]=ko?Wi[na]:ls[na]:ko=!0;const fa=Dr?function sn(pe,F=4,de=1){const Me=di(pe.weekYear),rt=et(pe.weekNumber,1,ft(pe.weekYear,F,de)),Nt=et(pe.weekday,1,7);return Me?rt?!Nt&&tn("weekday",pe.weekday):tn("week",pe.weekNumber):tn("weekYear",pe.weekYear)}(Nt,Vt,nn):ni?function bn(pe){const F=di(pe.year),de=et(pe.ordinal,1,ut(pe.year));return F?!de&&tn("ordinal",pe.ordinal):tn("year",pe.year)}(Nt):yn(Nt),_o=fa||Jn(Nt);if(_o)return si.invalid(_o);const ts=Dr?Mt(Nt,Vt,nn):ni?kt(Nt):Nt,[Vo,Ri]=ha(ts,wn,Me),Na=new si({ts:Vo,zone:Me,o:Ri,loc:rt});return Nt.weekday&&vi&&F.weekday!==Na.weekday?si.invalid("mismatched weekday",`you can't specify both a weekday of ${Nt.weekday} and a date of ${Na.toISO()}`):Na}static fromISO(F,de={}){const[Me,rt]=function zr(pe){return Er(pe,[Ds,gr],[ci,Gs],[Kr,Br],[$s,jr])}(F);return ks(Me,rt,de,"ISO 8601",F)}static fromRFC2822(F,de={}){const[Me,rt]=function vn(pe){return Er(function Nr(pe){return pe.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(pe),[Mo,Is])}(F);return ks(Me,rt,de,"RFC 2822",F)}static fromHTTP(F,de={}){const[Me,rt]=function ys(pe){return Er(pe,[sr,lo],[Or,lo],[os,Ra])}(F);return ks(Me,rt,de,"HTTP",de)}static fromFormat(F,de,Me={}){if(An(F)||An(de))throw new m("fromFormat requires an input string and a format");const{locale:rt=null,numberingSystem:Nt=null}=Me,Vt=oe.fromOpts({locale:rt,numberingSystem:Nt,defaultToEN:!0}),[nn,an,wn,ni]=function bs(pe,F,de){const{result:Me,zone:rt,specificOffset:Nt,invalidReason:Vt}=Ka(pe,F,de);return[Me,rt,Nt,Vt]}(Vt,F,de);return ni?si.invalid(ni):ks(nn,an,Me,`format ${de}`,F,wn)}static fromString(F,de,Me={}){return si.fromFormat(F,de,Me)}static fromSQL(F,de={}){const[Me,rt]=function Di(pe){return Er(pe,[qe,gr],[Lt,Yn])}(F);return ks(Me,rt,de,"SQL",F)}static invalid(F,de=null){if(!F)throw new m("need to specify a reason the DateTime is invalid");const Me=F instanceof Ct?F:new Ct(F,de);if(lt.throwOnInvalid)throw new e(Me);return new si({invalid:Me})}static isDateTime(F){return F&&F.isLuxonDateTime||!1}static parseFormatForOpts(F,de={}){const Me=Ir(F,oe.fromObject(de));return Me?Me.map(rt=>rt?rt.val:null).join(""):null}static expandFormat(F,de={}){return Wa($n.parseFormat(F),oe.fromObject(de)).map(rt=>rt.val).join("")}get(F){return this[F]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Uo(this).weekYear:NaN}get weekNumber(){return this.isValid?Uo(this).weekNumber:NaN}get weekday(){return this.isValid?Uo(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Eo(this).weekday:NaN}get localWeekNumber(){return this.isValid?Eo(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Eo(this).weekYear:NaN}get ordinal(){return this.isValid?ht(this.c).ordinal:NaN}get monthShort(){return this.isValid?As.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?As.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?As.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?As.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const F=864e5,de=6e4,Me=De(this.c),rt=this.zone.offset(Me-F),Nt=this.zone.offset(Me+F),Vt=this.zone.offset(Me-rt*de),nn=this.zone.offset(Me-Nt*de);if(Vt===nn)return[this];const an=Me-Vt*de,wn=Me-nn*de,ni=za(an,Vt),jn=za(wn,nn);return ni.hour===jn.hour&&ni.minute===jn.minute&&ni.second===jn.second&&ni.millisecond===jn.millisecond?[Yr(this,{ts:an}),Yr(this,{ts:wn})]:[this]}get isInLeapYear(){return Zt(this.year)}get daysInMonth(){return _e(this.year,this.month)}get daysInYear(){return this.isValid?ut(this.year):NaN}get weeksInWeekYear(){return this.isValid?ft(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?ft(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(F={}){const{locale:de,numberingSystem:Me,calendar:rt}=$n.create(this.loc.clone(F),F).resolvedOptions(this);return{locale:de,numberingSystem:Me,outputCalendar:rt}}toUTC(F=0,de={}){return this.setZone(tt.instance(F),de)}toLocal(){return this.setZone(lt.defaultZone)}setZone(F,{keepLocalTime:de=!1,keepCalendarTime:Me=!1}={}){if((F=Bt(F,lt.defaultZone)).equals(this.zone))return this;if(F.isValid){let rt=this.ts;if(de||Me){const Nt=F.offset(this.ts),Vt=this.toObject();[rt]=ha(Vt,Nt,F)}return Yr(this,{ts:rt,zone:F})}return si.invalid(Js(F))}reconfigure({locale:F,numberingSystem:de,outputCalendar:Me}={}){return Yr(this,{loc:this.loc.clone({locale:F,numberingSystem:de,outputCalendar:Me})})}setLocale(F){return this.reconfigure({locale:F})}set(F){if(!this.isValid)return this;const de=Vn(F,fr),{minDaysInFirstWeek:Me,startOfWeek:rt}=Gt(de,this.loc),Nt=!An(de.weekYear)||!An(de.weekNumber)||!An(de.weekday),Vt=!An(de.ordinal),nn=!An(de.year),an=!An(de.month)||!An(de.day);if((nn||an||Vt)&&(de.weekYear||de.weekNumber))throw new w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(an&&Vt)throw new w("Can't mix ordinal dates with month/day");let jn;Nt?jn=Mt({...Hn(this.c,Me,rt),...de},Me,rt):An(de.ordinal)?(jn={...this.toObject(),...de},An(de.day)&&(jn.day=Math.min(_e(jn.year,jn.month),jn.day))):jn=kt({...ht(this.c),...de});const[br,vi]=ha(jn,this.o,this.zone);return Yr(this,{ts:br,o:vi})}plus(F){return this.isValid?Yr(this,co(this,Nn.fromDurationLike(F))):this}minus(F){return this.isValid?Yr(this,co(this,Nn.fromDurationLike(F).negate())):this}startOf(F,{useLocaleWeeks:de=!1}={}){if(!this.isValid)return this;const Me={},rt=Nn.normalizeUnit(F);switch(rt){case"years":Me.month=1;case"quarters":case"months":Me.day=1;case"weeks":case"days":Me.hour=0;case"hours":Me.minute=0;case"minutes":Me.second=0;case"seconds":Me.millisecond=0}if("weeks"===rt)if(de){const Nt=this.loc.getStartOfWeek(),{weekday:Vt}=this;Vt<Nt&&(Me.weekNumber=this.weekNumber-1),Me.weekday=Nt}else Me.weekday=1;if("quarters"===rt){const Nt=Math.ceil(this.month/3);Me.month=3*(Nt-1)+1}return this.set(Me)}endOf(F,de){return this.isValid?this.plus({[F]:1}).startOf(F,de).minus(1):this}toFormat(F,de={}){return this.isValid?$n.create(this.loc.redefaultToEN(de)).formatDateTimeFromString(this,F):yo}toLocaleString(F=P,de={}){return this.isValid?$n.create(this.loc.clone(de),F).formatDateTime(this):yo}toLocaleParts(F={}){return this.isValid?$n.create(this.loc.clone(F),F).formatDateTimeParts(this):[]}toISO({format:F="extended",suppressSeconds:de=!1,suppressMilliseconds:Me=!1,includeOffset:rt=!0,extendedZone:Nt=!1}={}){if(!this.isValid)return null;const Vt="extended"===F;let nn=Cs(this,Vt);return nn+="T",nn+=ee(this,Vt,de,Me,rt,Nt),nn}toISODate({format:F="extended"}={}){return this.isValid?Cs(this,"extended"===F):null}toISOWeekDate(){return Ci(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:F=!1,suppressSeconds:de=!1,includeOffset:Me=!0,includePrefix:rt=!1,extendedZone:Nt=!1,format:Vt="extended"}={}){return this.isValid?(rt?"T":"")+ee(this,"extended"===Vt,de,F,Me,Nt):null}toRFC2822(){return Ci(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ci(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cs(this,!0):null}toSQLTime({includeOffset:F=!0,includeZone:de=!1,includeOffsetSpace:Me=!0}={}){let rt="HH:mm:ss.SSS";return(de||F)&&(Me&&(rt+=" "),de?rt+="z":F&&(rt+="ZZ")),Ci(this,rt,!0)}toSQL(F={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(F)}`:null}toString(){return this.isValid?this.toISO():yo}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(F={}){if(!this.isValid)return{};const de={...this.c};return F.includeConfig&&(de.outputCalendar=this.outputCalendar,de.numberingSystem=this.loc.numberingSystem,de.locale=this.loc.locale),de}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(F,de="milliseconds",Me={}){if(!this.isValid||!F.isValid)return Nn.invalid("created by diffing an invalid DateTime");const rt={locale:this.locale,numberingSystem:this.numberingSystem,...Me},Nt=function Ti(pe){return Array.isArray(pe)?pe:[pe]}(de).map(Nn.normalizeUnit),Vt=F.valueOf()>this.valueOf(),wn=function $r(pe,F,de,Me){let[rt,Nt,Vt,nn]=function Zo(pe,F,de){const Me=[["years",(an,wn)=>wn.year-an.year],["quarters",(an,wn)=>wn.quarter-an.quarter+4*(wn.year-an.year)],["months",(an,wn)=>wn.month-an.month+12*(wn.year-an.year)],["weeks",(an,wn)=>{const ni=da(an,wn);return(ni-ni%7)/7}],["days",da]],rt={},Nt=pe;let Vt,nn;for(const[an,wn]of Me)de.indexOf(an)>=0&&(Vt=an,rt[an]=wn(pe,F),nn=Nt.plus(rt),nn>F?(rt[an]--,(pe=Nt.plus(rt))>F&&(nn=pe,rt[an]--,pe=Nt.plus(rt))):pe=nn);return[pe,rt,nn,Vt]}(pe,F,de);const an=F-rt,wn=de.filter(jn=>["hours","minutes","seconds","milliseconds"].indexOf(jn)>=0);0===wn.length&&(Vt<F&&(Vt=rt.plus({[nn]:1})),Vt!==rt&&(Nt[nn]=(Nt[nn]||0)+an/(Vt-rt)));const ni=Nn.fromObject(Nt,Me);return wn.length>0?Nn.fromMillis(an,Me).shiftTo(...wn).plus(ni):ni}(Vt?this:F,Vt?F:this,Nt,rt);return Vt?wn.negate():wn}diffNow(F="milliseconds",de={}){return this.diff(si.now(),F,de)}until(F){return this.isValid?Ai.fromDateTimes(this,F):this}hasSame(F,de,Me){if(!this.isValid)return!1;const rt=F.valueOf(),Nt=this.setZone(F.zone,{keepLocalTime:!0});return Nt.startOf(de,Me)<=rt&&rt<=Nt.endOf(de,Me)}equals(F){return this.isValid&&F.isValid&&this.valueOf()===F.valueOf()&&this.zone.equals(F.zone)&&this.loc.equals(F.loc)}toRelative(F={}){if(!this.isValid)return null;const de=F.base||si.fromObject({},{zone:this.zone}),Me=F.padding?this<de?-F.padding:F.padding:0;let rt=["years","months","days","hours","minutes","seconds"],Nt=F.unit;return Array.isArray(F.unit)&&(rt=F.unit,Nt=void 0),Yi(de,this.plus(Me),{...F,numeric:"always",units:rt,unit:Nt})}toRelativeCalendar(F={}){return this.isValid?Yi(F.base||si.fromObject({},{zone:this.zone}),this,{...F,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...F){if(!F.every(si.isDateTime))throw new m("min requires all arguments be DateTimes");return gi(F,de=>de.valueOf(),Math.min)}static max(...F){if(!F.every(si.isDateTime))throw new m("max requires all arguments be DateTimes");return gi(F,de=>de.valueOf(),Math.max)}static fromFormatExplain(F,de,Me={}){const{locale:rt=null,numberingSystem:Nt=null}=Me;return Ka(oe.fromOpts({locale:rt,numberingSystem:Nt,defaultToEN:!0}),F,de)}static fromStringExplain(F,de,Me={}){return si.fromFormatExplain(F,de,Me)}static get DATE_SHORT(){return P}static get DATE_MED(){return b}static get DATE_MED_WITH_WEEKDAY(){return M}static get DATE_FULL(){return k}static get DATE_HUGE(){return N}static get TIME_SIMPLE(){return G}static get TIME_WITH_SECONDS(){return R}static get TIME_WITH_SHORT_OFFSET(){return j}static get TIME_WITH_LONG_OFFSET(){return U}static get TIME_24_SIMPLE(){return $}static get TIME_24_WITH_SECONDS(){return ne}static get TIME_24_WITH_SHORT_OFFSET(){return se}static get TIME_24_WITH_LONG_OFFSET(){return L}static get DATETIME_SHORT(){return J}static get DATETIME_SHORT_WITH_SECONDS(){return te}static get DATETIME_MED(){return E}static get DATETIME_MED_WITH_SECONDS(){return re}static get DATETIME_MED_WITH_WEEKDAY(){return K}static get DATETIME_FULL(){return me}static get DATETIME_FULL_WITH_SECONDS(){return Ne}static get DATETIME_HUGE(){return Ae}static get DATETIME_HUGE_WITH_SECONDS(){return xe}}function Xi(pe){if(si.isDateTime(pe))return pe;if(pe&&pe.valueOf&&gn(pe.valueOf()))return si.fromJSDate(pe);if(pe&&"object"==typeof pe)return si.fromObject(pe);throw new m(`Unknown datetime argument: ${pe}, of type ${typeof pe}`)}},4304:(nt,fe,h)=>{"use strict";h.d(fe,{h6:()=>G});var i=h(4438),e=h(177),y=h(9969);const p="400ms cubic-bezier(0.4,0.0,0.2,1)";(0,y.iF)({height:0,visibility:"hidden"}),(0,y.i0)(p,(0,y.iF)({height:"*",visibility:"visible"})),(0,y.iF)({height:"*",visibility:"visible"}),(0,y.i0)(p,(0,y.iF)({height:0,visibility:"hidden"}));let d=(()=>{class R{static forRoot(){return{ngModule:R,providers:[]}}static{this.\u0275fac=function($){return new($||R)}}static{this.\u0275mod=i.$C({type:R})}static{this.\u0275inj=i.G2t({})}}return R})(),G=(()=>{class R{static forRoot(){return{ngModule:R,providers:[]}}static{this.\u0275fac=function($){return new($||R)}}static{this.\u0275mod=i.$C({type:R})}static{this.\u0275inj=i.G2t({imports:[e.MD,d]})}}return R})()},6932:(nt,fe,h)=>{"use strict";h.d(fe,{Li:()=>d});var i=h(4438),e=h(2806),y=h(2865),p=h(177);class C{constructor(I,O,P){this.nodes=I,this.viewRef=O,this.componentRef=P}}class m{constructor(I,O,P,b,M,k,N,G,R){this._viewContainerRef=I,this._renderer=O,this._elementRef=P,this._injector=b,this._componentFactoryResolver=M,this._ngZone=k,this._applicationRef=N,this._posService=G,this._document=R,this.onBeforeShow=new i.bkB,this.onShown=new i.bkB,this.onBeforeHide=new i.bkB,this.onHidden=new i.bkB,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(I){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(I),this}to(I){return this.container=I||this.container,this}position(I){return I?(this.attachment=I.attachment||this.attachment,this._elementRef=I.target||this._elementRef,this):this}provide(I){return this._providers.push(I),this}show(I={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(I.content,I.context,I.initialState);const O=i.zZn.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(O,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,I),this.container instanceof i.aKT&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const P=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!P)return;P.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(I.id?{id:I.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(I){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const O=this._componentRef.location.nativeElement;return O.parentNode?.removeChild(O),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(I?{id:I}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(I){this.triggers=I.triggers||this.triggers,this._listenOpts.outsideClick=I.outsideClick,this._listenOpts.outsideEsc=I.outsideEsc,I.target=I.target||this._elementRef?.nativeElement;const O=this._listenOpts.hide=()=>I.hide?I.hide():void this.hide(),P=this._listenOpts.show=M=>{I.show?I.show(M):this.show(M),M()};return this._renderer&&(this._unregisterListenersFn=(0,e.GL)(this._renderer,{target:I.target,triggers:I.triggers,show:P,hide:O,toggle:M=>{this.isShown?O():P(M)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(I,O){return I&&O&&(this._inlineViewRef=I.createEmbeddedView(O)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const I=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=(0,e.Xt)(this._renderer,{targets:[I,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=(0,e.Fv)(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(I,O,P){if(!I)return new C([]);if(I instanceof i.C4Q){if(this._viewContainerRef){const k=this._viewContainerRef.createEmbeddedView(I,O);return k.markForCheck(),new C([k.rootNodes],k)}const M=I.createEmbeddedView({});return this._applicationRef.attachView(M),new C([M.rootNodes],M)}if("function"==typeof I){const M=this._componentFactoryResolver.resolveComponentFactory(I),k=i.zZn.create({providers:this._providers,parent:this._injector}),N=M.create(k);return Object.assign(N.instance,P),this._applicationRef.attachView(N.hostView),new C([[N.location.nativeElement]],N.hostView,N)}const b=this._renderer?[this._renderer.createText(`${I}`)]:[];return new C([b])}}let d=(()=>{class f{constructor(O,P,b,M,k,N){this._componentFactoryResolver=O,this._ngZone=P,this._injector=b,this._posService=M,this._applicationRef=k,this._document=N}createLoader(O,P,b){return new m(P,b,O,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static{this.\u0275fac=function(P){return new(P||f)(i.KVO(i.OM3),i.KVO(i.SKi),i.KVO(i.zZn),i.KVO(y.DF),i.KVO(i.o8S),i.KVO(p.qQ))}}static{this.\u0275prov=i.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}}return f})()},779:(nt,fe,h)=>{"use strict";h.d(fe,{I8:()=>jt,hZ:()=>Ye,Q_:()=>wt});var i=h(4438),e=h(2806),y=h(177),p=h(6697);let C,w=(()=>{class z{constructor(){this._focusTrapStack=[]}register(Z){this._focusTrapStack=this._focusTrapStack.filter(we=>we!==Z);let Ce=this._focusTrapStack;Ce.length&&Ce[Ce.length-1]._disable(),Ce.push(Z),Z._enable()}deregister(Z){Z._disable();const Ce=this._focusTrapStack,we=Ce.indexOf(Z);-1!==we&&(Ce.splice(we,1),Ce.length&&Ce[Ce.length-1]._enable())}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();try{C=typeof Intl<"u"&&Intl.v8BreakIterator}catch{C=!1}let m=(()=>{class z{constructor(Z){this._platformId=Z,this.isBrowser=this._platformId?(0,y.UE)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.KVO(i.Agw))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),f=(()=>{class z{constructor(Z){this._platform=Z}isDisabled(Z){return Z.hasAttribute("disabled")}isVisible(Z){return function O(z){return!!(z.offsetWidth||z.offsetHeight||"function"==typeof z.getClientRects&&z.getClientRects().length)}(Z)&&"visible"===getComputedStyle(Z).visibility}isTabbable(Z){if(!this._platform.isBrowser)return!1;const Ce=function I(z){try{return z.frameElement}catch{return null}}(function $(z){return z.ownerDocument&&z.ownerDocument.defaultView||window}(Z));if(Ce&&(-1===R(Ce)||!this.isVisible(Ce)))return!1;let we=Z.nodeName.toLowerCase(),at=R(Z);return Z.hasAttribute("contenteditable")?-1!==at:!("iframe"===we||"object"===we||this._platform.WEBKIT&&this._platform.IOS&&!function j(z){let Y=z.nodeName.toLowerCase(),Z="input"===Y&&z.type;return"text"===Z||"password"===Z||"select"===Y||"textarea"===Y}(Z))&&("audio"===we?!!Z.hasAttribute("controls")&&-1!==at:"video"===we?-1!==at&&(null!==at||this._platform.FIREFOX||Z.hasAttribute("controls")):Z.tabIndex>=0)}isFocusable(Z,Ce){return function U(z){return!function b(z){return function k(z){return"input"==z.nodeName.toLowerCase()}(z)&&"hidden"==z.type}(z)&&(function P(z){let Y=z.nodeName.toLowerCase();return"input"===Y||"select"===Y||"button"===Y||"textarea"===Y}(z)||function M(z){return function N(z){return"a"==z.nodeName.toLowerCase()}(z)&&z.hasAttribute("href")}(z)||z.hasAttribute("contenteditable")||G(z))}(Z)&&!this.isDisabled(Z)&&(Ce?.ignoreVisibility||this.isVisible(Z))}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.KVO(m))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})();function G(z){if(!z.hasAttribute("tabindex")||void 0===z.tabIndex)return!1;let Y=z.getAttribute("tabindex");return"-32768"!=Y&&!(!Y||isNaN(parseInt(Y,10)))}function R(z){if(!G(z))return null;const Y=parseInt(z.getAttribute("tabindex")||"",10);return isNaN(Y)?-1:Y}function ne(z){return null!=z&&"false"!=`${z}`}class se{get enabled(){return this._enabled}set enabled(Y){this._enabled=Y,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}constructor(Y,Z,Ce,we,at=!1){this._element=Y,this._checker=Z,this._ngZone=Ce,this._document=we,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,at||this.attachAnchors()}destroy(){const Y=this._startAnchor,Z=this._endAnchor;Y&&(Y.removeEventListener("focus",this.startAnchorListener),Y.parentNode&&Y.parentNode.removeChild(Y)),Z&&(Z.removeEventListener("focus",this.endAnchorListener),Z.parentNode&&Z.parentNode.removeChild(Z)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(Y=>{this._executeOnStable(()=>Y(this.focusLastTabbableElement()))})}_getRegionBoundary(Y){let Z=this._element.querySelectorAll(`[cdk-focus-region-${Y}], [cdkFocusRegion${Y}], [cdk-focus-${Y}]`);for(let Ce=0;Ce<Z.length;Ce++)Z[Ce].hasAttribute(`cdk-focus-${Y}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,Z[Ce]):Z[Ce].hasAttribute(`cdk-focus-region-${Y}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${Y}', use 'cdkFocusRegion${Y}' instead. The deprecated attribute will be removed in 8.0.0.`,Z[Ce]);return"start"==Y?Z.length?Z[0]:this._getFirstTabbableElement(this._element):Z.length?Z[Z.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const Y=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Y){if(Y.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",Y),!this._checker.isFocusable(Y)){const Z=this._getFirstTabbableElement(Y);return Z?.focus(),!!Z}return Y.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const Y=this._getRegionBoundary("start");return Y&&Y.focus(),!!Y}focusLastTabbableElement(){const Y=this._getRegionBoundary("end");return Y&&Y.focus(),!!Y}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let Z=Y.children||Y.childNodes;for(let Ce=0;Ce<Z.length;Ce++){let we=Z[Ce].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Z[Ce]):null;if(we)return we}return null}_getLastTabbableElement(Y){if(this._checker.isFocusable(Y)&&this._checker.isTabbable(Y))return Y;let Z=Y.children||Y.childNodes;for(let Ce=Z.length-1;Ce>=0;Ce--){let we=Z[Ce].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Z[Ce]):null;if(we)return we}return null}_createAnchor(){const Y=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Y),Y.classList.add("cdk-visually-hidden"),Y.classList.add("cdk-focus-trap-anchor"),Y.setAttribute("aria-hidden","true"),Y}_toggleAnchorTabIndex(Y,Z){Y?Z.setAttribute("tabindex","0"):Z.removeAttribute("tabindex")}toggleAnchors(Y){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Y,this._startAnchor),this._toggleAnchorTabIndex(Y,this._endAnchor))}_executeOnStable(Y){this._ngZone.isStable?Y():this._ngZone.onStable.pipe((0,p.s)(1)).subscribe(Y)}}let L=(()=>{class z{constructor(Z,Ce,we){this._checker=Z,this._ngZone=Ce,this._document=we}create(Z,Ce=!1){return new se(Z,this._checker,this._ngZone,this._document,Ce)}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.KVO(f),i.KVO(i.SKi),i.KVO(y.qQ))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),J=(()=>{class z{get enabled(){return this.focusTrap.enabled}set enabled(Z){this.focusTrap.enabled=ne(Z)}get autoCapture(){return this._autoCapture}set autoCapture(Z){this._autoCapture=ne(Z)}constructor(Z,Ce,we){this._elementRef=Z,this._focusTrapFactory=Ce,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=we,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(Z){const Ce=Z.autoCapture;Ce&&!Ce.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(i.aKT),i.rXU(L),i.rXU(y.qQ))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","focusTrap",""]],inputs:{enabled:[i.Mj6.None,"cdkTrapFocus","enabled"],autoCapture:[i.Mj6.None,"cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[i.OA$]})}}return z})(),te=(()=>{class z{static forRoot(){return{ngModule:z,providers:[w,m,f]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[y.MD]})}}return z})();var E=h(6932),re=h(2865);const K=["*"];let me=(()=>{class z{constructor(){this.hide=()=>{},this.setClass=()=>{}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})(),Ae=(()=>{class z{static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();const xe={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},Qe=new i.nKC("override-default-config"),Ee_OPEN="modal-open";let Ie=(()=>{class z{constructor(Z,Ce,we){this._element=Ce,this._renderer=we,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},Z)}ngOnInit(){this._focusEl=e.Al.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),e.Al&&e.Al.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(Z){this.clickStartedInContent=Z.target!==this._element.nativeElement}onClickStop(Z){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Z.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(Z){this.isShown&&((27===Z.keyCode||"Escape"===Z.key)&&Z.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,e.Al&&e.Al.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(Ae),i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(Ce,we){1&Ce&&i.bIt("mousedown",function(Be){return we.onClickStarted(Be)})("click",function(Be){return we.onClickStop(Be)})("popstate",function(){return we.onPopState()},!1,i.tSv)("keydown.esc",function(Be){return we.onEsc(Be)},!1,i.tSv),2&Ce&&i.BMQ("aria-modal",!0)("aria-labelledby",we.config.ariaLabelledBy)("aria-describedby",we.config.ariaDescribedby)},ngContentSelectors:K,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(Ce,we){1&Ce&&(i.NAR(),i.j41(0,"div",0)(1,"div",1),i.SdG(2),i.k0s()()),2&Ce&&i.HbH("modal-dialog"+(we.config.class?" "+we.config.class:""))},dependencies:[J],encapsulation:2})}}return z})(),st=(()=>{class z{get isAnimated(){return this._isAnimated}set isAnimated(Z){this._isAnimated=Z}get isShown(){return this._isShown}set isShown(Z){this._isShown=Z,Z?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(Z,Ce){this._isAnimated=!1,this._isShown=!1,this.element=Z,this.renderer=Ce}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),e.Aq.reflow(this.element.nativeElement)),this.isShown=!0}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(i.aKT),i.rXU(i.sFG))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(Ce,we){},encapsulation:2})}}return z})(),Ye=(()=>{class z{set config(Z){this._config=this.getConfig(Z)}get config(){return this._config}get isShown(){return this._isShown}constructor(Z,Ce,we,at,Be){this._element=Z,this._renderer=we,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this._isShown=!1,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.timerHideModal=0,this.timerRmBackDrop=0,this.isNested=!1,this.clickStartedInContent=!1,this._focusEl=null,this._backdrop=at.createLoader(Z,Ce,we),this._config=Be||xe}onClickStarted(Z){this.clickStartedInContent=Z.target!==this._element.nativeElement}onClickStop(Z){this.config.ignoreBackdropClick||"static"===this.config.backdrop||Z.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.dismissReason="backdrop-click",this.hide(Z))}onEsc(Z){this._isShown&&((27===Z.keyCode||"Escape"===Z.key)&&Z.preventDefault(),this.config.keyboard&&(this.dismissReason="esc",this.hide()))}ngOnDestroy(){this._isShown&&(this._isShown=!1,this.hideModal(),this._backdrop.dispose())}ngOnInit(){this._config=this._config||this.getConfig(),setTimeout(()=>{this._config.show&&this.show()},0)}toggle(){return this._isShown?this.hide():this.show()}show(){this.dismissReason=void 0,this.onShow.emit(this),!this._isShown&&(clearTimeout(this.timerHideModal),clearTimeout(this.timerRmBackDrop),this._isShown=!0,this.checkScrollbar(),this.setScrollbar(),e.Al&&e.Al.body&&(e.Al.body.classList.contains(Ee_OPEN)?this.isNested=!0:(this._renderer.addClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","hidden"))),this.showBackdrop(()=>{this.showElement()}))}hide(Z){if(this._isShown){if(Z&&Z.preventDefault(),this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.onHide.emit(this),e.x.clearTimeout(this.timerHideModal),e.x.clearTimeout(this.timerRmBackDrop),this._isShown=!1,this._renderer.removeClass(this._element.nativeElement,"show"),this._config.animated?this.timerHideModal=e.x.setTimeout(()=>this.hideModal(),300):this.hideModal(),this._focusEl&&this._focusEl.focus()}getConfig(Z){return Object.assign({},this._config,Z)}showElement(){(!this._element.nativeElement.parentNode||this._element.nativeElement.parentNode.nodeType!==Node.ELEMENT_NODE)&&e.Al&&e.Al.body&&e.Al.body.appendChild(this._element.nativeElement),this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","false"),this._renderer.setAttribute(this._element.nativeElement,"aria-modal","true"),this._renderer.setStyle(this._element.nativeElement,"display","block"),this._renderer.setProperty(this._element.nativeElement,"scrollTop",0),this._config.animated&&e.Aq.reflow(this._element.nativeElement),this._renderer.addClass(this._element.nativeElement,"show");const Z=()=>{this._config.focus&&this._element.nativeElement.focus(),this.onShown.emit(this)};this._config.animated?setTimeout(Z,300):Z()}hideModal(){this._renderer.setAttribute(this._element.nativeElement,"aria-hidden","true"),this._renderer.setStyle(this._element.nativeElement,"display","none"),this.showBackdrop(()=>{this.isNested||(e.Al&&e.Al.body&&(this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y","")),this.resetScrollbar()),this.resetAdjustments(),this.focusOtherModal(),this.onHidden.emit(this)})}showBackdrop(Z){if(!this._isShown||!this.config.backdrop||this.backdrop&&this.backdrop.instance.isShown)if(!this._isShown&&this.backdrop){this.backdrop.instance.isShown=!1;const Ce=()=>{this.removeBackdrop(),Z&&Z()};this.backdrop.instance.isAnimated?this.timerRmBackDrop=e.x.setTimeout(Ce,150):Ce()}else Z&&Z();else{if(this.removeBackdrop(),this._backdrop.attach(st).to("body").show({isAnimated:this._config.animated}),this.backdrop=this._backdrop._componentRef,!Z)return;if(!this._config.animated)return void Z();setTimeout(Z,150)}}removeBackdrop(){this._backdrop.hide()}focusOtherModal(){if(null==this._element.nativeElement.parentElement)return;const Z=this._element.nativeElement.parentElement.querySelectorAll(".in[bsModal]");Z.length&&Z[Z.length-1].focus()}resetAdjustments(){this._renderer.setStyle(this._element.nativeElement,"paddingLeft",""),this._renderer.setStyle(this._element.nativeElement,"paddingRight","")}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<e.x.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(e.x.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||0,10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Z=this._renderer.createElement("div");this._renderer.addClass(Z,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,Z);const Ce=Z.offsetWidth-Z.clientWidth;return this._renderer.removeChild(e.Al.body,Z),Ce}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(i.aKT),i.rXU(i.c1b),i.rXU(i.sFG),i.rXU(E.Li),i.rXU(Qe,8))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","bsModal",""]],hostBindings:function(Ce,we){1&Ce&&i.bIt("mousedown",function(Be){return we.onClickStarted(Be)})("mouseup",function(Be){return we.onClickStop(Be)})("keydown.esc",function(Be){return we.onEsc(Be)})},inputs:{config:"config",closeInterceptor:"closeInterceptor"},outputs:{onShow:"onShow",onShown:"onShown",onHide:"onHide",onHidden:"onHidden"},exportAs:["bs-modal"]})}}return z})(),qt=1,jt=(()=>{class z{constructor(Z,Ce,we){this.clf=Ce,this.modalDefaultOption=we,this.onShow=new i.bkB,this.onShown=new i.bkB,this.onHide=new i.bkB,this.onHidden=new i.bkB,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=Z.createRenderer(null,null),this.config=we?Object.assign({},xe,we):xe}show(Z,Ce){this._focusEl=e.Al.activeElement,this.modalsCount++,this._createLoaders();const we=Ce?.id||qt++;return this.config=this.modalDefaultOption?Object.assign({},xe,this.modalDefaultOption,Ce):Object.assign({},xe,Ce),this.config.id=we,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(Z)}hide(Z){(1===this.modalsCount||null==Z)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=Z?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(Z),this.removeLoaders(Z)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const Z=!0===this.config.backdrop||"static"===this.config.backdrop,Ce=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),Z&&Ce&&(this._backdropLoader.attach(st).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(Z){const Ce=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const Be of this.config.providers)Ce.provide(Be);const we=new me,at=Ce.provide({provide:Ae,useValue:this.config}).provide({provide:me,useValue:we}).attach(Ie).to("body");return we.hide=()=>this.hide(we.id),we.setClass=Be=>{at.instance&&(at.instance.config.class=Be)},we.onHidden=new i.bkB,we.onHide=new i.bkB,this.copyEvent(Ce.onBeforeHide,we.onHide),this.copyEvent(Ce.onHidden,we.onHidden),at.show({content:Z,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),at.instance&&(at.instance.level=this.getModalsCount(),we.content=Ce.getInnerComponent(),we.id=at.instance.config?.id),we}_hideModal(Z){if(null!=Z){const Ce=this.loaders.findIndex(at=>at.instance?.config.id===Z),we=this.loaders[Ce];we&&we.hide(Z)}else this.loaders.forEach(Ce=>{Ce.instance&&Ce.hide(Ce.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(Z){this.lastDismissReason=Z}removeBackdrop(){this._renderer.removeClass(e.Al.body,Ee_OPEN),this._renderer.setStyle(e.Al.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=e.Al.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){e.Al&&(this.originalBodyPadding=parseInt(window.getComputedStyle(e.Al.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(e.Al.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){e.Al.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const Z=this._renderer.createElement("div");this._renderer.addClass(Z,"modal-scrollbar-measure"),this._renderer.appendChild(e.Al.body,Z);const Ce=Z.offsetWidth-Z.clientWidth;return this._renderer.removeChild(e.Al.body,Z),Ce}_createLoaders(){const Z=this.clf.createLoader();this.copyEvent(Z.onBeforeShow,this.onShow),this.copyEvent(Z.onShown,this.onShown),this.copyEvent(Z.onBeforeHide,this.onHide),this.copyEvent(Z.onHidden,this.onHidden),this.loaders.push(Z)}removeLoaders(Z){if(null!=Z){const Ce=this.loaders.findIndex(we=>we.instance?.config.id===Z);Ce>=0&&(this.loaders.splice(Ce,1),this.loaders.forEach((we,at)=>{we.instance&&(we.instance.level=at+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(Z,Ce){Z.subscribe(we=>{Ce.emit(this.lastDismissReason||we)})}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.KVO(i._9s),i.KVO(E.Li),i.KVO(Qe,8))}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"platform"})}}return z})();te.forRoot();let wt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[jt,E.Li,re.DF]}}static forChild(){return{ngModule:z,providers:[jt,E.Li,re.DF]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[te]})}}return z})()},2865:(nt,fe,h)=>{"use strict";h.d(fe,{Rz:()=>G,DF:()=>Pt});var i=h(2806),e=h(4438),y=h(177),p=h(1413),w=h(7786),C=h(3726),m=h(7673),d=h(6780),f=h(8359);const I={schedule(je){let ce=requestAnimationFrame,X=cancelAnimationFrame;const{delegate:oe}=I;oe&&(ce=oe.requestAnimationFrame,X=oe.cancelAnimationFrame);const Ve=ce(tt=>{X=void 0,je(tt)});return new f.yU(()=>X?.(Ve))},requestAnimationFrame(...je){const{delegate:ce}=I;return(ce?.requestAnimationFrame||requestAnimationFrame)(...je)},cancelAnimationFrame(...je){const{delegate:ce}=I;return(ce?.cancelAnimationFrame||cancelAnimationFrame)(...je)},delegate:void 0};var P=h(9687);const M=new class b extends P.q{flush(ce){this._active=!0;const X=this._scheduled;this._scheduled=void 0;const{actions:oe}=this;let Ve;ce=ce||oe.shift();do{if(Ve=ce.execute(ce.state,ce.delay))break}while((ce=oe[0])&&ce.id===X&&oe.shift());if(this._active=!1,Ve){for(;(ce=oe[0])&&ce.id===X&&oe.shift();)ce.unsubscribe();throw Ve}}}(class O extends d.R{constructor(ce,X){super(ce,X),this.scheduler=ce,this.work=X}requestAsyncId(ce,X,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ce,X,oe):(ce.actions.push(this),ce._scheduled||(ce._scheduled=I.requestAnimationFrame(()=>ce.flush(void 0))))}recycleAsyncId(ce,X,oe=0){var Ve;if(null!=oe?oe>0:this.delay>0)return super.recycleAsyncId(ce,X,oe);const{actions:tt}=ce;null!=X&&(null===(Ve=tt[tt.length-1])||void 0===Ve?void 0:Ve.id)!==X&&(I.cancelAnimationFrame(X),ce._scheduled=void 0)}});var N=function(je){return je.top="top",je.bottom="bottom",je.left="left",je.right="right",je.auto="auto",je.end="right",je.start="left",je["top left"]="top left",je["top right"]="top right",je["right top"]="right top",je["right bottom"]="right bottom",je["bottom right"]="bottom right",je["bottom left"]="bottom left",je["left bottom"]="left bottom",je["left top"]="left top",je["top start"]="top left",je["top end"]="top right",je["end top"]="right top",je["end bottom"]="right bottom",je["bottom end"]="bottom right",je["bottom start"]="bottom left",je["start bottom"]="start bottom",je["start top"]="left top",je}(N||{}),G=function(je){return je.top="top",je.bottom="bottom",je.left="start",je.right="end",je.auto="auto",je.end="end",je.start="start",je["top left"]="top start",je["top right"]="top end",je["right top"]="end top",je["right bottom"]="end bottom",je["bottom right"]="bottom end",je["bottom left"]="bottom start",je["left bottom"]="start bottom",je["left top"]="start top",je["top start"]="top start",je["top end"]="top end",je["end top"]="end top",je["end bottom"]="end bottom",je["bottom end"]="bottom end",je["bottom start"]="bottom start",je["start bottom"]="start bottom",je["start top"]="start top",je}(G||{});function R(je,ce){if(1!==je.nodeType)return[];const oe=je.ownerDocument.defaultView?.getComputedStyle(je,null);return ce?oe&&oe[ce]:oe}function j(je){if(!je)return document.documentElement;let oe,X=je?.offsetParent;for(;null===X&&je.nextElementSibling&&oe!==je.nextElementSibling;)oe=je.nextElementSibling,X=oe.offsetParent;const Ve=X&&X.nodeName;return Ve&&"BODY"!==Ve&&"HTML"!==Ve?X&&-1!==["TH","TD","TABLE"].indexOf(X.nodeName)&&"static"===R(X,"position")?j(X):X:oe?oe.ownerDocument.documentElement:document.documentElement}function $(je){return null!==je.parentNode?$(je.parentNode):je}function ne(je,ce){if(!(je&&je.nodeType&&ce&&ce.nodeType))return document.documentElement;const X=je.compareDocumentPosition(ce)&Node.DOCUMENT_POSITION_FOLLOWING,oe=X?je:ce,Ve=X?ce:je,tt=document.createRange();tt.setStart(oe,0),tt.setEnd(Ve,0);const gt=tt.commonAncestorContainer;if(je!==gt&&ce!==gt||oe.contains(Ve))return function U(je){const{nodeName:ce}=je;return"BODY"!==ce&&("HTML"===ce||j(je.firstElementChild)===je)}(gt)?gt:j(gt);const Bt=$(je);return Bt.host?ne(Bt.host,ce):ne(je,$(ce).host)}function se(je){if(!je||!je.parentElement)return document.documentElement;let ce=je.parentElement;for(;ce?.parentElement&&"none"===R(ce,"transform");)ce=ce.parentElement;return ce||document.documentElement}function L(je,ce){const X="x"===ce?"Left":"Top",oe="Left"===X?"Right":"Bottom";return parseFloat(je[`border${X}Width`])+parseFloat(je[`border${oe}Width`])}function J(je,ce,X){return Math.max(ce[`offset${je}`],ce[`scroll${je}`],X[`client${je}`],X[`offset${je}`],X[`scroll${je}`],0)}function te(je){const ce=je.body,X=je.documentElement;return{height:J("Height",ce,X),width:J("Width",ce,X)}}function E(je){return{...je,right:(je.left||0)+je.width,bottom:(je.top||0)+je.height}}function K(je){return"number"==typeof je||"[object Number]"===Object.prototype.toString.call(je)}function me(je){const ce=je.getBoundingClientRect();if(!(ce&&K(ce.top)&&K(ce.left)&&K(ce.bottom)&&K(ce.right)))return ce;const X={left:ce.left,top:ce.top,width:ce.right-ce.left,height:ce.bottom-ce.top},oe="HTML"===je.nodeName?te(je.ownerDocument):void 0,Ve=oe?.width||je.clientWidth||K(ce.right)&&K(X.left)&&ce.right-X.left||0,tt=oe?.height||je.clientHeight||K(ce.bottom)&&K(X.top)&&ce.bottom-X.top||0;let gt=je.offsetWidth-Ve,Bt=je.offsetHeight-tt;if(gt||Bt){const cn=R(je);gt-=L(cn,"x"),Bt-=L(cn,"y"),X.width-=gt,X.height-=Bt}return E(X)}function Ne(je,ce,X=!1){const oe="HTML"===ce.nodeName,Ve=me(je),tt=me(ce),gt=R(ce),Bt=parseFloat(gt.borderTopWidth),cn=parseFloat(gt.borderLeftWidth);X&&oe&&(tt.top=Math.max(tt.top??0,0),tt.left=Math.max(tt.left??0,0));const hn=E({top:(Ve.top??0)-(tt.top??0)-Bt,left:(Ve.left??0)-(tt.left??0)-cn,width:Ve.width,height:Ve.height});if(hn.marginTop=0,hn.marginLeft=0,oe){const Mn=parseFloat(gt.marginTop),kn=parseFloat(gt.marginLeft);K(hn.top)&&(hn.top-=Bt-Mn),K(hn.bottom)&&(hn.bottom-=Bt-Mn),K(hn.left)&&(hn.left-=cn-kn),K(hn.right)&&(hn.right-=cn-kn),hn.marginTop=Mn,hn.marginLeft=kn}return hn}function Ae(je){return"HTML"===je.nodeName?je:je.parentNode||je.host}function xe(je){if(!je)return document.body;switch(je.nodeName){case"HTML":case"BODY":return je.ownerDocument.body;case"#document":return je.body}const{overflow:ce,overflowX:X,overflowY:oe}=R(je);return/(auto|scroll|overlay)/.test(String(ce)+String(oe)+String(X))?je:xe(Ae(je))}function Qe(je,ce="top"){const X="top"===ce?"scrollTop":"scrollLeft",oe=je.nodeName;return"BODY"===oe||"HTML"===oe?(je.ownerDocument.scrollingElement||je.ownerDocument.documentElement)[X]:je[X]}function be(je){const ce=je.nodeName;return"BODY"!==ce&&"HTML"!==ce&&("fixed"===R(je,"position")||be(Ae(je)))}function le(je,ce,X=0,oe,Ve=!1){let tt={top:0,left:0};const gt=Ve?se(je):ne(je,ce);if("viewport"===oe)tt=function Ee(je,ce=!1){const X=je.ownerDocument.documentElement,oe=Ne(je,X),Ve=Math.max(X.clientWidth,window.innerWidth||0),tt=Math.max(X.clientHeight,window.innerHeight||0),gt=ce?0:Qe(X),Bt=ce?0:Qe(X,"left");return E({top:gt-Number(oe?.top)+Number(oe?.marginTop),left:Bt-Number(oe?.left)+Number(oe?.marginLeft),width:Ve,height:tt})}(gt,Ve);else{let Bt;"scrollParent"===oe?(Bt=xe(Ae(ce)),"BODY"===Bt.nodeName&&(Bt=je.ownerDocument.documentElement)):Bt="window"===oe?je.ownerDocument.documentElement:oe;const cn=Ne(Bt,gt,Ve);if(cn&&"HTML"===Bt.nodeName&&!be(gt)){const{height:hn,width:Mn}=te(je.ownerDocument);K(tt.top)&&K(cn.top)&&K(cn.marginTop)&&(tt.top+=cn.top-cn.marginTop),K(tt.top)&&(tt.bottom=Number(hn)+Number(cn.top)),K(tt.left)&&K(cn.left)&&K(cn.marginLeft)&&(tt.left+=cn.left-cn.marginLeft),K(tt.top)&&(tt.right=Number(Mn)+Number(cn.left))}else cn&&(tt=cn)}return K(tt.left)&&(tt.left+=X),K(tt.top)&&(tt.top+=X),K(tt.right)&&(tt.right-=X),K(tt.bottom)&&(tt.bottom-=X),tt}function Pe({width:je,height:ce}){return je*ce}function Ie(je,ce,X,oe,Ve=["top","bottom","right","left"],tt="viewport",gt=0){if(-1===je.indexOf("auto"))return je;const Bt=le(X,oe,gt,tt),cn={top:{width:Bt?.width??0,height:(ce?.top??0)-(Bt?.top??0)},right:{width:(Bt?.right??0)-(ce?.right??0),height:Bt?.height??0},bottom:{width:Bt?.width??0,height:(Bt?.bottom??0)-(ce?.bottom??0)},left:{width:(ce.left??0)-(Bt?.left??0),height:Bt?.height??0}},hn=Object.keys(cn).map(It=>({position:It,...cn[It],area:Pe(cn[It])})).sort((It,Rn)=>Rn.area-It.area);let Mn=hn.filter(({width:It,height:Rn})=>It>=X.clientWidth&&Rn>=X.clientHeight);Mn=Mn.filter(({position:It})=>Ve.some(Rn=>Rn===It));const kn=Mn.length>0?Mn[0].position:hn[0].position,Bn=je.split(" ")[1];return X.className=X.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${(0,i.Bu)().isBs5?G[kn]:kn}`),kn+(Bn?`-${Bn}`:"")}const Ye=(je,ce=0)=>je?parseFloat(je):ce;function qt(je){const X=je.ownerDocument.defaultView?.getComputedStyle(je),oe=Ye(X?.marginTop)+Ye(X?.marginBottom),Ve=Ye(X?.marginLeft)+Ye(X?.marginRight);return{width:Number(je.offsetWidth)+Ve,height:Number(je.offsetHeight)+oe}}function jt(je,ce,X){return Ne(ce,X?se(je):ne(je,ce),X)}function Dt(je,ce,X){const oe=X.split(" ")[0],Ve=qt(je),tt={width:Ve.width,height:Ve.height},gt=-1!==["right","left"].indexOf(oe),Bt=gt?"top":"left",cn=gt?"left":"top",hn=gt?"height":"width",Mn=gt?"width":"height";return tt[Bt]=(ce[Bt]??0)+ce[hn]/2-Ve[hn]/2,tt[cn]=oe===cn?(ce[cn]??0)-Ve[Mn]:ce[function Oe(je){const ce={left:"right",right:"left",bottom:"top",top:"bottom"};return je.replace(/left|right|bottom|top/g,X=>ce[X])}(cn)]??0,tt}function wt(je,ce){return!!je.modifiers[ce]?.enabled}const z={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Y(je,ce){return!!(0,i.Bu)().isBs5&&z[ce].includes(je)}function we(je,ce,X){!je||!ce||Object.keys(ce).forEach(oe=>{let Ve="";-1!==["width","height","top","right","bottom","left"].indexOf(oe)&&function re(je){return""!==je&&!isNaN(parseFloat(je))&&isFinite(Number(je))}(ce[oe])&&(Ve="px"),X?X.setStyle(je,oe,`${String(ce[oe])}${Ve}`):je.style[oe]=String(ce[oe])+Ve})}function at(je){let ce=je.offsets.target;const X=je.instance.target.querySelector(".arrow");if(!X)return je;const oe=-1!==["left","right"].indexOf(je.placement.split(" ")[0]),Ve=oe?"height":"width",tt=oe?"Top":"Left",gt=tt.toLowerCase(),Bt=oe?"left":"top",cn=oe?"bottom":"right",hn=qt(X)[Ve],Mn=je.placement.split(" ")[1];(je.offsets.host[cn]??0)-hn<(ce[gt]??0)&&(ce[gt]-=(ce[gt]??0)-((je.offsets.host[cn]??0)-hn)),Number(je.offsets.host[gt])+Number(hn)>(ce[cn]??0)&&(ce[gt]+=Number(je.offsets.host[gt])+Number(hn)-Number(ce[cn])),ce=E(ce);const kn=R(je.instance.target),Bn=parseFloat(kn[`margin${tt}`])||0,It=parseFloat(kn[`border${tt}Width`])||0;let Rn;if(Mn){const lt=parseFloat(kn.borderRadius)||0,Ct=Number(Bn+It+lt);Rn=gt===Mn?Number(je.offsets.host[gt])+Ct:Number(je.offsets.host[gt])+Number(je.offsets.host[Ve]-Ct)}else Rn=Number(je.offsets.host[gt])+Number(je.offsets.host[Ve]/2-hn/2);let Ht=Rn-(ce[gt]??0)-Bn-It;return Ht=Math.max(Math.min(ce[Ve]-(hn+5),Ht),0),je.offsets.arrow={[gt]:Math.round(Ht),[Bt]:""},je.instance.arrow=X,je}function Be(je){if(je.offsets.target=E(je.offsets.target),!wt(je.options,"flip"))return je.offsets.target={...je.offsets.target,...Dt(je.instance.target,je.offsets.host,je.placement)},je;const ce=le(je.instance.target,je.instance.host,0,"viewport",!1);let X=je.placement.split(" ")[0],oe=je.placement.split(" ")[1]||"";const Bt=Ie("auto",je.offsets.host,je.instance.target,je.instance.host,je.options.allowedPositions),cn=[X,Bt];return cn.forEach((hn,Mn)=>{if(X!==hn||cn.length===Mn+1)return;X=je.placement.split(" ")[0];const kn="left"===X&&Math.floor(je.offsets.target.right??0)>Math.floor(je.offsets.host.left??0)||"right"===X&&Math.floor(je.offsets.target.left??0)<Math.floor(je.offsets.host.right??0)||"top"===X&&Math.floor(je.offsets.target.bottom??0)>Math.floor(je.offsets.host.top??0)||"bottom"===X&&Math.floor(je.offsets.target.top??0)<Math.floor(je.offsets.host.bottom??0),Bn=Math.floor(je.offsets.target.left??0)<Math.floor(ce.left??0),It=Math.floor(je.offsets.target.right??0)>Math.floor(ce.right??0),Rn=Math.floor(je.offsets.target.top??0)<Math.floor(ce.top??0),Ht=Math.floor(je.offsets.target.bottom??0)>Math.floor(ce.bottom??0),lt="left"===X&&Bn||"right"===X&&It||"top"===X&&Rn||"bottom"===X&&Ht,Ct=-1!==["top","bottom"].indexOf(X),yt=Ct&&"left"===oe&&Bn||Ct&&"right"===oe&&It||!Ct&&"left"===oe&&Rn||!Ct&&"right"===oe&&Ht;(kn||lt||yt)&&((kn||lt)&&(X=cn[Mn+1]),yt&&(oe=function pt(je){return"right"===je?"left":"left"===je?"right":je}(oe)),je.placement=X+(oe?` ${oe}`:""),je.offsets.target={...je.offsets.target,...Dt(je.instance.target,je.offsets.host,je.placement)})}),je}function Ft(je){if(!wt(je.options,"preventOverflow"))return je;const ce="transform",X=je.instance.target.style,{top:oe,left:Ve,[ce]:tt}=X;X.top="",X.left="",X[ce]="";const gt=le(je.instance.target,je.instance.host,0,je.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);X.top=oe,X.left=Ve,X[ce]=tt;const cn={primary(hn){let Mn=je.offsets.target[hn];return(je.offsets.target[hn]??0)<(gt[hn]??0)&&(Mn=Math.max(je.offsets.target[hn]??0,gt[hn]??0)),{[hn]:Mn}},secondary(hn){const Mn="right"===hn,kn=Mn?"left":"top";let It=je.offsets.target[kn];return(je.offsets.target[hn]??0)>(gt[hn]??0)&&(It=Math.min(je.offsets.target[kn]??0,(gt[hn]??0)-je.offsets.target[Mn?"width":"height"])),{[kn]:It}}};return["left","right","top","bottom"].forEach(hn=>{const Mn=-1!==["left","top","start"].indexOf(hn)?cn.primary:cn.secondary;je.offsets.target={...je.offsets.target,...Mn(hn)}}),je}function mt(je){const ce=je.placement,X=ce.split(" ")[0],oe=ce.split(" ")[1];if(oe){const{host:Ve,target:tt}=je.offsets,gt=-1!==["bottom","top"].indexOf(X),Bt=gt?"left":"top",cn=gt?"width":"height",hn={start:{[Bt]:Ve[Bt]},end:{[Bt]:(Ve[Bt]??0)+Ve[cn]-tt[cn]}};je.offsets.target={...tt,[Bt]:Bt===oe?hn.start[Bt]:hn.end[Bt]}}return je}const Kt=new class it{position(ce,X){return this.offset(ce,X)}offset(ce,X){return jt(X,ce)}positionElements(ce,X,oe,Ve,tt){const gt=[Be,mt,Ft,at],cn=function ot(je,ce,X,oe){if(!je||!ce)return;const Ve=jt(je,ce);!X.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!X.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(X="auto");const tt=!!X.match(/auto/g);let gt=X.match(/auto\s(left|right|top|bottom|start|end)/)?X.split(" ")[1]||"auto":X;const Bt=gt.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return Bt&&(gt=Bt[1]+(Bt[2]?` ${Bt[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(gt)&&(gt="auto"),gt=Ie(gt,Ve,je,ce,oe?oe.allowedPositions:void 0),{options:oe||{modifiers:{}},instance:{target:je,host:ce,arrow:void 0},offsets:{target:Dt(je,Ve,gt),host:Ve,arrow:void 0},positionFixed:!1,placement:gt,placementAuto:tt}}(X,ce,N[oe],tt);if(cn)return gt.reduce((hn,Mn)=>Mn(hn),cn)}};function on(je,ce,X,oe,Ve,tt){const gt=Kt.positionElements(je,ce,X,oe,Ve);if(!gt)return;const Bt=function st(je){return{width:je.offsets.target.width,height:je.offsets.target.height,left:Math.floor(je.offsets.target.left??0),top:Math.round(je.offsets.target.top??0),bottom:Math.round(je.offsets.target.bottom??0),right:Math.floor(je.offsets.target.right??0)}}(gt);we(ce,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${Bt.left}px, ${Bt.top}px, 0px)`},tt),gt.instance.arrow&&we(gt.instance.arrow,gt.offsets.arrow,tt),function Ce(je,ce){const X=je.instance.target;let oe=X.className;const Ve=(0,i.Bu)().isBs5?G[je.placement]:je.placement;je.placementAuto&&(oe=oe.replace(/bs-popover-auto/g,`bs-popover-${Ve}`),oe=oe.replace(/ms-2|me-2|mb-2|mt-2/g,""),oe=oe.replace(/bs-tooltip-auto/g,`bs-tooltip-${Ve}`),oe=oe.replace(/\sauto/g,` ${Ve}`),-1!==oe.indexOf("popover")&&(oe=oe+" "+function Z(je){return(0,i.Bu)().isBs5?Y(je,"end")?"ms-2":Y(je,"start")?"me-2":Y(je,"top")?"mb-2":Y(je,"bottom")?"mt-2":"":""}(Ve)),-1!==oe.indexOf("popover")&&-1===oe.indexOf("popover-auto")&&(oe+=" popover-auto"),-1!==oe.indexOf("tooltip")&&-1===oe.indexOf("tooltip-auto")&&(oe+=" tooltip-auto")),oe=oe.replace(/left|right|top|bottom|end|start/g,`${Ve.split(" ")[0]}`),ce?ce.setAttribute(X,"class",oe):X.className=oe}(gt,tt)}let Pt=(()=>{class je{constructor(X,oe,Ve){this.update$$=new p.B,this.positionElements=new Map,this.isDisabled=!1,(0,y.UE)(Ve)&&X.runOutsideAngular(()=>{this.triggerEvent$=(0,w.h)((0,C.R)(window,"scroll",{passive:!0}),(0,C.R)(window,"resize",{passive:!0}),(0,m.of)(0,M),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(tt=>{on(Jt(tt.target),Jt(tt.element),tt.attachment,tt.appendToBody,this.options,oe.createRenderer(null,null))})})})}position(X){this.addPositionElement(X)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(X){this.positionElements.set(Jt(X.element),X)}calcPosition(){this.update$$.next(null)}deletePositionElement(X){this.positionElements.delete(Jt(X))}setOptions(X){this.options=X}static{this.\u0275fac=function(oe){return new(oe||je)(e.KVO(e.SKi),e.KVO(e._9s),e.KVO(e.Agw))}}static{this.\u0275prov=e.jDH({token:je,factory:je.\u0275fac,providedIn:"root"})}}return je})();function Jt(je){return"string"==typeof je?document.querySelector(je):je instanceof e.aKT?je.nativeElement:je??null}},3816:(nt,fe,h)=>{"use strict";h.d(fe,{jr:()=>P});var i=h(4438),e=h(177);let P=(()=>{class b{static forRoot(){return{ngModule:b,providers:[]}}static{this.\u0275fac=function(N){return new(N||b)}}static{this.\u0275mod=i.$C({type:b})}static{this.\u0275inj=i.G2t({imports:[e.MD]})}}return b})()},534:(nt,fe,h)=>{"use strict";h.d(fe,{Ss:()=>b,dg:()=>P});var i=h(4438),e=h(2806),y=h(2865),p=h(1635),w=h(6932),C=h(1584),m=h(177);const d=["*"];let f=(()=>{class M{constructor(){this.adaptivePosition=!0,this.placement="top",this.triggers="hover focus",this.delay=0}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275prov=i.jDH({token:M,factory:M.\u0275fac,providedIn:"root"})}}return M})(),I=(()=>{class M{get _bsVersions(){return(0,e.Bu)()}constructor(N){Object.assign(this,N)}ngAfterViewInit(){this.classMap={in:!1,fade:!1},this.placement&&(this._bsVersions.isBs5&&(this.placement=y.Rz[this.placement]),this.classMap[this.placement]=!0),this.classMap[`tooltip-${this.placement}`]=!0,this.classMap.in=!0,this.animation&&(this.classMap.fade=!0),this.containerClass&&(this.classMap[this.containerClass]=!0)}static{this.\u0275fac=function(G){return new(G||M)(i.rXU(f))}}static{this.\u0275cmp=i.VBU({type:M,selectors:[["bs-tooltip-container"]],hostAttrs:["role","tooltip"],hostVars:3,hostBindings:function(G,R){2&G&&(i.BMQ("id",R.id),i.HbH("show tooltip in tooltip-"+R.placement+" bs-tooltip-"+R.placement+" "+R.placement+" "+R.containerClass))},ngContentSelectors:d,decls:3,vars:0,consts:[[1,"tooltip-arrow","arrow"],[1,"tooltip-inner"]],template:function(G,R){1&G&&(i.NAR(),i.nrm(0,"div",0),i.j41(1,"div",1),i.SdG(2),i.k0s())},styles:[".tooltip[_nghost-%COMP%]{display:block;pointer-events:none;position:absolute}.tooltip[_nghost-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return M})(),O=0,P=(()=>{class M{get isOpen(){return this._tooltip.isShown}set isOpen(N){N?this.show():this.hide()}set htmlContent(N){(0,e.mc)("tooltipHtml was deprecated, please use `tooltip` instead"),this.tooltip=N}set _placement(N){(0,e.mc)("tooltipPlacement was deprecated, please use `placement` instead"),this.placement=N}set _isOpen(N){(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen=N}get _isOpen(){return(0,e.mc)("tooltipIsOpen was deprecated, please use `isOpen` instead"),this.isOpen}set _enable(N){(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled=!N}get _enable(){return(0,e.mc)("tooltipEnable was deprecated, please use `isDisabled` instead"),this.isDisabled}set _appendToBody(N){(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),this.container=N?"body":this.container}get _appendToBody(){return(0,e.mc)('tooltipAppendToBody was deprecated, please use `container="body"` instead'),"body"===this.container}set _popupClass(N){(0,e.mc)("tooltipClass deprecated")}set _tooltipContext(N){(0,e.mc)("tooltipContext deprecated")}set _tooltipPopupDelay(N){(0,e.mc)("tooltipPopupDelay is deprecated, use `delay` instead"),this.delay=N}get _tooltipTrigger(){return(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers}set _tooltipTrigger(N){(0,e.mc)("tooltipTrigger was deprecated, please use `triggers` instead"),this.triggers=(N||"").toString()}constructor(N,G,R,j,U,$){this._elementRef=j,this._renderer=U,this._positionService=$,this.tooltipId=O++,this.adaptivePosition=!0,this.tooltipChange=new i.bkB,this.placement="top",this.triggers="hover focus",this.containerClass="",this.isDisabled=!1,this.delay=0,this.tooltipAnimation=!0,this.tooltipFadeDuration=150,this.tooltipStateChanged=new i.bkB,this._tooltip=G.createLoader(this._elementRef,N,this._renderer).provide({provide:f,useValue:R}),Object.assign(this,R),this.onShown=this._tooltip.onShown,this.onHidden=this._tooltip.onHidden}ngOnInit(){this._tooltip.listen({triggers:this.triggers,show:()=>this.show()}),this.tooltipChange.subscribe(N=>{N||this._tooltip.hide()}),this.onShown.subscribe(()=>{this.setAriaDescribedBy()}),this.onHidden.subscribe(()=>{this.setAriaDescribedBy()})}setAriaDescribedBy(){this._ariaDescribedby=this.isOpen?`tooltip-${this.tooltipId}`:void 0,this._ariaDescribedby?this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ariaDescribedby):this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby")}toggle(){if(this.isOpen)return this.hide();this.show()}show(){if(this._positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition},preventOverflow:{enabled:this.adaptivePosition,boundariesElement:this.boundariesElement||"scrollParent"}}}),this.isOpen||this.isDisabled||this._delayTimeoutId||!this.tooltip)return;const N=()=>{this._delayTimeoutId&&(this._delayTimeoutId=void 0),this._tooltip.attach(I).to(this.container).position({attachment:this.placement}).show({content:this.tooltip,placement:this.placement,containerClass:this.containerClass,id:`tooltip-${this.tooltipId}`})},G=()=>{this._tooltipCancelShowFn&&this._tooltipCancelShowFn()};this.delay?(this._delaySubscription&&this._delaySubscription.unsubscribe(),this._delaySubscription=(0,C.O)(this.delay).subscribe(()=>{N(),G()}),this.triggers&&(0,e.Zu)(this.triggers).forEach(R=>{R.close&&(this._tooltipCancelShowFn=this._renderer.listen(this._elementRef.nativeElement,R.close,()=>{this._delaySubscription?.unsubscribe(),G()}))})):N()}hide(){this._delayTimeoutId&&(clearTimeout(this._delayTimeoutId),this._delayTimeoutId=void 0),this._tooltip.isShown&&(this._tooltip.instance?.classMap&&(this._tooltip.instance.classMap.in=!1),setTimeout(()=>{this._tooltip.hide()},this.tooltipFadeDuration))}ngOnDestroy(){this._tooltip.dispose(),this.tooltipChange.unsubscribe(),this._delaySubscription&&this._delaySubscription.unsubscribe(),this.onShown.unsubscribe(),this.onHidden.unsubscribe()}static{this.\u0275fac=function(G){return new(G||M)(i.rXU(i.c1b),i.rXU(w.Li),i.rXU(f),i.rXU(i.aKT),i.rXU(i.sFG),i.rXU(y.DF))}}static{this.\u0275dir=i.FsC({type:M,selectors:[["","tooltip",""],["","tooltipHtml",""]],inputs:{adaptivePosition:"adaptivePosition",tooltip:"tooltip",placement:"placement",triggers:"triggers",container:"container",containerClass:"containerClass",boundariesElement:"boundariesElement",isOpen:"isOpen",isDisabled:"isDisabled",delay:"delay",htmlContent:[i.Mj6.None,"tooltipHtml","htmlContent"],_placement:[i.Mj6.None,"tooltipPlacement","_placement"],_isOpen:[i.Mj6.None,"tooltipIsOpen","_isOpen"],_enable:[i.Mj6.None,"tooltipEnable","_enable"],_appendToBody:[i.Mj6.None,"tooltipAppendToBody","_appendToBody"],tooltipAnimation:"tooltipAnimation",_popupClass:[i.Mj6.None,"tooltipClass","_popupClass"],_tooltipContext:[i.Mj6.None,"tooltipContext","_tooltipContext"],_tooltipPopupDelay:[i.Mj6.None,"tooltipPopupDelay","_tooltipPopupDelay"],tooltipFadeDuration:"tooltipFadeDuration",_tooltipTrigger:[i.Mj6.None,"tooltipTrigger","_tooltipTrigger"]},outputs:{tooltipChange:"tooltipChange",onShown:"onShown",onHidden:"onHidden",tooltipStateChanged:"tooltipStateChanged"},exportAs:["bs-tooltip"]})}}return(0,p.Cg)([(0,e.Yr)(),(0,p.Sn)("design:type",Object)],M.prototype,"tooltip",void 0),M})(),b=(()=>{class M{static forRoot(){return{ngModule:M,providers:[w.Li,y.DF]}}static{this.\u0275fac=function(G){return new(G||M)}}static{this.\u0275mod=i.$C({type:M})}static{this.\u0275inj=i.G2t({imports:[m.MD]})}}return M})()},8400:(nt,fe,h)=>{"use strict";h.d(fe,{Xi:()=>Dt,qP:()=>wt});var i=h(4438),e=h(2806),y=h(2865),p=h(8359),w=h(4402),C=h(983),m=h(6648),d=h(9969),f=h(177),I=h(9417),O=h(6932),P=h(152),b=h(8141),M=h(5558),k=h(1397),N=h(5964),G=h(6649),R=h(9974);const U=(z,Y)=>(z.push(Y),z);const ne=["ulElement"],se=["liElements"],L=(z,Y,Z,Ce)=>({matches:z,itemTemplate:Y,query:Z,$implicit:Ce}),J=(z,Y,Z,Ce)=>({item:z,index:Y,match:Z,query:Ce});function te(z,Y){}function E(z,Y){if(1&z&&i.nrm(0,"span",4),2&z){const Z=Y.match,Ce=Y.query,we=i.XpG();i.Y8G("innerHtml",we.highlight(Z,Ce),i.npT)}}function re(z,Y){if(1&z&&(i.j41(0,"h6",8),i.EFF(1),i.k0s()),2&z){const Z=i.XpG().$implicit;i.R7$(),i.JRh(Z)}}function K(z,Y){}function me(z,Y){if(1&z){const Z=i.RV6();i.j41(0,"button",9,2),i.bIt("click",function(we){i.eBV(Z);const at=i.XpG().$implicit,Be=i.XpG(2);return i.Njj(Be.selectMatch(at,we))})("mouseenter",function(){i.eBV(Z);const we=i.XpG().$implicit,at=i.XpG(2);return i.Njj(at.selectActive(we))}),i.DNE(2,K,0,0,"ng-template",3),i.k0s()}if(2&z){const Z=i.XpG(),Ce=Z.$implicit,we=Z.index,at=i.XpG(2),Be=i.sdS(2);i.AVh("active",at.isActive(Ce)),i.Y8G("id",at.popupId+"-"+we)("@typeaheadAnimation",at.animationState),i.R7$(2),i.Y8G("ngTemplateOutlet",at.itemTemplate||Be)("ngTemplateOutletContext",i.ziG(6,J,Ce.item,we,Ce,at.query))}}function Ne(z,Y){if(1&z&&i.DNE(0,re,2,1,"h6",6)(1,me,3,11,"ng-template",7),2&z){const Z=Y.$implicit;i.Y8G("ngIf",Z.isHeader()),i.R7$(),i.Y8G("ngIf",!Z.isHeader())}}function Ae(z,Y){if(1&z&&i.DNE(0,Ne,2,2,"ng-template",5),2&z){const Z=i.XpG();i.Y8G("ngForOf",Z.matches)}}const xe={\u00c1:"A",\u0102:"A",\u1eae:"A",\u1eb6:"A",\u1eb0:"A",\u1eb2:"A",\u1eb4:"A",\u01cd:"A",\u00c2:"A",\u1ea4:"A",\u1eac:"A",\u1ea6:"A",\u1ea8:"A",\u1eaa:"A",\u00c4:"A",\u01de:"A",\u0226:"A",\u01e0:"A",\u1ea0:"A",\u0200:"A",\u00c0:"A",\u1ea2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00c5:"A",\u01fa:"A",\u1e00:"A",\u023a:"A",\u00c3:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY",\u1e02:"B",\u1e04:"B",\u0181:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0106:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0108:"C",\u010a:"C",\u0187:"C",\u023b:"C",\u010e:"D",\u1e10:"D",\u1e12:"D",\u1e0a:"D",\u1e0c:"D",\u018a:"D",\u1e0e:"D",\u01f2:"D",\u01c5:"D",\u0110:"D",\u018b:"D",\u01f1:"DZ",\u01c4:"DZ",\u00c9:"E",\u0114:"E",\u011a:"E",\u0228:"E",\u1e1c:"E",\u00ca:"E",\u1ebe:"E",\u1ec6:"E",\u1ec0:"E",\u1ec2:"E",\u1ec4:"E",\u1e18:"E",\u00cb:"E",\u0116:"E",\u1eb8:"E",\u0204:"E",\u00c8:"E",\u1eba:"E",\u0206:"E",\u0112:"E",\u1e16:"E",\u1e14:"E",\u0118:"E",\u0246:"E",\u1ebc:"E",\u1e1a:"E",\ua76a:"ET",\u1e1e:"F",\u0191:"F",\u01f4:"G",\u011e:"G",\u01e6:"G",\u0122:"G",\u011c:"G",\u0120:"G",\u0193:"G",\u1e20:"G",\u01e4:"G",\u1e2a:"H",\u021e:"H",\u1e28:"H",\u0124:"H",\u2c67:"H",\u1e26:"H",\u1e22:"H",\u1e24:"H",\u0126:"H",\u00cd:"I",\u012c:"I",\u01cf:"I",\u00ce:"I",\u00cf:"I",\u1e2e:"I",\u0130:"I",\u1eca:"I",\u0208:"I",\u00cc:"I",\u1ec8:"I",\u020a:"I",\u012a:"I",\u012e:"I",\u0197:"I",\u0128:"I",\u1e2c:"I",\ua779:"D",\ua77b:"F",\ua77d:"G",\ua782:"R",\ua784:"S",\ua786:"T",\ua76c:"IS",\u0134:"J",\u0248:"J",\u1e30:"K",\u01e8:"K",\u0136:"K",\u2c69:"K",\ua742:"K",\u1e32:"K",\u0198:"K",\u1e34:"K",\ua740:"K",\ua744:"K",\u0139:"L",\u023d:"L",\u013d:"L",\u013b:"L",\u1e3c:"L",\u1e36:"L",\u1e38:"L",\u2c60:"L",\ua748:"L",\u1e3a:"L",\u013f:"L",\u2c62:"L",\u01c8:"L",\u0141:"L",\u01c7:"LJ",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1e4a:"N",\u1e44:"N",\u1e46:"N",\u01f8:"N",\u019d:"N",\u1e48:"N",\u0220:"N",\u01cb:"N",\u00d1:"N",\u01ca:"NJ",\u00d3:"O",\u014e:"O",\u01d1:"O",\u00d4:"O",\u1ed0:"O",\u1ed8:"O",\u1ed2:"O",\u1ed4:"O",\u1ed6:"O",\u00d6:"O",\u022a:"O",\u022e:"O",\u0230:"O",\u1ecc:"O",\u0150:"O",\u020c:"O",\u00d2:"O",\u1ece:"O",\u01a0:"O",\u1eda:"O",\u1ee2:"O",\u1edc:"O",\u1ede:"O",\u1ee0:"O",\u020e:"O",\ua74a:"O",\ua74c:"O",\u014c:"O",\u1e52:"O",\u1e50:"O",\u019f:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u00d5:"O",\u1e4c:"O",\u1e4e:"O",\u022c:"O",\u01a2:"OI",\ua74e:"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1e54:"P",\u1e56:"P",\ua752:"P",\u01a4:"P",\ua754:"P",\u2c63:"P",\ua750:"P",\ua758:"Q",\ua756:"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1e58:"R",\u1e5a:"R",\u1e5c:"R",\u0210:"R",\u0212:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua73e:"C",\u018e:"E",\u015a:"S",\u1e64:"S",\u0160:"S",\u1e66:"S",\u015e:"S",\u015c:"S",\u0218:"S",\u1e60:"S",\u1e62:"S",\u1e68:"S",\u0164:"T",\u0162:"T",\u1e70:"T",\u021a:"T",\u023e:"T",\u1e6a:"T",\u1e6c:"T",\u01ac:"T",\u1e6e:"T",\u01ae:"T",\u0166:"T",\u2c6f:"A",\ua780:"L",\u019c:"M",\u0245:"V",\ua728:"TZ",\u00da:"U",\u016c:"U",\u01d3:"U",\u00db:"U",\u1e76:"U",\u00dc:"U",\u01d7:"U",\u01d9:"U",\u01db:"U",\u01d5:"U",\u1e72:"U",\u1ee4:"U",\u0170:"U",\u0214:"U",\u00d9:"U",\u1ee6:"U",\u01af:"U",\u1ee8:"U",\u1ef0:"U",\u1eea:"U",\u1eec:"U",\u1eee:"U",\u0216:"U",\u016a:"U",\u1e7a:"U",\u0172:"U",\u016e:"U",\u0168:"U",\u1e78:"U",\u1e74:"U",\ua75e:"V",\u1e7e:"V",\u01b2:"V",\u1e7c:"V",\ua760:"VY",\u1e82:"W",\u0174:"W",\u1e84:"W",\u1e86:"W",\u1e88:"W",\u1e80:"W",\u2c72:"W",\u1e8c:"X",\u1e8a:"X",\u00dd:"Y",\u0176:"Y",\u0178:"Y",\u1e8e:"Y",\u1ef4:"Y",\u1ef2:"Y",\u01b3:"Y",\u1ef6:"Y",\u1efe:"Y",\u0232:"Y",\u024e:"Y",\u1ef8:"Y",\u0179:"Z",\u017d:"Z",\u1e90:"Z",\u2c6b:"Z",\u017b:"Z",\u1e92:"Z",\u0224:"Z",\u1e94:"Z",\u01b5:"Z",\u0132:"IJ",\u0152:"OE",\u1d00:"A",\u1d01:"AE",\u0299:"B",\u1d03:"B",\u1d04:"C",\u1d05:"D",\u1d07:"E",\ua730:"F",\u0262:"G",\u029b:"G",\u029c:"H",\u026a:"I",\u0281:"R",\u1d0a:"J",\u1d0b:"K",\u029f:"L",\u1d0c:"L",\u1d0d:"M",\u0274:"N",\u1d0f:"O",\u0276:"OE",\u1d10:"O",\u1d15:"OU",\u1d18:"P",\u0280:"R",\u1d0e:"N",\u1d19:"R",\ua731:"S",\u1d1b:"T",\u2c7b:"E",\u1d1a:"R",\u1d1c:"U",\u1d20:"V",\u1d21:"W",\u028f:"Y",\u1d22:"Z",\u00e1:"a",\u0103:"a",\u1eaf:"a",\u1eb7:"a",\u1eb1:"a",\u1eb3:"a",\u1eb5:"a",\u01ce:"a",\u00e2:"a",\u1ea5:"a",\u1ead:"a",\u1ea7:"a",\u1ea9:"a",\u1eab:"a",\u00e4:"a",\u01df:"a",\u0227:"a",\u01e1:"a",\u1ea1:"a",\u0201:"a",\u00e0:"a",\u1ea3:"a",\u0203:"a",\u0101:"a",\u0105:"a",\u1d8f:"a",\u1e9a:"a",\u00e5:"a",\u01fb:"a",\u1e01:"a",\u2c65:"a",\u00e3:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay",\u1e03:"b",\u1e05:"b",\u0253:"b",\u1e07:"b",\u1d6c:"b",\u1d80:"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0109:"c",\u0255:"c",\u010b:"c",\u0188:"c",\u023c:"c",\u010f:"d",\u1e11:"d",\u1e13:"d",\u0221:"d",\u1e0b:"d",\u1e0d:"d",\u0257:"d",\u1d91:"d",\u1e0f:"d",\u1d6d:"d",\u1d81:"d",\u0111:"d",\u0256:"d",\u018c:"d",\u0131:"i",\u0237:"j",\u025f:"j",\u0284:"j",\u01f3:"dz",\u01c6:"dz",\u00e9:"e",\u0115:"e",\u011b:"e",\u0229:"e",\u1e1d:"e",\u00ea:"e",\u1ebf:"e",\u1ec7:"e",\u1ec1:"e",\u1ec3:"e",\u1ec5:"e",\u1e19:"e",\u00eb:"e",\u0117:"e",\u1eb9:"e",\u0205:"e",\u00e8:"e",\u1ebb:"e",\u0207:"e",\u0113:"e",\u1e17:"e",\u1e15:"e",\u2c78:"e",\u0119:"e",\u1d92:"e",\u0247:"e",\u1ebd:"e",\u1e1b:"e",\ua76b:"et",\u1e1f:"f",\u0192:"f",\u1d6e:"f",\u1d82:"f",\u01f5:"g",\u011f:"g",\u01e7:"g",\u0123:"g",\u011d:"g",\u0121:"g",\u0260:"g",\u1e21:"g",\u1d83:"g",\u01e5:"g",\u1e2b:"h",\u021f:"h",\u1e29:"h",\u0125:"h",\u2c68:"h",\u1e27:"h",\u1e23:"h",\u1e25:"h",\u0266:"h",\u1e96:"h",\u0127:"h",\u0195:"hv",\u00ed:"i",\u012d:"i",\u01d0:"i",\u00ee:"i",\u00ef:"i",\u1e2f:"i",\u1ecb:"i",\u0209:"i",\u00ec:"i",\u1ec9:"i",\u020b:"i",\u012b:"i",\u012f:"i",\u1d96:"i",\u0268:"i",\u0129:"i",\u1e2d:"i",\ua77a:"d",\ua77c:"f",\u1d79:"g",\ua783:"r",\ua785:"s",\ua787:"t",\ua76d:"is",\u01f0:"j",\u0135:"j",\u029d:"j",\u0249:"j",\u1e31:"k",\u01e9:"k",\u0137:"k",\u2c6a:"k",\ua743:"k",\u1e33:"k",\u0199:"k",\u1e35:"k",\u1d84:"k",\ua741:"k",\ua745:"k",\u013a:"l",\u019a:"l",\u026c:"l",\u013e:"l",\u013c:"l",\u1e3d:"l",\u0234:"l",\u1e37:"l",\u1e39:"l",\u2c61:"l",\ua749:"l",\u1e3b:"l",\u0140:"l",\u026b:"l",\u1d85:"l",\u026d:"l",\u0142:"l",\u01c9:"lj",\u017f:"s",\u1e9c:"s",\u1e9b:"s",\u1e9d:"s",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u1d6f:"m",\u1d86:"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1e4b:"n",\u0235:"n",\u1e45:"n",\u1e47:"n",\u01f9:"n",\u0272:"n",\u1e49:"n",\u019e:"n",\u1d70:"n",\u1d87:"n",\u0273:"n",\u00f1:"n",\u01cc:"nj",\u00f3:"o",\u014f:"o",\u01d2:"o",\u00f4:"o",\u1ed1:"o",\u1ed9:"o",\u1ed3:"o",\u1ed5:"o",\u1ed7:"o",\u00f6:"o",\u022b:"o",\u022f:"o",\u0231:"o",\u1ecd:"o",\u0151:"o",\u020d:"o",\u00f2:"o",\u1ecf:"o",\u01a1:"o",\u1edb:"o",\u1ee3:"o",\u1edd:"o",\u1edf:"o",\u1ee1:"o",\u020f:"o",\ua74b:"o",\ua74d:"o",\u2c7a:"o",\u014d:"o",\u1e53:"o",\u1e51:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u00f5:"o",\u1e4d:"o",\u1e4f:"o",\u022d:"o",\u01a3:"oi",\ua74f:"oo",\u025b:"e",\u1d93:"e",\u0254:"o",\u1d97:"o",\u0223:"ou",\u1e55:"p",\u1e57:"p",\ua753:"p",\u01a5:"p",\u1d71:"p",\u1d88:"p",\ua755:"p",\u1d7d:"p",\ua751:"p",\ua759:"q",\u02a0:"q",\u024b:"q",\ua757:"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1e59:"r",\u1e5b:"r",\u1e5d:"r",\u0211:"r",\u027e:"r",\u1d73:"r",\u0213:"r",\u1e5f:"r",\u027c:"r",\u1d72:"r",\u1d89:"r",\u024d:"r",\u027d:"r",\u2184:"c",\ua73f:"c",\u0258:"e",\u027f:"r",\u015b:"s",\u1e65:"s",\u0161:"s",\u1e67:"s",\u015f:"s",\u015d:"s",\u0219:"s",\u1e61:"s",\u1e63:"s",\u1e69:"s",\u0282:"s",\u1d74:"s",\u1d8a:"s",\u023f:"s",\u0261:"g",\u1d11:"o",\u1d13:"o",\u1d1d:"u",\u0165:"t",\u0163:"t",\u1e71:"t",\u021b:"t",\u0236:"t",\u1e97:"t",\u2c66:"t",\u1e6b:"t",\u1e6d:"t",\u01ad:"t",\u1e6f:"t",\u1d75:"t",\u01ab:"t",\u0288:"t",\u0167:"t",\u1d7a:"th",\u0250:"a",\u1d02:"ae",\u01dd:"e",\u1d77:"g",\u0265:"h",\u02ae:"h",\u02af:"h",\u1d09:"i",\u029e:"k",\ua781:"l",\u026f:"m",\u0270:"m",\u1d14:"oe",\u0279:"r",\u027b:"r",\u027a:"r",\u2c79:"r",\u0287:"t",\u028c:"v",\u028d:"w",\u028e:"y",\ua729:"tz",\u00fa:"u",\u016d:"u",\u01d4:"u",\u00fb:"u",\u1e77:"u",\u00fc:"u",\u01d8:"u",\u01da:"u",\u01dc:"u",\u01d6:"u",\u1e73:"u",\u1ee5:"u",\u0171:"u",\u0215:"u",\u00f9:"u",\u1ee7:"u",\u01b0:"u",\u1ee9:"u",\u1ef1:"u",\u1eeb:"u",\u1eed:"u",\u1eef:"u",\u0217:"u",\u016b:"u",\u1e7b:"u",\u0173:"u",\u1d99:"u",\u016f:"u",\u0169:"u",\u1e79:"u",\u1e75:"u",\u1d6b:"ue",\ua778:"um",\u2c74:"v",\ua75f:"v",\u1e7f:"v",\u028b:"v",\u1d8c:"v",\u2c71:"v",\u1e7d:"v",\ua761:"vy",\u1e83:"w",\u0175:"w",\u1e85:"w",\u1e87:"w",\u1e89:"w",\u1e81:"w",\u2c73:"w",\u1e98:"w",\u1e8d:"x",\u1e8b:"x",\u1d8d:"x",\u00fd:"y",\u0177:"y",\u00ff:"y",\u1e8f:"y",\u1ef5:"y",\u1ef3:"y",\u01b4:"y",\u1ef7:"y",\u1eff:"y",\u0233:"y",\u1e99:"y",\u024f:"y",\u1ef9:"y",\u017a:"z",\u017e:"z",\u1e91:"z",\u0291:"z",\u2c6c:"z",\u017c:"z",\u1e93:"z",\u0225:"z",\u1e95:"z",\u1d76:"z",\u1d8e:"z",\u0290:"z",\u01b6:"z",\u0240:"z",\ufb00:"ff",\ufb03:"ffi",\ufb04:"ffl",\ufb01:"fi",\ufb02:"fl",\u0133:"ij",\u0153:"oe",\ufb06:"st",\u2090:"a",\u2091:"e",\u1d62:"i",\u2c7c:"j",\u2092:"o",\u1d63:"r",\u1d64:"u",\u1d65:"v",\u2093:"x"};class Ee{constructor(Y,Z=Y,Ce=!1){this.item=Y,this.value=Z,this.header=Ce}isHeader(){return this.header}toString(){return this.value}}function be(z){return z?z.replace(/[^A-Za-z0-9[\] ]/g,function(Y){return xe[Y]||Y}):""}function Pe(z,Y=" ",Z="",Ce){let we=[];if(Ce){const Be=z.split(new RegExp(`([${Ce}]+)`,"g")),ot=Be[Be.length-1];ot>""&&(Y&&Z?we=Ie(ot,Y,Z):we.push(ot))}else we=Ie(z,Y,Z);return we}function Ie(z,Y,Z){const Ce=[],at=z.split(new RegExp(`(?:[${Z}])([^${Z}]+)(?:[${Z}])|([^${Y}]+)`,"g")),Be=at.length;let ot;const Ft=new RegExp(`[${Z}]+`,"g");for(let mt=0;mt<Be;mt+=1)ot=at[mt],ot&&ot.length&&ot!==Y&&Ce.push(ot.replace(Ft,""));return Ce}function st(z,Y){if(!Y||"object"!=typeof z)return z.toString();if(Y.endsWith("()"))return z[Y.slice(0,Y.length-2)]().toString();const Ce=Y.replace(/\[(\w+)\]/g,".$1").replace(/^\./,"").split(".");for(const we of Ce)we in z&&(z=z[we]);return z?z.toString():""}const Oe="220ms cubic-bezier(0, 0, 0.2, 1)",pt=(0,d.hZ)("typeaheadAnimation",[(0,d.wk)("animated-down",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-down",[(0,d.iF)({height:0,overflow:"hidden"}),(0,d.i0)(Oe)]),(0,d.wk)("animated-up",(0,d.iF)({height:"*",overflow:"hidden"})),(0,d.kY)("* => animated-up",[(0,d.iF)({height:"*",overflow:"hidden"}),(0,d.i0)(Oe)]),(0,d.kY)("* => unanimated",(0,d.i0)("0s"))]);let Ye=0,qt=(()=>{class z{get typeaheadTemplateMethods(){return{selectMatch:this.selectMatch.bind(this),selectActive:this.selectActive.bind(this),isActive:this.isActive.bind(this)}}constructor(Z,Ce,we,at){this.positionService=Z,this.renderer=Ce,this.element=we,this.changeDetectorRef=at,this.activeChangeEvent=new i.bkB,this.isFocused=!1,this.positionServiceSubscription=new p.yU,this.height=0,this.popupId="ngb-typeahead-"+Ye++,this._matches=[],this.renderer.setAttribute(this.element.nativeElement,"id",this.popupId),this.positionServiceSubscription.add(this.positionService.event$?.subscribe(()=>{if(this.isAnimated)return this.animationState=this.isTopPosition?"animated-up":"animated-down",void this.changeDetectorRef.detectChanges();this.animationState="unanimated",this.changeDetectorRef.detectChanges()}))}get active(){return this._active}set active(Z){this._active=Z,this.activeChanged()}get matches(){return this._matches}set matches(Z){if(this.positionService.setOptions({modifiers:{flip:{enabled:this.adaptivePosition}},allowedPositions:["top","bottom"]}),this._matches=Z,this.needScrollbar=this.typeaheadScrollable&&this.typeaheadOptionsInScrollableView<this.matches.length,this.typeaheadScrollable&&setTimeout(()=>{this.setScrollableMode()}),this.typeaheadIsFirstItemActive&&this._matches.length>0&&(this.setActive(this._matches[0]),this._active?.isHeader()&&this.nextActiveMatch()),this._active&&!this.typeaheadIsFirstItemActive){const Ce=this._matches.find(we=>we.value===this._active?.value);if(Ce)return void this.selectActive(Ce);this.active=void 0}}get isTopPosition(){return this.element.nativeElement.classList.contains("top")}get optionsListTemplate(){return this.parent?this.parent.optionsListTemplate:void 0}get isAnimated(){return!!this.parent&&this.parent.isAnimated}get adaptivePosition(){return!!this.parent&&this.parent.adaptivePosition}get typeaheadScrollable(){return!!this.parent&&this.parent.typeaheadScrollable}get typeaheadOptionsInScrollableView(){return this.parent?this.parent.typeaheadOptionsInScrollableView:5}get typeaheadIsFirstItemActive(){return!this.parent||this.parent.typeaheadIsFirstItemActive}get itemTemplate(){return this.parent?this.parent.typeaheadItemTemplate:void 0}get canSelectItemsOnBlur(){return!!this.parent?.selectItemOnBlur}selectActiveMatch(Z){this._active&&this.parent?.typeaheadSelectFirstItem&&this.selectMatch(this._active),!this.parent?.typeaheadSelectFirstItem&&Z&&this.selectMatch(this._active)}activeChanged(){if(!this._active)return;const Z=this.matches.indexOf(this._active);this.activeChangeEvent.emit(`${this.popupId}-${Z}`)}prevActiveMatch(){if(!this._active)return;const Z=this.matches.indexOf(this._active);this.setActive(this.matches[Z-1<0?this.matches.length-1:Z-1]),this._active.isHeader()&&this.prevActiveMatch(),this.typeaheadScrollable&&this.scrollPrevious(Z)}nextActiveMatch(){const Z=this._active?this.matches.indexOf(this._active):-1;this.setActive(this.matches[Z+1>this.matches.length-1?0:Z+1]),this._active?.isHeader()&&this.nextActiveMatch(),this.typeaheadScrollable&&this.scrollNext(Z)}selectActive(Z){this.isFocused=!0,this.setActive(Z)}highlight(Z,Ce){let Be,ot,we=Z.value,at=(this.parent&&this.parent.typeaheadLatinize?be(we):we).toLowerCase();if("object"==typeof Ce){const Ft=Ce.length;for(let mt=0;mt<Ft;mt+=1)Be=at.indexOf(Ce[mt]),ot=Ce[mt].length,Be>=0&&ot>0&&(we=`${we.substring(0,Be)}<strong>${we.substring(Be,Be+ot)}</strong>${we.substring(Be+ot)}`,at=`${at.substring(0,Be)}        ${" ".repeat(ot)}         ${at.substring(Be+ot)}`)}else Ce&&(Be=at.indexOf(Ce),ot=Ce.length,Be>=0&&ot>0&&(we=`${we.substring(0,Be)}<strong>${we.substring(Be,Be+ot)}</strong>${we.substring(Be+ot)}`));return we}focusLost(){this.isFocused=!1,this.canSelectItemsOnBlur||this.setActive(void 0)}isActive(Z){return this.active===Z}selectMatch(Z,Ce){return Ce&&(Ce.stopPropagation(),Ce.preventDefault()),this.parent?.changeModel(Z),setTimeout(()=>this.parent?.typeaheadOnSelect.emit(Z),0),!1}setScrollableMode(){if(this.ulElement||(this.ulElement=this.element),this.liElements?.first){const Z=e.Aq.getStyles(this.ulElement.nativeElement),Ce=e.Aq.getStyles(this.liElements.first.nativeElement),we=parseFloat((Z["padding-bottom"]?Z["padding-bottom"]:"").replace("px","")),at=parseFloat((Z["padding-top"]?Z["padding-top"]:"0").replace("px","")),Be=parseFloat((Ce.height?Ce.height:"0").replace("px",""));this.guiHeight=`${this.typeaheadOptionsInScrollableView*Be+at+we}px`}this.renderer.setStyle(this.element.nativeElement,"visibility","visible")}scrollPrevious(Z){if(0!==Z){if(this.liElements&&this.ulElement){const Ce=this.liElements.toArray()[Z-1];Ce&&!this.isScrolledIntoView(Ce.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Ce.nativeElement.offsetTop)}}else this.scrollToBottom()}scrollNext(Z){if(Z+1>this.matches.length-1)this.scrollToTop();else if(this.liElements&&this.ulElement){const Ce=this.liElements.toArray()[Z+1];Ce&&!this.isScrolledIntoView(Ce.nativeElement)&&(this.ulElement.nativeElement.scrollTop=Ce.nativeElement.offsetTop-Number(this.ulElement.nativeElement.offsetHeight)+Number(Ce.nativeElement.offsetHeight))}}ngOnDestroy(){this.positionServiceSubscription.unsubscribe()}setActive(Z){let Ce;this._active=Z,null==this._active||this._active.isHeader()||(Ce=Z),this.parent?.typeaheadOnPreview.emit(Ce)}isScrolledIntoView(Z){if(!this.ulElement)return!1;const Ce=this.ulElement.nativeElement.scrollTop,we=Ce+Number(this.ulElement.nativeElement.offsetHeight),at=Z.offsetTop;return at+Z.offsetHeight<=we&&at>=Ce}scrollToBottom(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=this.ulElement.nativeElement.scrollHeight)}scrollToTop(){this.ulElement?.nativeElement&&(this.ulElement.nativeElement.scrollTop=0)}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(y.DF),i.rXU(i.sFG),i.rXU(i.aKT),i.rXU(i.gRc))}}static{this.\u0275cmp=i.VBU({type:z,selectors:[["typeahead-container"]],viewQuery:function(Ce,we){if(1&Ce&&(i.GBs(ne,5),i.GBs(se,5)),2&Ce){let at;i.mGM(at=i.lsd())&&(we.ulElement=at.first),i.mGM(at=i.lsd())&&(we.liElements=at)}},hostAttrs:[1,"dropdown","open","bottom","dropdown-menu",2,"position","absolute","display","block"],hostVars:7,hostBindings:function(Ce,we){1&Ce&&i.bIt("mouseleave",function(){return we.focusLost()})("blur",function(){return we.focusLost()}),2&Ce&&(i.BMQ("role","listbox"),i.xc7("height",we.needScrollbar?we.guiHeight:"auto")("visibility","inherit"),i.AVh("dropup",we.dropup))},outputs:{activeChangeEvent:"activeChange"},decls:5,vars:7,consts:[["bsItemTemplate",""],["bs4Template",""],["liElements",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"innerHtml"],["ngFor","",3,"ngForOf"],["class","dropdown-header",4,"ngIf"],[3,"ngIf"],[1,"dropdown-header"],["role","option",1,"dropdown-item",3,"click","mouseenter","id"]],template:function(Ce,we){if(1&Ce&&i.DNE(0,te,0,0,"ng-template",3)(1,E,1,1,"ng-template",null,0,i.C5r)(3,Ae,1,1,"ng-template",null,1,i.C5r),2&Ce){const at=i.sdS(2),Be=i.sdS(4);i.Y8G("ngTemplateOutlet",we.optionsListTemplate||Be)("ngTemplateOutletContext",i.ziG(2,L,we.matches,we.itemTemplate||at,we.query,we.typeaheadTemplateMethods))}},dependencies:[f.Sq,f.bT,f.T3],styles:[".dropdown[_nghost-%COMP%]{z-index:1000}.dropdown-menu[_nghost-%COMP%], .dropdown-menu[_ngcontent-%COMP%]{overflow-y:auto;height:100px}"],data:{animation:[pt]}})}}return z})(),jt=(()=>{class z{constructor(){this.adaptivePosition=!1,this.isAnimated=!1,this.hideResultsOnBlur=!0,this.cancelRequestOnFocusLost=!1,this.selectFirstItem=!0,this.isFirstItemActive=!0,this.minLength=1,this.selectItemOnBlur=!1}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275prov=i.jDH({token:z,factory:z.\u0275fac,providedIn:"root"})}}return z})(),Dt=(()=>{class z{constructor(Z,Ce,we,at,Be,ot,Ft){this.changeDetection=we,this.element=at,this.ngControl=Be,this.renderer=ot,this.typeaheadMinLength=1,this.adaptivePosition=!1,this.isAnimated=!1,this.typeaheadWaitMs=0,this.typeaheadLatinize=!0,this.typeaheadSingleWords=!0,this.typeaheadWordDelimiters=" ",this.typeaheadMultipleSearchDelimiters=",",this.typeaheadPhraseDelimiters="'\"",this.typeaheadScrollable=!1,this.typeaheadOptionsInScrollableView=5,this.typeaheadSelectFirstItem=!0,this.typeaheadIsFirstItemActive=!0,this.typeaheadLoading=new i.bkB,this.typeaheadNoResults=new i.bkB,this.typeaheadOnSelect=new i.bkB,this.typeaheadOnPreview=new i.bkB,this.typeaheadOnBlur=new i.bkB,this.dropup=!1,this.isOpen=!1,this.list="list",this.isActiveItemChanged=!1,this.isFocused=!1,this.cancelRequestOnFocusLost=!1,this.selectItemOnBlur=!1,this.keyUpEventEmitter=new i.bkB,this.placement="bottom left",this._matches=[],this._subscriptions=[],this._outsideClickListener=()=>{},this._typeahead=Z.createLoader(at,Ft,ot).provide({provide:jt,useValue:Ce}),Object.assign(this,{typeaheadHideResultsOnBlur:Ce.hideResultsOnBlur,cancelRequestOnFocusLost:Ce.cancelRequestOnFocusLost,typeaheadSelectFirstItem:Ce.selectFirstItem,typeaheadIsFirstItemActive:Ce.isFirstItemActive,typeaheadMinLength:Ce.minLength,adaptivePosition:Ce.adaptivePosition,isAnimated:Ce.isAnimated,selectItemOnBlur:Ce.selectItemOnBlur})}get matches(){return this._matches}ngOnInit(){this.typeaheadOptionsLimit=this.typeaheadOptionsLimit||20,this.typeaheadMinLength=void 0===this.typeaheadMinLength?1:this.typeaheadMinLength,void 0===this.typeaheadAsync&&!(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!1),(0,w.A)(this.typeahead)&&(this.typeaheadAsync=!0),this.typeaheadAsync?this.asyncActions():this.syncActions(),this.checkDelimitersConflict()}onInput(Z){const Ce=void 0!==Z.target.value?Z.target.value:void 0!==Z.target.textContent?Z.target.textContent:Z.target.innerText;null!=Ce&&Ce.trim().length>=this.typeaheadMinLength?(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(Z.target.value)):(this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!1),this.hide())}onChange(Z){if(this._container){if(27===Z.keyCode||"Escape"===Z.key)return void this.hide();if(38===Z.keyCode||"ArrowUp"===Z.key)return this.isActiveItemChanged=!0,void this._container.prevActiveMatch();if(40===Z.keyCode||"ArrowDown"===Z.key)return this.isActiveItemChanged=!0,void this._container.nextActiveMatch();if(13===Z.keyCode||"Enter"===Z.key)return void this._container.selectActiveMatch()}}onFocus(){this.isFocused=!0,setTimeout(()=>{0===this.typeaheadMinLength&&(this.typeaheadLoading.emit(!0),this.keyUpEventEmitter.emit(this.element.nativeElement.value||""))},0)}onBlur(){this.isFocused=!1,this._container&&!this._container.isFocused&&this.typeaheadOnBlur.emit(this._container.active),!this.container&&0===this._matches?.length&&this.typeaheadOnBlur.emit(new Ee(this.element.nativeElement.value,this.element.nativeElement.value,!1))}onKeydown(Z){if(this._container&&((9===Z.keyCode||"Tab"===Z.key)&&this.onBlur(),9===Z.keyCode||"Tab"===Z.key||13===Z.keyCode||"Enter"===Z.key)){if(Z.preventDefault(),this.typeaheadSelectFirstItem)return void this._container.selectActiveMatch();this.typeaheadSelectFirstItem||(this._container.selectActiveMatch(this.isActiveItemChanged),this.isActiveItemChanged=!1,this.hide())}}changeModel(Z){if(!Z)return;let Ce;if(this.typeaheadMultipleSearch&&this._allEnteredValue){const we=this._allEnteredValue.split(new RegExp(`([${this.typeaheadMultipleSearchDelimiters}]+)`));this._allEnteredValue=we.slice(0,we.length-1).concat(Z.value).join(""),Ce=this._allEnteredValue}else Ce=Z.value;this.ngControl.viewToModelUpdate(Ce),this.ngControl.control?.setValue(Ce),this.changeDetection.markForCheck(),this.hide()}show(){if(this._typeahead.attach(qt).to(this.container).position({attachment:(this.dropup?"top":"bottom")+" left"}).show({typeaheadRef:this,placement:this.placement,animation:!1,dropup:this.dropup}),this._outsideClickListener=this.renderer.listen("document","click",Ce=>{0===this.typeaheadMinLength&&this.element.nativeElement.contains(Ce.target)||!this.typeaheadHideResultsOnBlur||this.element.nativeElement.contains(Ce.target)||this.onOutsideClick()}),!this._typeahead.instance||!this.ngControl.control)return;this._container=this._typeahead.instance,this._container.parent=this;const Z=(this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value).toString().toLowerCase();this._container.query=this.tokenizeQuery(Z),this._container.matches=this._matches,this.element.nativeElement.focus(),this._container.activeChangeEvent.subscribe(Ce=>{this.activeDescendant=Ce,this.changeDetection.markForCheck()}),this.isOpen=!0}hide(){this._typeahead.isShown&&(this._typeahead.hide(),this._outsideClickListener(),this._container=void 0,this.isOpen=!1,this.changeDetection.markForCheck()),this.typeaheadOnPreview.emit()}onOutsideClick(){this._container&&!this._container.isFocused&&this.hide()}ngOnDestroy(){for(const Z of this._subscriptions)Z.unsubscribe();this._typeahead.dispose()}asyncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,P.B)(this.typeaheadWaitMs),(0,b.M)(Z=>this._allEnteredValue=Z),(0,M.n)(()=>this.typeahead?this.typeahead:C.w)).subscribe(Z=>{this.finalizeAsyncCall(Z)}))}syncActions(){this._subscriptions.push(this.keyUpEventEmitter.pipe((0,P.B)(this.typeaheadWaitMs),(0,k.Z)(Z=>{this._allEnteredValue=Z;const Ce=this.normalizeQuery(Z);return this.typeahead?((0,w.A)(this.typeahead)?this.typeahead:(0,m.H)(this.typeahead)).pipe((0,N.p)(at=>!!at&&this.testMatch(this.normalizeOption(at),Ce)),function $(){return(0,R.N)((z,Y)=>{(function j(z,Y){return(0,R.N)((0,G.S)(z,Y,arguments.length>=2,!1,!0))})(U,[])(z).subscribe(Y)})}()):C.w})).subscribe(Z=>{this.finalizeAsyncCall(Z)}))}normalizeOption(Z){const Ce=st(Z,this.typeaheadOptionField);return(this.typeaheadLatinize?be(Ce):Ce).toLowerCase()}tokenizeQuery(Z){let Ce=Z;return this.typeaheadMultipleSearch&&this.typeaheadSingleWords?this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters)||(Ce=Pe(Ce,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters,this.typeaheadMultipleSearchDelimiters)):Ce=this.typeaheadSingleWords?Pe(Ce,this.typeaheadWordDelimiters,this.typeaheadPhraseDelimiters):Pe(Ce,void 0,void 0,this.typeaheadMultipleSearchDelimiters),Ce}normalizeQuery(Z){let Ce=(this.typeaheadLatinize?be(Z):Z).toString().toLowerCase();return Ce=this.tokenizeQuery(Ce),Ce}testMatch(Z,Ce){let we;if("object"==typeof Ce){we=Ce.length;for(let at=0;at<we;at+=1)if(Ce[at].length>0&&Z.indexOf(Ce[at])<0)return!1;return!0}return Z.indexOf(Ce)>=0}finalizeAsyncCall(Z){if(this.prepareMatches(Z||[]),this.typeaheadLoading.emit(!1),this.typeaheadNoResults.emit(!this.hasMatches()),this.hasMatches()){if(this.isFocused||!this.cancelRequestOnFocusLost)if(this._container&&this.ngControl.control){const we=((this.typeaheadLatinize?be(this.ngControl.control.value):this.ngControl.control.value)||"").toString().toLowerCase();this._container.query=this.tokenizeQuery(we),this._container.matches=this._matches}else this.show()}else this.hide()}prepareMatches(Z){const Ce=Z.slice(0,this.typeaheadOptionsLimit),we=this.typeaheadOrderBy?this.orderMatches(Ce):Ce;if(this.typeaheadGroupField){let at=[];we.map(ot=>st(ot,this.typeaheadGroupField)).filter((ot,Ft,mt)=>mt.indexOf(ot)===Ft).forEach(ot=>{at.push(new Ee(ot,ot,!0)),at=at.concat(we.filter(Ft=>st(Ft,this.typeaheadGroupField)===ot).map(Ft=>new Ee(Ft,st(Ft,this.typeaheadOptionField))))}),this._matches=at}else this._matches=we.map(at=>new Ee(at,st(at,this.typeaheadOptionField)))}orderMatches(Z){if(!Z.length)return Z;if(null!=this.typeaheadOrderBy&&"object"==typeof this.typeaheadOrderBy&&0===Object.keys(this.typeaheadOrderBy).length)return console.error("Field and direction properties for typeaheadOrderBy have to be set according to documentation!"),Z;const{field:Ce,direction:we}=this.typeaheadOrderBy||{};return!we||"asc"!==we&&"desc"!==we?(console.error('typeaheadOrderBy direction has to equal "asc" or "desc". Please follow the documentation.'),Z):"string"==typeof Z[0]?"asc"===we?Z.sort():Z.sort().reverse():Ce&&"string"==typeof Ce?Z.sort((at,Be)=>{const ot=st(at,Ce),Ft=st(Be,Ce);return ot<Ft?"asc"===we?-1:1:ot>Ft?"asc"===we?1:-1:0}):(console.error("typeaheadOrderBy field has to set according to the documentation."),Z)}hasMatches(){return this._matches.length>0}checkDelimitersConflict(){if(this.typeaheadMultipleSearch&&this.typeaheadSingleWords&&this.haveCommonCharacters(`${this.typeaheadPhraseDelimiters}${this.typeaheadWordDelimiters}`,this.typeaheadMultipleSearchDelimiters))throw new Error(`Delimiters used in typeaheadMultipleSearchDelimiters must be different\n          from delimiters used in typeaheadWordDelimiters (current value: ${this.typeaheadWordDelimiters}) and\n          typeaheadPhraseDelimiters (current value: ${this.typeaheadPhraseDelimiters}).\n          Please refer to the documentation`)}haveCommonCharacters(Z,Ce){for(let we=0;we<Z.length;we++)if(Z.charAt(we).indexOf(Ce)>-1)return!0;return!1}static{this.\u0275fac=function(Ce){return new(Ce||z)(i.rXU(O.Li),i.rXU(jt),i.rXU(i.gRc),i.rXU(i.aKT),i.rXU(I.vO),i.rXU(i.sFG),i.rXU(i.c1b))}}static{this.\u0275dir=i.FsC({type:z,selectors:[["","typeahead",""]],hostVars:4,hostBindings:function(Ce,we){1&Ce&&i.bIt("input",function(Be){return we.onInput(Be)})("keyup",function(Be){return we.onChange(Be)})("click",function(){return we.onFocus()})("focus",function(){return we.onFocus()})("blur",function(){return we.onBlur()})("keydown",function(Be){return we.onKeydown(Be)}),2&Ce&&i.BMQ("aria-activedescendant",we.activeDescendant)("aria-owns",we.isOpen?we._container.popupId:null)("aria-expanded",we.isOpen)("aria-autocomplete",we.list)},inputs:{typeahead:"typeahead",typeaheadMinLength:"typeaheadMinLength",adaptivePosition:"adaptivePosition",isAnimated:"isAnimated",typeaheadWaitMs:"typeaheadWaitMs",typeaheadOptionsLimit:"typeaheadOptionsLimit",typeaheadOptionField:"typeaheadOptionField",typeaheadGroupField:"typeaheadGroupField",typeaheadOrderBy:"typeaheadOrderBy",typeaheadAsync:"typeaheadAsync",typeaheadLatinize:"typeaheadLatinize",typeaheadSingleWords:"typeaheadSingleWords",typeaheadWordDelimiters:"typeaheadWordDelimiters",typeaheadMultipleSearch:"typeaheadMultipleSearch",typeaheadMultipleSearchDelimiters:"typeaheadMultipleSearchDelimiters",typeaheadPhraseDelimiters:"typeaheadPhraseDelimiters",typeaheadItemTemplate:"typeaheadItemTemplate",optionsListTemplate:"optionsListTemplate",typeaheadScrollable:"typeaheadScrollable",typeaheadOptionsInScrollableView:"typeaheadOptionsInScrollableView",typeaheadHideResultsOnBlur:"typeaheadHideResultsOnBlur",typeaheadSelectFirstItem:"typeaheadSelectFirstItem",typeaheadIsFirstItemActive:"typeaheadIsFirstItemActive",container:"container",dropup:"dropup"},outputs:{typeaheadLoading:"typeaheadLoading",typeaheadNoResults:"typeaheadNoResults",typeaheadOnSelect:"typeaheadOnSelect",typeaheadOnPreview:"typeaheadOnPreview",typeaheadOnBlur:"typeaheadOnBlur"},exportAs:["bs-typeahead"]})}}return z})(),wt=(()=>{class z{static forRoot(){return{ngModule:z,providers:[O.Li,y.DF]}}static{this.\u0275fac=function(Ce){return new(Ce||z)}}static{this.\u0275mod=i.$C({type:z})}static{this.\u0275inj=i.G2t({imports:[f.MD]})}}return z})()},2806:(nt,fe,h)=>{"use strict";h.d(fe,{Al:()=>I,Aq:()=>Ne,Bu:()=>E,Fv:()=>d,GL:()=>C,Xt:()=>m,Yr:()=>me,Zu:()=>p,mc:()=>Qe,x:()=>f});var i=h(4438);class e{constructor(be,le){this.open=be,this.close=le||be}isManual(){return"manual"===this.open||"manual"===this.close}}const y={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};function p(Ee,be=y){const le=(Ee||"").trim();if(0===le.length)return[];const Pe=le.split(/\s+/).map(st=>st.split(":")).map(st=>{const Oe=be[st[0]]||st;return new e(Oe[0],Oe[1])}),Ie=Pe.filter(st=>st.isManual());if(Ie.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===Ie.length&&Pe.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return Pe}function C(Ee,be){const le=p(be.triggers),Pe=be.target;if(1===le.length&&le[0].isManual())return Function.prototype;const Ie=[],st=[],Oe=()=>{st.forEach(pt=>Ie.push(pt())),st.length=0};return le.forEach(pt=>{const Ye=pt.open===pt.close,qt=Ye?be.toggle:be.show;if(!Ye&&pt.close&&be.hide){const jt=pt.close,Dt=be.hide;st.push(()=>Ee.listen(Pe,jt,Dt))}qt&&Ie.push(Ee.listen(Pe,pt.open,()=>qt(Oe)))}),()=>{Ie.forEach(pt=>pt())}}function m(Ee,be){return be.outsideClick?Ee.listen("document","click",le=>{be.target&&be.target.contains(le.target)||be.targets&&be.targets.some(Pe=>Pe.contains(le.target))||be.hide&&be.hide()}):Function.prototype}function d(Ee,be){return be.outsideEsc?Ee.listen("document","keyup.esc",le=>{be.target&&be.target.contains(le.target)||be.targets&&be.targets.some(Pe=>Pe.contains(le.target))||be.hide&&be.hide()}):Function.prototype}const f=typeof window<"u"&&window||{},I=f.document;var $=function(Ee){return Ee.isBs4="bs4",Ee.isBs5="bs5",Ee}($||{});let ne;function se(){const Ee=f.document.createElement("span");Ee.innerText="testing bs version",Ee.classList.add("d-none"),Ee.classList.add("pl-1"),f.document.head.appendChild(Ee);const be=f.getComputedStyle(Ee).paddingLeft;return be&&parseFloat(be)?(f.document.head.removeChild(Ee),"bs4"):(f.document.head.removeChild(Ee),"bs5")}function E(){return{isBs4:(ne||(ne=se()),"bs4"===ne),isBs5:(ne||(ne=se()),"bs5"===ne)}}function me(){return function(le,Pe){const Ie=` __${Pe}Value`;Object.defineProperty(le,Pe,{get(){return this[Ie]},set(st){const Oe=this[Ie];this[Ie]=st,Oe!==st&&this[Pe+"Change"]&&this[Pe+"Change"].emit(st)}})}}class Ne{static reflow(be){}static getStyles(be){let le=be.ownerDocument.defaultView;return(!le||!le.opener)&&(le=f),le.getComputedStyle(be)}static stackOverflowConfig(){const be=function re(){const Ee=E(),be=Object.keys(Ee).find(le=>Ee[le]);return $[be]}();return{crossorigin:"anonymous",integrity:"bs5"===be?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===be?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}const Ae={},xe=typeof console>"u"||!("warn"in console);function Qe(Ee){!(0,i.naY)()||xe||Ee in Ae||(Ae[Ee]=!0,console.warn(Ee))}},5794:(nt,fe,h)=>{"use strict";h.d(fe,{_B:()=>Qe,tw:()=>me});var i=h(4438),e=h(9969),y=h(177),p=h(1413),w=h(345);const C=["toast-component",""];function m(Ie,st){if(1&Ie){const Oe=i.RV6();i.j41(0,"button",5),i.bIt("click",function(){i.eBV(Oe);const Ye=i.XpG();return i.Njj(Ye.remove())}),i.j41(1,"span",6),i.EFF(2,"\xd7"),i.k0s()()}}function d(Ie,st){if(1&Ie&&(i.qex(0),i.EFF(1),i.bVm()),2&Ie){const Oe=i.XpG(2);i.R7$(),i.SpI("[",Oe.duplicatesCount+1,"]")}}function f(Ie,st){if(1&Ie&&(i.j41(0,"div"),i.EFF(1),i.DNE(2,d,2,1,"ng-container",4),i.k0s()),2&Ie){const Oe=i.XpG();i.HbH(Oe.options.titleClass),i.BMQ("aria-label",Oe.title),i.R7$(),i.SpI(" ",Oe.title," "),i.R7$(),i.Y8G("ngIf",Oe.duplicatesCount)}}function I(Ie,st){if(1&Ie&&i.nrm(0,"div",7),2&Ie){const Oe=i.XpG();i.HbH(Oe.options.messageClass),i.Y8G("innerHTML",Oe.message,i.npT)}}function O(Ie,st){if(1&Ie&&(i.j41(0,"div",8),i.EFF(1),i.k0s()),2&Ie){const Oe=i.XpG();i.HbH(Oe.options.messageClass),i.BMQ("aria-label",Oe.message),i.R7$(),i.SpI(" ",Oe.message," ")}}function P(Ie,st){if(1&Ie&&(i.j41(0,"div"),i.nrm(1,"div",9),i.k0s()),2&Ie){const Oe=i.XpG();i.R7$(),i.xc7("width",Oe.width+"%")}}class U{_attachedHost;component;viewContainerRef;injector;constructor(st,Oe){this.component=st,this.injector=Oe}attach(st,Oe){return this._attachedHost=st,st.attach(this,Oe)}detach(){const st=this._attachedHost;if(st)return this._attachedHost=void 0,st.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(st){this._attachedHost=st}}class ${_attachedPortal;_disposeFn;attach(st,Oe){return this._attachedPortal=st,this.attachComponentPortal(st,Oe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(st){this._disposeFn=st}}class ne{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new p.B;_activate=new p.B;_manualClose=new p.B;_resetTimeout=new p.B;_countDuplicate=new p.B;constructor(st){this._overlayRef=st}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(st,Oe){st&&this._resetTimeout.next(),Oe&&this._countDuplicate.next(++this.duplicatesCount)}}class se{toastId;config;message;title;toastType;toastRef;_onTap=new p.B;_onAction=new p.B;constructor(st,Oe,pt,Ye,qt,jt){this.toastId=st,this.config=Oe,this.message=pt,this.title=Ye,this.toastType=qt,this.toastRef=jt,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(st){this._onAction.next(st)}onAction(){return this._onAction.asObservable()}}const J=new i.nKC("ToastConfig");class te extends ${_hostDomElement;_componentFactoryResolver;_appRef;constructor(st,Oe,pt){super(),this._hostDomElement=st,this._componentFactoryResolver=Oe,this._appRef=pt}attachComponentPortal(st,Oe){const pt=this._componentFactoryResolver.resolveComponentFactory(st.component);let Ye;return Ye=pt.create(st.injector),this._appRef.attachView(Ye.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ye.hostView),Ye.destroy()}),Oe?this._hostDomElement.insertBefore(this._getComponentRootNode(Ye),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ye)),Ye}_getComponentRootNode(st){return st.hostView.rootNodes[0]}}let E=(()=>{class Ie{_document=(0,i.WQX)(y.qQ);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Oe=this._document.createElement("div");Oe.classList.add("overlay-container"),Oe.setAttribute("aria-live","polite"),this._document.body.appendChild(Oe),this._containerElement=Oe}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();class re{_portalHost;constructor(st){this._portalHost=st}attach(st,Oe=!0){return this._portalHost.attach(st,Oe)}detach(){return this._portalHost.detach()}}let K=(()=>{class Ie{_overlayContainer=(0,i.WQX)(E);_componentFactoryResolver=(0,i.WQX)(i.OM3);_appRef=(0,i.WQX)(i.o8S);_document=(0,i.WQX)(y.qQ);_paneElements=new Map;create(Oe,pt){return this._createOverlayRef(this.getPaneElement(Oe,pt))}getPaneElement(Oe="",pt){return this._paneElements.get(pt)||this._paneElements.set(pt,{}),this._paneElements.get(pt)[Oe]||(this._paneElements.get(pt)[Oe]=this._createPaneElement(Oe,pt)),this._paneElements.get(pt)[Oe]}_createPaneElement(Oe,pt){const Ye=this._document.createElement("div");return Ye.id="toast-container",Ye.classList.add(Oe),Ye.classList.add("toast-container"),pt?pt.getContainerElement().appendChild(Ye):this._overlayContainer.getContainerElement().appendChild(Ye),Ye}_createPortalHost(Oe){return new te(Oe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Oe){return new re(this._createPortalHost(Oe))}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})(),me=(()=>{class Ie{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(Oe,pt,Ye,qt,jt){this.overlay=pt,this._injector=Ye,this.sanitizer=qt,this.ngZone=jt,this.toastrConfig={...Oe.default,...Oe.config},Oe.config.iconClasses&&(this.toastrConfig.iconClasses={...Oe.default.iconClasses,...Oe.config.iconClasses})}show(Oe,pt,Ye={},qt=""){return this._preBuildNotification(qt,Oe,pt,this.applyConfig(Ye))}success(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Oe,pt,this.applyConfig(Ye))}error(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Oe,pt,this.applyConfig(Ye))}info(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Oe,pt,this.applyConfig(Ye))}warning(Oe,pt,Ye={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Oe,pt,this.applyConfig(Ye))}clear(Oe){for(const pt of this.toasts)if(void 0!==Oe){if(pt.toastId===Oe)return void pt.toastRef.manualClose()}else pt.toastRef.manualClose()}remove(Oe){const pt=this._findToast(Oe);if(!pt||(pt.activeToast.toastRef.close(),this.toasts.splice(pt.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ye=this.toasts[this.currentlyActive].toastRef;Ye.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ye.activate())}return!0}findDuplicate(Oe="",pt="",Ye,qt){const{includeTitleDuplicates:jt}=this.toastrConfig;for(const Dt of this.toasts)if((!jt||jt&&Dt.title===Oe)&&Dt.message===pt)return Dt.toastRef.onDuplicate(Ye,qt),Dt;return null}applyConfig(Oe={}){return{...this.toastrConfig,...Oe}}_findToast(Oe){for(let pt=0;pt<this.toasts.length;pt++)if(this.toasts[pt].toastId===Oe)return{index:pt,activeToast:this.toasts[pt]};return null}_preBuildNotification(Oe,pt,Ye,qt){return qt.onActivateTick?this.ngZone.run(()=>this._buildNotification(Oe,pt,Ye,qt)):this._buildNotification(Oe,pt,Ye,qt)}_buildNotification(Oe,pt,Ye,qt){if(!qt.toastComponent)throw new Error("toastComponent required");const jt=this.findDuplicate(Ye,pt,this.toastrConfig.resetTimeoutOnDuplicate&&qt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ye||pt)&&this.toastrConfig.preventDuplicates&&null!==jt)return jt;this.previousToastMessage=pt;let Dt=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(Dt=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const wt=this.overlay.create(qt.positionClass,this.overlayContainer);this.index=this.index+1;let z=pt;pt&&qt.enableHtml&&(z=this.sanitizer.sanitize(i.WPN.HTML,pt));const Y=new ne(wt),Z=new se(this.index,qt,z,Ye,Oe,Y),we=i.zZn.create({providers:[{provide:se,useValue:Z}],parent:this._injector}),at=new U(qt.toastComponent,we),Be=wt.attach(at,qt.newestOnTop);Y.componentInstance=Be.instance;const ot={toastId:this.index,title:Ye||"",message:pt||"",toastRef:Y,onShown:Y.afterActivate(),onHidden:Y.afterClosed(),onTap:Z.onTap(),onAction:Z.onAction(),portal:Be};return Dt||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ot.toastRef.activate()})),this.toasts.push(ot),ot}static \u0275fac=function(pt){return new(pt||Ie)(i.KVO(J),i.KVO(K),i.KVO(i.zZn),i.KVO(w.up),i.KVO(i.SKi))};static \u0275prov=i.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"root"})}return Ie})();const Ae={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class Ie{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(Oe,pt,Ye){this.toastrService=Oe,this.toastPackage=pt,this.ngZone=Ye,this.message=pt.message,this.title=pt.title,this.options=pt.config,this.originalTimeout=pt.config.timeOut,this.toastClasses=`${pt.toastType} ${pt.config.toastClass}`,this.sub=pt.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=pt.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=pt.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=pt.toastRef.countDuplicate().subscribe(qt=>{this.duplicatesCount=qt}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Oe=(new Date).getTime();this.width=(this.hideTime-Oe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Oe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Oe),pt)):this.timeout=setTimeout(()=>Oe(),pt)}outsideInterval(Oe,pt){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Oe),pt)):this.intervalId=setInterval(()=>Oe(),pt)}runInsideAngular(Oe){this.ngZone?this.ngZone.run(()=>Oe()):Oe()}static \u0275fac=function(pt){return new(pt||Ie)(i.rXU(me),i.rXU(se),i.rXU(i.SKi))};static \u0275cmp=i.VBU({type:Ie,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(pt,Ye){1&pt&&i.bIt("click",function(){return Ye.tapToast()})("mouseenter",function(){return Ye.stickAround()})("mouseleave",function(){return Ye.delayedHideToast()}),2&pt&&(i.zvX("@flyInOut",Ye.state),i.HbH(Ye.toastClasses),i.xc7("display",Ye.displayStyle))},standalone:!0,features:[i.aNF],attrs:C,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(pt,Ye){1&pt&&i.DNE(0,m,3,0,"button",0)(1,f,3,5,"div",1)(2,I,1,3,"div",2)(3,O,2,4,"div",3)(4,P,2,2,"div",4),2&pt&&(i.Y8G("ngIf",Ye.options.closeButton),i.R7$(),i.Y8G("ngIf",Ye.title),i.R7$(),i.Y8G("ngIf",Ye.message&&Ye.options.enableHtml),i.R7$(),i.Y8G("ngIf",Ye.message&&!Ye.options.enableHtml),i.R7$(),i.Y8G("ngIf",Ye.options.progressBar))},dependencies:[y.bT],encapsulation:2,data:{animation:[(0,e.hZ)("flyInOut",[(0,e.wk)("inactive",(0,e.iF)({opacity:0})),(0,e.wk)("active",(0,e.iF)({opacity:1})),(0,e.wk)("removed",(0,e.iF)({opacity:0})),(0,e.kY)("inactive => active",(0,e.i0)("{{ easeTime }}ms {{ easing }}")),(0,e.kY)("active => removed",(0,e.i0)("{{ easeTime }}ms {{ easing }}"))])]}})}return Ie})()},xe=(Ie={})=>(0,i.EmA)([{provide:J,useValue:{default:Ae,config:Ie}}]);let Qe=(()=>{class Ie{static forRoot(Oe={}){return{ngModule:Ie,providers:[xe(Oe)]}}static \u0275fac=function(pt){return new(pt||Ie)};static \u0275mod=i.$C({type:Ie});static \u0275inj=i.G2t({})}return Ie})()},1068:(nt,fe,h)=>{"use strict";h.d(fe,{gR:()=>_r,R9:()=>Br,I6:()=>Vr,SL:()=>$n,zN:()=>Ts,sb:()=>zr,Am:()=>zr,FF:()=>jr});var i={};h.r(i),h.d(i,{VERSION:()=>e,after:()=>yr,all:()=>wo,allKeys:()=>cn,any:()=>Ts,assign:()=>ht,before:()=>Ni,bind:()=>lr,bindAll:()=>Ys,chain:()=>Ui,chunk:()=>Lt,clone:()=>yn,collect:()=>Kn,compact:()=>gr,compose:()=>vr,constant:()=>Ce,contains:()=>_r,countBy:()=>Nr,create:()=>bn,debounce:()=>vs,default:()=>as,defaults:()=>kt,defer:()=>_i,delay:()=>Bs,detect:()=>Vr,difference:()=>Br,drop:()=>Kr,each:()=>tr,escape:()=>ut,every:()=>wo,extend:()=>Mt,extendOwn:()=>ht,filter:()=>is,find:()=>Vr,findIndex:()=>$n,findKey:()=>ui,findLastIndex:()=>Qr,findWhere:()=>er,first:()=>ci,flatten:()=>Gs,foldl:()=>cr,foldr:()=>kr,forEach:()=>tr,functions:()=>hi,get:()=>mi,groupBy:()=>Mo,has:()=>ii,head:()=>ci,identity:()=>Pi,include:()=>_r,includes:()=>_r,indexBy:()=>Is,indexOf:()=>Er,initial:()=>Ds,inject:()=>cr,intersection:()=>ys,invert:()=>fn,invoke:()=>rs,isArguments:()=>z,isArray:()=>jt,isArrayBuffer:()=>Ee,isBoolean:()=>te,isDataView:()=>qt,isDate:()=>Ne,isElement:()=>E,isEmpty:()=>je,isEqual:()=>Bt,isError:()=>xe,isFinite:()=>Y,isFunction:()=>Pe,isMap:()=>Ct,isMatch:()=>ce,isNaN:()=>Z,isNull:()=>L,isNumber:()=>me,isObject:()=>se,isRegExp:()=>Ae,isSet:()=>Ot,isString:()=>K,isSymbol:()=>Qe,isTypedArray:()=>it,isUndefined:()=>J,isWeakMap:()=>yt,isWeakSet:()=>tn,iteratee:()=>$i,keys:()=>Jt,last:()=>$s,lastIndexOf:()=>xr,map:()=>Kn,mapObject:()=>et,matcher:()=>Qn,matches:()=>Qn,max:()=>Zr,memoize:()=>gs,methods:()=>hi,min:()=>vo,mixin:()=>Di,negate:()=>Ls,noop:()=>At,now:()=>Yt,object:()=>he,omit:()=>Ra,once:()=>Xs,pairs:()=>Un,partial:()=>li,partition:()=>sr,pick:()=>lo,pluck:()=>ss,property:()=>Ti,propertyOf:()=>Ke,random:()=>ct,range:()=>qe,reduce:()=>cr,reduceRight:()=>kr,reject:()=>so,rest:()=>Kr,restArguments:()=>ne,result:()=>ai,sample:()=>Bo,select:()=>is,shuffle:()=>Qo,size:()=>Or,some:()=>Ts,sortBy:()=>oo,sortedIndex:()=>mr,tail:()=>Kr,take:()=>ci,tap:()=>Jn,template:()=>Vn,templateSettings:()=>ye,throttle:()=>js,times:()=>zt,toArray:()=>qr,toPath:()=>An,transpose:()=>ke,unescape:()=>De,union:()=>vn,uniq:()=>zr,unique:()=>zr,uniqueId:()=>ri,unzip:()=>ke,values:()=>In,where:()=>Aa,without:()=>jr,wrap:()=>wr,zip:()=>Ue});var e="1.13.6",y="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},p=Array.prototype,w=Object.prototype,C=typeof Symbol<"u"?Symbol.prototype:null,m=p.push,d=p.slice,f=w.toString,I=w.hasOwnProperty,O=typeof ArrayBuffer<"u",P=typeof DataView<"u",b=Array.isArray,M=Object.keys,k=Object.create,N=O&&ArrayBuffer.isView,G=isNaN,R=isFinite,j=!{toString:null}.propertyIsEnumerable("toString"),U=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],$=Math.pow(2,53)-1;function ne(Re,Je){return Je=null==Je?Re.length-1:+Je,function(){for(var Et=Math.max(arguments.length-Je,0),xt=Array(Et),Ut=0;Ut<Et;Ut++)xt[Ut]=arguments[Ut+Je];switch(Je){case 0:return Re.call(this,xt);case 1:return Re.call(this,arguments[0],xt);case 2:return Re.call(this,arguments[0],arguments[1],xt)}var St=Array(Je+1);for(Ut=0;Ut<Je;Ut++)St[Ut]=arguments[Ut];return St[Je]=xt,Re.apply(this,St)}}function se(Re){var Je=typeof Re;return"function"===Je||"object"===Je&&!!Re}function L(Re){return null===Re}function J(Re){return void 0===Re}function te(Re){return!0===Re||!1===Re||"[object Boolean]"===f.call(Re)}function E(Re){return!(!Re||1!==Re.nodeType)}function re(Re){var Je="[object "+Re+"]";return function(Et){return f.call(Et)===Je}}const K=re("String"),me=re("Number"),Ne=re("Date"),Ae=re("RegExp"),xe=re("Error"),Qe=re("Symbol"),Ee=re("ArrayBuffer");var be=re("Function");"object"!=typeof Int8Array&&"function"!=typeof(y.document&&y.document.childNodes)&&(be=function(Re){return"function"==typeof Re||!1});const Pe=be,Ie=re("Object");var st=P&&Ie(new DataView(new ArrayBuffer(8))),Oe=typeof Map<"u"&&Ie(new Map),pt=re("DataView");const qt=st?function Ye(Re){return null!=Re&&Pe(Re.getInt8)&&Ee(Re.buffer)}:pt,jt=b||re("Array");function Dt(Re,Je){return null!=Re&&I.call(Re,Je)}var wt=re("Arguments");!function(){wt(arguments)||(wt=function(Re){return Dt(Re,"callee")})}();const z=wt;function Y(Re){return!Qe(Re)&&R(Re)&&!isNaN(parseFloat(Re))}function Z(Re){return me(Re)&&G(Re)}function Ce(Re){return function(){return Re}}function we(Re){return function(Je){var Et=Re(Je);return"number"==typeof Et&&Et>=0&&Et<=$}}function at(Re){return function(Je){return Je?.[Re]}}const Be=at("byteLength"),ot=we(Be);var Ft=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const it=O?function mt(Re){return N?N(Re)&&!qt(Re):ot(Re)&&Ft.test(f.call(Re))}:Ce(!1),Kt=at("length");function Pt(Re,Je){Je=function on(Re){for(var Je={},Et=Re.length,xt=0;xt<Et;++xt)Je[Re[xt]]=!0;return{contains:function(Ut){return!0===Je[Ut]},push:function(Ut){return Je[Ut]=!0,Re.push(Ut)}}}(Je);var Et=U.length,xt=Re.constructor,Ut=Pe(xt)&&xt.prototype||w,St="constructor";for(Dt(Re,St)&&!Je.contains(St)&&Je.push(St);Et--;)(St=U[Et])in Re&&Re[St]!==Ut[St]&&!Je.contains(St)&&Je.push(St)}function Jt(Re){if(!se(Re))return[];if(M)return M(Re);var Je=[];for(var Et in Re)Dt(Re,Et)&&Je.push(Et);return j&&Pt(Re,Je),Je}function je(Re){if(null==Re)return!0;var Je=Kt(Re);return"number"==typeof Je&&(jt(Re)||K(Re)||z(Re))?0===Je:0===Kt(Jt(Re))}function ce(Re,Je){var Et=Jt(Je),xt=Et.length;if(null==Re)return!xt;for(var Ut=Object(Re),St=0;St<xt;St++){var pn=Et[St];if(Je[pn]!==Ut[pn]||!(pn in Ut))return!1}return!0}function X(Re){return Re instanceof X?Re:this instanceof X?void(this._wrapped=Re):new X(Re)}function oe(Re){return new Uint8Array(Re.buffer||Re,Re.byteOffset||0,Be(Re))}X.VERSION=e,X.prototype.valueOf=X.prototype.toJSON=X.prototype.value=function(){return this._wrapped},X.prototype.toString=function(){return String(this._wrapped)};var Ve="[object DataView]";function tt(Re,Je,Et,xt){if(Re===Je)return 0!==Re||1/Re==1/Je;if(null==Re||null==Je)return!1;if(Re!=Re)return Je!=Je;var Ut=typeof Re;return("function"===Ut||"object"===Ut||"object"==typeof Je)&&gt(Re,Je,Et,xt)}function gt(Re,Je,Et,xt){Re instanceof X&&(Re=Re._wrapped),Je instanceof X&&(Je=Je._wrapped);var Ut=f.call(Re);if(Ut!==f.call(Je))return!1;if(st&&"[object Object]"==Ut&&qt(Re)){if(!qt(Je))return!1;Ut=Ve}switch(Ut){case"[object RegExp]":case"[object String]":return""+Re==""+Je;case"[object Number]":return+Re!=+Re?+Je!=+Je:0==+Re?1/+Re==1/Je:+Re==+Je;case"[object Date]":case"[object Boolean]":return+Re==+Je;case"[object Symbol]":return C.valueOf.call(Re)===C.valueOf.call(Je);case"[object ArrayBuffer]":case Ve:return gt(oe(Re),oe(Je),Et,xt)}var St="[object Array]"===Ut;if(!St&&it(Re)){if(Be(Re)!==Be(Je))return!1;if(Re.buffer===Je.buffer&&Re.byteOffset===Je.byteOffset)return!0;St=!0}if(!St){if("object"!=typeof Re||"object"!=typeof Je)return!1;var en=Re.constructor,qn=Je.constructor;if(en!==qn&&!(Pe(en)&&en instanceof en&&Pe(qn)&&qn instanceof qn)&&"constructor"in Re&&"constructor"in Je)return!1}xt=xt||[];for(var Nn=(Et=Et||[]).length;Nn--;)if(Et[Nn]===Re)return xt[Nn]===Je;if(Et.push(Re),xt.push(Je),St){if((Nn=Re.length)!==Je.length)return!1;for(;Nn--;)if(!tt(Re[Nn],Je[Nn],Et,xt))return!1}else{var Lr,Gn=Jt(Re);if(Nn=Gn.length,Jt(Je).length!==Nn)return!1;for(;Nn--;)if(!Dt(Je,Lr=Gn[Nn])||!tt(Re[Lr],Je[Lr],Et,xt))return!1}return Et.pop(),xt.pop(),!0}function Bt(Re,Je){return tt(Re,Je)}function cn(Re){if(!se(Re))return[];var Je=[];for(var Et in Re)Je.push(Et);return j&&Pt(Re,Je),Je}function hn(Re){var Je=Kt(Re);return function(Et){if(null==Et)return!1;var xt=cn(Et);if(Kt(xt))return!1;for(var Ut=0;Ut<Je;Ut++)if(!Pe(Et[Re[Ut]]))return!1;return Re!==Ht||!Pe(Et[Mn])}}var Mn="forEach",Bn=["clear","delete"],It=["get","has","set"],Rn=Bn.concat(Mn,It),Ht=Bn.concat(It),lt=["add"].concat(Bn,Mn,"has");const Ct=Oe?hn(Rn):re("Map"),yt=Oe?hn(Ht):re("WeakMap"),Ot=Oe?hn(lt):re("Set"),tn=re("WeakSet");function In(Re){for(var Je=Jt(Re),Et=Je.length,xt=Array(Et),Ut=0;Ut<Et;Ut++)xt[Ut]=Re[Je[Ut]];return xt}function Un(Re){for(var Je=Jt(Re),Et=Je.length,xt=Array(Et),Ut=0;Ut<Et;Ut++)xt[Ut]=[Je[Ut],Re[Je[Ut]]];return xt}function fn(Re){for(var Je={},Et=Jt(Re),xt=0,Ut=Et.length;xt<Ut;xt++)Je[Re[Et[xt]]]=Et[xt];return Je}function hi(Re){var Je=[];for(var Et in Re)Pe(Re[Et])&&Je.push(Et);return Je.sort()}function Hn(Re,Je){return function(Et){var xt=arguments.length;if(Je&&(Et=Object(Et)),xt<2||null==Et)return Et;for(var Ut=1;Ut<xt;Ut++)for(var St=arguments[Ut],pn=Re(St),en=pn.length,qn=0;qn<en;qn++){var Nn=pn[qn];(!Je||void 0===Et[Nn])&&(Et[Nn]=St[Nn])}return Et}}const Mt=Hn(cn),ht=Hn(Jt),kt=Hn(cn,!0);function sn(Re){if(!se(Re))return{};if(k)return k(Re);var Je=function(){};Je.prototype=Re;var Et=new Je;return Je.prototype=null,Et}function bn(Re,Je){var Et=sn(Re);return Je&&ht(Et,Je),Et}function yn(Re){return se(Re)?jt(Re)?Re.slice():Mt({},Re):Re}function Jn(Re,Je){return Je(Re),Re}function An(Re){return jt(Re)?Re:[Re]}function gn(Re){return X.toPath(Re)}function di(Re,Je){for(var Et=Je.length,xt=0;xt<Et;xt++){if(null==Re)return;Re=Re[Je[xt]]}return Et?Re:void 0}function mi(Re,Je,Et){var xt=di(Re,gn(Je));return J(xt)?Et:xt}function ii(Re,Je){for(var Et=(Je=gn(Je)).length,xt=0;xt<Et;xt++){var Ut=Je[xt];if(!Dt(Re,Ut))return!1;Re=Re[Ut]}return!!Et}function Pi(Re){return Re}function Qn(Re){return Re=ht({},Re),function(Je){return ce(Je,Re)}}function Ti(Re){return Re=gn(Re),function(Je){return di(Je,Re)}}function gi(Re,Je,Et){if(void 0===Je)return Re;switch(Et??3){case 1:return function(xt){return Re.call(Je,xt)};case 3:return function(xt,Ut,St){return Re.call(Je,xt,Ut,St)};case 4:return function(xt,Ut,St,pn){return Re.call(Je,xt,Ut,St,pn)}}return function(){return Re.apply(Je,arguments)}}function Hi(Re,Je,Et){return null==Re?Pi:Pe(Re)?gi(Re,Je,Et):se(Re)&&!jt(Re)?Qn(Re):Ti(Re)}function $i(Re,Je){return Hi(Re,Je,1/0)}function Ii(Re,Je,Et){return X.iteratee!==$i?X.iteratee(Re,Je):Hi(Re,Je,Et)}function et(Re,Je,Et){Je=Ii(Je,Et);for(var xt=Jt(Re),Ut=xt.length,St={},pn=0;pn<Ut;pn++){var en=xt[pn];St[en]=Je(Re[en],en,Re)}return St}function At(){}function Ke(Re){return null==Re?At:function(Je){return mi(Re,Je)}}function zt(Re,Je,Et){var xt=Array(Math.max(0,Re));Je=gi(Je,Et,1);for(var Ut=0;Ut<Re;Ut++)xt[Ut]=Je(Ut);return xt}function ct(Re,Je){return null==Je&&(Je=Re,Re=0),Re+Math.floor(Math.random()*(Je-Re+1))}X.toPath=An,X.iteratee=$i;const Yt=Date.now||function(){return(new Date).getTime()};function Xe(Re){var Je=function(St){return Re[St]},Et="(?:"+Jt(Re).join("|")+")",xt=RegExp(Et),Ut=RegExp(Et,"g");return function(St){return xt.test(St=null==St?"":""+St)?St.replace(Ut,Je):St}}const Zt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ut=Xe(Zt),De=Xe(fn(Zt)),ye=X.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ft=/(.)^/,ze={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Tt=/\\|'|\r|\n|\u2028|\u2029/g;function vt(Re){return"\\"+ze[Re]}var Xt=/^\s*(\w|\$)+\s*$/;function Vn(Re,Je,Et){!Je&&Et&&(Je=Et),Je=kt({},Je,X.templateSettings);var xt=RegExp([(Je.escape||ft).source,(Je.interpolate||ft).source,(Je.evaluate||ft).source].join("|")+"|$","g"),Ut=0,St="__p+='";Re.replace(xt,function(Nn,Gn,Lr,Ai,As){return St+=Re.slice(Ut,As).replace(Tt,vt),Ut=As+Nn.length,Gn?St+="'+\n((__t=("+Gn+"))==null?'':_.escape(__t))+\n'":Lr?St+="'+\n((__t=("+Lr+"))==null?'':__t)+\n'":Ai&&(St+="';\n"+Ai+"\n__p+='"),Nn}),St+="';\n";var en,pn=Je.variable;if(pn){if(!Xt.test(pn))throw new Error("variable is not a bare identifier: "+pn)}else St="with(obj||{}){\n"+St+"}\n",pn="obj";St="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+St+"return __p;\n";try{en=new Function(pn,"_",St)}catch(Nn){throw Nn.source=St,Nn}var qn=function(Nn){return en.call(this,Nn,X)};return qn.source="function("+pn+"){\n"+St+"}",qn}function ai(Re,Je,Et){var xt=(Je=gn(Je)).length;if(!xt)return Pe(Et)?Et.call(Re):Et;for(var Ut=0;Ut<xt;Ut++){var St=Re?.[Je[Ut]];void 0===St&&(St=Et,Ut=xt),Re=Pe(St)?St.call(Re):St}return Re}var yi=0;function ri(Re){var Je=++yi+"";return Re?Re+Je:Je}function Ui(Re){var Je=X(Re);return Je._chain=!0,Je}function hr(Re,Je,Et,xt,Ut){if(!(xt instanceof Je))return Re.apply(Et,Ut);var St=sn(Re.prototype),pn=Re.apply(St,Ut);return se(pn)?pn:St}var Wn=ne(function(Re,Je){var Et=Wn.placeholder,xt=function(){for(var Ut=0,St=Je.length,pn=Array(St),en=0;en<St;en++)pn[en]=Je[en]===Et?arguments[Ut++]:Je[en];for(;Ut<arguments.length;)pn.push(arguments[Ut++]);return hr(Re,xt,this,this,pn)};return xt});Wn.placeholder=X;const li=Wn,lr=ne(function(Re,Je,Et){if(!Pe(Re))throw new TypeError("Bind must be called on a function");var xt=ne(function(Ut){return hr(Re,xt,Je,this,Et.concat(Ut))});return xt}),xi=we(Kt);function Mr(Re,Je,Et,xt){if(xt=xt||[],Je||0===Je){if(Je<=0)return xt.concat(Re)}else Je=1/0;for(var Ut=xt.length,St=0,pn=Kt(Re);St<pn;St++){var en=Re[St];if(xi(en)&&(jt(en)||z(en)))if(Je>1)Mr(en,Je-1,Et,xt),Ut=xt.length;else for(var qn=0,Nn=en.length;qn<Nn;)xt[Ut++]=en[qn++];else Et||(xt[Ut++]=en)}return xt}const Ys=ne(function(Re,Je){var Et=(Je=Mr(Je,!1,!1)).length;if(Et<1)throw new Error("bindAll must be passed function names");for(;Et--;){var xt=Je[Et];Re[xt]=lr(Re[xt],Re)}return Re});function gs(Re,Je){var Et=function(xt){var Ut=Et.cache,St=""+(Je?Je.apply(this,arguments):xt);return Dt(Ut,St)||(Ut[St]=Re.apply(this,arguments)),Ut[St]};return Et.cache={},Et}const Bs=ne(function(Re,Je,Et){return setTimeout(function(){return Re.apply(null,Et)},Je)}),_i=li(Bs,X,1);function js(Re,Je,Et){var xt,Ut,St,pn,en=0;Et||(Et={});var qn=function(){en=!1===Et.leading?0:Yt(),xt=null,pn=Re.apply(Ut,St),xt||(Ut=St=null)},Nn=function(){var Gn=Yt();!en&&!1===Et.leading&&(en=Gn);var Lr=Je-(Gn-en);return Ut=this,St=arguments,Lr<=0||Lr>Je?(xt&&(clearTimeout(xt),xt=null),en=Gn,pn=Re.apply(Ut,St),xt||(Ut=St=null)):!xt&&!1!==Et.trailing&&(xt=setTimeout(qn,Lr)),pn};return Nn.cancel=function(){clearTimeout(xt),en=0,xt=Ut=St=null},Nn}function vs(Re,Je,Et){var xt,Ut,St,pn,en,qn=function(){var Gn=Yt()-Ut;Je>Gn?xt=setTimeout(qn,Je-Gn):(xt=null,Et||(pn=Re.apply(en,St)),xt||(St=en=null))},Nn=ne(function(Gn){return en=this,St=Gn,Ut=Yt(),xt||(xt=setTimeout(qn,Je),Et&&(pn=Re.apply(en,St))),pn});return Nn.cancel=function(){clearTimeout(xt),xt=St=en=null},Nn}function wr(Re,Je){return li(Je,Re)}function Ls(Re){return function(){return!Re.apply(this,arguments)}}function vr(){var Re=arguments,Je=Re.length-1;return function(){for(var Et=Je,xt=Re[Je].apply(this,arguments);Et--;)xt=Re[Et].call(this,xt);return xt}}function yr(Re,Je){return function(){if(--Re<1)return Je.apply(this,arguments)}}function Ni(Re,Je){var Et;return function(){return--Re>0&&(Et=Je.apply(this,arguments)),Re<=1&&(Je=null),Et}}const Xs=li(Ni,2);function ui(Re,Je,Et){Je=Ii(Je,Et);for(var Ut,xt=Jt(Re),St=0,pn=xt.length;St<pn;St++)if(Je(Re[Ut=xt[St]],Ut,Re))return Ut}function Jo(Re){return function(Je,Et,xt){Et=Ii(Et,xt);for(var Ut=Kt(Je),St=Re>0?0:Ut-1;St>=0&&St<Ut;St+=Re)if(Et(Je[St],St,Je))return St;return-1}}const $n=Jo(1),Qr=Jo(-1);function mr(Re,Je,Et,xt){for(var Ut=(Et=Ii(Et,xt,1))(Je),St=0,pn=Kt(Re);St<pn;){var en=Math.floor((St+pn)/2);Et(Re[en])<Ut?St=en+1:pn=en}return St}function Sr(Re,Je,Et){return function(xt,Ut,St){var pn=0,en=Kt(xt);if("number"==typeof St)Re>0?pn=St>=0?St:Math.max(St+en,pn):en=St>=0?Math.min(St+1,en):St+en+1;else if(Et&&St&&en)return xt[St=Et(xt,Ut)]===Ut?St:-1;if(Ut!=Ut)return(St=Je(d.call(xt,pn,en),Z))>=0?St+pn:-1;for(St=Re>0?pn:en-1;St>=0&&St<en;St+=Re)if(xt[St]===Ut)return St;return-1}}const Er=Sr(1,$n,mr),xr=Sr(-1,Qr);function Vr(Re,Je,Et){var Ut=(xi(Re)?$n:ui)(Re,Je,Et);if(void 0!==Ut&&-1!==Ut)return Re[Ut]}function er(Re,Je){return Vr(Re,Qn(Je))}function tr(Re,Je,Et){var xt,Ut;if(Je=gi(Je,Et),xi(Re))for(xt=0,Ut=Re.length;xt<Ut;xt++)Je(Re[xt],xt,Re);else{var St=Jt(Re);for(xt=0,Ut=St.length;xt<Ut;xt++)Je(Re[St[xt]],St[xt],Re)}return Re}function Kn(Re,Je,Et){Je=Ii(Je,Et);for(var xt=!xi(Re)&&Jt(Re),Ut=(xt||Re).length,St=Array(Ut),pn=0;pn<Ut;pn++){var en=xt?xt[pn]:pn;St[pn]=Je(Re[en],en,Re)}return St}function Wr(Re){return function(Et,xt,Ut,St){var pn=arguments.length>=3;return function(Et,xt,Ut,St){var pn=!xi(Et)&&Jt(Et),en=(pn||Et).length,qn=Re>0?0:en-1;for(St||(Ut=Et[pn?pn[qn]:qn],qn+=Re);qn>=0&&qn<en;qn+=Re){var Nn=pn?pn[qn]:qn;Ut=xt(Ut,Et[Nn],Nn,Et)}return Ut}(Et,gi(xt,St,4),Ut,pn)}}const cr=Wr(1),kr=Wr(-1);function is(Re,Je,Et){var xt=[];return Je=Ii(Je,Et),tr(Re,function(Ut,St,pn){Je(Ut,St,pn)&&xt.push(Ut)}),xt}function so(Re,Je,Et){return is(Re,Ls(Ii(Je)),Et)}function wo(Re,Je,Et){Je=Ii(Je,Et);for(var xt=!xi(Re)&&Jt(Re),Ut=(xt||Re).length,St=0;St<Ut;St++){var pn=xt?xt[St]:St;if(!Je(Re[pn],pn,Re))return!1}return!0}function Ts(Re,Je,Et){Je=Ii(Je,Et);for(var xt=!xi(Re)&&Jt(Re),Ut=(xt||Re).length,St=0;St<Ut;St++){var pn=xt?xt[St]:St;if(Je(Re[pn],pn,Re))return!0}return!1}function _r(Re,Je,Et,xt){return xi(Re)||(Re=In(Re)),("number"!=typeof Et||xt)&&(Et=0),Er(Re,Je,Et)>=0}const rs=ne(function(Re,Je,Et){var xt,Ut;return Pe(Je)?Ut=Je:(Je=gn(Je),xt=Je.slice(0,-1),Je=Je[Je.length-1]),Kn(Re,function(St){var pn=Ut;if(!pn){if(xt&&xt.length&&(St=di(St,xt)),null==St)return;pn=St[Je]}return null==pn?pn:pn.apply(St,Et)})});function ss(Re,Je){return Kn(Re,Ti(Je))}function Aa(Re,Je){return is(Re,Qn(Je))}function Zr(Re,Je,Et){var St,pn,xt=-1/0,Ut=-1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Re[0]&&null!=Re)for(var en=0,qn=(Re=xi(Re)?Re:In(Re)).length;en<qn;en++)null!=(St=Re[en])&&St>xt&&(xt=St);else Je=Ii(Je,Et),tr(Re,function(Nn,Gn,Lr){((pn=Je(Nn,Gn,Lr))>Ut||pn===-1/0&&xt===-1/0)&&(xt=Nn,Ut=pn)});return xt}function vo(Re,Je,Et){var St,pn,xt=1/0,Ut=1/0;if(null==Je||"number"==typeof Je&&"object"!=typeof Re[0]&&null!=Re)for(var en=0,qn=(Re=xi(Re)?Re:In(Re)).length;en<qn;en++)null!=(St=Re[en])&&St<xt&&(xt=St);else Je=Ii(Je,Et),tr(Re,function(Nn,Gn,Lr){((pn=Je(Nn,Gn,Lr))<Ut||pn===1/0&&xt===1/0)&&(xt=Nn,Ut=pn)});return xt}var nr=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function qr(Re){return Re?jt(Re)?d.call(Re):K(Re)?Re.match(nr):xi(Re)?Kn(Re,Pi):In(Re):[]}function Bo(Re,Je,Et){if(null==Je||Et)return xi(Re)||(Re=In(Re)),Re[ct(Re.length-1)];var xt=qr(Re),Ut=Kt(xt);Je=Math.max(Math.min(Je,Ut),0);for(var St=Ut-1,pn=0;pn<Je;pn++){var en=ct(pn,St),qn=xt[pn];xt[pn]=xt[en],xt[en]=qn}return xt.slice(0,Je)}function Qo(Re){return Bo(Re,1/0)}function oo(Re,Je,Et){var xt=0;return Je=Ii(Je,Et),ss(Kn(Re,function(Ut,St,pn){return{value:Ut,index:xt++,criteria:Je(Ut,St,pn)}}).sort(function(Ut,St){var pn=Ut.criteria,en=St.criteria;if(pn!==en){if(pn>en||void 0===pn)return 1;if(pn<en||void 0===en)return-1}return Ut.index-St.index}),"value")}function ao(Re,Je){return function(Et,xt,Ut){var St=Je?[[],[]]:{};return xt=Ii(xt,Ut),tr(Et,function(pn,en){var qn=xt(pn,en,Et);Re(St,pn,qn)}),St}}const Mo=ao(function(Re,Je,Et){Dt(Re,Et)?Re[Et].push(Je):Re[Et]=[Je]}),Is=ao(function(Re,Je,Et){Re[Et]=Je}),Nr=ao(function(Re,Je,Et){Dt(Re,Et)?Re[Et]++:Re[Et]=1}),sr=ao(function(Re,Je,Et){Re[Et?0:1].push(Je)},!0);function Or(Re){return null==Re?0:xi(Re)?Re.length:Jt(Re).length}function os(Re,Je,Et){return Je in Et}const lo=ne(function(Re,Je){var Et={},xt=Je[0];if(null==Re)return Et;Pe(xt)?(Je.length>1&&(xt=gi(xt,Je[1])),Je=cn(Re)):(xt=os,Je=Mr(Je,!1,!1),Re=Object(Re));for(var Ut=0,St=Je.length;Ut<St;Ut++){var pn=Je[Ut],en=Re[pn];xt(en,pn,Re)&&(Et[pn]=en)}return Et}),Ra=ne(function(Re,Je){var xt,Et=Je[0];return Pe(Et)?(Et=Ls(Et),Je.length>1&&(xt=Je[1])):(Je=Kn(Mr(Je,!1,!1),String),Et=function(Ut,St){return!_r(Je,St)}),lo(Re,Et,xt)});function Ds(Re,Je,Et){return d.call(Re,0,Math.max(0,Re.length-(null==Je||Et?1:Je)))}function ci(Re,Je,Et){return null==Re||Re.length<1?null==Je||Et?void 0:[]:null==Je||Et?Re[0]:Ds(Re,Re.length-Je)}function Kr(Re,Je,Et){return d.call(Re,null==Je||Et?1:Je)}function $s(Re,Je,Et){return null==Re||Re.length<1?null==Je||Et?void 0:[]:null==Je||Et?Re[Re.length-1]:Kr(Re,Math.max(0,Re.length-Je))}function gr(Re){return is(Re,Boolean)}function Gs(Re,Je){return Mr(Re,Je,!1)}const Br=ne(function(Re,Je){return Je=Mr(Je,!0,!0),is(Re,function(Et){return!_r(Je,Et)})}),jr=ne(function(Re,Je){return Br(Re,Je)});function zr(Re,Je,Et,xt){te(Je)||(xt=Et,Et=Je,Je=!1),null!=Et&&(Et=Ii(Et,xt));for(var Ut=[],St=[],pn=0,en=Kt(Re);pn<en;pn++){var qn=Re[pn],Nn=Et?Et(qn,pn,Re):qn;Je&&!Et?((!pn||St!==Nn)&&Ut.push(qn),St=Nn):Et?_r(St,Nn)||(St.push(Nn),Ut.push(qn)):_r(Ut,qn)||Ut.push(qn)}return Ut}const vn=ne(function(Re){return zr(Mr(Re,!0,!0))});function ys(Re){for(var Je=[],Et=arguments.length,xt=0,Ut=Kt(Re);xt<Ut;xt++){var St=Re[xt];if(!_r(Je,St)){var pn;for(pn=1;pn<Et&&_r(arguments[pn],St);pn++);pn===Et&&Je.push(St)}}return Je}function ke(Re){for(var Je=Re&&Zr(Re,Kt).length||0,Et=Array(Je),xt=0;xt<Je;xt++)Et[xt]=ss(Re,xt);return Et}const Ue=ne(ke);function he(Re,Je){for(var Et={},xt=0,Ut=Kt(Re);xt<Ut;xt++)Je?Et[Re[xt]]=Je[xt]:Et[Re[xt][0]]=Re[xt][1];return Et}function qe(Re,Je,Et){null==Je&&(Je=Re||0,Re=0),Et||(Et=Je<Re?-1:1);for(var xt=Math.max(Math.ceil((Je-Re)/Et),0),Ut=Array(xt),St=0;St<xt;St++,Re+=Et)Ut[St]=Re;return Ut}function Lt(Re,Je){if(null==Je||Je<1)return[];for(var Et=[],xt=0,Ut=Re.length;xt<Ut;)Et.push(d.call(Re,xt,xt+=Je));return Et}function Yn(Re,Je){return Re._chain?X(Je).chain():Je}function Di(Re){return tr(hi(Re),function(Je){var Et=X[Je]=Re[Je];X.prototype[Je]=function(){var xt=[this._wrapped];return m.apply(xt,arguments),Yn(this,Et.apply(X,xt))}}),X}tr(["pop","push","reverse","shift","sort","splice","unshift"],function(Re){var Je=p[Re];X.prototype[Re]=function(){var Et=this._wrapped;return null!=Et&&(Je.apply(Et,arguments),("shift"===Re||"splice"===Re)&&0===Et.length&&delete Et[0]),Yn(this,Et)}}),tr(["concat","join","slice"],function(Re){var Je=p[Re];X.prototype[Re]=function(){var Et=this._wrapped;return null!=Et&&(Et=Je.apply(Et,arguments)),Yn(this,Et)}});const as=X;var _s=Di(i);_s._=_s},467:(nt,fe,h)=>{"use strict";function i(y,p,w,C,m,d,f){try{var I=y[d](f),O=I.value}catch(P){return void w(P)}I.done?p(O):Promise.resolve(O).then(C,m)}function e(y){return function(){var p=this,w=arguments;return new Promise(function(C,m){var d=y.apply(p,w);function f(O){i(d,C,m,f,I,"next",O)}function I(O){i(d,C,m,f,I,"throw",O)}f(void 0)})}}h.d(fe,{A:()=>e})},1635:(nt,fe,h)=>{"use strict";function w(be,le,Pe,Ie){var pt,st=arguments.length,Oe=st<3?le:null===Ie?Ie=Object.getOwnPropertyDescriptor(le,Pe):Ie;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Oe=Reflect.decorate(be,le,Pe,Ie);else for(var Ye=be.length-1;Ye>=0;Ye--)(pt=be[Ye])&&(Oe=(st<3?pt(Oe):st>3?pt(le,Pe,Oe):pt(le,Pe))||Oe);return st>3&&Oe&&Object.defineProperty(le,Pe,Oe),Oe}function O(be,le){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(be,le)}function P(be,le,Pe,Ie){return new(Pe||(Pe=Promise))(function(Oe,pt){function Ye(Dt){try{jt(Ie.next(Dt))}catch(wt){pt(wt)}}function qt(Dt){try{jt(Ie.throw(Dt))}catch(wt){pt(wt)}}function jt(Dt){Dt.done?Oe(Dt.value):function st(Oe){return Oe instanceof Pe?Oe:new Pe(function(pt){pt(Oe)})}(Dt.value).then(Ye,qt)}jt((Ie=Ie.apply(be,le||[])).next())})}function $(be){return this instanceof $?(this.v=be,this):new $(be)}function ne(be,le,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var st,Ie=Pe.apply(be,le||[]),Oe=[];return st={},pt("next"),pt("throw"),pt("return"),st[Symbol.asyncIterator]=function(){return this},st;function pt(z){Ie[z]&&(st[z]=function(Y){return new Promise(function(Z,Ce){Oe.push([z,Y,Z,Ce])>1||Ye(z,Y)})})}function Ye(z,Y){try{!function qt(z){z.value instanceof $?Promise.resolve(z.value.v).then(jt,Dt):wt(Oe[0][2],z)}(Ie[z](Y))}catch(Z){wt(Oe[0][3],Z)}}function jt(z){Ye("next",z)}function Dt(z){Ye("throw",z)}function wt(z,Y){z(Y),Oe.shift(),Oe.length&&Ye(Oe[0][0],Oe[0][1])}}function L(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,le=be[Symbol.asyncIterator];return le?le.call(be):(be=function N(be){var le="function"==typeof Symbol&&Symbol.iterator,Pe=le&&be[le],Ie=0;if(Pe)return Pe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Ie>=be.length&&(be=void 0),{value:be&&be[Ie++],done:!be}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Pe={},Ie("next"),Ie("throw"),Ie("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Ie(Oe){Pe[Oe]=be[Oe]&&function(pt){return new Promise(function(Ye,qt){!function st(Oe,pt,Ye,qt){Promise.resolve(qt).then(function(jt){Oe({value:jt,done:Ye})},pt)}(Ye,qt,(pt=be[Oe](pt)).done,pt.value)})}}}h.d(fe,{AQ:()=>ne,Cg:()=>w,N3:()=>$,Sn:()=>O,sH:()=>P,xN:()=>L}),"function"==typeof SuppressedError&&SuppressedError}},nt=>{nt(nt.s=517)}]);