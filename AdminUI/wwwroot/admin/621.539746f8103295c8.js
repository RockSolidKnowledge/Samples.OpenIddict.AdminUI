"use strict";(self.webpackChunkadmin_ui_openiddict=self.webpackChunkadmin_ui_openiddict||[]).push([[621],{7621:(j,F,n)=>{n.r(F),n.d(F,{ApplicationsModule:()=>D});var C=n(1780),h=n(7005),r=n(177),b=n(9417),v=n(1583),T=n(2892),e=n(4446),u=n(4438);const m=[{path:"clients",loadChildren:()=>n.e(46).then(n.bind(n,46)).then(w=>w.ClientsModule),canActivate:[T.h,e._]}];let y=(()=>{class w{static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275mod=u.$C({type:w})}static{this.\u0275inj=u.G2t({imports:[v.iI.forChild(m),h.XE.forChild(m),v.iI]})}}return w})();var U=n(224),$=n(8536),E=n(1519),V=n(1683),P=n(4193),L=n(1993),A=n(8455),I=n(275),N=n(8389),X=n(5731),K=n(7175),H=n(367),z=n(9947);let D=(()=>{class w{static{this.\u0275fac=function(k){return new(k||w)}}static{this.\u0275mod=u.$C({type:w})}static{this.\u0275inj=u.G2t({providers:[E.i],imports:[r.MD,b.YN,b.X1,N.w,y,H.m,C.h,I.W,L.E,A.p,h.XE,z.a,P.c,K.c,X.i,V.Y,U.EditClientModule,$.ViewClientModule]})}}return w})()},2457:(j,F,n)=>{n.d(F,{B:()=>C});class C{}(C||(C={})).fromClient=function r(b){const v=b.redirectUris.concat(b.postLogoutRedirectUris);return v.filter((T,e)=>v.indexOf(T)===e).map(T=>({url:T,isRedirect:b.redirectUris.includes(T),isLogout:b.postLogoutRedirectUris.includes(T)})).sort((T,e)=>T.url>e.url?1:-1)}},224:(j,F,n)=>{n.r(F),n.d(F,{EditClientModule:()=>Ye});var C=n(177),h=n(7005),r=n(9417),b=n(1583),v=n(1780),T=n(6303),e=n(4438),u=n(3583),m=n(8698),y=n(803),U=n(8762),$=n(7970),E=n(4692);const V=s=>[s],P=()=>["Web","Native"];function L(s,g){if(1&s){const t=e.RV6();e.j41(0,"div",1)(1,"app-form-row",2),e.nrm(2,"app-readonly",3),e.nI1(3,"readOnlyValue"),e.k0s(),e.j41(4,"app-form-row",2),e.nrm(5,"input",4),e.k0s(),e.j41(6,"app-form-row",5)(7,"app-row-bar",6)(8,"app-state-toggle",7),e.bIt("newValue",function(a){e.eBV(t);const p=e.XpG();return p.detailsForm.patchValue({applicationType:a}),e.Njj(p.detailsForm.markAsDirty())}),e.k0s()()()()}if(2&s){const t=e.XpG();e.Y8G("formGroup",t.detailsForm),e.R7$(),e.Y8G("id","clientId")("label","Clients.ID")("help","Clients.IDHelp"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(18,V,e.bMT(3,16,t.client.clientId))),e.R7$(2),e.Y8G("id","displayName")("label","Common.DisplayName")("help","Clients.DisplayNameHelp"),e.R7$(2),e.Y8G("id","applicationType")("label","Clients.ApplicationType.Label")("help","Clients.ApplicationType.Help")("isLast",!0),e.R7$(2),e.Y8G("id","applicationType")("options",e.lJ4(20,P))("value",t.detailsForm.controls.applicationType.value)}}let A=(()=>{class s{get ReadOnlyFieldType(){return T.t}constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangesSub?.unsubscribe()}intialiseForm(){this.detailsForm=this.fb.group({displayName:[this.client.displayName,[]],displayNames:[this.client.displayNames,[]],applicationType:[this.client.applicationType,[]]}),this.valueChangesSub=this.detailsForm.valueChanges.subscribe({next:t=>{const i={...this.client,displayName:this.detailsForm.get("displayName").value,applicationType:this.detailsForm.get("applicationType").value};this.clientCache.componentDirtyValidMap.set("detailsForm",this.detailsForm.dirty&&this.detailsForm.valid),this.clientCache.unsavedCache.next(i)}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client-details"]],decls:1,vars:1,consts:[["id","editClientDetails",3,"formGroup",4,"ngIf"],["id","editClientDetails",3,"formGroup"],[3,"id","label","help"],[1,"tw-h-full",3,"fieldType","values"],["type","text","name","DisplayName","id","displayName","formControlName","displayName",1,"tw-form-control"],[3,"id","label","help","isLast"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"]],template:function(i,a){1&i&&e.DNE(0,L,9,21,"div",0),2&i&&e.Y8G("ngIf",a.detailsForm)},dependencies:[C.bT,r.me,r.BC,r.cb,r.j4,r.JD,m.Y,y.f,U.O,$.j,E.u],encapsulation:2})}}return s})();var I=n(3663);const N=()=>["Public","Confidential"],X=()=>["Systematic","Explicit","External","Implicit"];function K(s,g){if(1&s){const t=e.RV6();e.j41(0,"div",1)(1,"app-form-row",2)(2,"app-row-bar",3)(3,"app-state-toggle",4),e.bIt("newValue",function(a){e.eBV(t);const p=e.XpG();return p.securityForm.patchValue({clientType:a}),e.Njj(p.securityForm.markAsDirty())}),e.k0s()()(),e.j41(4,"app-secret-input",5),e.bIt("update",function(a){e.eBV(t);const p=e.XpG();return e.Njj(p.updateSecret(a))}),e.k0s(),e.j41(5,"app-form-row",6)(6,"app-row-bar",3)(7,"app-state-toggle",4),e.bIt("newValue",function(a){e.eBV(t);const p=e.XpG();return p.securityForm.patchValue({consentType:a}),e.Njj(p.securityForm.markAsDirty())}),e.k0s()()()()}if(2&s){const t=e.XpG();e.Y8G("formGroup",t.securityForm),e.R7$(),e.Y8G("id","clientType")("label","Clients.ClientType.Label")("help","Clients.ClientType.Help"),e.R7$(2),e.Y8G("id","clientType")("options",e.lJ4(18,N))("value",t.securityForm.get("clientType").value),e.R7$(),e.Y8G("id","client")("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help")("secret",t.securityForm.get("clientSecret").value),e.R7$(),e.Y8G("id","consentType")("label","Clients.ConsentType.Label")("help","Clients.ConsentType.Help")("isLast",!0),e.R7$(2),e.Y8G("id","consentType")("options",e.lJ4(19,X))("value",t.securityForm.get("consentType").value)}}let H=(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}intialiseForm(){this.securityForm=this.fb.group({clientType:[this.client.clientType,[]],clientSecret:[this.client.clientSecret,[]],consentType:[this.client.consentType,[]]}),this.valueChangeSub=this.securityForm.valueChanges.subscribe({next:t=>{const i={...this.client,clientType:t.clientType,clientSecret:t.clientSecret,consentType:t.consentType};this.clientCache.componentDirtyValidMap.set("securityForm",this.securityForm.valid&&this.securityForm.dirty),this.clientCache.unsavedCache.next(i)}})}updateSecret(t){this.securityForm.markAsDirty(),this.securityForm.patchValue({clientSecret:t})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client-security"]],decls:1,vars:1,consts:[["id","editClientSecurity",3,"formGroup",4,"ngIf"],["id","editClientSecurity",3,"formGroup"],[3,"id","label","help"],[1,"tw-form-input"],["left","",3,"newValue","id","options","value"],[3,"update","id","label","help","secret"],[3,"id","label","help","isLast"]],template:function(i,a){1&i&&e.DNE(0,K,8,20,"div",0),2&i&&e.Y8G("ngIf",a.securityForm)},dependencies:[C.bT,r.cb,r.j4,m.Y,y.f,I.o,$.j],encapsulation:2})}}return s})();var z=n(2457),D=n(4252),w=n(1258);class M{static propNames(g){return t=>{const i=g.map(a=>t.value[a]);return i.includes(a=>"boolean"!=typeof a)?{invalidTypeProvided:`one of '${g}' is not a boolean`}:i.includes(!0)?null:{noPropertyTrue:`one of '${g}' must be set to true`}}}}var B=n(4754),k=n(5794),J=n(3899),W=n(9550),Y=n(7294),Z=n(8577);const q=["addButton"];function _(s,g){if(1&s&&(e.j41(0,"div",9)(1,"app-form-row",10),e.nrm(2,"input",11),e.k0s(),e.j41(3,"app-form-row",12)(4,"app-form-toggle",13),e.nrm(5,"input",14),e.k0s()(),e.j41(6,"app-form-row",15)(7,"app-form-toggle",13),e.nrm(8,"input",16),e.k0s()()()),2&s){const t=e.XpG();e.Y8G("formGroup",t.addUpdateForm),e.R7$(),e.Y8G("id","addUrl")("label","Common.URL"),e.R7$(2),e.Y8G("id","addRedirectUri")("label","Common.Callback")("help","Clients.URLS.SendTokens"),e.R7$(),e.Y8G("id","addRedirectUri"),e.R7$(2),e.Y8G("id","addPostLogoutRedirectUri")("label","Common.Signout")("help","Clients.URLS.RedirectAfterLogout")("isLast",!0),e.R7$(),e.Y8G("id","addPostLogoutRedirectUri")}}let re=(()=>{class s{constructor(t,i,a,p,R){this.clientCache=t,this.modalService=i,this.fb=a,this.toastr=p,this.translate=R,this.tableActions=[D.AA.Select,D.AA.Delete],this.tableRedirectProp="isRedirect",this.tableLogoutProp="isLogout",this.modalActions=[w.N.Save],this.currentUrls=[],this.intialiseForm()}ngOnInit(){this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.currentUrls=z.B.fromClient(t)}})}intialiseForm(){this.addUpdateForm=this.fb.group({url:["",[r.k0.required]],isRedirect:[!0,[]],isLogout:[!1,[]]},{validators:[M.propNames(["isRedirect","isLogout"])]})}openAddModal(){this.isNew=!0,this.addUpdateForm.patchValue({url:"",isRedirect:!0,isLogout:!1}),this.modalService.showById("addUpdateModal",this.addButtonRef)}openModalForEdit(t){this.isNew=!1,this.addUpdateForm.patchValue(t.data),this.modalService.showById("addUpdateModal",this.addButtonRef)}closeModal(){this.modalService.hideById("addUpdateModal")}addOrUpdateUrl(){const t=this.addUpdateForm.value.url,i=this.currentUrls.findIndex(a=>a.url===t);if(i>=0){if(this.isNew){const a=this.translate.instant("Clients.URLS.AlreadyExistsWarn.Title"),p=this.translate.instant("Clients.URLS.AlreadyExistsWarn.Message",{url:t});this.toastr.warning(p,a)}this.currentUrls[i]=this.addUpdateForm.value}else this.currentUrls.push(this.addUpdateForm.value);this.updateCache()}deleteUrl(t){this.currentUrls.splice(t,1),this.updateCache()}updateCache(){const t={...this.client,redirectUris:this.currentUrls.filter(i=>i.isRedirect).map(i=>i.url),postLogoutRedirectUris:this.currentUrls.filter(i=>i.isLogout).map(i=>i.url)};this.clientCache.componentDirtyValidMap.set("editAppUrls",!0),this.clientCache.unsavedCache.next(t)}get addOrUpdateDisabled(){return!this.addUpdateForm.dirty||!this.addUpdateForm.valid}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(B.B),e.rXU(r.ze),e.rXU(k.tw),e.rXU(v.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-app-urls"]],viewQuery:function(i,a){if(1&i&&e.GBs(q,5),2&i){let p;e.mGM(p=e.lsd())&&(a.addButtonRef=p.first)}},decls:13,vars:27,consts:[["addButton",""],["id","editAppUrls"],["right",""],[1,"tw-btn-success",3,"click","id"],["id","appUrls",3,"onSelect","delete","rows","actions","norowslabel"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","isBoolean"],[3,"onSave","onCancel","title","actions","modalId","addDisabled","saveText"],["id","addUpdateUrl",3,"formGroup",4,"ngIf"],["id","addUpdateUrl",3,"formGroup"],[3,"id","label"],["id","addUrl","type","url","name","addUrl","formControlName","url",1,"tw-form-control"],[3,"id","label","help"],[3,"id"],["id","addRedirectUri","type","checkbox","name","addRedirectUri","formControlName","isRedirect",1,"tw-form-switch__input"],[3,"id","label","help","isLast"],["id","addPostLogoutRedirectUri","type","checkbox","name","addPostLogoutRedirectUri","formControlName","isLogout",1,"tw-form-switch__input"]],template:function(i,a){if(1&i){const p=e.RV6();e.j41(0,"div",1)(1,"app-action-bar"),e.qex(2,2),e.j41(3,"button",3,0),e.bIt("click",function(){return e.eBV(p),e.Njj(a.openAddModal())}),e.EFF(5),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(7,"app-data-table",4),e.bIt("onSelect",function(O){return e.eBV(p),e.Njj(a.openModalForEdit(O))})("delete",function(O){return e.eBV(p),e.Njj(a.deleteUrl(O))}),e.nrm(8,"app-data-table-column",5)(9,"app-data-table-column",6)(10,"app-data-table-column",6),e.k0s()(),e.j41(11,"app-custom-modal",7),e.bIt("onSave",function(){return e.eBV(p),e.Njj(a.addOrUpdateUrl())})("onCancel",function(){return e.eBV(p),e.Njj(a.closeModal())}),e.DNE(12,_,9,12,"div",8),e.k0s()}2&i&&(e.R7$(3),e.Y8G("id","addUrlButton"),e.R7$(2),e.SpI(" ",e.bMT(6,25,"Clients.URLS.AddURL")," "),e.R7$(2),e.Y8G("rows",a.currentUrls)("actions",a.tableActions)("norowslabel","Clients.URLS.None"),e.R7$(),e.Y8G("title","Common.URL")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","url"),e.R7$(),e.Y8G("title","Common.Callback")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop",a.tableRedirectProp)("isBoolean",!0),e.R7$(),e.Y8G("title","Common.Signout")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop",a.tableLogoutProp)("isBoolean",!0),e.R7$(),e.Y8G("title",a.isNew?"Clients.URLS.AddURL":"Clients.URLS.EditURL")("actions",a.modalActions)("modalId","addUpdateModal")("addDisabled",a.addOrUpdateDisabled)("saveText",a.isNew?"Common.Add":"Common.Update"),e.R7$(),e.Y8G("ngIf",a.addUpdateForm))},dependencies:[C.bT,J.G,r.me,r.Zm,r.BC,r.cb,r.j4,r.JD,m.Y,W.m,Y.n,D.up,Z.w,v.D9],encapsulation:2})}}return s})();var ee=function(s){return s.AuthorizationCode="authorization_code",s.ClientCredentials="client_credentials",s.DeviceCode="urn:ietf:params:oauth:grant-type:device_code",s.Implicit="implicit",s.Password="password",s.RefreshToken="refresh_token",s}(ee||{}),Q=function(s){return s.None="none",s.Code="code",s.IdToken="id_token",s.Token="token",s}(Q||{}),te=n(2891);function ie(s,g){if(1&s&&(e.j41(0,"div",1)(1,"app-form-row",2)(2,"app-form-toggle",3),e.nrm(3,"input",4),e.k0s()(),e.j41(4,"app-form-row",5),e.nrm(5,"app-freetext-list-input",6),e.k0s(),e.j41(6,"app-form-row",7),e.nrm(7,"app-freetext-list-input",8),e.k0s()()),2&s){const t=e.XpG();e.Y8G("formGroup",t.tokenRequestFrom),e.R7$(),e.Y8G("id","RequirePKCE")("label","Clients.RequirePkce")("help","Clients.RequirePkceHelp"),e.R7$(),e.Y8G("id","RequirePKCE")("isTraffic",!0)("isAlt",!1),e.R7$(3),e.Y8G("suggestions",t.grantTypeOptions),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("suggestions",t.responseTypeOptions)}}let ne=(()=>{class s{get grantTypeOptions(){return Object.values(ee)}get responseTypeOptions(){return Object.values(Q)}constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangeSub?.unsubscribe()}intialiseForm(){this.tokenRequestFrom=this.fb.group({requirePKCE:[this.client.requirePKCE,[]],grantTypes:[this.client.grantTypes,[]],responseTypes:[this.client.responseTypes,[]]}),this.valueChangeSub=this.tokenRequestFrom.valueChanges.subscribe({next:t=>{const i={...this.client,requirePKCE:this.tokenRequestFrom.value.requirePKCE,grantTypes:this.tokenRequestFrom.value.grantTypes,responseTypes:this.tokenRequestFrom.value.responseTypes};this.clientCache.componentDirtyValidMap.set("tokenRequestFrom",this.tokenRequestFrom.dirty&&this.tokenRequestFrom.valid),this.clientCache.unsavedCache.next(i)}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-token-request"]],decls:1,vars:1,consts:[["id","editClientTokenRequest",3,"formGroup",4,"ngIf"],["id","editClientTokenRequest",3,"formGroup"],[3,"id","label","help"],[3,"id","isTraffic","isAlt"],["id","RequirePKCE","formControlName","requirePKCE","type","checkbox",1,"tw-form-switch__input"],["id","GrantType","label","Clients.GrantTypes.Label"],["id","GrantType","formControlName","grantTypes",3,"suggestions"],["id","ResponseType","label","Clients.ResponseType.Label",3,"isLast"],["id","ResponseType","formControlName","responseTypes",3,"suggestions"]],template:function(i,a){1&i&&e.DNE(0,ie,8,10,"div",0),2&i&&e.Y8G("ngIf",a.tokenRequestFrom)},dependencies:[C.bT,r.Zm,r.BC,r.cb,r.j4,r.JD,m.Y,W.m,te.t],encapsulation:2})}}return s})();var se=n(1594);function ae(s,g){if(1&s&&(e.j41(0,"div",1)(1,"p"),e.EFF(2,"TODO: Not yet implemented"),e.k0s()()),2&s){const t=e.XpG();e.Y8G("formGroup",t.scopesForm)}}let oe=(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.pipe((0,se.$)()).subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangedSub?.unsubscribe()}intialiseForm(){this.scopesForm&&this.ngOnDestroy(),this.scopesForm=this.fb.group({}),this.valueChangedSub=this.scopesForm.valueChanges.subscribe({next:t=>{const i={...this.client};this.clientCache.componentDirtyValidMap.set("scopesForm",this.scopesForm.dirty&&this.scopesForm.valid),this.clientCache.unsavedCache.next(i)}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client-allowed-scopes"]],decls:1,vars:1,consts:[["id","editClientScopes",3,"formGroup",4,"ngIf"],["id","editClientScopes",3,"formGroup"]],template:function(i,a){1&i&&e.DNE(0,ae,3,1,"div",0),2&i&&e.Y8G("ngIf",a.scopesForm)},dependencies:[C.bT,r.cb,r.j4],encapsulation:2})}}return s})();const le=["addBtn"];let o=(()=>{class s{constructor(t,i,a,p){this.fb=t,this.modalService=i,this.translate=a,this.toastr=p,this.modalId="addEditKeyValueModal",this.modalActions=[w.N.Save],this.dataTableActions=[D.AA.Delete,D.AA.Select],this.onChange=R=>{},this.onTouched=()=>{},this.newKeyValueForm=t.group({index:[0],key:["",[]],value:["",[]]})}ngOnInit(){}openModalForAdd(){this.isNew=!0,this.newKeyValueForm.patchValue({index:-1,key:"",value:""}),this.modalService.showById("addUpdateModal",this.addButtonRef)}openModalForEdit(t){this.isNew=!1,this.newKeyValueForm.patchValue({index:t.data.index,key:t.data[this.keyProperty],value:t.data[this.valueProperty]}),this.modalService.showById("addUpdateModal",this.addButtonRef)}saveAddOrEdit(){const t=this.newKeyValueForm.value.index;if(this.value.findIndex(p=>p[this.keyProperty]==this.newKeyValueForm.value.key&&p[this.valueProperty]==this.newKeyValueForm.value.value)>=0){const p=this.translate.instant("Common.AlreadyExists.Title"),R=`${this.translate.instant(this.entityName)} ${this.translate.instant("Common.AlreadyExists.Message")}`;return void this.toastr.error(R,p)}if(-1===t){const p={};p[this.keyProperty]=this.newKeyValueForm.value.key,p[this.valueProperty]=this.newKeyValueForm.value.value,this.value.push(p)}else this.value[t][this.keyProperty]=this.newKeyValueForm.value.key,this.value[t][this.valueProperty]=this.newKeyValueForm.value.value;const a=this.value.map(p=>{let R={};return R[this.keyProperty]=p[this.keyProperty],R[this.valueProperty]=p[this.valueProperty],R});this.writeValue(a),this.onChange(a)}cancelAddOrUpdate(){this.isNew=!0,this.newKeyValueForm.patchValue({index:-1,key:"",value:""}),this.modalService.hideById("addUpdateModal")}writeValue(t){this.value=t.map((i,a)=>({...i,index:a}))}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(r.ze),e.rXU(B.B),e.rXU(v.c$),e.rXU(k.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-key-value-list-editor"]],viewQuery:function(i,a){if(1&i&&e.GBs(le,5),2&i){let p;e.mGM(p=e.lsd())&&(a.addButtonRef=p.first)}},inputs:{id:"id",entityName:"entityName",keyName:"keyName",keyProperty:"keyProperty",valueName:"valueName",valueProperty:"valueProperty",addTitle:"addTitle",editTitle:"editTitle"},features:[e.Jv_([{provide:r.kq,useExisting:(0,e.Rfq)(()=>s),multi:!0}])],decls:16,vars:29,consts:[["addButton",""],["right",""],[1,"tw-btn-success",3,"click","id"],[3,"onSelect","rows","norowslabel","actions"],[3,"prop","title","headClasses","cellClasses"],[3,"onCancel","onSave","title","saveText","modalId","actions","addDisabled"],[3,"formGroup"],[3,"label","id"],["id","addType","type","text","formControlName","key",1,"tw-form-control","tw-max-w-full"],[3,"label","id","isLast"],["id","addValue","type","text","formControlName","value",1,"tw-form-control","tw-max-w-full"]],template:function(i,a){if(1&i){const p=e.RV6();e.j41(0,"app-action-bar"),e.qex(1,1),e.j41(2,"button",2,0),e.bIt("click",function(){return e.eBV(p),e.Njj(a.openModalForAdd())}),e.EFF(4),e.nI1(5,"translate"),e.nI1(6,"translate"),e.k0s(),e.bVm(),e.k0s(),e.j41(7,"app-data-table",3),e.bIt("onSelect",function(O){return e.eBV(p),e.Njj(a.openModalForEdit(O))}),e.nrm(8,"app-data-table-column",4)(9,"app-data-table-column",4),e.k0s(),e.j41(10,"app-custom-modal",5),e.bIt("onCancel",function(){return e.eBV(p),e.Njj(a.cancelAddOrUpdate())})("onSave",function(){return e.eBV(p),e.Njj(a.saveAddOrEdit())}),e.j41(11,"div",6)(12,"app-form-row",7),e.nrm(13,"input",8),e.k0s(),e.j41(14,"app-form-row",9),e.nrm(15,"input",10),e.k0s()()()}2&i&&(e.R7$(2),e.Y8G("id","addBtn"),e.R7$(2),e.Lme(" ",e.bMT(5,25,"Common.Add")," ",e.bMT(6,27,a.entityName)," "),e.R7$(3),e.Y8G("rows",a.value)("norowslabel","Common.NothingSet")("actions",a.dataTableActions),e.R7$(),e.Y8G("prop",a.keyProperty)("title",a.keyName)("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),e.R7$(),e.Y8G("prop",a.valueProperty)("title",a.valueName)("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"),e.R7$(),e.Y8G("title",a.isNew?a.addTitle:a.editTitle)("saveText",a.isNew?"Common.Add":"Common.Update")("modalId","addUpdateModal")("actions",a.modalActions)("addDisabled",a.newKeyValueForm.pristine||a.newKeyValueForm.invalid),e.R7$(),e.Y8G("formGroup",a.newKeyValueForm),e.R7$(),e.Y8G("label","Common.Type")("id","addType"),e.R7$(2),e.Y8G("label","Common.Value")("id","addValue")("isLast",!0))},dependencies:[r.me,r.BC,r.cb,r.j4,r.JD,m.Y,Y.n,J.G,D.up,Z.w,v.D9],encapsulation:2})}}return s})();function S(s,g){if(1&s&&(e.j41(0,"div",1),e.nrm(1,"app-key-value-list-editor",2),e.k0s()),2&s){const t=e.XpG();e.Y8G("formGroup",t.claimsForm),e.R7$(),e.Y8G("id","claims")("entityName","Common.Claim")("keyName","Common.Type")("keyProperty","type")("valueName","Common.Value")("valueProperty","value")("addTitle","Clients.AddClaim")("editTitle","Clients.EditClaim")}}let l=(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangesSub?.unsubscribe()}intialiseForm(){this.claimsForm=this.fb.group({claims:[this.client.claims??[],[]]}),this.valueChangesSub=this.claimsForm.valueChanges.subscribe({next:t=>{const i={...this.client,claims:this.claimsForm.value.claims};this.clientCache.componentDirtyValidMap.set("claimsForm",this.claimsForm.dirty&&this.claimsForm.valid),this.clientCache.unsavedCache.next(i)}})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client-claims"]],decls:1,vars:1,consts:[["id","editClientClaims",3,"formGroup",4,"ngIf"],["id","editClientClaims",3,"formGroup"],["formControlName","claims",3,"id","entityName","keyName","keyProperty","valueName","valueProperty","addTitle","editTitle"]],template:function(i,a){1&i&&e.DNE(0,S,2,9,"div",0),2&i&&e.Y8G("ngIf",a.claimsForm)},dependencies:[C.bT,r.BC,r.cb,r.j4,r.JD,o],encapsulation:2})}}return s})();var c=n(6719),d=n(251);let me=(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-client-advanced"]],decls:6,vars:7,consts:[[3,"pillMode"],[3,"tabTitle","tabValue"],["id","editClientAdvanced"]],template:function(i,a){1&i&&(e.j41(0,"app-custom-tabs",0),e.nrm(1,"app-custom-tab",1)(2,"app-custom-tab",1)(3,"app-custom-tab",1),e.k0s(),e.j41(4,"div",2),e.nrm(5,"router-outlet"),e.k0s()),2&i&&(e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Endpoints")("tabValue","endpoints"),e.R7$(),e.Y8G("tabTitle","Nav.Lifetimes")("tabValue","lifetimes"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"))},dependencies:[c.G,d.v,b.n3],encapsulation:2})}}return s})();var x=n(8730);const he=(s,g)=>g.key;function ye(s,g){if(1&s&&(e.j41(0,"app-form-row",1)(1,"app-form-toggle",2),e.nrm(2,"input",3),e.k0s()()),2&s){const t=g.$implicit,i=g.$index,a=e.XpG(2);e.Y8G("id",t.key)("label","Common."+t.key)("help","Clients.Endpoints."+t.key+"Help")("isLast",i===a.endpointOptions.length-1),e.R7$(),e.Y8G("id",t.key)("isTraffic",!0)("isAlt",!1),e.R7$(),e.Y8G("id",t.key)("formControlName",t.property)}}function Ce(s,g){if(1&s&&(e.j41(0,"div",0),e.Z7z(1,ye,3,9,"app-form-row",1,he),e.k0s()),2&s){const t=e.XpG();e.Y8G("formGroup",t.endpointsForm),e.R7$(),e.Dyx(t.endpointOptions)}}let fe=(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangesSub?.unsubscribe()}intialiseForm(){let t={};Object.keys(x.y).forEach(i=>{t[x.y[i]]=[this.client.endpoints.includes(i),[]]}),this.endpointsForm=this.fb.group(t),this.valueChangesSub=this.endpointsForm.valueChanges.subscribe({next:i=>{const a={...this.client,endpoints:Object.keys(x.y).filter(p=>i[x.y[p]])};this.clientCache.componentDirtyValidMap.set("endpointsForm",this.endpointsForm.dirty&&this.endpointsForm.valid),this.clientCache.unsavedCache.next(a)}})}get endpointOptions(){return Object.keys(x.y).map(t=>({key:t,property:x.y[t]}))}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-edit-endpoints"]],decls:1,vars:1,consts:[[3,"formGroup"],[3,"id","label","help","isLast"],[3,"id","isTraffic","isAlt"],["type","checkbox",1,"tw-form-switch__input",3,"id","formControlName"]],template:function(i,a){1&i&&e.DNE(0,Ce,3,1,"div",0),2&i&&e.vxM(0,a.endpointsForm?0:-1)},dependencies:[r.Zm,r.BC,r.cb,r.j4,r.JD,m.Y,W.m],encapsulation:2})}}return s})();var G=n(7726),f=n(3806),ve=n(7263);class be{static{this.ActionMap=new Map([[G.k.AuthorisationCode,[{duration:2.5,unit:f.u.Minutes},{duration:5,unit:f.u.Minutes},{duration:10,unit:f.u.Minutes},{duration:null,unit:f.u.Global}]],[G.k.DeviceCode,[{duration:5,unit:f.u.Minutes},{duration:10,unit:f.u.Minutes},{duration:15,unit:f.u.Minutes},{duration:null,unit:f.u.Global}]],[G.k.UserCode,[{duration:5,unit:f.u.Minutes},{duration:10,unit:f.u.Minutes},{duration:15,unit:f.u.Minutes},{duration:null,unit:f.u.Global}]],[G.k.AccessToken,[{duration:30,unit:f.u.Minutes},{duration:1,unit:f.u.Hours},{duration:2,unit:f.u.Hours},{duration:null,unit:f.u.Global}]],[G.k.IdentityToken,[{duration:10,unit:f.u.Minutes},{duration:20,unit:f.u.Minutes},{duration:30,unit:f.u.Minutes},{duration:null,unit:f.u.Global}]],[G.k.RefreshToken,[{duration:7,unit:f.u.Days},{duration:14,unit:f.u.Days},{duration:30,unit:f.u.Days},{duration:null,unit:f.u.Global}]]])}}var Te=n(1560);const ge=(s,g)=>g.key;function Re(s,g){if(1&s&&(e.j41(0,"app-form-row",1),e.nrm(1,"app-lifetime-picker",2),e.k0s()),2&s){const t=g.$implicit,i=g.$index,a=e.XpG(2);e.Y8G("id",t.key)("label","Common."+t.key)("help","Clients.Lifetimes."+t.key+"Help")("isLast",i===a.liofetimeOptions.length-1),e.R7$(),e.Y8G("allowNull",!0)("buttons",t.buttons)("id",t.key)("formControlName",t.property)}}function Fe(s,g){if(1&s&&(e.j41(0,"div",0),e.Z7z(1,Re,2,8,"app-form-row",1,ge),e.k0s()),2&s){const t=e.XpG();e.Y8G("formGroup",t.lifetimesForm),e.R7$(),e.Dyx(t.liofetimeOptions)}}const Ue=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:A},{path:"security",component:H},{path:"applicationUrls",component:re},{path:"tokenRequest",component:ne},{path:"allowedScopes",component:oe},{path:"claims",component:l},{path:"advanced",component:me,children:[{path:"endpoints",component:fe},{path:"lifetimes",component:(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i,this.lifetimeButtons=[{duration:5,unit:f.u.Minutes},{duration:10,unit:f.u.Minutes},{duration:null,unit:f.u.Global}]}ngOnInit(){this.cacheSub=this.clientCache.unsavedCache$.subscribe({next:t=>{this.client=t,this.intialiseForm()}})}ngOnDestroy(){this.cacheSub?.unsubscribe(),this.valueChangesSub?.unsubscribe()}intialiseForm(){let t={};Object.keys(G.k).forEach(i=>{t[G.k[i]]=[this.client.lifetimes[i],[]]}),this.lifetimesForm=this.fb.group(t),this.valueChangesSub=this.lifetimesForm.valueChanges.subscribe({next:i=>{const a=Object.keys(G.k).filter(O=>!(0,ve.hX)(i[G.k[O]]));let p={};for(let O of a)p[O]=i[G.k[O]];const R={...this.client,lifetimes:p};this.clientCache.componentDirtyValidMap.set("lifetimesForm",this.lifetimesForm.dirty&&this.lifetimesForm.valid),this.clientCache.unsavedCache.next(R)}})}get liofetimeOptions(){return Object.keys(G.k).map(t=>({key:t,property:G.k[t],buttons:be.ActionMap.get(G.k[t])}))}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-edit-lifetimes"]],decls:1,vars:1,consts:[[3,"formGroup"],[3,"id","label","help","isLast"],[3,"allowNull","buttons","id","formControlName"]],template:function(i,a){1&i&&e.DNE(0,Fe,3,1,"div",0),2&i&&e.vxM(0,a.lifetimesForm?0:-1)},dependencies:[r.BC,r.cb,r.j4,r.JD,m.Y,Te.T],encapsulation:2})}}return s})()},{path:"properties",component:(()=>{class s{constructor(t,i){this.clientCache=t,this.fb=i}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(u.t),e.rXU(r.ze))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-edit-edit-properties"]],decls:2,vars:0,template:function(i,a){1&i&&(e.j41(0,"p"),e.EFF(1,"TODO..."),e.k0s())},encapsulation:2})}}return s})()}]}];let we=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[v.h.forChild({extend:!0}),b.iI.forChild(Ue),v.h,b.iI]})}}return s})();var Ge=n(367),Ve=n(275),Ee=n(1993),$e=n(8455),ce=n(4367),pe=n(8389),Se=n(7677),De=n(1683),Oe=n(1957),de=n(4193),ue=n(8251),ke=n(8906);let je=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[C.MD,r.YN,r.X1,v.h,pe.w,de.c,ce.N,ue.h]})}}return s})();var Ne=n(967);let Ye=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[C.MD,Ge.m,Ve.W,Ee.E,h.XE,$e.p,ce.N,r.YN,r.X1,pe.w,Se.N,we,De.Y,Oe.U,de.c,ue.h,ke.G,je,Ne.M]})}}return s})()},8536:(j,F,n)=>{n.r(F),n.d(F,{ViewClientModule:()=>le});var C=n(7005),h=n(1583),r=n(1780),b=n(1594),v=n(7921),T=n(6303),e=n(4438),u=n(3583),m=n(8762),y=n(8698);const U=o=>[o];let $=(()=>{class o{get ReadOnlyFieldType(){return T.t}constructor(l){this.clientCache=l,this.detailsDictionary={}}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{this.detailsDictionary=new v.b({clientId:l.clientId,displayName:l.displayName,applicationType:l.applicationType})}})}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-details"]],decls:6,vars:13,consts:[["id","clientId","label","Clients.ID","help","Clients.IDHelp"],[3,"fieldType","values"],["id","displayName","label","Common.DisplayName","help","Clients.DisplayNameHelp"],["id","applicationType","label","Clients.ApplicationType.Label","help","Clients.ApplicationType.Help",3,"isLast"]],template:function(c,d){1&c&&(e.j41(0,"app-form-row",0),e.nrm(1,"app-readonly",1),e.k0s(),e.j41(2,"app-form-row",2),e.nrm(3,"app-readonly",1),e.k0s(),e.j41(4,"app-form-row",3),e.nrm(5,"app-readonly",1),e.k0s()),2&c&&(e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(7,U,d.detailsDictionary.clientId)),e.R7$(2),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(9,U,d.detailsDictionary.displayName)),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,U,d.detailsDictionary.applicationType)))},dependencies:[m.O,y.Y],encapsulation:2})}}return o})();const E=o=>[o];let V=(()=>{class o{get ReadOnlyFieldType(){return T.t}constructor(l){this.clientCache=l,this.securityDictionary={}}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{this.securityDictionary=new v.b({clientType:l?.clientType,clientSecret:l?.clientSecret,consentType:l?.consentType})}})}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-security"]],decls:6,vars:19,consts:[["id","clientType",3,"label","help"],[3,"fieldType","values"],["id","clientSecret",3,"label","help"],["id","consentType",3,"label","help","isLast"]],template:function(c,d){1&c&&(e.j41(0,"app-form-row",0),e.nrm(1,"app-readonly",1),e.k0s(),e.j41(2,"app-form-row",2),e.nrm(3,"app-readonly",1),e.k0s(),e.j41(4,"app-form-row",3),e.nrm(5,"app-readonly",1),e.k0s()),2&c&&(e.Y8G("label","Clients.ClientType.Label")("help","Clients.ClientType.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,E,d.securityDictionary.clientType)),e.R7$(),e.Y8G("label","DynamicAuth.ClientSecret.Label")("help","DynamicAuth.ClientSecret.Help"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(15,E,d.securityDictionary.clientSecret)),e.R7$(),e.Y8G("label","Clients.ConsentType.Label")("help","Clients.ConsentType.Help")("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(17,E,d.securityDictionary.consentType)))},dependencies:[m.O,y.Y],encapsulation:2})}}return o})();var P=n(2457),L=n(4252),A=n(8577);let I=(()=>{class o{constructor(l){this.clientCache=l,this.tableRedirectProp="isRedirect",this.tableLogoutProp="isLogout"}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{this.currentUrls=P.B.fromClient(l)}})}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-app-urls"]],decls:4,vars:17,consts:[["id","appUrls",3,"rows","norowslabel","isReadOnly"],[3,"title","headClasses","cellClasses","prop"],[3,"title","headClasses","cellClasses","prop","isBoolean"]],template:function(c,d){1&c&&(e.j41(0,"app-data-table",0),e.nrm(1,"app-data-table-column",1)(2,"app-data-table-column",2)(3,"app-data-table-column",2),e.k0s()),2&c&&(e.Y8G("rows",d.currentUrls)("norowslabel","Clients.URLS.None")("isReadOnly",!0),e.R7$(),e.Y8G("title","Common.URL")("headClasses","tw-w-1/2")("cellClasses","tw-max-w-0 tw-truncate")("prop","url"),e.R7$(),e.Y8G("title","Common.Callback")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop",d.tableRedirectProp)("isBoolean",!0),e.R7$(),e.Y8G("title","Common.Signout")("headClasses","tw-text-center")("cellClasses","tw-text-center")("prop",d.tableLogoutProp)("isBoolean",!0))},dependencies:[L.up,A.w],encapsulation:2})}}return o})();const N=o=>[o];let X=(()=>{class o{get ReadOnlyFieldType(){return T.t}constructor(l){this.clientCache=l,this.rokenRequestDictionary={}}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{this.rokenRequestDictionary=new v.b({requirePKCE:l.requirePKCE,grantTypes:l.grantTypes,responseTypes:l.responseTypes})}})}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-token-request"]],decls:6,vars:15,consts:[["id","requirePKCE",3,"label","help"],[3,"fieldType","values"],["id","grantTypes","label","Clients.GrantTypes.Label"],["id","responseTypes","label","Clients.ResponseType.Label",3,"isLast"]],template:function(c,d){1&c&&(e.j41(0,"app-form-row",0),e.nrm(1,"app-readonly",1),e.k0s(),e.j41(2,"app-form-row",2),e.nrm(3,"app-readonly",1),e.k0s(),e.j41(4,"app-form-row",3),e.nrm(5,"app-readonly",1),e.k0s()),2&c&&(e.Y8G("label","Clients.RequirePkce")("help","Clients.RequirePkceHelp"),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(9,N,d.rokenRequestDictionary.requirePKCE)),e.R7$(2),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(11,N,d.rokenRequestDictionary.grantTypes)),e.R7$(),e.Y8G("isLast",!0),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(13,N,d.rokenRequestDictionary.responseTypes)))},dependencies:[m.O,y.Y],encapsulation:2})}}return o})(),K=(()=>{class o{constructor(l){this.clientCache=l}ngOnInit(){}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-allowed-scopes"]],decls:2,vars:0,template:function(c,d){1&c&&(e.j41(0,"p"),e.EFF(1,"TODO..."),e.k0s())},encapsulation:2})}}return o})(),H=(()=>{class o{constructor(l){this.clientCache=l}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{this.value=l.claims}})}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-claims"]],decls:3,vars:9,consts:[[3,"rows","norowslabel","isReadOnly"],["prop","type",3,"title","headClasses","cellClasses"],["prop","value",3,"title","headClasses","cellClasses"]],template:function(c,d){1&c&&(e.j41(0,"app-data-table",0),e.nrm(1,"app-data-table-column",1)(2,"app-data-table-column",2),e.k0s()),2&c&&(e.Y8G("rows",d.value)("norowslabel","Common.NothingSet")("isReadOnly",!0),e.R7$(),e.Y8G("title","Common.Type")("headClasses","md:tw-w-1/3")("cellClasses","tw-max-w-0 tw-truncate"),e.R7$(),e.Y8G("title","Common.Value")("headClasses","tw-hidden sm:tw-table-cell")("cellClasses","tw-hidden tw-max-w-0 tw-truncate sm:tw-table-cell"))},dependencies:[L.up,A.w],encapsulation:2})}}return o})();var z=n(6719),D=n(251);let w=(()=>{class o{constructor(l){this.clientCache=l}ngOnInit(){}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-client-advanced"]],decls:6,vars:7,consts:[[3,"pillMode"],[3,"tabTitle","tabValue"],["id","viewClientAdvanced"]],template:function(c,d){1&c&&(e.j41(0,"app-custom-tabs",0),e.nrm(1,"app-custom-tab",1)(2,"app-custom-tab",1)(3,"app-custom-tab",1),e.k0s(),e.j41(4,"div",2),e.nrm(5,"router-outlet"),e.k0s()),2&c&&(e.Y8G("pillMode",!0),e.R7$(),e.Y8G("tabTitle","Nav.Endpoints")("tabValue","endpoints"),e.R7$(),e.Y8G("tabTitle","Nav.Lifetimes")("tabValue","lifetimes"),e.R7$(),e.Y8G("tabTitle","Nav.Properties")("tabValue","properties"))},dependencies:[z.G,D.v,h.n3],encapsulation:2})}}return o})();var M=n(8730);const B=(o,S)=>S.key,k=o=>[o];function J(o,S){if(1&o&&(e.j41(0,"app-form-row",0),e.nrm(1,"app-readonly",1),e.k0s()),2&o){const l=S.$implicit,c=S.$index,d=e.XpG();e.FS9("id",l.key),e.Y8G("label","Common."+l.key)("help","Clients.Endpoints."+l.key+"Help")("isLast",c===d.endpointOptions.length-1),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.Single)("values",e.eq3(6,k,d.endpointsDictionary[l.property]))}}let W=(()=>{class o{get ReadOnlyFieldType(){return T.t}constructor(l){this.clientCache=l}ngOnInit(){this.clientCache.unsavedCache$.pipe((0,b.$)()).subscribe({next:l=>{const c={};Object.keys(M.y).forEach(d=>{c[M.y[d]]=l.endpoints.includes(d)}),this.endpointsDictionary=new v.b(c)}})}get endpointOptions(){return Object.keys(M.y).map(l=>({key:l,property:M.y[l]}))}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-endpoints"]],decls:2,vars:0,consts:[[3,"id","label","help","isLast"],[3,"fieldType","values"]],template:function(c,d){1&c&&e.Z7z(0,J,2,8,"app-form-row",0,B),2&c&&e.Dyx(d.endpointOptions)},dependencies:[m.O,y.Y],encapsulation:2})}}return o})();var Y=n(7726);const Z=(o,S)=>S.key,q=o=>[o];function _(o,S){if(1&o&&(e.j41(0,"app-form-row",0),e.nrm(1,"app-readonly",1),e.k0s()),2&o){const l=S.$implicit,c=S.$index,d=e.XpG();e.Y8G("id",l.key)("label","Common."+l.key)("help","Clients.Lifetimes."+l.key+"Help")("isLast",c===d.liofetimeOptions.length-1),e.R7$(),e.Y8G("fieldType",d.ReadOnlyFieldType.LifetimePicker)("values",e.eq3(6,q,d.lifetimeDictionary[l.property]))}}const Q=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:$},{path:"security",component:V},{path:"applicationUrls",component:I},{path:"tokenRequest",component:X},{path:"allowedScopes",component:K},{path:"claims",component:H},{path:"advanced",component:w,children:[{path:"endpoints",component:W},{path:"lifetimes",component:(()=>{class o{get ReadOnlyFieldType(){return T.t}constructor(l){this.clientCache=l}ngOnInit(){this.clientCache.unsavedCache$.subscribe({next:l=>{let c={};Object.keys(Y.k).forEach(d=>{c[Y.k[d]]=l.lifetimes[d]}),this.lifetimeDictionary=new v.b(c)}})}get liofetimeOptions(){return Object.keys(Y.k).map(l=>({key:l,property:Y.k[l]}))}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-lifetimes"]],decls:2,vars:0,consts:[[3,"id","label","help","isLast"],[3,"fieldType","values"]],template:function(c,d){1&c&&e.Z7z(0,_,2,8,"app-form-row",0,Z),2&c&&e.Dyx(d.liofetimeOptions)},dependencies:[m.O,y.Y],encapsulation:2})}}return o})()},{path:"properties",component:(()=>{class o{constructor(l){this.clientCache=l}ngOnInit(){}static{this.\u0275fac=function(c){return new(c||o)(e.rXU(u.t))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-view-properties"]],decls:2,vars:0,template:function(c,d){1&c&&(e.j41(0,"p"),e.EFF(1,"TODO..."),e.k0s())},encapsulation:2})}}return o})()}]}];let te=(()=>{class o{static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[r.h.forChild({extend:!0}),h.iI.forChild(Q),r.h,h.iI]})}}return o})();var ie=n(367),ne=n(275),se=n(7677),ae=n(8389),oe=n(8251);let le=(()=>{class o{static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[ie.m,ne.W,C.XE,se.N,ae.w,oe.h,te]})}}return o})()},8730:(j,F,n)=>{n.d(F,{y:()=>C});var C=function(h){return h.Authorisation="authorisation",h.Revocation="revocation",h.Token="token",h.RefreshToken="refreshToken",h.Logout="logout",h}(C||{})},7726:(j,F,n)=>{n.d(F,{k:()=>C});var C=function(h){return h.AuthorisationCode="authorisationCode",h.DeviceCode="deviceCode",h.UserCode="userCode",h.AccessToken="accessToken",h.IdentityToken="identityToken",h.RefreshToken="refreshToken",h}(C||{})},1519:(j,F,n)=>{n.d(F,{i:()=>m});var C=n(6354),h=n(9437),r=n(983),b=n(8284),v=n(4438),T=n(4772),e=n(3583),u=n(5424);let m=(()=>{class y{constructor($,E,V){this.clientService=$,this.clientCache=E,this.errorService=V}resolve($,E){return this.clientService.getByResourceId($.params.id).pipe((0,C.T)(V=>(this.clientCache.unsavedCache.next(V),V)),(0,h.W)(V=>(404===V.status?this.errorService.resourceNotFound(b.v.client):this.errorService.handleError(V),r.w)))}static{this.\u0275fac=function(E){return new(E||y)(v.KVO(T._),v.KVO(e.t),v.KVO(u.I))}}static{this.\u0275prov=v.jDH({token:y,factory:y.\u0275fac})}}return y})()},4772:(j,F,n)=>{n.d(F,{_:()=>T});var C=n(1626),h=n(7263);class r{constructor(u,m){this.http=u,this.headersService=m,this.headers=m.setHeaders()}create(u){return this.http.post(this.actionUrl,u,{headers:this.headers})}clone(u,m){return this.http.post(`${this.actionUrl}/${u}/clone`,m,{headers:this.headers})}delete(u){return this.http.delete(`${this.actionUrl}/${u}`,{headers:this.headers})}getByResourceId(u){return this.http.get(`${this.actionUrl}/${u}`,{headers:this.headers})}find(u,m,y){let U=new C.Nl;return(0,h.gP)(u)||(U=U.append("query",u)),m&&(U=U.append("page",m)),y&&(U=U.append("pageSize",y)),this.http.get(this.actionUrl,{headers:this.headers,params:U})}update(u,m){return this.http.put(`${this.actionUrl}/${u}`,m,{headers:this.headers})}}var b=n(4438),v=n(9564);let T=(()=>{class e extends r{constructor(m,y){super(m,y),this.actionUrl="application/clients"}updateSecret(m,y){return this.http.put(`${this.actionUrl}/${m}/secret`,y,{headers:this.headers})}static{this.\u0275fac=function(y){return new(y||e)(b.KVO(C.Qq),b.KVO(v.m))}}static{this.\u0275prov=b.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})()}}]);