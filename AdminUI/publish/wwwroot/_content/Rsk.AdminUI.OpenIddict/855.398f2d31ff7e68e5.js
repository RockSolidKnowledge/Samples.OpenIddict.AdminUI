"use strict";(self.webpackChunkidentity_express_manager_ui=self.webpackChunkidentity_express_manager_ui||[]).push([[855],{4855:(Ve,U,a)=>{a.r(U),a.d(U,{ViewUserModule:()=>Se});var o=a(177),y=a(1583),A=a(7005),D=a(1683),E=a(4811),j=a(2571),M=a(5663),S=a(8389),Y=a(5731),V=a(7677),N=a(7175),L=a(367),r=a(1780),O=a(4446),k=a(6923),X=a(621),u=a(9838),C=a(140),_=a(6354),R=a(1594),e=a(4438),f=a(5602),F=a(526),h=a(345),x=a(6807),P=a(5794),T=a(7156),g=a(1589);function J(s,n){1&s&&(e.j41(0,"div",4)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.SpI(" ",e.bMT(3,1,"UserDetails.NoClaimsMessage")," "))}function B(s,n){if(1&s&&(e.j41(0,"b"),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.displayName)}}function K(s,n){if(1&s&&(e.j41(0,"b"),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.JRh(t.type)}}function W(s,n){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(),e.SpI(" ",t.value," ")}}function z(s,n){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"standardDate"),e.k0s()),2&s){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.value),"")}}function H(s,n){if(1&s&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"standardDateTime"),e.k0s()),2&s){const t=e.XpG(3).$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.value),"")}}function Q(s,n){if(1&s&&(e.j41(0,"span"),e.DNE(1,z,3,3,"span",12)(2,H,3,3,"span",12),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","birthdate"==t.type),e.R7$(),e.Y8G("ngIf","birthdate"!=t.type)}}function Z(s,n){1&s&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.True")))}function q(s,n){1&s&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.JRh(e.bMT(2,1,"Common.False")))}function ee(s,n){if(1&s&&(e.j41(0,"span"),e.DNE(1,Z,3,3,"div",12)(2,q,3,3,"div",12),e.k0s()),2&s){const t=e.XpG(2).$implicit;e.R7$(),e.Y8G("ngIf","true"==t.value),e.R7$(),e.Y8G("ngIf","false"==t.value)}}function te(s,n){if(1&s&&(e.j41(0,"div",15),e.DNE(1,W,2,1,"span",12)(2,Q,3,2,"span",12)(3,ee,3,2,"span",12),e.k0s()),2&s){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngIf","DateTime"!=t.format&&"Boolean"!=t.format),e.R7$(),e.Y8G("ngIf","DateTime"==t.format),e.R7$(),e.Y8G("ngIf","Boolean"==t.format)}}function se(s,n){1&s&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"translate"),e.k0s()),2&s&&(e.R7$(),e.SpI(" ",e.bMT(2,1,"Common.Policy")," "))}function ie(s,n){if(1&s&&(e.j41(0,"tr",11)(1,"td"),e.DNE(2,B,2,1,"b",12)(3,K,2,1,"b",12),e.k0s(),e.j41(4,"td"),e.DNE(5,te,4,3,"div",13),e.k0s(),e.j41(6,"td"),e.DNE(7,se,3,3,"span",14),e.k0s()()),2&s){const t=n.$implicit,i=e.XpG(2);e.R7$(2),e.Y8G("ngIf",t.displayName),e.R7$(),e.Y8G("ngIf",!t.displayName),e.R7$(2),e.Y8G("ngIf",!t.editing),e.R7$(2),e.Y8G("ngIf",i.isPolicyClaim(t))}}function le(s,n){if(1&s&&(e.j41(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",7)(10,"span",8),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",9),e.DNE(14,ie,8,4,"tr",10),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.SpI(" ",e.bMT(5,4,"Common.Name")," "),e.R7$(3),e.SpI(" ",e.bMT(8,6,"Common.Value")," "),e.R7$(4),e.SpI("",e.bMT(12,8,"Common.Policy")," "),e.R7$(3),e.Y8G("ngForOf",t.optionalClaims)}}function ae(s,n){if(1&s&&e.nrm(0,"app-pager",17),2&s){const t=e.XpG();e.Y8G("totalResults",null==t.optionalClaims?null:t.optionalClaims.length)}}let ne=(()=>{class s{constructor(t,i,l,d,c,Ye){this.userService=t,this.claimTypesService=i,this.translate=l,this.titleService=d,this.apClaimsService=c,this.toastr=Ye,this.optionalClaims=[]}ngOnInit(){this.combinedObservable=this.claimTypesService.getClaimTypes(null,null).pipe((0,C.v)(this.userService.getCachedUser()),(0,_.T)(([t,i])=>({claimTypes:t,user:i})),(0,R.$)()).subscribe(t=>{this.claimTypes=t.claimTypes,this.user=t.user,this.claims=t.user.claims,this.sortClaims();const i=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Additional Details")+" - "+u.$9.SITE_TITLE;this.titleService.setTitle(i)})}isPolicyClaim(t){return this.apClaimsService.isPolicyClaim(t)}sortClaims(){for(const t of this.claims)for(const i of this.claimTypes)if(i.name===t.type){const l={typeId:i.id,format:i.valueType,type:t.type,displayName:i.displayName,value:t.value,editing:!1,required:i.required};i.rule&&(l.regex=i.rule,l.failureMessage=i.ruleValidationFailureDescription),i.required||this.optionalClaims.push(l)}}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(f.D),e.rXU(F.X),e.rXU(r.c$),e.rXU(h.hE),e.rXU(x.B),e.rXU(P.tw))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-additional-details"]],decls:4,vars:3,consts:[["id","editUserClaims",1,"tw-container","tw-mx-auto"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,"tw-w-1/4"],[1,"tw-w-1"],[1,"sr-only"],["id","claimsTable","id","optionalClaims"],["class","claim",4,"ngFor","ngForOf"],[1,"claim"],[4,"ngIf"],["class","tw-truncate",4,"ngIf"],["class","tw-pill",4,"ngIf"],[1,"tw-truncate"],[1,"tw-pill"],["hidePager","true",3,"totalResults"]],template:function(i,l){1&i&&(e.j41(0,"div",0),e.DNE(1,J,4,3,"div",1)(2,le,15,10,"table",2)(3,ae,1,1,"app-pager",3),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",l.optionalClaims&&l.optionalClaims.length<=0),e.R7$(),e.Y8G("ngIf",(null==l.optionalClaims?null:l.optionalClaims.length)>0),e.R7$(),e.Y8G("ngIf",(null==l.optionalClaims?null:l.optionalClaims.length)>0))},dependencies:[o.Sq,o.bT,T.B,r.D9,g.r7,g.El],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var I=a(6697),G=a(7921),w=a(6303),b=a(8698),oe=a(7384),$=a(8762),re=a(9216);const m=s=>[s],pe=()=>[];function de(s,n){1&s&&e.nrm(0,"app-simple-loader")}function ce(s,n){1&s&&(e.j41(0,"div",13)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.Applications.None")))}function me(s,n){if(1&s){const t=e.RV6();e.j41(0,"tr",20)(1,"td",21),e.bIt("click",function(){const l=e.eBV(t).$implicit,d=e.XpG(2),c=e.sdS(10);return d.modalInfo(l),e.Njj(c.show())}),e.j41(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",22),e.bIt("click",function(){const l=e.eBV(t).$implicit,d=e.XpG(2),c=e.sdS(10);return d.modalInfo(l),e.Njj(c.show())}),e.EFF(5),e.k0s(),e.j41(6,"td")(7,"button",23),e.bIt("click",function(){const l=e.eBV(t).$implicit,d=e.XpG(2),c=e.sdS(10);return d.modalInfo(l),e.Njj(c.show())}),e.nrm(8,"span",24),e.j41(9,"span",17),e.EFF(10),e.nI1(11,"translate"),e.k0s()()()()}if(2&s){const t=n.$implicit;e.R7$(3),e.JRh(t.clientName),e.R7$(2),e.SpI(" ",t.clientDescription," "),e.R7$(5),e.JRh(e.bMT(11,3,"Common.Info"))}}function ue(s,n){if(1&s&&(e.j41(0,"table",14)(1,"thead")(2,"tr")(3,"th"),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",15),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",16)(10,"span",17),e.EFF(11),e.nI1(12,"translate"),e.k0s()()()(),e.j41(13,"tbody",18),e.DNE(14,me,12,5,"tr",19),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"UserDetails.Name")),e.R7$(3),e.JRh(e.bMT(8,6,"Common.Description")),e.R7$(4),e.JRh(e.bMT(12,8,"Common.Actions")),e.R7$(3),e.Y8G("ngForOf",t.userApps)}}function fe(s,n){if(1&s&&e.nrm(0,"app-pager",25),2&s){const t=e.XpG();e.Y8G("totalResults",null==t.userApps?null:t.userApps.length)}}function he(s,n){1&s&&(e.j41(0,"div",12)(1,"div",26),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"Users.Applications.DataEncrypted")))}function ge(s,n){if(1&s&&(e.j41(0,"li",29)(1,"span",30),e.EFF(2),e.k0s()()),2&s){const t=n.$implicit;e.R7$(2),e.JRh(t)}}function ve(s,n){if(1&s&&(e.j41(0,"dl")(1,"dt",27),e.EFF(2),e.nI1(3,"translate"),e.k0s(),e.j41(4,"dd")(5,"ul",28),e.Z7z(6,ge,3,1,"li",29,e.fX1),e.k0s()()()),2&s){let t;const i=e.XpG();e.R7$(2),e.JRh(e.bMT(3,1,"Users.Applications.Accessible")),e.R7$(4),e.Dyx(null!==(t=null==i.selectedApp?null:i.selectedApp.scopes)&&void 0!==t?t:e.lJ4(3,pe))}}let ye=(()=>{class s{get ReadOnlyFieldType(){return w.t}constructor(t,i,l){this.titleService=t,this.userService=i,this.translate=l,this.isLoading=!0}ngOnInit(){this.userService.getCachedUser().pipe((0,I.s)(1)).subscribe(t=>{this.user=t,this.userService.getUserApps(this.user.subject).subscribe(i=>{this.userApps=i,this.isLoading=!1;const l=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Applications")+" - "+u.$9.SITE_TITLE;this.titleService.setTitle(l)},i=>{this.isLoading=!1,this.userApps=null})})}modalInfo(t){this.selectedApp=t,this.selectedAppMap=new G.b(t)}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(h.hE),e.rXU(f.D),e.rXU(r.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-applications"]],decls:26,vars:49,consts:[["appInfoModal",""],["id","editUserApplications",1,"tw-container","tw-mx-auto"],[1,"cms"],[4,"ngIf"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable selectable hover",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],[3,"modalId","type","title"],["body",""],[3,"id","label"],[3,"fieldType","values"],[3,"fieldType","values","customNoValue"],["role","alert",1,"tw-alert-warning"],["role","alert",1,"tw-alert"],[1,"datatable","selectable","hover"],[1,"tw-hidden","md:tw-table-cell"],[1,"tw-w-1"],[1,"sr-only"],["id","userAppList"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"tw-max-w-0","tw-truncate",3,"click"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell",3,"click"],[1,"tw-btn-link","tw-btn-small","group-hover:tw-text-blue-500",3,"click"],["aria-hidden","true",1,"'fas","fa-eye'"],["hidePager","true",3,"totalResults"],["id","DataEncryptedWarning"],[1,"tw-font-semibold","tw-text-sm","tw-mb-2"],[1,"tw-flex","tw-flex-wrap","tw-item-start","tw--mt-2","tw--ml-2"],[1,"tw-pt-2","tw-pl-2"],[1,"tw-pill"]],template:function(i,l){1&i&&(e.j41(0,"div",1)(1,"div",2)(2,"p"),e.EFF(3),e.nI1(4,"translate"),e.k0s()(),e.DNE(5,de,1,0,"app-simple-loader",3)(6,ce,4,3,"div",4)(7,ue,15,10,"table",5)(8,fe,1,1,"app-pager",6),e.k0s(),e.j41(9,"app-simple-modal",7,0),e.qex(11,8),e.j41(12,"app-form-row",9),e.nrm(13,"app-readonly",10),e.k0s(),e.j41(14,"app-form-row",9),e.nrm(15,"app-readonly",10),e.k0s(),e.j41(16,"app-form-row",9),e.nrm(17,"app-readonly",10),e.k0s(),e.j41(18,"app-form-row",9),e.nrm(19,"app-readonly",10),e.k0s(),e.j41(20,"app-form-row",9),e.nrm(21,"app-readonly",10),e.k0s(),e.j41(22,"app-form-row",9),e.nrm(23,"app-readonly",11),e.k0s(),e.DNE(24,he,4,3,"div",12)(25,ve,8,4,"dl"),e.bVm(),e.k0s()),2&i&&(e.R7$(3),e.JRh(e.bMT(4,35,"Users.Applications.Access")),e.R7$(2),e.Y8G("ngIf",l.isLoading),e.R7$(),e.Y8G("ngIf",0==(null==l.userApps?null:l.userApps.length)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.userApps?null:l.userApps.length)>0),e.R7$(),e.Y8G("ngIf",(null==l.userApps?null:l.userApps.length)>0&&!l.isLoading),e.R7$(),e.Y8G("modalId","appInfoModal")("type",null)("title",null==l.selectedApp?null:l.selectedApp.clientName),e.R7$(3),e.Y8G("id","selectedAppName")("label","Common.Name"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(37,m,null==l.selectedAppMap?null:l.selectedAppMap.clientName)),e.R7$(),e.Y8G("id","selectedAppName")("label","Common.LogoURL"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(39,m,null==l.selectedAppMap?null:l.selectedAppMap.clientLogoUrl)),e.R7$(),e.Y8G("id","selectedAppDescription")("label","Common.Description"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Multi)("values",e.eq3(41,m,null==l.selectedAppMap?null:l.selectedAppMap.clientDescription)),e.R7$(),e.Y8G("id","selectedAppURL")("label","Common.URL"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(43,m,null==l.selectedAppMap?null:l.selectedAppMap.clientUrl)),e.R7$(),e.Y8G("id","selectedAppCreated")("label","Common.Created"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(45,m,null==l.selectedAppMap?null:l.selectedAppMap.created)),e.R7$(),e.Y8G("id","selectedAppExpires")("label","Common.Expires"),e.R7$(),e.Y8G("fieldType",l.ReadOnlyFieldType.Single)("values",e.eq3(47,m,null==l.selectedAppMap?null:l.selectedAppMap.expires))("customNoValue","Common.Never"),e.R7$(),e.vxM(24,(null==l.selectedApp?null:l.selectedApp.scopes.length)<1?24:-1),e.R7$(),e.vxM(25,(null==l.selectedApp?null:l.selectedApp.scopes.length)>0?25:-1))},dependencies:[o.Sq,o.bT,T.B,b.Y,oe.d,$.O,re.R,r.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();var v=a(1746),Re=a(7263),Te=a(5424);const p=s=>[s];function we(s,n){if(1&s&&(e.j41(0,"app-form-row",5),e.nrm(1,"app-readonly",6),e.k0s()),2&s){const t=e.XpG(2);e.Y8G("label","Users.LockoutEnd"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(3,p,t.formatDateTimeReadonlyField(t.detailsMap.lockoutEnd)))}}function be(s,n){if(1&s&&(e.j41(0,"form")(1,"app-form-row",5),e.nrm(2,"app-readonly",6),e.k0s(),e.j41(3,"app-form-row",5),e.nrm(4,"app-readonly",6),e.k0s(),e.j41(5,"app-form-row",5),e.nrm(6,"app-readonly",6),e.k0s(),e.j41(7,"app-form-row",5),e.nrm(8,"app-readonly",6),e.k0s(),e.j41(9,"app-form-row",5),e.nrm(10,"app-readonly",6),e.k0s(),e.j41(11,"app-form-row",5),e.nrm(12,"app-readonly",6),e.k0s(),e.DNE(13,we,2,5,"app-form-row",7),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("label","Common.ID"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(19,p,t.detailsMap.subject)),e.R7$(),e.Y8G("label","Users.FirstName"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(21,p,t.detailsMap.firstName)),e.R7$(),e.Y8G("label","Users.LastName"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(23,p,t.detailsMap.lastName)),e.R7$(),e.Y8G("label","Users.Username"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(25,p,t.detailsMap.username)),e.R7$(),e.Y8G("label","Users.Email"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(27,p,t.detailsMap.email)),e.R7$(),e.Y8G("label","Users.LockoutEnabled"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(29,p,t.detailsMap.lockoutEnabled)),e.R7$(),e.Y8G("ngIf",t.user.lockoutEnabled)}}function $e(s,n){if(1&s&&(e.j41(0,"app-form-row",5),e.nrm(1,"app-readonly",6),e.k0s()),2&s){const t=n.$implicit,i=e.XpG();e.Y8G("label",t.displayName),e.R7$(),e.Y8G("fieldType",i.ReadOnlyFieldType.Single)("values",e.eq3(3,p,i.requiredMap[t.type]))}}function Ue(s,n){if(1&s&&(e.j41(0,"form",8)(1,"app-form-row",9),e.nrm(2,"app-readonly",6),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.Y8G("label","UserDetails.EnabledTwoFactorReadOnly")("help","UserDetails.EnabledTwoFactorHelp")("isLast",!0),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Single)("values",e.eq3(5,p,t.detailsMap.twoFactorEnabled))}}let Ce=(()=>{class s{constructor(t,i,l,d,c){this.userService=t,this.errorService=i,this.translate=l,this.claimsService=d,this.titleService=c,this.requiredClaims=[],this.detailsMap={},this.requiredMap={},this.prettyDateTimePipe=new g.sp,this.standardDatePipe=new g.El}ngOnInit(){this.combinedObservable=this.claimsService.getClaimTypes(null,null).pipe((0,C.v)(this.userService.getCachedUser()),(0,_.T)(([t,i])=>({claimTypes:t,user:i})),(0,R.$)()).subscribe({next:t=>{this.user=t.user,this.claimTypes=t.claimTypes,this.sortClaims(),this.detailsMap=new G.b(t.user),this.mapRequiredClaimsToReadOnlyObject();const i=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Details")+" - "+u.$9.SITE_TITLE;this.titleService.setTitle(i)},error:t=>{this.errorService.handleError(t)}})}ngOnDestroy(){this.combinedObservable.unsubscribe()}mapRequiredClaimsToReadOnlyObject(){this.requiredClaims.forEach(t=>{if(!(0,Re.gP)(t.value)){if("DateTime"===t.format){const i="birthdate"==t.type?this.standardDatePipe.transform(t.value):this.prettyDateTimePipe.transform(t.value);return void(this.requiredMap[t.type]=new v.w(i))}this.requiredMap[t.type]=new v.w(t.value)}})}sortClaims(){for(const t of this.claimTypes)if(t.required){const i={typeId:t.id,format:t.valueType,value:"",type:t.name,displayName:t.displayName,editing:!1,required:t.required};t.rule&&(i.regex=t.rule,i.failureMessage=t.ruleValidationFailureDescription),this.requiredClaims.push(i)}for(const t of this.user.claims){const i=this.requiredClaims.find(l=>l.type===t.type);i&&(i.value=t.value)}}get ReadOnlyFieldType(){return w.t}formatDateTimeReadonlyField(t){return new v.w(this.prettyDateTimePipe.transform(t.MainText))}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(f.D),e.rXU(Te.I),e.rXU(r.c$),e.rXU(F.X),e.rXU(h.hE))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-details"]],decls:5,vars:3,consts:[["id","userDetails",1,"tw-container","tw-mx-auto"],[4,"ngIf"],["id","requiredClaims"],[3,"label",4,"ngFor","ngForOf"],["id","twofactor",4,"ngIf"],[3,"label"],[3,"fieldType","values"],[3,"label",4,"ngIf"],["id","twofactor"],[3,"label","help","isLast"]],template:function(i,l){1&i&&(e.j41(0,"div",0),e.DNE(1,be,14,31,"form",1),e.j41(2,"form",2),e.DNE(3,$e,2,5,"app-form-row",3),e.k0s(),e.DNE(4,Ue,3,7,"form",4),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",l.user),e.R7$(2),e.Y8G("ngForOf",l.requiredClaims),e.R7$(),e.Y8G("ngIf",l.user))},dependencies:[o.Sq,o.bT,b.Y,$.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function _e(s,n){1&s&&(e.j41(0,"div",4)(1,"div"),e.EFF(2),e.nI1(3,"translate"),e.k0s()()),2&s&&(e.R7$(2),e.JRh(e.bMT(3,1,"UserLogins.NoLogins")))}function Fe(s,n){if(1&s&&(e.j41(0,"tr")(1,"td",10)(2,"b"),e.EFF(3),e.k0s()(),e.j41(4,"td",11),e.EFF(5),e.k0s(),e.j41(6,"td",11),e.EFF(7),e.k0s()()),2&s){const t=n.$implicit;e.R7$(3),e.JRh(t.providerDisplayName),e.R7$(2),e.JRh(t.loginProvider),e.R7$(2),e.JRh(t.providerKey)}}function Ie(s,n){if(1&s&&(e.j41(0,"table",5)(1,"thead")(2,"tr")(3,"th",6),e.EFF(4),e.nI1(5,"translate"),e.k0s(),e.j41(6,"th",7),e.EFF(7),e.nI1(8,"translate"),e.k0s(),e.j41(9,"th",7),e.EFF(10),e.nI1(11,"translate"),e.k0s()()(),e.j41(12,"tbody",8),e.DNE(13,Fe,8,3,"tr",9),e.k0s()()),2&s){const t=e.XpG();e.R7$(4),e.JRh(e.bMT(5,4,"UserLogins.ProviderDisplayName")),e.R7$(3),e.JRh(e.bMT(8,6,"UserLogins.LoginProvider")),e.R7$(3),e.JRh(e.bMT(11,8,"UserLogins.ProviderKey")),e.R7$(3),e.Y8G("ngForOf",t.userLogins)}}function Ge(s,n){if(1&s&&e.nrm(0,"app-pager",12),2&s){const t=e.XpG();e.Y8G("totalResults",null==t.userLogins?null:t.userLogins.length)}}let Ae=(()=>{class s{constructor(t,i,l){this.userService=t,this.titleService=i,this.translate=l,this.userLogins=[],this.isLoading=!0}ngOnInit(){this.userService.getCachedUser().pipe((0,I.s)(1)).subscribe(t=>{this.user=t,this.userService.getUserLogins(this.user.subject).subscribe(i=>{this.userLogins=i,this.isLoading=!1;const l=this.translate.instant("Users.Singular")+" "+this.user.username+" "+this.translate.instant("Nav.Logins")+" - "+u.$9.SITE_TITLE;this.titleService.setTitle(l)})})}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(f.D),e.rXU(h.hE),e.rXU(r.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-logins"]],decls:4,vars:3,consts:[[1,"tw-container","tw-mx-auto"],["class","tw-alert","role","alert",4,"ngIf"],["class","datatable",4,"ngIf"],["hidePager","true",3,"totalResults",4,"ngIf"],["role","alert",1,"tw-alert"],[1,"datatable"],[1,"md:tw-w-1/4"],[1,"tw-hidden","md:tw-table-cell"],["id","userLoginsList"],[4,"ngFor","ngForOf"],[1,"tw-max-w-0","tw-truncate"],[1,"tw-hidden","tw-max-w-0","tw-truncate","md:tw-table-cell"],["hidePager","true",3,"totalResults"]],template:function(i,l){1&i&&(e.j41(0,"div",0),e.DNE(1,_e,4,3,"div",1)(2,Ie,14,10,"table",2)(3,Ge,1,1,"app-pager",3),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",0==(null==l.userLogins?null:l.userLogins.length)&&!l.isLoading),e.R7$(),e.Y8G("ngIf",(null==l.userLogins?null:l.userLogins.length)>0),e.R7$(),e.Y8G("ngIf",(null==l.userLogins?null:l.userLogins.length)>0))},dependencies:[o.Sq,o.bT,T.B,r.D9],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})();function De(s,n){if(1&s&&(e.j41(0,"div",1)(1,"app-form-row",2),e.nrm(2,"app-readonly",3),e.k0s()()),2&s){const t=e.XpG();e.R7$(),e.Y8G("label","Users.AssignedRoles"),e.R7$(),e.Y8G("fieldType",t.ReadOnlyFieldType.Multi)("values",t.assignedRoles)}}const Ee=[{path:"",redirectTo:"details",pathMatch:"full"},{path:"details",component:Ce},{path:"roles",component:(()=>{class s{constructor(t,i,l){this.userService=t,this.titleService=i,this.translate=l,this.assignedRoles=[]}ngOnInit(){this.userService.getCachedUser().pipe((0,R.$)()).subscribe(t=>{this.assignedRoles=t.roles.map(l=>new v.w(l.name,l.description));const i=this.translate.instant("Users.Singular")+" "+t.username+" "+this.translate.instant("Nav.Roles")+" - "+u.$9.SITE_TITLE;this.titleService.setTitle(i)})}get ReadOnlyFieldType(){return w.t}static{this.\u0275fac=function(i){return new(i||s)(e.rXU(f.D),e.rXU(h.hE),e.rXU(r.c$))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-view-user-roles"]],decls:1,vars:1,consts:[["class","tw-container tw-mx-auto","id","roles",4,"ngIf"],["id","roles",1,"tw-container","tw-mx-auto"],[3,"label"],[3,"fieldType","values"]],template:function(i,l){1&i&&e.DNE(0,De,3,3,"div",0),2&i&&e.Y8G("ngIf",l.assignedRoles)},dependencies:[o.bT,b.Y,$.O],styles:["[_nghost-%COMP%]{width:100%;display:block;position:relative}"]})}}return s})()},{path:"additionaldetails",component:ne},{path:"applications",component:ye},{path:"userlogins",component:Ae},{path:"useraudits",component:X.L,canActivate:[O._,k.q]}];let je=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[r.h.forChild({extend:!0}),y.iI.forChild(Ee),r.h,y.iI]})}}return s})();var Me=a(4367);let Se=(()=>{class s{static{this.\u0275fac=function(i){return new(i||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({providers:[E.M,M.Q],imports:[je,o.MD,D.Y,L.m,Y.i,A.XE,S.w,j.A,N.c,V.N,Me.N,y.iI]})}}return s})()}}]);